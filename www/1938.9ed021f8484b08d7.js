"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1938],{61938:(Wt,W,c)=>{c.r(W),c.d(W,{CRMAccountsModule:()=>$t});var S=c(32174),L=c(11210),_=c(15439),re=c(75875),r=c(32236),M=c(90313),e=c(94650);let b=(()=>{class i{authService;api;constructor(t){this.authService=t}getAll(t,s,a,n,o,u,d,C,m,p,h,O){const A=h||"",I=d?"&condition="+d:"",Z=M.L.isEmpty(O)?"":"&advSearchString="+JSON.stringify(O);return this.api=M.L.isEmpty(I)?m===r.hf.CRM_SALES_REPS?"api/v1/crmaccounts?skip="+t+"&limit="+s+"&type=list&sort="+a+"&search="+n+"&enterprise.enterprise_id="+o+"&sales_rep.sales_rep_id="+C+p+A+Z:"api/v1/crmaccounts?skip="+t+"&limit="+s+"&type=list&sort="+a+"&search="+n+"&enterprise.enterprise_id="+o+p+A+Z:"api/v1/crmaccounts?skip="+t+"&limit="+s+"&type=list&sort="+a+"&search="+n+"&enterprise.enterprise_id="+o+I+p+A+Z,this.authService.getApiCall(this.api,u)}create(t,s){return new Promise((a,n)=>{const o=new FormData;s&&o.append("accountIcon",s,"accountIcon"),o.append("CRMAccountsData",JSON.stringify(t)),this.authService.postApiCall("api/v1/crmaccounts/",o).subscribe(u=>{a(u)},u=>{n(u)})})}getClientLookups(t,s){return new Promise((a,n)=>{this.authService.getApiCall("api/v1/lookupcodes?type=drop&enterprise.enterprise_id="+s+"&lookupType.lookup_type_name="+t).subscribe(o=>{a(o)},o=>{n(o)})})}get(t,s){let a;return a=s?"api/v1/crmaccounts/"+t+"?enterprise.enterprise_id="+localStorage.getItem(r.BU.SELECTED_ENTERPRISE)+s:"api/v1/crmaccounts/"+t,this.authService.getApiCall(a,!0)}crmAccountStatusEdit(t,s){return new Promise((a,n)=>{this.authService.patchApiCall("api/v1/crmaccounts/"+s,t).subscribe(o=>{a(o)},o=>{n(o)})})}update(t,s,a){return new Promise((n,o)=>{const u=new FormData;a&&u.append("accountIcon",a,"accountIcon"),u.append("CRMAccountsData",JSON.stringify(t)),this.authService.putApiCall("api/v1/crmaccounts/"+s,u).subscribe(d=>{n(d)},d=>{o(d)})})}getAttachmentsList(t,s,a,n,o){return new Promise((u,d)=>{this.authService.getApiCall("api/v1/attachments?type=list&object_type="+t+"&object_id="+s+(a?"&skip="+a:"")+(n?"&limit="+n:"")+(o?"&sort="+o:"")).subscribe(h=>{u(h)},h=>{d(h)})})}getWorkResourceDrop(t,s){return new Promise((a,n)=>{this.authService.getApiCall("api/v1/crmsalesreps?type=drop&enterprise.enterprise_id="+s+"&search="+t).subscribe(o=>{a(o)},o=>{n(o)})})}getCrmAccountsSearch(t,s){return new Promise((a,n)=>{this.authService.getApiCall("api/v1/crmaccounts?type=drop&enterprise.enterprise_id="+s+"&search="+t).subscribe(o=>{a(o)},o=>{n(o)})})}static \u0275fac=function(s){return new(s||i)(e.LFG(re.e))};static \u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var v=c(71568),P=c(62984),w=c(47561),N=c(57936),U=c(42786),V=c(65597),B=c(46335),q=c(46448),g=c(62510),T=c(54463),J=c(27601),R=c(10805),y=c(36895),E=c(93144),Y=c(2387),F=c(56368),Q=c(9851),x=c(24929),G=c(92634),H=c(68653),z=c(47386),X=c(42919),j=c(37415);const le=["accountNamevalid"],ce=["addEmailInput"],ue=["addressline1Input"],de=["cityInput"],pe=["contactDetailsComponent"],he=["countryInput"],me=["descriptionvalid"],_e=["mobileInput"],Ce=["phonecountrycodeDropDown"],ge=["relatedAccountDropDown"],Ae=["salesrepDropDown"],be=["shortNameInput"],Te=["stateInput"],Oe=["zipInput"];function Se(i,l){if(1&i&&(e.TgZ(0,"tr",108)(1,"td",109),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function ve(i,l){if(1&i&&e.YNc(0,Se,4,4,"tr",107),2&i){const t=e.oxw();e.Q6J("ngIf",t.salesRepData&&0==t.salesRepData.length)}}function ye(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Ee(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",110),e.YNc(2,ye,3,3,"th",111),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function fe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",116),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editSalesReps(n,o))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,s=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",s),e.xp6(1),e.hij(" ",s[t.field]," ")}}function Me(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",112)(2,"div",113)(3,"span",114),e.NdJ("click",function(){const a=e.CHM(t),n=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.removeSalesReps(n,o))}),e.qZA()()(),e.YNc(4,fe,2,5,"td",115),e.qZA()}if(2&i){const t=l.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function Ne(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",118)(6,"br"),e.qZA()),2&i){const t=l.$implicit,s=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",s[t.field],e.oJD)}}function Re(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ne,7,4,"div",117),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function De(i,l){if(1&i&&(e.TgZ(0,"tr",108)(1,"td",109),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Le(i,l){if(1&i&&e.YNc(0,De,4,4,"tr",107),2&i){const t=e.oxw();e.Q6J("ngIf",t.relationShipsData&&0==t.relationShipsData.length)}}function Ie(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Ze(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",110),e.YNc(2,Ie,3,3,"th",111),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function we(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",121),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editRelationship(n,o))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,s=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",s),e.xp6(1),e.hij(" ",s[t.field]," ")}}function Ue(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",112)(2,"div",113)(3,"span",119),e.NdJ("click",function(){const a=e.CHM(t),n=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.removeRelationship(n,o))}),e.qZA()()(),e.YNc(4,we,2,5,"td",120),e.qZA()}if(2&i){const t=l.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function Ve(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",118)(6,"br"),e.qZA()),2&i){const t=l.$implicit,s=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",s[t.field],e.oJD)}}function Je(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ve,7,4,"div",117),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}let ee=(()=>{class i extends w.O{CrmAccountService;loggerService;navigationService;router;translateService;uiUtils;userService;commonservice;enterprisesService;route;tournamentsService;accountNamevalid;addEmailInput;addressline1Input;cityInput;contactDetailsComponent;countryInput;descriptionvalid;mobileInput;phonecountrycodeDropDown;relatedAccountDropDown;salesrepDropDown;shortNameInput;stateInput;zipInput;accountName;accountShortName;accountSubType;accountSubTypeObj;accountSubTypeOptions;accountType;accountTypeObj;accountTypeOptions;addressLine1;addressLine2;annualRevenue;annualRevenueObj;annualRevenueOptions;attributes=[];bussinessEntity;bussinessEntityObj;bussinessEntityOptions;city;contactPrimaryEnable;contactTypeObj;countryCodeObj;countryObj;countryOptions;countrycodeOptions;data;defaultCountryCode;defaultCountryCodeObj;defaultCountryId;defaultCountryName;defaultEmail;defaultEnterprise;defaultStateName;defaultStatus;defaultstateId;description;disableSubmitBtn=!1;effectiveDateError;employeeCount;employeeCountObj;employeeCountOptions;enterpriseId;enterpriseName;enterpriseShortName;error;fromDate;header2;header;headerAction;imageError;imgFile;industrySubType;industrySubTypeObj;industrySubTypeOptions;industryType;industryTypeObj;industryTypeOptions;label;mobile;object_type;recordId;relatedAccount;relatedAccountObj;relatedAccountOptions;relationShipsData=[];relationType;relationTypeObj;relationTypeOptions;relationshipRowIndex;salesRepData=[];salesRepError;salesRepName;salesRepObj;salesRepOptions;salesRepRowIndex;stateObj;stateOptions;statusObj;statusOptions;statusdisplayname;toDate;userProfileId;zipcode;dataJsonObj={};constructor(t,s,a,n,o,u,d,C,m,p,h){super(p,C),this.CrmAccountService=t,this.loggerService=s,this.navigationService=a,this.router=n,this.translateService=o,this.uiUtils=u,this.userService=d,this.commonservice=C,this.enterprisesService=m,this.route=p,this.tournamentsService=h,this.route.params.subscribe(O=>{this.recordId=O.parentId})}ngOnInit(){this.headerAction={BACK:!0}}ngAfterContentInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.CRM_ACCOUNTS,this.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.userProfileId=localStorage.getItem(r.BU.LOG_IN_USER_ID),this.object_type=this.route.snapshot.data.object_type,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CRM_ACCOUNT",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],document.getElementsByTagName("body"),this.header=[[{headersort:"disableth",field:"sales_rep",header:this.translateService.instant("CRM_ACCOUNTS.CRM_SALES_REP"),class:""},{headersort:"disableth",field:"from_date",header:this.translateService.instant("WORK_ABSENCES.WORK_FROM_DATE"),class:"w-140 list-value-right"},{headersort:"disableth",field:"to_date",header:this.translateService.instant("WORK_ABSENCES.WORK_TO_DATE"),class:"w-140 list-value-right"}],[]],this.header2=[[{headersort:"disableth",field:"related_Account",header:this.translateService.instant("CRM_ACCOUNTS.CRM_RELATED_ACCOUNT"),class:""},{headersort:"disableth",field:"relation_Type",header:this.translateService.instant("CRM_ACCOUNTS.CRM_RELATION_TYPE"),class:"w-140 list-value-right"}],[]],this.getEnterprisesViewData(),this.commonService.getLookupCodesListJson(this.enterpriseId,"list").then(s=>{this.dataJsonObj.lookupCodesListJSON=s,this.getbussinessEntityOptions(""),this.getAccountType(""),this.getAccountSubType(""),this.getStatusOptions(""),this.getCountriesList(""),this.getIndustryType(""),this.getIndustrySubType(""),this.getAnnualRevenue(""),this.getEmployeeCount(""),this.getRelationType("")})}getbussinessEntityOptions(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.BUSINESS_ENTITY_NAMES],t).then(s=>{this.bussinessEntityOptions=s,this.bussinessEntity=s[0].ID,this.bussinessEntityObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getbussinessEntityOptions",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getbussinessEntityOptions",s)}}getAccountType(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_TYPES],"").then(s=>{this.accountTypeOptions=s,this.accountType=s[0].ID,this.accountTypeObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getAccountType",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getAccountType",s)}}getAccountSubType(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_SUBTYPES],"").then(s=>{this.accountSubTypeOptions=s},s=>{this.loggerService.setLoggerError(this.constructor.name,"getAccountSubType",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getAccountSubType",s)}}getStatusOptions(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_STATUSES],"").then(s=>{this.statusOptions=s,this.defaultStatus=s[0].ID,this.statusObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",s)}}changeBusinessEntity(t){try{this.bussinessEntity=t.value,this.bussinessEntityObj=this.bussinessEntityOptions.find(s=>s.ID===parseInt(this.bussinessEntity,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeBusinessEntity",s)}}changeAccountName(t){try{this.error="",this.disableSubmitBtn=!1,this.accountName=t.value,this.description=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAccountName",s)}}changeAccountType(t){try{t.value&&(this.accountType=t.value,this.accountTypeObj=this.accountTypeOptions.find(s=>s.ID===parseInt(this.accountType,10)))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAccountType",s)}}getAccountShortName(t){try{this.error="",this.disableSubmitBtn=!1,this.accountShortName=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getAccountShortName",s)}}changeAccountSubType(t){try{this.accountSubType=t.value,this.accountSubTypeObj=this.accountSubTypeOptions.find(s=>s.ID===parseInt(this.accountSubType,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAccountSubType",s)}}changeProfileImage(t){try{""===t.error?(this.imageError="",this.imgFile=t.value):this.imageError=t.error}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeProfileImage",s)}}changeimageRemove(){try{this.imgFile="",this.imageError=""}catch(t){this.loggerService.setLoggerError(this.constructor.name,"changeimageRemove",t)}}changeStatus(t){try{this.defaultStatus=t.value,this.statusObj=this.statusOptions.find(s=>s.ID===parseInt(this.defaultStatus,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeStatus",s)}}changeDescriptionName(t){try{this.description=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeDescriptionName",s)}}createRecord(){try{if(this.accountName&&this.accountName.length<3)this.error=this.translateService.instant("COMMON_PAGE_TITLES.CRM_ACCOUNT")+" "+this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_MINIMUM_THREE_CHARACTERS");else{this.error="";const t=this.contactDetailsComponent.contactCommonDetails();for(let s=0;s<t.length;s++)!0===t[s].primary&&(this.contactPrimaryEnable=!0);this.accountNamevalid.isValid()&&this.shortNameInput.isValid()&&this.descriptionvalid.isValid()&&M.L.isEmpty(this.error)&&M.L.isEmpty(this.imageError)&&this.addressline1Input.isValid()&&this.countryInput.isValid()&&this.stateInput.isValid()&&this.cityInput.isValid()&&this.zipInput.isValid()&&this.addEmailInput.isValid()&&this.phonecountrycodeDropDown.isValid()&&this.mobileInput.isValid()&&(this.salesRepData.length>0?t.length>0&&!0===this.contactPrimaryEnable?(this.disableSubmitBtn=!0,this.CrmAccountService.create({enterprise:{enterprise_id:this.defaultEnterprise,enterprise_name:this.enterpriseName,short_name:this.enterpriseShortName},business_entity_name:this.bussinessEntityObj,clientAttributes:[],account_type:this.accountTypeObj,account_subtype:this.accountSubTypeObj,status:this.statusObj,account_name:this.accountName,account_short_name:this.accountShortName,description:this.description,address:{address_label:this.label,address_line1:this.addressLine1,address_line2:this.addressLine2,city:this.city,state:{state_id:this.defaultstateId,state_name:this.defaultStateName},ZIP:this.zipcode,country:{lookup_id:this.countryObj.lookup_id,lookup_name:this.countryObj.lookup_name},geo_coordinates:"",email:this.defaultEmail,phone_country_code:{lookup_id:this.defaultCountryCodeObj.lookup_id,lookup_name:this.defaultCountryCodeObj.lookup_name},phone:this.mobile},contact_details:t,sales_rep:this.salesRepData,additional_information:{industry_type:this.industryTypeObj,industry_sub_type:this.industrySubTypeObj,annual_revenue:this.annualRevenueObj,employee_count:this.employeeCountObj,relationships:this.relationShipsData}},this.imgFile).then(a=>{this.disableSubmitBtn=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),this.commonService.redirectToPreviousUrl()},a=>{this.commonErrorCodes(JSON.parse(a))})):this.error="COMMON_VALIDATION_MESSAGES.VALID_ADD_PRIMARY_CONTACT_DETAILS":this.error="COMMON_VALIDATION_MESSAGES.VALID_ADD_SALES_REP")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"createRecord",t)}}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.enterpriseId).subscribe(t=>{if(this.enterpriseName=t.enterprise_name,this.defaultEnterprise=t._id,this.attributesList(this.enterpriseId),this.enterpriseShortName=t.short_name,t.address)for(let s=0;s<t.address.length;s++)if(!0===t.address[s].primary){this.data=t.address[s],this.label=this.data.address_label,this.addressLine1=this.data.address_line1,this.addressLine2=this.data.address_line2,this.defaultCountryName=this.lookupLanguageTranslations(this.data.country.lookup_id),this.countryObj=this.data.country,this.defaultstateId=this.data.state.state_id,this.defaultStateName=this.data.state.state_name,this.city=this.data.city,this.zipcode=this.data.ZIP,this.defaultEmail=this.data.email,this.defaultCountryCode=this.lookupLanguageTranslations(this.data.phone_country_code.lookup_id),this.defaultCountryCodeObj=this.data.phone_country_code,this.mobile=this.data.phone;break}},t=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)}}changesLabel(t){try{this.label=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changesLabel",s)}}changeAddressLine1(t){try{this.addressLine1=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAddressLine1",s)}}changeAddressLine2(t){try{this.addressLine2=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAddressLine2",s)}}getCountriesList(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRIES],t).then(s=>{this.countryOptions=s},s=>{this.loggerService.setLoggerError(this.constructor.name,"getCountriesList",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getCountriesList",s)}}changeCountry(t){try{t.NAME?(this.countryObj=t,this.defaultCountryId=t.ID,this.defaultCountryName=this.countryObj.NAME,this.stateObj="",this.defaultstateId="",this.defaultStateName=""):(this.defaultCountryName="",this.defaultCountryId="")}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeCountry",s)}}getStateOptions(t){try{this.commonservice.getStatesList(this.defaultCountryId,t,this.enterpriseId).then(s=>{this.stateOptions=s.rows},s=>{this.loggerService.setLoggerError(this.constructor.name,"getStateOptions",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getStateOptions",s)}}changeState(t){try{t.NAME?(this.defaultStateName=t.NAME,this.defaultstateId=t.ID,this.stateObj=this.stateOptions.find(s=>s.ID===parseInt(this.defaultstateId,10)),this.defaultStateName=this.stateObj.NAME):(this.defaultStateName="",this.defaultstateId="")}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeState",s)}}changeCity(t){try{this.city=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeCity",s)}}changeZipcode(t){try{this.zipcode=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeZipcode",s)}}changeEmail(t){try{this.defaultEmail=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeEmail",s)}}getphoneCountryCode(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRY_CODES],t).then(s=>{this.countrycodeOptions=s},s=>{this.loggerService.setLoggerError(this.constructor.name,"getphoneCountryCode",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getphoneCountryCode",s)}}changeCountryCode(t){try{t.NAME&&(this.defaultCountryCode=t.NAME,this.defaultCountryCodeObj=t)}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeCountryCode",s)}}changeMobile(t){try{this.mobile=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeMobile",s)}}salesRepsAdd(t){try{this.error="",this.effectiveDateError="",this.salesRepName="",this.salesrepDropDown.clearSelectInput(),this.salesrepDropDown.clearmessage(),this.fromDate=new Date,this.toDate=new Date,$("#exampleModal1").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal1")}catch(s){this.loggerService.setLoggerError(this.constructor.name,"salesRepsAdd",s)}}getSalesrepList(t){try{this.CrmAccountService.getWorkResourceDrop(t,this.enterpriseId).then(s=>{this.salesRepOptions=s}).catch(s=>{this.loggerService.setLoggerError(this.constructor.name,"getResourcesList",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getResourcesList",s)}}getSalesrep(t){try{this.salesRepName=this.lookupLanguageTranslations(t.lookup_id),this.salesRepObj=t}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getResource",s)}}changeEffectiveStartDate(t){try{this.fromDate=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeEffectiveStartDate",s)}}changeEffectiveEndDate(t){try{this.toDate=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeEffectiveEndDate",s)}}salesRepsAddSubmit(){try{if(this.salesrepDropDown.isValid())if(this.toDate&&new Date(this.toDate)<new Date(this.fromDate))this.effectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START";else if(this.salesRepData.find(s=>s.sales_rep_id===parseInt(this.salesRepObj.ID,10)))this.effectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS";else{const s={sales_rep_id:this.salesRepObj.ID,sales_rep_name:this.salesRepObj.NAME,sales_rep:this.salesRepObj.NAME,sales_rep_obj:this.salesRepObj,from_date:_(this.fromDate).format("DD-MMM-YYYY HH:MM"),start_date:this.fromDate,to_date:_(this.toDate).format("DD-MMM-YYYY HH:MM"),end_date:this.toDate,last_updated_by:this.userProfileId};this.salesRepData.push(s),$("#exampleModal1").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"salesRepsAddSubmit",t)}}editSalesReps(t,s){try{this.effectiveDateError="",this.salesRepRowIndex=t,this.salesRepName=s.sales_rep,s.sales_rep_obj.sales_rep=s.sales_rep,this.salesRepObj=s.sales_rep_obj,this.fromDate=s.start_date,this.toDate=s.end_date,this.userProfileId=s.last_updated_by}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editSalesReps",a)}}salesRepEditSubmit(){try{if(this.toDate&&new Date(this.toDate)<new Date(this.fromDate))this.effectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START";else{for(let t=0;t<this.salesRepData.length;t++)t===this.salesRepRowIndex&&(this.salesRepData[t].sales_rep=this.salesRepObj.sales_rep,this.salesRepData[t].sales_rep_obj=this.salesRepObj,this.salesRepData[t].from_date=_(this.fromDate).format("DD-MMM-YYYY HH:MM"),this.salesRepData[t].start_date=this.fromDate,this.salesRepData[t].to_date=_(this.toDate).format("DD-MMM-YYYY HH:MM"),this.salesRepData[t].end_date=this.toDate,this.salesRepData[t].last_updated_by=this.userProfileId);$("#exampleModal8").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"salesRepEditSubmit",t)}}removeSalesReps(t,s){try{this.effectiveDateError="",this.salesRepRowIndex=t,this.salesRepName=s.sales_rep,this.userProfileId=s.last_updated_by,this.fromDate=_(s.start_date).format("DD-MMM-YYYY HH:MM"),this.toDate=s.end_date?_(s.end_date).format("DD-MMM-YYYY HH:MM"):""}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeSalesReps",a)}}onClick(t){t.stopPropagation()}Delete(){try{this.salesRepData.splice(this.salesRepRowIndex,1),$("#exampleModal3").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Delete",t)}}getIndustryType(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_INDUSTRY_TYPES],"").then(s=>{this.industryTypeOptions=s,this.industryType=s[0].ID,this.industryTypeObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getIndustryType",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getIndustryType",s)}}changeIndustryType(t){try{t.value&&(this.industryType=t.value,this.industryTypeObj=this.industryTypeOptions.find(s=>s.ID===parseInt(this.industryType,10)))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeIndustryType",s)}}getIndustrySubType(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_INDUSTRY_SUBTYPES],"").then(s=>{this.industrySubTypeOptions=s,this.industrySubType=s[0].ID,this.industrySubTypeObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getIndustrySubType",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getIndustrySubType",s)}}changeIndustrySubType(t){try{this.industrySubType=t.value,this.industrySubTypeObj=this.industrySubTypeOptions.find(s=>s.ID===parseInt(this.industrySubType,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeIndustrySubType",s)}}getAnnualRevenue(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_ANNUAL_REVENUE],"").then(s=>{this.annualRevenueOptions=s,this.annualRevenue=s[0].ID,this.annualRevenueObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getAnnualRevenue",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getAnnualRevenue",s)}}changeAnnualRevenue(t){try{this.annualRevenue=t.value,this.annualRevenueObj=this.annualRevenueOptions.find(s=>s.ID===parseInt(this.annualRevenue,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAnnualRevenue",s)}}getEmployeeCount(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_EMPLOYEE_COUNT],"").then(s=>{this.employeeCountOptions=s,this.employeeCount=s[0].ID,this.employeeCountObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getEmployeeCount",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getEmployeeCount",s)}}changeEmployeeCount(t){try{this.employeeCount=t.value,this.employeeCountObj=this.employeeCountOptions.find(s=>s.ID===parseInt(this.employeeCount,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeEmployeeCount",s)}}relationshipAdd(t){try{this.error="",this.salesRepError="",this.relatedAccount="",this.relatedAccountObj="",this.relatedAccountDropDown.clearSelectInput(),this.relatedAccountDropDown.clearmessage(),$("#exampleModal4").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal4")}catch(s){this.loggerService.setLoggerError(this.constructor.name,"relationshipAdd",s)}}removeRelationship(t,s){try{this.relationshipRowIndex=t,this.relatedAccount=s.related_Account,this.relationType=s.relation_Type}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeRelationship",a)}}editRelationship(t,s){try{this.salesRepError="",this.relationshipRowIndex=t,this.relatedAccount=s.related_Account,this.relatedAccountObj=s.related_account,this.relationType=s.relation_type?s.relation_type.lookup_id:"",this.relationTypeObj=s.relation_type}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editRelationship",a)}}getCrmAccountList(t){try{this.CrmAccountService.getCrmAccountsSearch(t,this.enterpriseId).then(s=>{this.relatedAccountOptions=s}).catch(s=>{this.loggerService.setLoggerError(this.constructor.name,"getResourcesList",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getResourcesList",s)}}changeCrmAccount(t){try{this.salesRepError="",this.relatedAccount=this.lookupLanguageTranslations(t.lookup_id),this.relatedAccountObj=t}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getResource",s)}}getRelationType(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_RELATION_TYPES],"").then(s=>{this.relationTypeOptions=s,this.relationType=s[0].ID,this.relationTypeObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getRelationType",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getRelationType",s)}}changeRelationType(t){try{this.relationType=t.value,this.relationTypeObj=this.relationTypeOptions.find(s=>s.ID===parseInt(this.relationType,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAccountSubType",s)}}relationshipEditSubmit(){try{for(let t=0;t<this.relationShipsData.length;t++)t===this.relationshipRowIndex&&(this.relationShipsData[t].related_account=this.relatedAccountObj,this.relationShipsData[t].related_account_id=this.relatedAccountObj.account_id,this.relationShipsData[t].relation_type=this.relationTypeObj,this.relationShipsData[t].relation_Type=this.relationTypeObj?this.lookupLanguageTranslations(this.relationTypeObj.lookup_id):"",this.relationShipsData[t].related_Account=this.relatedAccountObj?this.relatedAccountObj.account_name:""),$("#exampleModal5").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"relationshipEditSubmit",t)}}relationshipAddSubmit(){try{if(this.relatedAccountDropDown.isValid())if(this.relationShipsData.find(s=>s.related_account_id===parseInt(this.relatedAccountObj.ID,10)))this.salesRepError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS";else{const s={related_account_id:this.relatedAccountObj.ID,related_account:this.relatedAccountObj,relation_type:this.relationTypeObj,relation_Type:this.relationTypeObj?this.lookupLanguageTranslations(this.relationTypeObj.lookup_id):"",related_Account:this.relatedAccountObj.account_name};this.relationShipsData.push(s),$("#exampleModal4").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"relationshipAddSubmit",t)}}relationshipDelete(){try{this.relationShipsData.splice(this.relationshipRowIndex,1),$("#exampleModal6").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"relationshipDelete",t)}}commonErrorCodes(t){409===JSON.parse(t[r.BU.STATUS])&&(this.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}cancelPopup(){try{$("#exampleModal1").modal("hide"),$("#exampleModal4").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopBtn",t)}}attributesList(t){try{this.userService.AttributesList(t,r.ox.CLIENTS).then(s=>{this.attributes=s.rows},s=>{this.loggerService.setLoggerError(this.constructor.name,"attributesList",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"attributesList",s)}}pageheadeActionClick(t){"BACK"==t.value&&this.cancel()}static \u0275fac=function(s){return new(s||i)(e.Y36(b),e.Y36(U.m),e.Y36(q.f),e.Y36(g.F0),e.Y36(T.sK),e.Y36(J.s),e.Y36(B.K),e.Y36(v.v),e.Y36(N.e),e.Y36(g.gz),e.Y36(V.o))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-crm-accounts-create"]],viewQuery:function(s,a){if(1&s&&(e.Gf(le,5),e.Gf(ce,5),e.Gf(ue,5),e.Gf(de,5),e.Gf(pe,5),e.Gf(he,5),e.Gf(me,5),e.Gf(_e,5),e.Gf(Ce,5),e.Gf(ge,5),e.Gf(Ae,5),e.Gf(be,5),e.Gf(Te,5),e.Gf(Oe,5)),2&s){let n;e.iGM(n=e.CRH())&&(a.accountNamevalid=n.first),e.iGM(n=e.CRH())&&(a.addEmailInput=n.first),e.iGM(n=e.CRH())&&(a.addressline1Input=n.first),e.iGM(n=e.CRH())&&(a.cityInput=n.first),e.iGM(n=e.CRH())&&(a.contactDetailsComponent=n.first),e.iGM(n=e.CRH())&&(a.countryInput=n.first),e.iGM(n=e.CRH())&&(a.descriptionvalid=n.first),e.iGM(n=e.CRH())&&(a.mobileInput=n.first),e.iGM(n=e.CRH())&&(a.phonecountrycodeDropDown=n.first),e.iGM(n=e.CRH())&&(a.relatedAccountDropDown=n.first),e.iGM(n=e.CRH())&&(a.salesrepDropDown=n.first),e.iGM(n=e.CRH())&&(a.shortNameInput=n.first),e.iGM(n=e.CRH())&&(a.stateInput=n.first),e.iGM(n=e.CRH())&&(a.zipInput=n.first)}},features:[e._Bn([N.e,v.v,b,V.o]),e.qOj],decls:286,vars:307,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-4"],["disabled","true","id","crmaccounts-create-enterprisename",3,"label","value"],["mandatory","true","id","crmaccounts-create-businessentity",3,"label","options","defaultValue","valueChange"],["bussinessEntitydropdown",""],["autoCaseFlag","false","mandatory","true","id","crmaccounts-create-crmaccountname","disabled","false",3,"minlength","maxlength","label","value","valueChange"],["accountNamevalid",""],["autoCaseFlag","false","mandatory","true","id","crmaccounts-create-crmaccounthortname","disabled","false",3,"maxlength","label","value","valueChange"],["shortNameInput",""],["mandatory","true","id","crmaccounts-create-crmaccounttype",3,"label","options","defaultValue","valueChange"],["mandatory","false","id","crmaccounts-create-crmaccountsubtype",3,"label","options","defaultValue","valueChange"],[1,"col-lg-1","col-md-2","pdl-0","order-md-1"],["type","file","btnHide","true","action","create","id","crmaccounts-create-account-image",1,"edit-pic",3,"valueChange","imageRemove"],[1,"col-md-4","order-md-1","order-2"],["mandatory","true","id","crmaccounts-create-account-status",3,"label","options","maxlength","defaultValue","valueChange"],[1,"col-md-8","order-md-1","order-2"],["mandatory","true","disabled","false","id","crmaccounts-create-account-description",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalid",""],[1,"col-md-12","text-end","mt-2","btns-group","order-md-1","order-2"],["className","btn btn-primary btn-sm","id","crmaccounts-create-submitbutton",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","crmaccounts-create-cancelbutton",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"multiple"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","false","id","crmaccounts-create-address-label",3,"label","value","valueChange"],["id","crmaccounts-create-address-addressline1","mandatory","true","disabled","false",3,"label","value","valueChange"],["addressline1Input",""],["disabled","false","id","crmaccounts-create-address-addressline2",3,"label","value","valueChange"],["mandatory","true","id","crmaccounts-create-address-country",3,"label","options","defaultValue","selectedOption","searchValueChange"],["countryInput",""],["mandatory","true","id","crmaccounts-create-address-state",3,"label","options","defaultValue","selectedOption","searchValueChange"],["stateInput",""],["mandatory","true","id","crmaccounts-create-address-city","disabled","false",3,"label","value","valueChange"],["cityInput",""],["mandatory","true","id","crmaccounts-create-address-zip","disabled","false","autoCaseFlag","false",3,"label","value","maxlength","valueChange"],["zipInput",""],["type","email","id","crmaccounts-create-address-email","mandatory","true","disabled","false",3,"label","value","maxlength","valueChange"],["addEmailInput",""],["mandatory","true","id","crmaccounts-create-address-phonecountrycode",3,"label","options","defaultValue","selectedOption","searchValueChange"],["phonecountrycodeDropDown",""],["type","mobile","mandatory","true","disabled","false","id","crmaccounts-create-address-mobile",3,"label","maxlength","value","valueChange"],["mobileInput",""],["contactDetailsComponent",""],[1,"list-accordion-tab",3,"selected"],["disabled","false","label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","crmaccounts-create-salesReps-linesadd",3,"isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["mandatory","true","id","crmaccounts-create-accountadditioninformation-industryType",3,"label","options","defaultValue","valueChange"],["mandatory","true","id","crmaccounts-create-accountadditioninformation-industrySubType",3,"label","options","defaultValue","valueChange"],["mandatory","true","id","crmaccounts-create-accountadditioninformation-annualRevenue",3,"label","options","defaultValue","valueChange"],["mandatory","true","id","crmaccounts-create-accountadditioninformation-employeeCount",3,"label","options","defaultValue","valueChange"],["disabled","false","label","","className","btn btn-danger btn-smbtn-round btn-rounded","btnIcon","fas fa-plus","id","crmaccounts-create-relationship-linesaddbutton",3,"isEmitMouseEvent","buttonOnClick"],["id","exampleModal1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],["mandatory","true",3,"label","options","defaultValue","id","selectedOption","searchValueChange"],["salesrepDropDown",""],[1,"col-md-3"],["dateformat","dd-MMM-yyyy","disabled","false","mandatory","true",3,"placeholder","defaultDate","id","editvalueChange"],["dateformat","dd-MMM-yyyy","disabled","false",3,"placeholder","defaultDate","id","editvalueChange"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm",1,"mgr-5",3,"label","id","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close",3,"label","id","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],["id","exampleModal8","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","false","id","crmaccounts-create-salesreps-editpopup-salesrepsName","disabled","true",3,"label","value"],["EditEffectiveStartDate",""],["className","btn btn-primary btn-sm","id","crmaccounts-create-salesreps-updatepopup-updatebutton",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","crmaccounts-create-salesreps-updatepopup-cancel",3,"label","buttonOnClick"],["id","exampleModal3","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","false","disabled","true","id","crmaccounts-create-salesreps-deletepopup-salesrepsName",3,"label","value"],["mandatory","false","id","crmaccounts-create-salesreps-deletepopup-fromDate","disabled","true",3,"label","value"],["mandatory","false","id","crmaccounts-create-salesreps-deletepopup-effectiveEndDateValue","disabled","true",3,"label","value"],["className","btn btn-primary btn-sm","id","crmaccounts-create-salesreps delete button deletepopup",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","crmaccounts-create-salesreps delete canclbutton",3,"label","buttonOnClick"],["id","exampleModal4","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["relatedAccountDropDown",""],["mandatory","true","id","crmaccounts-create-relationship-relationType",3,"label","options","defaultValue","valueChange"],["id","exampleModal5","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","false","disabled","true","id","crmaccounts-create-relationship-editpopup-related account",3,"label","value"],["mandatory","true","id","crmaccounts-create-relationship-relationtype",3,"label","options","defaultValue","valueChange"],["className","btn btn-primary btn-sm","id","crmaccounts-create-relationship-updatepopup-updatebutton",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","crmaccounts-create-relationship-updatepopup-cancelbutton",3,"label","buttonOnClick"],["id","exampleModal6","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","false","disabled","true","id","crmaccounts-create-relationship-deletepopup-related account",3,"label","value"],["mandatory","false","id","crmaccounts-create-relationship-deletepopup-effectivestartDateValue","disabled","true",3,"label","value"],["className","btn btn-primary btn-sm","id","crmaccounts-create-relationship delete button deletepopup",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","crmaccounts-create-relationship delete cancelbutton",3,"label","buttonOnClick"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[1,"checkboxcol",2,"width","2em"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#exampleModal3",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","click"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"],["data-toggle","modal","data-bs-target","#exampleModal6",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal5",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal5",3,"pSelectableRow","click"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",11)(15,"app-dropdown-singleselect",13,14),e.NdJ("valueChange",function(o){return a.changeBusinessEntity(o)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",11)(19,"app-input",15,16),e.NdJ("valueChange",function(o){return a.changeAccountName(o)}),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",11)(23,"app-input",17,18),e.NdJ("valueChange",function(o){return a.getAccountShortName(o)}),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",11)(27,"app-dropdown-singleselect",19),e.NdJ("valueChange",function(o){return a.changeAccountType(o)}),e.ALo(28,"translate"),e.qZA()(),e.TgZ(29,"div",11)(30,"app-dropdown-singleselect",20),e.NdJ("valueChange",function(o){return a.changeAccountSubType(o)}),e.ALo(31,"translate"),e.qZA()()()(),e.TgZ(32,"div",21)(33,"app-imageupload",22),e.NdJ("valueChange",function(o){return a.changeProfileImage(o)})("imageRemove",function(){return a.changeimageRemove()}),e.qZA()(),e.TgZ(34,"div",23)(35,"app-dropdown-singleselect",24),e.NdJ("valueChange",function(o){return a.changeStatus(o)}),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",25)(38,"app-textarea",26,27),e.NdJ("valueChange",function(o){return a.changeDescriptionName(o)}),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"div",28)(42,"app-button",29),e.NdJ("buttonOnClick",function(){return a.createRecord()}),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"app-button",30),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",31),e._uU(47),e.ALo(48,"translate"),e.qZA()()()()(),e.TgZ(49,"div",3)(50,"div",32)(51,"div",33)(52,"p-accordion",34)(53,"p-accordionTab",35)(54,"p-header",36)(55,"span"),e._uU(56),e.ALo(57,"translate"),e.qZA()(),e.TgZ(58,"div",8)(59,"div",11)(60,"app-input",37),e.NdJ("valueChange",function(o){return a.changesLabel(o)}),e.ALo(61,"translate"),e.qZA()(),e.TgZ(62,"div",11)(63,"app-input",38,39),e.NdJ("valueChange",function(o){return a.changeAddressLine1(o)}),e.ALo(65,"translate"),e.qZA()(),e.TgZ(66,"div",11)(67,"app-input",40),e.NdJ("valueChange",function(o){return a.changeAddressLine2(o)}),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",11)(70,"app-dropdown-search",41,42),e.NdJ("selectedOption",function(o){return a.changeCountry(o)})("searchValueChange",function(o){return a.getCountriesList(o)}),e.ALo(72,"translate"),e.qZA()(),e.TgZ(73,"div",11)(74,"app-dropdown-search",43,44),e.NdJ("selectedOption",function(o){return a.changeState(o)})("searchValueChange",function(o){return a.getStateOptions(o)}),e.ALo(76,"translate"),e.qZA()(),e.TgZ(77,"div",11)(78,"app-input",45,46),e.NdJ("valueChange",function(o){return a.changeCity(o)}),e.ALo(80,"translate"),e.qZA()(),e.TgZ(81,"div",11)(82,"app-inputnumber",47,48),e.NdJ("valueChange",function(o){return a.changeZipcode(o)}),e.ALo(84,"translate"),e.qZA()(),e.TgZ(85,"div",11)(86,"app-input",49,50),e.NdJ("valueChange",function(o){return a.changeEmail(o)}),e.ALo(88,"translate"),e.qZA()(),e.TgZ(89,"div",11)(90,"app-dropdown-search",51,52),e.NdJ("selectedOption",function(o){return a.changeCountryCode(o)})("searchValueChange",function(o){return a.getphoneCountryCode(o)}),e.ALo(92,"translate"),e.qZA()(),e.TgZ(93,"div",11)(94,"app-inputnumber",53,54),e.NdJ("valueChange",function(o){return a.changeMobile(o)}),e.ALo(96,"translate"),e.qZA()()()(),e._UZ(97,"app-contactdetails",null,55),e.TgZ(99,"p-accordionTab",56)(100,"p-header",36)(101,"span"),e._uU(102),e.ALo(103,"translate"),e.qZA(),e.TgZ(104,"app-button",57),e.NdJ("buttonOnClick",function(o){return a.salesRepsAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(105,"p-table",58),e.YNc(106,ve,1,1,"ng-template",59),e.YNc(107,Ee,3,1,"ng-template",60),e.YNc(108,Me,5,1,"ng-template",61),e.YNc(109,Re,4,2,"ng-template",62),e.qZA()(),e.TgZ(110,"p-accordionTab",35)(111,"p-header",36)(112,"span"),e._uU(113),e.ALo(114,"translate"),e.qZA()(),e.TgZ(115,"div",8)(116,"div",11)(117,"app-dropdown-singleselect",63),e.NdJ("valueChange",function(o){return a.changeIndustryType(o)}),e.ALo(118,"translate"),e.qZA()(),e.TgZ(119,"div",11)(120,"app-dropdown-singleselect",64),e.NdJ("valueChange",function(o){return a.changeIndustrySubType(o)}),e.ALo(121,"translate"),e.qZA()(),e.TgZ(122,"div",11)(123,"app-dropdown-singleselect",65),e.NdJ("valueChange",function(o){return a.changeAnnualRevenue(o)}),e.ALo(124,"translate"),e.qZA()(),e.TgZ(125,"div",11)(126,"app-dropdown-singleselect",66),e.NdJ("valueChange",function(o){return a.changeEmployeeCount(o)}),e.ALo(127,"translate"),e.qZA()()()(),e.TgZ(128,"p-accordionTab",56)(129,"p-header",36)(130,"span"),e._uU(131),e.ALo(132,"translate"),e.qZA(),e.TgZ(133,"app-button",67),e.NdJ("buttonOnClick",function(o){return a.relationshipAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(134,"p-table",58),e.YNc(135,Le,1,1,"ng-template",59),e.YNc(136,Ze,3,1,"ng-template",60),e.YNc(137,Ue,5,1,"ng-template",61),e.YNc(138,Je,4,2,"ng-template",62),e.qZA()()()()()()()(),e.TgZ(139,"div",68)(140,"div",69)(141,"div",70)(142,"div",71)(143,"div",72),e._uU(144),e.ALo(145,"translate"),e.ALo(146,"translate"),e.qZA()(),e.TgZ(147,"div",73)(148,"div",8)(149,"div",11)(150,"app-dropdown-search",74,75),e.NdJ("selectedOption",function(o){return a.getSalesrep(o)})("searchValueChange",function(o){return a.getSalesrepList(o)}),e.ALo(152,"translate"),e.qZA()(),e.TgZ(153,"div",76)(154,"app-datetimepicker",77),e.NdJ("editvalueChange",function(o){return a.changeEffectiveStartDate(o)}),e.ALo(155,"translate"),e.qZA()(),e.TgZ(156,"div",76)(157,"app-datetimepicker",78),e.NdJ("editvalueChange",function(o){return a.changeEffectiveEndDate(o)}),e.ALo(158,"translate"),e.qZA()(),e.TgZ(159,"div",79)(160,"app-button",80),e.NdJ("buttonOnClick",function(){return a.salesRepsAddSubmit()}),e.ALo(161,"translate"),e.qZA(),e.TgZ(162,"app-button",81),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(163,"translate"),e.qZA()(),e.TgZ(164,"div",82),e._uU(165),e.ALo(166,"translate"),e.qZA()()()()()(),e.TgZ(167,"div",83)(168,"div",69)(169,"div",70)(170,"div",71)(171,"div",72),e._uU(172),e.ALo(173,"translate"),e.ALo(174,"translate"),e.qZA()(),e.TgZ(175,"div",73)(176,"div",8)(177,"div",11),e._UZ(178,"app-input",84),e.ALo(179,"translate"),e.qZA(),e.TgZ(180,"div",76)(181,"app-datetimepicker",77,85),e.NdJ("editvalueChange",function(o){return a.changeEffectiveStartDate(o)}),e.ALo(183,"translate"),e.qZA()(),e.TgZ(184,"div",76)(185,"app-datetimepicker",78),e.NdJ("editvalueChange",function(o){return a.changeEffectiveEndDate(o)}),e.ALo(186,"translate"),e.qZA()(),e.TgZ(187,"div",79)(188,"app-button",86),e.NdJ("buttonOnClick",function(){return a.salesRepEditSubmit()}),e.ALo(189,"translate"),e.qZA(),e.TgZ(190,"app-button",87),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(191,"translate"),e.qZA()(),e.TgZ(192,"div",82),e._uU(193),e.ALo(194,"translate"),e.qZA()()()()()(),e.TgZ(195,"div",88)(196,"div",69)(197,"div",70)(198,"div",71)(199,"div",72),e._uU(200),e.ALo(201,"translate"),e.ALo(202,"translate"),e.qZA()(),e.TgZ(203,"div",73)(204,"div",8)(205,"div",76),e._UZ(206,"app-input",89),e.ALo(207,"translate"),e.qZA(),e.TgZ(208,"div",76),e._UZ(209,"app-input",90),e.ALo(210,"translate"),e.qZA(),e.TgZ(211,"div",76),e._UZ(212,"app-input",91),e.ALo(213,"translate"),e.qZA(),e.TgZ(214,"div",79)(215,"app-button",92),e.NdJ("buttonOnClick",function(){return a.Delete()}),e.ALo(216,"translate"),e.qZA(),e.TgZ(217,"app-button",93),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(218,"translate"),e.qZA()()()()()()(),e.TgZ(219,"div",94)(220,"div",69)(221,"div",70)(222,"div",71)(223,"div",72),e._uU(224),e.ALo(225,"translate"),e.ALo(226,"translate"),e.qZA()(),e.TgZ(227,"div",73)(228,"div",8)(229,"div",11)(230,"app-dropdown-search",74,95),e.NdJ("selectedOption",function(o){return a.changeCrmAccount(o)})("searchValueChange",function(o){return a.getCrmAccountList(o)}),e.ALo(232,"translate"),e.qZA()(),e.TgZ(233,"div",11)(234,"app-dropdown-singleselect",96),e.NdJ("valueChange",function(o){return a.changeRelationType(o)}),e.ALo(235,"translate"),e.qZA()(),e.TgZ(236,"div",79)(237,"app-button",80),e.NdJ("buttonOnClick",function(){return a.relationshipAddSubmit()}),e.ALo(238,"translate"),e.qZA(),e.TgZ(239,"app-button",81),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(240,"translate"),e.qZA()(),e.TgZ(241,"div",82),e._uU(242),e.ALo(243,"translate"),e.qZA()()()()()(),e.TgZ(244,"div",97)(245,"div",69)(246,"div",70)(247,"div",71)(248,"div",72),e._uU(249),e.ALo(250,"translate"),e.ALo(251,"translate"),e.qZA()(),e.TgZ(252,"div",73)(253,"div",8)(254,"div",11),e._UZ(255,"app-input",98),e.ALo(256,"translate"),e.qZA(),e.TgZ(257,"div",11)(258,"app-dropdown-singleselect",99),e.NdJ("valueChange",function(o){return a.changeRelationType(o)}),e.ALo(259,"translate"),e.qZA()(),e.TgZ(260,"div",79)(261,"app-button",100),e.NdJ("buttonOnClick",function(){return a.relationshipEditSubmit()}),e.ALo(262,"translate"),e.qZA(),e.TgZ(263,"app-button",101),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(264,"translate"),e.qZA()()()()()()(),e.TgZ(265,"div",102)(266,"div",69)(267,"div",70)(268,"div",71)(269,"div",72),e._uU(270),e.ALo(271,"translate"),e.ALo(272,"translate"),e.qZA()(),e.TgZ(273,"div",73)(274,"div",8)(275,"div",76),e._UZ(276,"app-input",103),e.ALo(277,"translate"),e.qZA(),e.TgZ(278,"div",76),e._UZ(279,"app-input",104),e.ALo(280,"translate"),e.qZA(),e.TgZ(281,"div",79)(282,"app-button",105),e.NdJ("buttonOnClick",function(){return a.relationshipDelete()}),e.ALo(283,"translate"),e.qZA(),e.TgZ(284,"app-button",106),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(285,"translate"),e.qZA()()()()()()()()),2&s&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(6),e.s9C("label",e.lcZ(13,165,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",a.enterpriseShortName),e.xp6(3),e.s9C("label",e.lcZ(17,167,"COMMON_FIELDS.BUSINESS_ENTITY")),e.s9C("defaultValue",a.bussinessEntity),e.Q6J("options",a.bussinessEntityOptions),e.xp6(4),e.s9C("label",e.lcZ(21,169,"COMMON_PAGE_TITLES.CRM_ACCOUNT")),e.s9C("value",a.accountName),e.Q6J("minlength",3)("maxlength",120),e.xp6(4),e.s9C("label",e.lcZ(25,171,"CRM_ACCOUNTS.CRM_ACCOUNT_SHORT_NAME")),e.s9C("value",a.accountShortName),e.Q6J("maxlength",15),e.xp6(4),e.s9C("label",e.lcZ(28,173,"CRM_ACCOUNTS.CRM_ACCOUNT_TYPE")),e.s9C("defaultValue",a.accountType),e.Q6J("options",a.accountTypeOptions),e.xp6(3),e.s9C("label",e.lcZ(31,175,"CRM_ACCOUNTS.CRM_ACCOUNT_SUB_TYPE")),e.s9C("defaultValue",a.accountSubType),e.Q6J("options",a.accountSubTypeOptions),e.xp6(5),e.s9C("label",e.lcZ(36,177,"COMMON_FIELDS.STATUS")),e.s9C("defaultValue",a.defaultStatus),e.Q6J("options",a.statusOptions)("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(40,179,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.description),e.Q6J("maxlength",2e3),e.xp6(4),e.s9C("label",e.lcZ(43,181,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.s9C("disabled",a.disableSubmitBtn),e.xp6(2),e.s9C("label",e.lcZ(45,183,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(48,185,a.error)," "),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(57,187,"COMMON_BLOCK_TITLES.ADDRESS_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(61,189,"ENTERPRISES.LABEL")),e.s9C("value",a.label),e.xp6(3),e.s9C("label",e.lcZ(65,191,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE1")),e.s9C("value",a.addressLine1),e.xp6(4),e.s9C("label",e.lcZ(68,193,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE2")),e.s9C("value",a.addressLine2),e.xp6(3),e.s9C("label",e.lcZ(72,195,"COMMON_ADDRESS_BLOCK.COUNTRY")),e.s9C("defaultValue",a.defaultCountryName),e.Q6J("options",a.countryOptions),e.xp6(4),e.s9C("label",e.lcZ(76,197,"COMMON_ADDRESS_BLOCK.STATE")),e.s9C("defaultValue",a.defaultStateName),e.Q6J("options",a.stateOptions),e.xp6(4),e.s9C("label",e.lcZ(80,199,"COMMON_ADDRESS_BLOCK.CITY")),e.s9C("value",a.city),e.xp6(4),e.s9C("label",e.lcZ(84,201,"COMMON_ADDRESS_BLOCK.ZIP_CODE")),e.s9C("value",a.zipcode),e.Q6J("maxlength",6),e.xp6(4),e.s9C("label",e.lcZ(88,203,"COMMON_FIELDS.EMAIL")),e.s9C("value",a.defaultEmail),e.Q6J("maxlength",60),e.xp6(4),e.s9C("label",e.lcZ(92,205,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("defaultValue",a.defaultCountryCode),e.Q6J("options",a.countrycodeOptions),e.xp6(4),e.s9C("label",e.lcZ(96,207,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",a.mobile),e.Q6J("maxlength",10),e.xp6(5),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(103,209,"CRM_ACCOUNTS.CRM_SALES_REPS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.header)("value",a.salesRepData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(5),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(114,211,"CRM_ACCOUNTS.CRM_ADDITONAL_INFORMATION")),e.xp6(4),e.s9C("label",e.lcZ(118,213,"COMMON_FIELDS.CRM_INDUSTRY_TYPE")),e.s9C("defaultValue",a.industryType),e.Q6J("options",a.industryTypeOptions),e.xp6(3),e.s9C("label",e.lcZ(121,215,"CRM_ACCOUNTS.CRM_INDUSTRY_SUBTYPE")),e.s9C("defaultValue",a.industrySubType),e.Q6J("options",a.industrySubTypeOptions),e.xp6(3),e.s9C("label",e.lcZ(124,217,"CRM_ACCOUNTS.CRM_ANNUAL_REVENUE")),e.s9C("defaultValue",a.annualRevenue),e.Q6J("options",a.annualRevenueOptions),e.xp6(3),e.s9C("label",e.lcZ(127,219,"CRM_ACCOUNTS.CRM_EMPLOYEES_COUNT")),e.s9C("defaultValue",a.employeeCount),e.Q6J("options",a.employeeCountOptions),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(132,221,"CRM_ACCOUNTS.CRM_RELATIONSHIPS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.header2)("value",a.relationShipsData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(10),e.AsE("",e.lcZ(145,223,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(146,225,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(152,227,"CRM_ACCOUNTS.CRM_SALES_REP")),e.s9C("defaultValue",a.salesRepName),e.MGl("id","crmaccounts-create-",a.object_type,"-salesreps-addpopup-salesrepsName"),e.Q6J("options",a.salesRepOptions),e.xp6(4),e.s9C("placeholder",e.lcZ(155,229,"WORK_ABSENCES.WORK_FROM_DATE")),e.MGl("id","crmaccounts-create-",a.object_type,"-salesreps-addpopup-effectivestartDateValue"),e.Q6J("defaultDate",a.fromDate),e.xp6(3),e.s9C("placeholder",e.lcZ(158,231,"WORK_ABSENCES.WORK_TO_DATE")),e.MGl("id","crmaccounts-create-",a.object_type,"-salesreps-addpopup-effectiveEndDateValue"),e.Q6J("defaultDate",a.toDate),e.xp6(3),e.s9C("label",e.lcZ(161,233,"COMMON_BUTTONS.BUTTON_ADD")),e.MGl("id","crmaccounts-create-",a.object_type,"-salesreps-addpopup-salesrepsAddSubmit"),e.xp6(2),e.s9C("label",e.lcZ(163,235,"COMMON_BUTTONS.BUTTON_CANCEL")),e.MGl("id","crmaccounts-create-",a.object_type,"-salesreps-addpopup-salesrepsAddClose"),e.xp6(3),e.hij(" ",e.lcZ(166,237,a.effectiveDateError)," "),e.xp6(7),e.AsE("",e.lcZ(173,239,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(174,241,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(6),e.s9C("label",e.lcZ(179,243,"CRM_ACCOUNTS.CRM_SALES_REP")),e.s9C("value",a.salesRepName),e.xp6(3),e.s9C("placeholder",e.lcZ(183,245,"WORK_ABSENCES.WORK_FROM_DATE")),e.MGl("id","crmaccounts-create-",a.object_type,"-salesreps-updatepopup-effectivestartdate"),e.Q6J("defaultDate",a.fromDate),e.xp6(4),e.s9C("placeholder",e.lcZ(186,247,"WORK_ABSENCES.WORK_TO_DATE")),e.MGl("id","crmaccounts-create-",a.object_type,"-salesreps-updatepopup-effectiveenddate"),e.Q6J("defaultDate",a.toDate),e.xp6(3),e.s9C("label",e.lcZ(189,249,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(191,251,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(194,253,a.effectiveDateError)," "),e.xp6(7),e.AsE("",e.lcZ(201,255,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(202,257,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(207,259,"CRM_ACCOUNTS.CRM_SALES_REP")),e.s9C("value",a.salesRepName),e.xp6(3),e.s9C("label",e.lcZ(210,261,"WORK_ABSENCES.WORK_FROM_DATE")),e.s9C("value",a.fromDate),e.xp6(3),e.s9C("label",e.lcZ(213,263,"WORK_ABSENCES.WORK_TO_DATE")),e.s9C("value",a.toDate),e.xp6(3),e.s9C("label",e.lcZ(216,265,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(218,267,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(225,269,"CRM_ACCOUNTS.CRM_RELATIONSHIP")," - ",e.lcZ(226,271,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(232,273,"CRM_ACCOUNTS.CRM_RELATED_ACCOUNT")),e.s9C("defaultValue",a.relatedAccount),e.MGl("id","crmaccounts-create-",a.object_type,"-relationship-addpopup-salesrepsName"),e.Q6J("options",a.relatedAccountOptions),e.xp6(4),e.s9C("label",e.lcZ(235,275,"CRM_ACCOUNTS.CRM_RELATION_TYPE")),e.s9C("defaultValue",a.relationType),e.Q6J("options",a.relationTypeOptions),e.xp6(3),e.s9C("label",e.lcZ(238,277,"COMMON_BUTTONS.BUTTON_ADD")),e.MGl("id","crmaccounts-create-",a.object_type,"-relationship-addpopup-relationshipAddSubmit"),e.xp6(2),e.s9C("label",e.lcZ(240,279,"COMMON_BUTTONS.BUTTON_CANCEL")),e.MGl("id","crmaccounts-create-",a.object_type,"-relationship-addpopup-relationshipAddClose"),e.xp6(3),e.hij(" ",e.lcZ(243,281,a.salesRepError)," "),e.xp6(7),e.AsE("",e.lcZ(250,283,"CRM_ACCOUNTS.CRM_RELATIONSHIP")," - ",e.lcZ(251,285,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(6),e.s9C("label",e.lcZ(256,287,"CRM_ACCOUNTS.CRM_RELATED_ACCOUNT")),e.s9C("value",a.relatedAccount),e.xp6(3),e.s9C("label",e.lcZ(259,289,"CRM_ACCOUNTS.CRM_RELATION_TYPE")),e.s9C("defaultValue",a.relationType),e.Q6J("options",a.relationTypeOptions),e.xp6(3),e.s9C("label",e.lcZ(262,291,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(264,293,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(271,295,"CRM_ACCOUNTS.CRM_RELATIONSHIP")," - ",e.lcZ(272,297,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(277,299,"CRM_ACCOUNTS.CRM_RELATED_ACCOUNT")),e.s9C("value",a.relatedAccount),e.xp6(3),e.s9C("label",e.lcZ(280,301,"CRM_ACCOUNTS.CRM_RELATION_TYPE")),e.s9C("value",a.relationType),e.xp6(3),e.s9C("label",e.lcZ(283,303,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(285,305,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[S.UQ,S.US,R.h4,R.jx,y.sg,y.O5,E.iA,E.Ei,Y.r,F.a,Q.k,x.R,G.K,H.f,z.L,X.C,P.G,j.q,T.X$]})}return i})();var D=c(42863),te=c(11735),ae=c(68896);const je=["addEmailInput"],ke=["addressline1Input"],Pe=["cityInput"],Be=["contactDetailsComponent"],qe=["countryInput"],Ye=["descriptionvalid"],Fe=["mobileInput"],Qe=["phonecountrycodeDropDown"],xe=["relatedAccountDropDown"],Ge=["salesrepDropDown"],He=["stateInput"],Ke=["zipInput"];function $e(i,l){if(1&i&&(e.TgZ(0,"div",11),e._UZ(1,"app-input",106),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.REASON_ACTIVATE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.crmAccountsViewData||null==t.crmAccountsViewData.reason_activate?null:t.crmAccountsViewData.reason_activate.lookup_id))}}function We(i,l){if(1&i&&(e.TgZ(0,"div",11),e._UZ(1,"app-input",107),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.REASON_INACTIVATE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.crmAccountsViewData||null==t.crmAccountsViewData.reason_inactivate?null:t.crmAccountsViewData.reason_inactivate.lookup_id))}}function ze(i,l){if(1&i&&(e.TgZ(0,"tr",109)(1,"td",110),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Xe(i,l){if(1&i&&e.YNc(0,ze,4,4,"tr",108),2&i){const t=e.oxw();e.Q6J("ngIf",t.salesRepData&&0==t.salesRepData.length)}}function et(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function tt(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",111),e.YNc(2,et,3,3,"th",112),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function at(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",117),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.updateSalesReps(n,o))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,s=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",s),e.xp6(1),e.hij(" ",s[t.field]," ")}}function st(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",113)(2,"div",114)(3,"span",115),e.NdJ("click",function(){const a=e.CHM(t),n=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.removeSalesReps(n,o))}),e.qZA()()(),e.YNc(4,at,2,5,"td",116),e.qZA()}if(2&i){const t=l.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function nt(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",119)(6,"br"),e.qZA()),2&i){const t=l.$implicit,s=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",s[t.field],e.oJD)}}function ot(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,nt,7,4,"div",118),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function it(i,l){if(1&i&&(e.TgZ(0,"tr",109)(1,"td",110),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function rt(i,l){if(1&i&&e.YNc(0,it,4,4,"tr",108),2&i){const t=e.oxw();e.Q6J("ngIf",t.relationShipsData&&0==t.relationShipsData.length)}}function lt(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function ct(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",111),e.YNc(2,lt,3,3,"th",112),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function ut(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",122),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editRelationship(n,o))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,s=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",s),e.xp6(1),e.hij(" ",s[t.field]," ")}}function dt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",113)(2,"div",114)(3,"span",120),e.NdJ("click",function(){const a=e.CHM(t),n=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.removeRelationship(n,o))}),e.qZA()()(),e.YNc(4,ut,2,5,"td",121),e.qZA()}if(2&i){const t=l.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function pt(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",119)(6,"br"),e.qZA()),2&i){const t=l.$implicit,s=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",s[t.field],e.oJD)}}function ht(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,pt,7,4,"div",118),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}let mt=(()=>{class i extends w.O{apiEndPointUrl;CrmAccountsService;columnsheaders;loggerService;navigationService;router;translateService;uiUtils;commonservice;enterprisesService;route;tournamentsService;addEmailInput;addressline1Input;cityInput;contactDetailsComponent;countryInput;descriptionvalid;mobileInput;phonecountrycodeDropDown;relatedAccountDropDown;salesrepDropDown;stateInput;zipInput;EffectiveDateError;actionType;addressLine1;addressLine2;annualRevenue;annualRevenueObj;annualRevenueOptions;apiEndPoint;attachmentColumnHeaders=[];attachmentsData;city;contactPrimaryEnable;contactsData;countryObj;countryOptions;countrycodeOptions;creationDate;crmAccountsViewData;defaultCountryCode;defaultCountryCodeObj;defaultCountryId;defaultCountryName;defaultStateId;defaultStateName;defaultStatus;description;disableSubmitBtn=!1;email;employeeCount;employeeCountObj;employeeCountOptions;enterpriseId;enterpriseName;enterpriseShortName;error;firstName;fromDate;header2;header;headerAction;imageError;imgFilepath;industrySubType;industrySubTypeObj;industrySubTypeOptions;industryType;industryTypeObj;industryTypeOptions;label;lastName;lastUpdateDate;mobile;object_type;recordId;relatedAccount;relatedAccountObj;relatedAccountOptions;relationShipsData=[];relationType;relationTypeObj;relationTypeOptions;relationshipRowIndex;salesRepData=[];salesRepError;salesRepName;salesRepObj;salesRepOptions;salesRepRowIndex;spinner=!0;stateOptions;statusFlag=!0;statusOptions;toDate;totalRecords;totalpages;userProfileId;zipCode;dataJsonObj={};enableImageDeleteValue=!0;constructor(t,s,a,n,o,u,d,C,m,p,h,O){super(h,m),this.apiEndPointUrl=t,this.CrmAccountsService=s,this.columnsheaders=a,this.loggerService=n,this.navigationService=o,this.router=u,this.translateService=d,this.uiUtils=C,this.commonservice=m,this.enterprisesService=p,this.route=h,this.tournamentsService=O,this.route.params.subscribe(A=>{this.recordId=A.id?A.id:A.parentId})}ngOnInit(){this.headerAction={BACK:!0}}ngAfterContentInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.CRM_ACCOUNTS,this.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl,this.object_type=this.route.snapshot.data.object_type,document.getElementsByTagName("body"),this.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.attachmentColumnHeaders=this.columnsheaders.getAttachmentsColumnHeaders(),this.actionType=r.In.EDIT,this.header=[[{headersort:"disableth",field:"sales_rep",header:this.translateService.instant("CRM_ACCOUNTS.CRM_SALES_REP"),class:""},{headersort:"disableth",field:"from_date",header:this.translateService.instant("WORK_ABSENCES.WORK_FROM_DATE"),class:"w-140 list-value-right"},{headersort:"disableth",field:"to_date",header:this.translateService.instant("WORK_ABSENCES.WORK_TO_DATE"),class:"w-140 list-value-right"}],[]],this.header2=[[{headersort:"disableth",field:"related_Account",header:this.translateService.instant("CRM_ACCOUNTS.CRM_RELATED_ACCOUNT"),class:""},{headersort:"disableth",field:"relation_Type",header:this.translateService.instant("CRM_ACCOUNTS.CRM_RELATION_TYPE"),class:"w-140 list-value-right"}],[]],this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.getCrmAccountsViewData(),this.getAttachmentsList(),this.commonService.getLookupCodesListJson(this.enterpriseId,"list").then(s=>{this.dataJsonObj.lookupCodesListJSON=s,this.getCountriesList(""),this.getRelationType(""),this.getIndustryType(""),this.getIndustrySubType(""),this.getAnnualRevenue(""),this.getEmployeeCount("")})}getCrmAccountsViewData(){try{this.CrmAccountsService.get(this.recordId).subscribe(t=>{this.crmAccountsViewData=t,this.commonservice.setCurrentPageTitle(this.crmAccountsViewData.account_short_name,this.recordId),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CRM_ACCOUNTS",value:this.crmAccountsViewData.account_short_name+" - ",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}],this.enterpriseId=this.crmAccountsViewData.enterprise.enterprise_id,this.enterpriseName=this.crmAccountsViewData.enterprise_name,this.enterpriseShortName=this.crmAccountsViewData.enterprise.short_name,this.label=this.crmAccountsViewData.address.address_label,this.addressLine1=this.crmAccountsViewData.address.address_line1,this.addressLine2=this.crmAccountsViewData.address.address_line2,this.defaultCountryName=this.crmAccountsViewData.address.country?this.lookupLanguageTranslations(this.crmAccountsViewData.address.country.lookup_id):"",this.countryObj=this.crmAccountsViewData.address.country,this.defaultStateName=this.crmAccountsViewData.address.state.state_name,this.defaultStateId=this.crmAccountsViewData.address.state.state_id,this.city=this.crmAccountsViewData.address.city,this.zipCode=this.crmAccountsViewData.address.ZIP,this.email=this.crmAccountsViewData.address.email,this.defaultCountryCode=this.crmAccountsViewData.address.phone_country_code?this.lookupLanguageTranslations(this.crmAccountsViewData.address.phone_country_code.lookup_id):"",this.defaultCountryCodeObj=this.crmAccountsViewData.address.phone_country_code,this.mobile=this.crmAccountsViewData.address.phone,this.description=this.crmAccountsViewData.description,this.statusFlag=this.crmAccountsViewData.status.lookup_name===r.oP.ACTIVE,this.imgFilepath=this.crmAccountsViewData.account_icon_file_path&&this.crmAccountsViewData.account_icon?this.apiEndPoint+this.crmAccountsViewData.account_icon_file_path+"/"+this.crmAccountsViewData.account_icon:"",this.contactsData=this.crmAccountsViewData.contact_details,this.industryType=this.crmAccountsViewData.additional_information.industry_type.lookup_id,this.industryTypeObj=this.crmAccountsViewData.additional_information.industry_type,this.industrySubType=this.crmAccountsViewData.additional_information.industry_sub_type.lookup_id,this.industrySubTypeObj=this.crmAccountsViewData.additional_information.industry_sub_type,this.annualRevenue=this.crmAccountsViewData.additional_information.annual_revenue.lookup_id,this.annualRevenueObj=this.crmAccountsViewData.additional_information.annual_revenue,this.employeeCount=this.crmAccountsViewData.additional_information.employee_count.lookup_id,this.employeeCountObj=this.crmAccountsViewData.additional_information.employee_count,this.salesRepData=this.crmAccountsViewData.sales_rep;for(let s=0;s<this.salesRepData.length;s++)this.salesRepData[s].work_resource_obj={sales_rep_id:this.salesRepData[s].sales_rep_id,sales_rep_name:this.salesRepData[s].sales_rep_name},this.salesRepData[s].sales_rep=this.salesRepData[s].sales_rep_name,this.salesRepData[s].from_date=this.salesRepData[s].from_date?this.commonservice.dbTimezoneFormatWithHours(this.salesRepData[s].from_date):"",this.salesRepData[s].to_date=this.salesRepData[s].to_date?this.commonservice.dbTimezoneFormatWithHours(this.salesRepData[s].to_date):"";this.relationShipsData=this.crmAccountsViewData.additional_information.relationships;for(let s=0;s<this.relationShipsData.length;s++)this.relationShipsData[s].related_account_id=this.relationShipsData[s].related_account?this.relationShipsData[s].related_account.account_id:"",this.relationShipsData[s].related_Account=this.relationShipsData[s].related_account?this.relationShipsData[s].related_account.account_name:"",this.relationShipsData[s].relation_Type=this.relationShipsData[s].relation_type?this.lookupLanguageTranslations(this.relationShipsData[s].relation_type.lookup_id):""},t=>{this.loggerService.setLoggerError(this.constructor.name,"getCrmAccountsViewData",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getCrmAccountsViewData",t)}}changeProfileImage(t){try{""===t.error?(this.imageError="",this.imgFilepath=t.value):this.imageError=t.error}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeProfileImage",s)}}imageRemove(){try{this.imgFilepath="",this.imageError=""}catch(t){this.loggerService.setLoggerError(this.constructor.name,"imageRemove",t)}}changeDiscriptionName(t){try{this.description=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeDiscriptionName",s)}}updateRecord(){try{this.error="";const t=this.contactDetailsComponent.contactCommonDetails();for(let s=0;s<t.length;s++)(!0===t[s].primary||!0===t[s].is_enabled)&&(this.contactPrimaryEnable=!0);this.descriptionvalid.isValid()&&M.L.isEmpty(this.error)&&M.L.isEmpty(this.imageError)&&this.addressline1Input.isValid()&&this.countryInput.isValid()&&this.stateInput.isValid()&&this.cityInput.isValid()&&this.zipInput.isValid()&&this.addEmailInput.isValid()&&this.phonecountrycodeDropDown.isValid()&&this.mobileInput.isValid()&&(this.salesRepData.length>0?t.length>0&&!0===this.contactPrimaryEnable?(this.disableSubmitBtn=!0,this.CrmAccountsService.update({enterprise:{enterprise_id:this.enterpriseId,enterprise_name:this.enterpriseName,short_name:this.enterpriseShortName},description:this.description,address:{address_label:this.label,address_line1:this.addressLine1,address_line2:this.addressLine2,city:this.city,state:{state_id:this.defaultStateId,state_name:this.defaultStateName},ZIP:this.zipCode,country:{lookup_id:this.countryObj.lookup_id,lookup_name:this.countryObj.lookup_name},geo_coordinates:"",email:this.email,phone_country_code:{lookup_id:this.defaultCountryCodeObj.lookup_id,lookup_name:this.defaultCountryCodeObj.lookup_name},phone:this.mobile},contact_details:t,sales_rep:this.salesRepData,additional_information:{industry_type:this.industryTypeObj,industry_sub_type:this.industrySubTypeObj,annual_revenue:this.annualRevenueObj,employee_count:this.employeeCountObj,relationships:this.relationShipsData},original_account_icon:this.crmAccountsViewData.account_icon,account_icon:this.crmAccountsViewData.account_icon,account_icon_file_path:this.crmAccountsViewData.account_icon_file_path},this.recordId,this.imgFilepath).then(a=>{this.disableSubmitBtn=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),this.commonService.redirectToPreviousUrl()},a=>{this.commonErrorCodes(JSON.parse(a))})):this.error="COMMON_VALIDATION_MESSAGES.VALID_ADD_PRIMARY_CONTACT_DETAILS":this.error="COMMON_VALIDATION_MESSAGES.VALID_ADD_SALES_REP")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"submit",t)}}commonErrorCodes(t){409===JSON.parse(t[r.BU.STATUS])&&(this.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}getCountriesList(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRIES],t).then(s=>{this.countryOptions=s},s=>{this.loggerService.setLoggerError(this.constructor.name,"getCountriesList",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getCountriesList",s)}}getStateOptions(t){try{this.commonservice.getStatesList(this.defaultCountryId,t,this.enterpriseId).then(s=>{this.stateOptions=s.rows},s=>{this.loggerService.setLoggerError(this.constructor.name,"getStateOptions",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getStateOptions",s)}}getphoneCountryCode(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRY_CODES],t).then(s=>{this.countrycodeOptions=s},s=>{this.loggerService.setLoggerError(this.constructor.name,"getphoneCountryCode",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getphoneCountryCode",s)}}changeLabel(t){try{this.label=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeLabel",s)}}changeAddressLine1(t){try{this.addressLine1=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAddressLine1",s)}}changeAddressLine2(t){try{this.addressLine2=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAddressLine2",s)}}changeCountry(t){try{t.NAME?(this.countryObj=t,this.defaultCountryId=t.ID,this.defaultCountryName=this.countryObj.NAME,this.defaultStateId="",this.defaultStateName=""):(this.defaultCountryName="",this.defaultCountryId="")}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeCountry",s)}}changeState(t){try{t.NAME?(this.defaultStateName=t.NAME,this.defaultStateId=t.ID):(this.defaultStateName="",this.defaultStateId="")}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeState",s)}}changeCity(t){try{this.city=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeCity",s)}}changeZipcode(t){try{this.zipCode=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeZipcode",s)}}changeEmail(t){try{this.email=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeEmail",s)}}changeCountryCode(t){try{t.NAME&&(this.defaultCountryCode=t.NAME,this.defaultCountryCodeObj=t)}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeCountryCode",s)}}changeMobile(t){try{this.mobile=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeMobile",s)}}salesRepsAdd(t){try{this.error="",this.EffectiveDateError="",this.salesRepName="",this.fromDate=new Date,this.toDate=new Date,this.salesrepDropDown.clearSelectInput(),this.salesrepDropDown.clearmessage(),$("#exampleModal1").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal1")}catch(s){this.loggerService.setLoggerError(this.constructor.name,"salesRepsAdd",s)}}updateSalesReps(t,s){try{this.EffectiveDateError="",this.salesRepRowIndex=t,this.salesRepName=s.sales_rep,s.sales_rep_obj.sales_rep=s.sales_rep,this.salesRepObj=s.sales_rep_obj,this.fromDate=s.start_date,this.toDate=s.end_date,this.userProfileId=s.last_updated_by}catch(a){this.loggerService.setLoggerError(this.constructor.name,"updateSalesReps",a)}}removeSalesReps(t,s){try{this.EffectiveDateError="",this.salesRepRowIndex=t,this.salesRepName=s.sales_rep,this.userProfileId=s.last_updated_by,this.fromDate=_(s.start_date).format("DD-MMM-YYYY HH:MM"),this.toDate=this.fromDate=_(s.start_date).format("DD-MMM-YYYY HH:MM")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeSalesReps",a)}}getSalesrepList(t){try{this.CrmAccountsService.getWorkResourceDrop(t,this.enterpriseId).then(s=>{this.salesRepOptions=s}).catch(s=>{this.loggerService.setLoggerError(this.constructor.name,"getSalesrepList",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getSalesrepList",s)}}changeSalesrep(t){try{this.salesRepName=this.lookupLanguageTranslations(t.lookup_id),this.salesRepObj=t}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeSalesrep",s)}}changeEffectiveStartDate(t){try{this.fromDate=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeEffectiveStartDate",s)}}changeEffectiveEndDate(t){try{this.toDate=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeEffectiveEndDate",s)}}salesRepsAddSubmit(){try{if(this.salesrepDropDown.isValid())if(this.toDate&&new Date(this.toDate)<new Date(this.fromDate))this.EffectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START";else if(this.salesRepData.find(s=>s.sales_rep_id===parseInt(this.salesRepObj.ID,10)))this.EffectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS";else{const s={sales_rep_id:this.salesRepObj.ID,sales_rep_name:this.salesRepObj.NAME,sales_rep:this.salesRepObj.NAME,sales_rep_obj:this.salesRepObj,from_date:_(this.fromDate).format("DD-MMM-YYYY HH:MM"),start_date:this.fromDate,to_date:_(this.toDate).format("DD-MMM-YYYY HH:MM"),end_date:this.toDate,last_updated_by:this.userProfileId};this.salesRepData.push(s),$("#exampleModal1").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"salesRepsAddSubmit",t)}}salesrepsUpdate(){try{if(this.toDate&&new Date(this.toDate)<new Date(this.fromDate))this.EffectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START";else{for(let t=0;t<this.salesRepData.length;t++)t===this.salesRepRowIndex&&(this.salesRepData[t].sales_rep_obj=this.salesRepObj,this.salesRepData[t].from_date=_(this.fromDate).format("DD-MMM-YYYY HH:MM"),this.salesRepData[t].start_date=this.fromDate,this.salesRepData[t].to_date=_(this.toDate).format("DD-MMM-YYYY HH:MM"),this.salesRepData[t].end_date=this.toDate,this.salesRepData[t].last_updated_by=this.userProfileId);$("#exampleModal8").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"salesrepsUpdate",t)}}deleteSalesReps(){try{this.salesRepData.splice(this.salesRepRowIndex,1),$("#exampleModal3").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"deleteSalesReps",t)}}relationshipAdd(t){try{this.error="",this.salesRepError="",this.relatedAccount="",this.relationType="",this.relatedAccountDropDown.clearSelectInput(),this.relatedAccountDropDown.clearmessage(),$("#exampleModal4").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal4")}catch(s){this.loggerService.setLoggerError(this.constructor.name,"relationshipAdd",s)}}removeRelationship(t,s){try{this.relationshipRowIndex=t,this.relatedAccount=s.related_Account,this.relationType=s.relation_Type}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeRelationship",a)}}editRelationship(t,s){try{this.relationshipRowIndex=t,this.relatedAccount=s.related_Account,this.relatedAccountObj=s.related_account,this.relationType=s.relation_type?s.relation_type.lookup_id:"",this.relationTypeObj=s.relation_type}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editRelationship",a)}}getRelationType(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_RELATION_TYPES],"").then(s=>{this.relationTypeOptions=s,this.relationType=s[0].ID,this.relationTypeObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getRelationType",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getRelationType",s)}}getCrmAccountList(t){try{this.CrmAccountsService.getCrmAccountsSearch(t,this.enterpriseId).then(s=>{this.relatedAccountOptions=s}).catch(s=>{this.loggerService.setLoggerError(this.constructor.name,"getCrmAccountList",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getCrmAccountList",s)}}changeCrmAccount(t){try{this.salesRepError="",this.relatedAccount=this.lookupLanguageTranslations(t.lookup_id),this.relatedAccountObj=t}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeCrmAccount",s)}}changeRelationType(t){try{this.salesRepError="",this.relationType=t.value,this.relationTypeObj=this.relationTypeOptions.find(s=>s.ID===parseInt(this.relationType,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeRelationType",s)}}relationshipAddSubmit(){try{if(this.relatedAccountDropDown.isValid())if(this.relationShipsData.find(s=>s.related_account_id===parseInt(this.relatedAccountObj.ID,10)))this.salesRepError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS";else{const s={related_account_id:this.relatedAccountObj.ID,related_account:this.relatedAccountObj,relation_type:this.relationTypeObj,relation_Type:this.relationTypeObj?this.lookupLanguageTranslations(this.relationTypeObj.lookup_id):"",related_Account:this.relatedAccountObj.account_name};this.relationShipsData.push(s),$("#exampleModal4").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"ResourceAddSubmit",t)}}relationshipEditSubmit(){try{if(this.toDate&&new Date(this.toDate)<new Date(this.fromDate))this.EffectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START";else{for(let t=0;t<this.relationShipsData.length;t++)t===this.relationshipRowIndex&&(this.relationShipsData[t].related_account=this.relatedAccountObj,this.relationShipsData[t].related_account_id=this.relatedAccountObj.account_id,this.relationShipsData[t].relation_type=this.relationTypeObj,this.relationShipsData[t].relation_Type=this.relationTypeObj?this.lookupLanguageTranslations(this.relationTypeObj.lookup_id):"",this.relationShipsData[t].related_Account=this.relatedAccountObj?this.relatedAccountObj.account_name:"");$("#exampleModal5").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"ResourceEditSubmit",t)}}relationshipDelete(){try{this.relationShipsData.splice(this.relationshipRowIndex,1),$("#exampleModal6").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Delete",t)}}getIndustryType(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_INDUSTRY_TYPES],"").then(s=>{this.industryTypeOptions=s,this.industryType=s[0].ID,this.industryTypeObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getClientType",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getClientType",s)}}getIndustrySubType(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_INDUSTRY_SUBTYPES],"").then(s=>{this.industrySubTypeOptions=s,this.industrySubType=s[0].ID,this.industrySubTypeObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getClientSubType",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getAccountSubType",s)}}getAnnualRevenue(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_ANNUAL_REVENUE],"").then(s=>{this.annualRevenueOptions=s,this.annualRevenue=s[0].ID,this.annualRevenueObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getClientSubType",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getAccountSubType",s)}}getEmployeeCount(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_EMPLOYEE_COUNT],"").then(s=>{this.employeeCountOptions=s,this.employeeCount=s[0].ID,this.employeeCountObj=s[0]},s=>{this.loggerService.setLoggerError(this.constructor.name,"getClientSubType",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getAccountSubType",s)}}changeIndustryType(t){try{t.value&&(this.industryType=t.value,this.industryTypeObj=this.industryTypeOptions.find(s=>s.ID===parseInt(this.industryType,10)))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAccountType",s)}}changeAnnualRevenue(t){try{this.annualRevenue=t.value,this.annualRevenueObj=this.annualRevenueOptions.find(s=>s.ID===parseInt(this.annualRevenue,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAccountSubType",s)}}changeEmployeeCount(t){try{this.employeeCount=t.value,this.employeeCountObj=this.employeeCountOptions.find(s=>s.ID===parseInt(this.employeeCount,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAccountSubType",s)}}changeIndustrySubType(t){try{this.industrySubType=t.value,this.industrySubTypeObj=this.industrySubTypeOptions.find(s=>s.ID===parseInt(this.industrySubType,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeAccountSubType",s)}}getAttachmentsList(){this.CrmAccountsService.getAttachmentsList(this.object_type,this.recordId,"","","").then(t=>{if(t.rows.length>0)for(let s=0;s<t.rows.length;s++)t.rows[s].user_name=t.rows[s].f_name+", "+t.rows[s].l_name,t.rows[s].last_uploaded_date=this.commonservice.dbTimezoneFormat(t.rows[s].last_uploaded_date),this.attachmentsData=t.rows;else this.attachmentsData=[];this.totalRecords=t.totalCount,this.totalpages=t.pages,this.spinner=!1}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getAttachmentsList",t)})}cancelPopup(){try{$("#exampleModal1").modal("hide"),$("#exampleModal4").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopBtn",t)}}onClick(t){t.stopPropagation()}pageheadeActionClick(t){"BACK"==t.value&&this.cancel()}deleteImgClick(t){t.value==r.A0.DELETE&&(this.crmAccountsViewData.account_icon_file_path="")}static \u0275fac=function(s){return new(s||i)(e.Y36("apiEndPoint"),e.Y36(b),e.Y36(D.Y),e.Y36(U.m),e.Y36(q.f),e.Y36(g.F0),e.Y36(T.sK),e.Y36(J.s),e.Y36(v.v),e.Y36(N.e),e.Y36(g.gz),e.Y36(V.o))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-crm-accounts-edit"]],viewQuery:function(s,a){if(1&s&&(e.Gf(je,5),e.Gf(ke,5),e.Gf(Pe,5),e.Gf(Be,5),e.Gf(qe,5),e.Gf(Ye,5),e.Gf(Fe,5),e.Gf(Qe,5),e.Gf(xe,5),e.Gf(Ge,5),e.Gf(He,5),e.Gf(Ke,5)),2&s){let n;e.iGM(n=e.CRH())&&(a.addEmailInput=n.first),e.iGM(n=e.CRH())&&(a.addressline1Input=n.first),e.iGM(n=e.CRH())&&(a.cityInput=n.first),e.iGM(n=e.CRH())&&(a.contactDetailsComponent=n.first),e.iGM(n=e.CRH())&&(a.countryInput=n.first),e.iGM(n=e.CRH())&&(a.descriptionvalid=n.first),e.iGM(n=e.CRH())&&(a.mobileInput=n.first),e.iGM(n=e.CRH())&&(a.phonecountrycodeDropDown=n.first),e.iGM(n=e.CRH())&&(a.relatedAccountDropDown=n.first),e.iGM(n=e.CRH())&&(a.salesrepDropDown=n.first),e.iGM(n=e.CRH())&&(a.stateInput=n.first),e.iGM(n=e.CRH())&&(a.zipInput=n.first)}},features:[e._Bn([N.e,v.v,b,V.o,D.Y]),e.qOj],decls:288,vars:317,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-4"],["disabled","true","id","crmaccounts-edit-enterprise",3,"label","value"],["disabled","true","id","crmaccounts-edit-enterprisename",3,"label","value"],["disabled","true","id","crmaccounts-edit-accountname",3,"label","value"],["disabled","true","id","crmaccounts-edit-accountsshortname",3,"label","value"],["disabled","true","id","crmaccounts-edit-accounttype",3,"label","value"],["disabled","true","id","crmaccounts-edit-accountsubtype",3,"label","value"],["mandatory","false","disabled","true","id","crmaccounts-edit-status",3,"label","value"],["class","col-md-4",4,"ngIf"],[1,"col-lg-1","col-md-2","pdl-0","order-md-1"],["type","file","btnHide","true","action","edit","id","crmaccounts-edit-accountimage",1,"edit-pic",3,"defaultImage","enableImageDelete","imageName","valueChange","imageRemove","deleteClick"],[1,"col-md-10","order-md-1","order-2"],["mandatory","true","disabled","false","id","crmaccounts-edit-description",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalid",""],[1,"col-md-2","text-end","mt-2","btns-group","order-md-1","order-2"],["className","btn btn-primary btn-sm","id","enterprise-edit-submitbutton",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","enterprise-edit-cancelbutton",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"multiple"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","false","id","crmaccounts-edit-address-label",3,"label","value","valueChange"],["id","crmaccounts-edit-address-addressline1","mandatory","true","disabled","false",3,"label","value","valueChange"],["addressline1Input",""],["disabled","false","id","crmaccounts-edit-address-addressline2",3,"label","value","valueChange"],["mandatory","true","id","crmaccounts-edit-address-country",3,"label","options","defaultValue","selectedOption","searchValueChange"],["countryInput",""],["mandatory","true","id","crmaccounts-edit-address-state",3,"label","options","defaultValue","selectedOption","searchValueChange"],["stateInput",""],["mandatory","true","id","crmaccounts-edit-address-city","disabled","false",3,"label","value","valueChange"],["cityInput",""],["mandatory","true","id","crmaccounts-edit-address-zipCode","disabled","false","autoCaseFlag","false",3,"label","value","maxlength","valueChange"],["zipInput",""],["type","email","mandatory","true","id","crmaccounts-edit-address-email","disabled","false",3,"label","value","maxlength","valueChange"],["addEmailInput",""],["mandatory","true","id","crmaccounts-edit-address-countrycode",3,"label","options","defaultValue","selectedOption","searchValueChange"],["phonecountrycodeDropDown",""],["type","mobile","mandatory","true","disabled","false","id","crmaccounts-edit-address-mobile",3,"label","maxlength","value","valueChange"],["mobileInput",""],["flag","edit",3,"defaultValue"],["contactDetailsComponent",""],[1,"list-accordion-tab",3,"selected"],["disabled","false","label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","enterprise-edit-salesreps-linesaddbutton",3,"isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["mandatory","true","id","crmaccounts-edit-industryType",3,"label","options","defaultValue","valueChange"],["mandatory","true","id","crmaccounts-edit-industrySubType",3,"label","options","defaultValue","valueChange"],["mandatory","true","id","crmaccounts-edit-annualRevenue",3,"label","options","defaultValue","valueChange"],["mandatory","true","id","crmaccounts-edit-employeeCount",3,"label","options","defaultValue","valueChange"],["disabled","false","label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","enterprise-edit-linesadd",3,"isEmitMouseEvent","buttonOnClick"],["id","editattachmentId"],[3,"header","data","totalPages","totalRecords","objectType","objectId","actionType","spinner"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],["id","exampleModal1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],["mandatory","true",3,"label","options","id","selectedOption","searchValueChange"],["salesrepDropDown",""],[1,"col-md-3"],["dateformat","dd-MMM-yyyy","disabled","false","mandatory","true",3,"placeholder","defaultDate","id","editvalueChange"],["dateformat","dd-MMM-yyyy","disabled","false",3,"placeholder","defaultDate","id","editvalueChange"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm",1,"mgr-5",3,"label","id","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close",3,"label","id","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],["id","exampleModal8","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","false","id","crmaccount-edit-salesreps-editpopup-salesrepsName","disabled","true",3,"label","value"],["EditEffectiveStartDate",""],["className","btn btn-primary btn-sm","id","crmaccount-edit-salesreps-updatepopup-updatebutton",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","crmaccount-edit-salesreps-updatepopup-cancelbutton",3,"label","buttonOnClick"],["id","exampleModal3","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","false","disabled","true","id","crmaccount-edit-salesreps-deletepopup-salesrepsName",3,"label","value"],["mandatory","false","id","crmaccount-edit-salesreps-deletepopup-effectivestartDateValue","disabled","true",3,"label","value"],["mandatory","false","id","crmaccount-edit-salesreps-deletepopup-effectiveEndDateValue","disabled","true",3,"label","value"],["className","btn btn-primary btn-sm","id","crmaccount-edit-salesreps delete button deletepopup",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","crmaccount-edit-salesreps delete deletepopup",3,"label","buttonOnClick"],["id","exampleModal4","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true",3,"label","options","defaultValue","id","selectedOption","searchValueChange"],["relatedAccountDropDown",""],["mandatory","true","id","crmaccounts-edit-salesreps-addpopup-relationType",3,"label","options","defaultValue","valueChange"],["id","exampleModal5","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","crmaccount-edit-salesreps-editpopup-relatedAccount",3,"label","value"],["mandatory","true","id","crmaccounts-edit-salesreps--relationType",3,"label","options","defaultValue","valueChange"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","crmaccount-edit-salesreps-updatepopup-cancel",3,"label","buttonOnClick"],["id","exampleModal6","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","crmaccount-edit-salesreps-deletepopup-relatedAccount",3,"label","value"],["id","crmaccount-edit-salesreps-deletepopup-relationType","disabled","true",3,"label","value"],["disabled","true","id","crmaccounts-edit-reasonactive",3,"label","value"],["disabled","true","id","crmaccounts-edit-reasoninactive",3,"label","value"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[1,"checkboxcol",2,"width","2em"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#exampleModal3",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","click"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"],["data-toggle","modal","data-bs-target","#exampleModal6",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal5",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal5",3,"pSelectableRow","click"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",11),e._UZ(15,"app-input",13),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"app-input",14),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",11),e._UZ(21,"app-input",15),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",11),e._UZ(24,"app-input",16),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",11),e._UZ(27,"app-input",17),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",11),e._UZ(30,"app-input",18),e.ALo(31,"translate"),e.qZA(),e.YNc(32,$e,3,4,"div",19),e.YNc(33,We,3,4,"div",19),e.qZA()(),e.TgZ(34,"div",20)(35,"app-imageupload",21),e.NdJ("valueChange",function(o){return a.changeProfileImage(o)})("imageRemove",function(){return a.imageRemove()})("deleteClick",function(o){return a.deleteImgClick(o)}),e.qZA()(),e.TgZ(36,"div",22)(37,"app-textarea",23,24),e.NdJ("valueChange",function(o){return a.changeDiscriptionName(o)}),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"div",25)(41,"app-button",26),e.NdJ("buttonOnClick",function(){return a.updateRecord()}),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"app-button",27),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(44,"translate"),e.qZA()(),e.TgZ(45,"div",28),e._uU(46),e.ALo(47,"translate"),e.qZA()()()()(),e.TgZ(48,"div",3)(49,"div",29)(50,"div",30)(51,"p-accordion",31)(52,"p-accordionTab",32)(53,"p-header",33)(54,"span"),e._uU(55),e.ALo(56,"translate"),e.qZA()(),e.TgZ(57,"div",8)(58,"div",11)(59,"app-input",34),e.NdJ("valueChange",function(o){return a.changeLabel(o)}),e.ALo(60,"translate"),e.qZA()(),e.TgZ(61,"div",11)(62,"app-input",35,36),e.NdJ("valueChange",function(o){return a.changeAddressLine1(o)}),e.ALo(64,"translate"),e.qZA()(),e.TgZ(65,"div",11)(66,"app-input",37),e.NdJ("valueChange",function(o){return a.changeAddressLine2(o)}),e.ALo(67,"translate"),e.qZA()(),e.TgZ(68,"div",11)(69,"app-dropdown-search",38,39),e.NdJ("selectedOption",function(o){return a.changeCountry(o)})("searchValueChange",function(o){return a.getCountriesList(o)}),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"div",11)(73,"app-dropdown-search",40,41),e.NdJ("selectedOption",function(o){return a.changeState(o)})("searchValueChange",function(o){return a.getStateOptions(o)}),e.ALo(75,"translate"),e.qZA()(),e.TgZ(76,"div",11)(77,"app-input",42,43),e.NdJ("valueChange",function(o){return a.changeCity(o)}),e.ALo(79,"translate"),e.qZA()(),e.TgZ(80,"div",11)(81,"app-input",44,45),e.NdJ("valueChange",function(o){return a.changeZipcode(o)}),e.ALo(83,"translate"),e.qZA()(),e.TgZ(84,"div",11)(85,"app-input",46,47),e.NdJ("valueChange",function(o){return a.changeEmail(o)}),e.ALo(87,"translate"),e.qZA()(),e.TgZ(88,"div",11)(89,"app-dropdown-search",48,49),e.NdJ("selectedOption",function(o){return a.changeCountryCode(o)})("searchValueChange",function(o){return a.getphoneCountryCode(o)}),e.ALo(91,"translate"),e.qZA()(),e.TgZ(92,"div",11)(93,"app-inputnumber",50,51),e.NdJ("valueChange",function(o){return a.changeMobile(o)}),e.ALo(95,"translate"),e.qZA()()()(),e._UZ(96,"app-contactdetails",52,53),e.TgZ(98,"p-accordionTab",54)(99,"p-header",33)(100,"span"),e._uU(101),e.ALo(102,"translate"),e.qZA(),e.TgZ(103,"app-button",55),e.NdJ("buttonOnClick",function(o){return a.salesRepsAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(104,"p-table",56),e.YNc(105,Xe,1,1,"ng-template",57),e.YNc(106,tt,3,1,"ng-template",58),e.YNc(107,st,5,1,"ng-template",59),e.YNc(108,ot,4,2,"ng-template",60),e.qZA()(),e.TgZ(109,"p-accordionTab",32)(110,"p-header",33)(111,"span"),e._uU(112),e.ALo(113,"translate"),e.qZA()(),e.TgZ(114,"div",8)(115,"div",11)(116,"app-dropdown-singleselect",61),e.NdJ("valueChange",function(o){return a.changeIndustryType(o)}),e.ALo(117,"translate"),e.qZA()(),e.TgZ(118,"div",11)(119,"app-dropdown-singleselect",62),e.NdJ("valueChange",function(o){return a.changeIndustrySubType(o)}),e.ALo(120,"translate"),e.qZA()(),e.TgZ(121,"div",11)(122,"app-dropdown-singleselect",63),e.NdJ("valueChange",function(o){return a.changeAnnualRevenue(o)}),e.ALo(123,"translate"),e.qZA()(),e.TgZ(124,"div",11)(125,"app-dropdown-singleselect",64),e.NdJ("valueChange",function(o){return a.changeEmployeeCount(o)}),e.ALo(126,"translate"),e.qZA()()()(),e.TgZ(127,"p-accordionTab",54)(128,"p-header",33)(129,"span"),e._uU(130),e.ALo(131,"translate"),e.qZA(),e.TgZ(132,"app-button",65),e.NdJ("buttonOnClick",function(o){return a.relationshipAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(133,"p-table",56),e.YNc(134,rt,1,1,"ng-template",57),e.YNc(135,ct,3,1,"ng-template",58),e.YNc(136,dt,5,1,"ng-template",59),e.YNc(137,ht,4,2,"ng-template",60),e.qZA()(),e.TgZ(138,"p-accordion",66),e._UZ(139,"app-attachment",67),e.qZA(),e._UZ(140,"app-recordhistory",68),e.qZA()()()()()(),e.TgZ(141,"div",69)(142,"div",70)(143,"div",71)(144,"div",72)(145,"div",73),e._uU(146),e.ALo(147,"translate"),e.ALo(148,"translate"),e.qZA()(),e.TgZ(149,"div",74)(150,"div",8)(151,"div",11)(152,"app-dropdown-search",75,76),e.NdJ("selectedOption",function(o){return a.changeSalesrep(o)})("searchValueChange",function(o){return a.getSalesrepList(o)}),e.ALo(154,"translate"),e.qZA()(),e.TgZ(155,"div",77)(156,"app-datetimepicker",78),e.NdJ("editvalueChange",function(o){return a.changeEffectiveStartDate(o)}),e.ALo(157,"translate"),e.qZA()(),e.TgZ(158,"div",77)(159,"app-datetimepicker",79),e.NdJ("editvalueChange",function(o){return a.changeEffectiveEndDate(o)}),e.ALo(160,"translate"),e.qZA()(),e.TgZ(161,"div",80)(162,"app-button",81),e.NdJ("buttonOnClick",function(){return a.salesRepsAddSubmit()}),e.ALo(163,"translate"),e.qZA(),e.TgZ(164,"app-button",82),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(165,"translate"),e.qZA()(),e.TgZ(166,"div",83),e._uU(167),e.ALo(168,"translate"),e.qZA()()()()()(),e.TgZ(169,"div",84)(170,"div",70)(171,"div",71)(172,"div",72)(173,"div",73),e._uU(174),e.ALo(175,"translate"),e.ALo(176,"translate"),e.qZA()(),e.TgZ(177,"div",74)(178,"div",8)(179,"div",11),e._UZ(180,"app-input",85),e.ALo(181,"translate"),e.qZA(),e.TgZ(182,"div",77)(183,"app-datetimepicker",78,86),e.NdJ("editvalueChange",function(o){return a.changeEffectiveStartDate(o)}),e.ALo(185,"translate"),e.qZA()(),e.TgZ(186,"div",77)(187,"app-datetimepicker",79),e.NdJ("editvalueChange",function(o){return a.changeEffectiveEndDate(o)}),e.ALo(188,"translate"),e.qZA()(),e.TgZ(189,"div",80)(190,"app-button",87),e.NdJ("buttonOnClick",function(){return a.salesrepsUpdate()}),e.ALo(191,"translate"),e.qZA(),e.TgZ(192,"app-button",88),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(193,"translate"),e.qZA()(),e.TgZ(194,"div",83),e._uU(195),e.ALo(196,"translate"),e.qZA()()()()()(),e.TgZ(197,"div",89)(198,"div",70)(199,"div",71)(200,"div",72)(201,"div",73),e._uU(202),e.ALo(203,"translate"),e.ALo(204,"translate"),e.qZA()(),e.TgZ(205,"div",74)(206,"div",8)(207,"div",77),e._UZ(208,"app-input",90),e.ALo(209,"translate"),e.qZA(),e.TgZ(210,"div",77),e._UZ(211,"app-input",91),e.ALo(212,"translate"),e.qZA(),e.TgZ(213,"div",77),e._UZ(214,"app-input",92),e.ALo(215,"translate"),e.qZA(),e.TgZ(216,"div",80)(217,"app-button",93),e.NdJ("buttonOnClick",function(){return a.deleteSalesReps()}),e.ALo(218,"translate"),e.qZA(),e.TgZ(219,"app-button",94),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(220,"translate"),e.qZA()()()()()()(),e.TgZ(221,"div",95)(222,"div",70)(223,"div",71)(224,"div",72)(225,"div",73),e._uU(226),e.ALo(227,"translate"),e.ALo(228,"translate"),e.qZA()(),e.TgZ(229,"div",74)(230,"div",8)(231,"div",11)(232,"app-dropdown-search",96,97),e.NdJ("selectedOption",function(o){return a.changeCrmAccount(o)})("searchValueChange",function(o){return a.getCrmAccountList(o)}),e.ALo(234,"translate"),e.qZA()(),e.TgZ(235,"div",11)(236,"app-dropdown-singleselect",98),e.NdJ("valueChange",function(o){return a.changeRelationType(o)}),e.ALo(237,"translate"),e.qZA()(),e.TgZ(238,"div",80)(239,"app-button",81),e.NdJ("buttonOnClick",function(){return a.relationshipAddSubmit()}),e.ALo(240,"translate"),e.qZA(),e.TgZ(241,"app-button",82),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(242,"translate"),e.qZA()(),e.TgZ(243,"div",83),e._uU(244),e.ALo(245,"translate"),e.qZA()()()()()(),e.TgZ(246,"div",99)(247,"div",70)(248,"div",71)(249,"div",72)(250,"div",73),e._uU(251),e.ALo(252,"translate"),e.ALo(253,"translate"),e.qZA()(),e.TgZ(254,"div",74)(255,"div",8)(256,"div",11),e._UZ(257,"app-input",100),e.ALo(258,"translate"),e.qZA(),e.TgZ(259,"div",11)(260,"app-dropdown-singleselect",101),e.NdJ("valueChange",function(o){return a.changeRelationType(o)}),e.ALo(261,"translate"),e.qZA()(),e.TgZ(262,"div",80)(263,"app-button",87),e.NdJ("buttonOnClick",function(){return a.relationshipEditSubmit()}),e.ALo(264,"translate"),e.qZA(),e.TgZ(265,"app-button",102),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(266,"translate"),e.qZA()()()()()()(),e.TgZ(267,"div",103)(268,"div",70)(269,"div",71)(270,"div",72)(271,"div",73),e._uU(272),e.ALo(273,"translate"),e.ALo(274,"translate"),e.qZA()(),e.TgZ(275,"div",74)(276,"div",8)(277,"div",77),e._UZ(278,"app-input",104),e.ALo(279,"translate"),e.qZA(),e.TgZ(280,"div",77),e._UZ(281,"app-input",105),e.ALo(282,"translate"),e.qZA(),e.TgZ(283,"div",80)(284,"app-button",93),e.NdJ("buttonOnClick",function(){return a.relationshipDelete()}),e.ALo(285,"translate"),e.qZA(),e.TgZ(286,"app-button",94),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(287,"translate"),e.qZA()()()()()()()()),2&s&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(6),e.s9C("label",e.lcZ(13,175,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",null==a.crmAccountsViewData||null==a.crmAccountsViewData.enterprise?null:a.crmAccountsViewData.enterprise.short_name),e.xp6(3),e.s9C("label",e.lcZ(16,177,"COMMON_FIELDS.BUSINESS_ENTITY")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.business_entity_name?null:a.crmAccountsViewData.business_entity_name.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(19,179,"COMMON_PAGE_TITLES.CRM_ACCOUNT")),e.s9C("value",null==a.crmAccountsViewData?null:a.crmAccountsViewData.account_name),e.xp6(3),e.s9C("label",e.lcZ(22,181,"CRM_ACCOUNTS.CRM_ACCOUNT_SHORT_NAME")),e.s9C("value",null==a.crmAccountsViewData?null:a.crmAccountsViewData.account_short_name),e.xp6(3),e.s9C("label",e.lcZ(25,183,"CRM_ACCOUNTS.CRM_ACCOUNT_TYPE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.account_type?null:a.crmAccountsViewData.account_type.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(28,185,"CRM_ACCOUNTS.CRM_ACCOUNT_SUB_TYPE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.account_subtype?null:a.crmAccountsViewData.account_subtype.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(31,187,"COMMON_FIELDS.STATUS")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.status?null:a.crmAccountsViewData.status.lookup_id)),e.xp6(2),e.Q6J("ngIf",!0===a.statusFlag),e.xp6(1),e.Q6J("ngIf",!1===a.statusFlag),e.xp6(2),e.s9C("defaultImage",a.imgFilepath),e.s9C("imageName",null==a.crmAccountsViewData?null:a.crmAccountsViewData.account_short_name),e.Q6J("enableImageDelete",a.enableImageDeleteValue),e.xp6(2),e.s9C("label",e.lcZ(39,189,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.description),e.Q6J("maxlength",2e3),e.xp6(4),e.s9C("label",e.lcZ(42,191,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.s9C("disabled",a.disableSubmitBtn),e.xp6(2),e.s9C("label",e.lcZ(44,193,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(47,195,a.error)," "),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(56,197,"COMMON_BLOCK_TITLES.ADDRESS_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(60,199,"ENTERPRISES.LABEL")),e.s9C("value",a.label),e.xp6(3),e.s9C("label",e.lcZ(64,201,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE1")),e.s9C("value",a.addressLine1),e.xp6(4),e.s9C("label",e.lcZ(67,203,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE2")),e.s9C("value",a.addressLine2),e.xp6(3),e.s9C("label",e.lcZ(71,205,"COMMON_ADDRESS_BLOCK.COUNTRY")),e.s9C("defaultValue",a.defaultCountryName),e.Q6J("options",a.countryOptions),e.xp6(4),e.s9C("label",e.lcZ(75,207,"COMMON_ADDRESS_BLOCK.STATE")),e.s9C("defaultValue",a.defaultStateName),e.Q6J("options",a.stateOptions),e.xp6(4),e.s9C("label",e.lcZ(79,209,"COMMON_ADDRESS_BLOCK.CITY")),e.s9C("value",a.city),e.xp6(4),e.s9C("label",e.lcZ(83,211,"COMMON_ADDRESS_BLOCK.ZIP_CODE")),e.s9C("value",a.zipCode),e.Q6J("maxlength",6),e.xp6(4),e.s9C("label",e.lcZ(87,213,"COMMON_FIELDS.EMAIL")),e.s9C("value",a.email),e.Q6J("maxlength",60),e.xp6(4),e.s9C("label",e.lcZ(91,215,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("defaultValue",a.defaultCountryCode),e.Q6J("options",a.countrycodeOptions),e.xp6(4),e.s9C("label",e.lcZ(95,217,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",a.mobile),e.Q6J("maxlength",10),e.xp6(3),e.Q6J("defaultValue",a.contactsData),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(102,219,"CRM_ACCOUNTS.CRM_SALES_REPS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.header)("value",a.salesRepData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(5),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(113,221,"CRM_ACCOUNTS.CRM_ADDITONAL_INFORMATION")),e.xp6(4),e.s9C("label",e.lcZ(117,223,"COMMON_FIELDS.CRM_INDUSTRY_TYPE")),e.s9C("defaultValue",a.industryType),e.Q6J("options",a.industryTypeOptions),e.xp6(3),e.s9C("label",e.lcZ(120,225,"CRM_ACCOUNTS.CRM_INDUSTRY_SUBTYPE")),e.s9C("defaultValue",a.industrySubType),e.Q6J("options",a.industrySubTypeOptions),e.xp6(3),e.s9C("label",e.lcZ(123,227,"CRM_ACCOUNTS.CRM_ANNUAL_REVENUE")),e.s9C("defaultValue",a.annualRevenue),e.Q6J("options",a.annualRevenueOptions),e.xp6(3),e.s9C("label",e.lcZ(126,229,"CRM_ACCOUNTS.CRM_EMPLOYEES_COUNT")),e.s9C("defaultValue",a.employeeCount),e.Q6J("options",a.employeeCountOptions),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(131,231,"CRM_ACCOUNTS.CRM_RELATIONSHIPS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.header2)("value",a.relationShipsData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.Q6J("header",a.attachmentColumnHeaders)("data",a.attachmentsData)("totalPages",a.totalpages)("totalRecords",a.totalRecords)("objectType",a.object_type)("objectId",a.recordId)("actionType",a.actionType)("spinner",a.spinner),e.xp6(1),e.Q6J("createdBy",null==a.crmAccountsViewData?null:a.crmAccountsViewData.created_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==a.crmAccountsViewData?null:a.crmAccountsViewData.updated_by)("creationDate",null==a.crmAccountsViewData?null:a.crmAccountsViewData.createdAt)("lastUpdatedDate",null==a.crmAccountsViewData?null:a.crmAccountsViewData.updatedAt),e.xp6(6),e.AsE("",e.lcZ(147,233,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(148,235,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(154,237,"CRM_ACCOUNTS.CRM_SALES_REP")),e.MGl("id","crmaccount-edit-",a.object_type,"-salesreps-addpopup-salesrepsName"),e.Q6J("options",a.salesRepOptions),e.xp6(4),e.s9C("placeholder",e.lcZ(157,239,"WORK_ABSENCES.WORK_FROM_DATE")),e.MGl("id","crmaccount-edit-",a.object_type,"-salesreps-addpopup-effectivestartDateValue"),e.Q6J("defaultDate",a.fromDate),e.xp6(3),e.s9C("placeholder",e.lcZ(160,241,"WORK_ABSENCES.WORK_TO_DATE")),e.MGl("id","crmaccount-edit-",a.object_type,"-salesreps-addpopup-effectiveEndDateValue"),e.Q6J("defaultDate",a.toDate),e.xp6(3),e.s9C("label",e.lcZ(163,243,"COMMON_BUTTONS.BUTTON_ADD")),e.MGl("id","crmaccount-edit-",a.object_type,"-salesreps-addpopup-salesrepsAddSubmit"),e.xp6(2),e.s9C("label",e.lcZ(165,245,"COMMON_BUTTONS.BUTTON_CANCEL")),e.MGl("id","crmaccount-edit-",a.object_type,"-salesreps-addpopup-salesrepsAddClose"),e.xp6(3),e.hij(" ",e.lcZ(168,247,a.EffectiveDateError)," "),e.xp6(7),e.AsE("",e.lcZ(175,249,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(176,251,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(6),e.s9C("label",e.lcZ(181,253,"CRM_ACCOUNTS.CRM_SALES_REP")),e.s9C("value",a.salesRepName),e.xp6(3),e.s9C("placeholder",e.lcZ(185,255,"WORK_ABSENCES.WORK_FROM_DATE")),e.MGl("id","crmaccount-edit-",a.object_type,"-salesreps-updatepopup-effectivestartdate"),e.Q6J("defaultDate",a.fromDate),e.xp6(4),e.s9C("placeholder",e.lcZ(188,257,"WORK_ABSENCES.WORK_TO_DATE")),e.MGl("id","crmaccount-edit-",a.object_type,"-salesreps-updatepopup-effectiveenddate"),e.Q6J("defaultDate",a.toDate),e.xp6(3),e.s9C("label",e.lcZ(191,259,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(193,261,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(196,263,a.EffectiveDateError)," "),e.xp6(7),e.AsE("",e.lcZ(203,265,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(204,267,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(209,269,"CRM_ACCOUNTS.CRM_SALES_REP")),e.s9C("value",a.salesRepName),e.xp6(3),e.s9C("label",e.lcZ(212,271,"WORK_ABSENCES.WORK_FROM_DATE")),e.s9C("value",a.fromDate),e.xp6(3),e.s9C("label",e.lcZ(215,273,"WORK_ABSENCES.WORK_TO_DATE")),e.s9C("value",a.toDate),e.xp6(3),e.s9C("label",e.lcZ(218,275,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(220,277,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(227,279,"CRM_ACCOUNTS.CRM_RELATIONSHIP")," - ",e.lcZ(228,281,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(234,283,"CRM_ACCOUNTS.CRM_RELATED_ACCOUNT")),e.s9C("defaultValue",a.relatedAccount),e.MGl("id","crmaccount-edit-",a.object_type,"-salesreps-addpopup-salesrepsName"),e.Q6J("options",a.relatedAccountOptions),e.xp6(4),e.s9C("label",e.lcZ(237,285,"CRM_ACCOUNTS.CRM_RELATION_TYPE")),e.s9C("defaultValue",a.relationType),e.Q6J("options",a.relationTypeOptions),e.xp6(3),e.s9C("label",e.lcZ(240,287,"COMMON_BUTTONS.BUTTON_ADD")),e.MGl("id","crmaccount-edit-",a.object_type,"-salesreps-addpopup-salesrepsAddSubmit"),e.xp6(2),e.s9C("label",e.lcZ(242,289,"COMMON_BUTTONS.BUTTON_CANCEL")),e.MGl("id","crmaccount-edit-",a.object_type,"-salesreps-addpopup-salesrepsAddClose"),e.xp6(3),e.hij(" ",e.lcZ(245,291,a.salesRepError)," "),e.xp6(7),e.AsE("",e.lcZ(252,293,"CRM_ACCOUNTS.CRM_RELATIONSHIP")," - ",e.lcZ(253,295,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(6),e.s9C("label",e.lcZ(258,297,"CRM_ACCOUNTS.CRM_RELATED_ACCOUNT")),e.s9C("value",a.relatedAccount),e.xp6(3),e.s9C("label",e.lcZ(261,299,"CRM_ACCOUNTS.CRM_RELATION_TYPE")),e.s9C("defaultValue",a.relationType),e.Q6J("options",a.relationTypeOptions),e.xp6(3),e.s9C("label",e.lcZ(264,301,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(266,303,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(273,305,"CRM_ACCOUNTS.CRM_RELATIONSHIP")," - ",e.lcZ(274,307,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(279,309,"CRM_ACCOUNTS.CRM_RELATED_ACCOUNT")),e.s9C("value",a.relatedAccount),e.xp6(3),e.s9C("label",e.lcZ(282,311,"CRM_ACCOUNTS.CRM_RELATION_TYPE")),e.s9C("value",a.relationType),e.xp6(3),e.s9C("label",e.lcZ(285,313,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(287,315,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[S.UQ,S.US,R.h4,R.jx,y.sg,y.O5,E.iA,E.Ei,Y.r,F.a,Q.k,x.R,G.K,H.f,z.L,X.C,te.W,ae.Y,P.G,j.q,T.X$]})}return i})();var K=c(15861),_t=c(28168),k=c(30578),se=c(70057),Ct=c(44393),gt=c(88425);const At=["datatableComponent"];let ne=(()=>{class i extends w.O{ColumnHeader;CrmAccountsService;actionSheetController;loggerService;router;translateService;commonService;listingVariables;route;datatableComponent;actionStatus;actions;crmAccountsMobileList;defaultPageName="crmAccounts";enterpriseId;forceRefresh;listdata;mobileroutesArray=[];noDuplicates=void 0;objectType;pageTitle1;pageTitle;show=!0;recordId="";searchString;statusObj;tableColumnheaders;type="";dataJsonObj={};constructor(t,s,a,n,o,u,d,C,m){super(m,d),this.ColumnHeader=t,this.CrmAccountsService=s,this.actionSheetController=a,this.loggerService=n,this.router=o,this.translateService=u,this.commonService=d,this.listingVariables=C,this.route=m,this.route.params.subscribe(p=>{this.recordId=p.parentId}),this.route.queryParams.subscribe(p=>{this.dataJsonObj.queryParamsObj={defaultView:p.default_view,selectedMenuId:p.selectedMenuId,selectedSubMenuId:p.selectedSubMenuId}})}ngOnInit(){}ngAfterContentInit(){this.initializeComponent()}initializeComponent(){this.showSpinner(),this.dataJsonObj.pageName=r.hf.CRM_ACCOUNTS,this.objectType=this.route.snapshot.data.object_type,document.getElementsByTagName("body"),this.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.advancedSearchObj={},this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString="",this.actions={ACTIVATE:this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.ACTIVATE),EDIT:this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.EDIT),INACTIVATE:this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.INACTIVATE),VIEW:this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.VIEW)},this.forceRefresh=!0,this.commonService.currentEvent.subscribe(s=>{"crmaccounts"===s&&(this.forceRefresh=!0)}),this.initializePage()}ionViewWillEnter(){}getAllListPagination(){try{this.initializePage(),this.objectType===r.hf.CRM_SALES_REPS?(this.type=r.hf.CRM_SALES_REPS,this.getCrmAccountsListing()):(this.type="",this.recordId="",this.getCrmAccountsListing())}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getAllListPagination",t)}}initializePage(){try{this.objectType===r.hf.CRM_SALES_REPS?(this.tableColumnheaders=this.ColumnHeader.getCrmAccountsColumnHeaders(),this.translateService.use(localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE)).subscribe(t=>{this.pageTitle=this.commonService.getCurrentPageTitle(this.recordId)+'<span class="page-title">&nbsp;- '+this.pageTitle1+"</span>"}),this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!0},{key:"COMMON_PAGE_TITLES.CRM_ACCOUNTS",value:"",showSubMenuDisplayName:!0}]):(this.tableColumnheaders=this.ColumnHeader.getCrmAccountsColumnHeaders(),this.translateService.use(localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE)).subscribe(t=>{this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.CRM_ACCOUNTS",value:"",showSubMenuDisplayName:!0}],JSON.parse(localStorage.getItem(r.BU.MENU_CLICK_ITEM))}))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"initializePage",t)}if(this.dataJsonObj.addFiltersList=[],this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.CREATE)){let t="/crmaccounts/crmaccounts/create";this.objectType===r.hf.CRM_SALES_REPS&&(t="/crmsalesreps/"+this.recordId+"/crmaccounts/crmsalesrepaccounts-create"),this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:r.gL.URL,redirectURL:t,queryParams:"",iconClass:"fas fa-plus"})}this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.IMPORT)&&this.dataJsonObj.pageActionsList.push({actionName:"IMPORT",displayName:"COMMON_BUTTONS.BUTTON_IMPORT",actionType:r.gL.POPUP,redirectURL:"",queryParams:"",iconClass:"fas fa-file-import mr-1"}),this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.FILTERS)}getCrmAccountsListing(){try{this.showSpinner();const t=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView);this.CrmAccountsService.getAll(this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.listingVariables.sortOrderColumn,this.searchString,this.enterpriseId,this.forceRefresh,this.statusObj,this.recordId,this.type,t,this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(a=>{if(this.hideSpinner(),a.rows.length>0){this.crmAccountsMobileList&&this.crmAccountsMobileList.length>0||(this.crmAccountsMobileList=[]),this.forceRefresh&&(this.crmAccountsMobileList=[]);for(let n=0;n<a.rows.length;n++){a.rows[n].shortName=a.rows[n].account_short_name;const o={url:`crmaccounts/crmaccounts/${a.rows[n]._id}/view`,queryParams:this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:""},u=o.queryParams&&Object.keys(o.queryParams).length>0?`${o.url}?${JSON.stringify(o.queryParams)}`:o.url;if(a.rows[n].account_short_name=`<a class="enable" id="account_short_name${a.rows[n]._id}" href=${u}>${a.rows[n].account_short_name}`,a.rows[n].enterprise.short_name='<a class="enable" id="enterprise.short_name'+a.rows[n]._id+'" href="enterprises/enterprises/'+a.rows[n].enterprise.enterprise_id+'/view" >'+a.rows[n].enterprise.short_name,a.rows[n].firstLineDisplay=a.rows[n].account_name+" ("+a.rows[n].shortName+")",a.rows[n].address)for(let d=0;d<a.rows[n].address.length;d++)!0===a.rows[n].address[d].primary&&(a.rows[n].address.country=a.rows[n].address[d].country?this.lookupLanguageTranslations(a.rows[n].address[d].country.lookup_id):"",a.rows[n].address.state=a.rows[n].address[d].state.state_name,a.rows[n].address.city=a.rows[n].address[d].city);a.rows[n].imageName=a.rows[n].account_name,a.rows[n].imageDisplay=a.rows[n].account_icon_file_path&&a.rows[n].account_icon?a.rows[n].account_icon_file_path+"/"+a.rows[n].account_icon:null,a.rows[n].isEnabledText=a.rows[n].status?this.lookupLanguageTranslations(a.rows[n].status.lookup_id):"",this.crmAccountsMobileList=this.crmAccountsMobileList.filter(d=>d._id!==a.rows[n]._id),this.crmAccountsMobileList.push(a.rows[n])}a.totalCount&&(this.listingVariables.totalRecords=a.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=a.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.listdata=this.listdata.concat(a.rows)):this.listdata=a.rows}else this.listdata=[],this.crmAccountsMobileList=[]},a=>{this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getCrmAccountsListing",a)})}catch(t){this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getCrmAccountsListing",t)}}getSearchResult(t){try{this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString=t,this.getAllListPagination(),this.datatableComponent.reset()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getSearchResult",s)}}loadPageData(t){this.listingVariables.pageNumbers=t.listingVariables.pageNumbers,t.clearMobileData&&(this.crmAccountsMobileList=this.noDuplicates),t.isPaginationChange&&(this.dataJsonObj.selectedFilter=t.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=t.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=t.selectedAdvancedSearchObj),this.getAllListPagination()}createCrmAccount(){try{this.router.navigate(this.objectType===r.hf.CRM_SALES_REPS?["/crmsalesreps/"+this.recordId+"/crmaccounts/crmsalesrepaccounts-create"]:["/crmaccounts/crmaccounts/create"])}catch(t){this.loggerService.setLoggerError(this.constructor.name,"createCrmAccount",t)}}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}searchClose(){try{this.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.getAllListPagination(),this.datatableComponent.reset()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"searchClose",t)}}getchangeEvent(t){t&&"success"===t.value&&this.getAllListPagination()}onActionClicked(t){try{t.action===r.A0.EDIT?(this.router.navigate(["/crmaccounts/crmaccounts/"+t.data._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("crmaccounts")):t.action===r.A0.VIEW?this.commonService.redirectToUrl(["..",t._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route):(t.action===r.A0.ACTIVATE||t.action===r.A0.INACTIVATE)&&(this.router.navigate(["/crmaccounts/crmaccounts/"+t.data._id+"/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("crmaccounts"))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",s)}}statusData(t){try{this.statusObj=t.value,this.forceRefresh=!0,this.getAllListPagination()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"statusData",s)}}mobileEventAction(t){try{this.mobileroutesArray=[],t.status.lookup_name===r.oP.INACTIVE&&this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.ACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ACTIVATE"),handler:()=>{this.router.navigate(["crmaccounts/crmaccounts/"+t._id+"/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("crmaccounts")}}),this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.EDIT)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/crmaccounts/crmaccounts/"+t._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("crmaccounts")}}),t.status.lookup_name===r.oP.ACTIVE&&this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.INACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_INACTIVATE"),handler:()=>{this.router.navigate(["crmaccounts/crmaccounts/"+t._id+"/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("crmaccounts")}}),this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.VIEW)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{this.commonService.redirectToUrl(["..",t._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}}),this.presentActionSheet(t)}catch(s){this.loggerService.setLoggerError(this.constructor.name,"presentActionSheet",s)}}presentActionSheet(t){var s=this;return(0,K.Z)(function*(){try{yield(yield s.actionSheetController.create({cssClass:"actionsheet",buttons:s.mobileroutesArray})).present()}catch(a){s.loggerService.setLoggerError(s.constructor.name,"mobileEventAction",a)}})()}getRedirectCrmAccounts(t){try{this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.ACTIVATE)&&this.commonService.redirectToUrl(["..",t._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getRedirectCrmAccounts",s)}}statsToggle(){this.show=!this.show}selectedViewType(t){this.dataJsonObj.selectedDisplayView=t}selectedFilterType(t){t||(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}onPageLevelActionClicked(t){"IMPORT"===t.actionName&&(this.dataJsonObj.isImportActionClicked=!0)}advancedSearchFilterClicked(t){this.dataJsonObj.selectedAdvancedSearchObj=t}onHeaderItemClick(t){switch(t.type){case"search":this.getSearchResult(t.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(t.event);break;case"filters":this.selectedFilterType(t.event);break;case"advanced_search":this.advancedSearchFilterClicked(t.event);break;case"page_actions":this.onPageLevelActionClicked(t.event)}}crmAccountsStatsAction(){}static \u0275fac=function(s){return new(s||i)(e.Y36(D.Y),e.Y36(b),e.Y36(se.BX),e.Y36(U.m),e.Y36(g.F0),e.Y36(T.sK),e.Y36(v.v),e.Y36(k.v),e.Y36(g.gz))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-crm-accpounts-list"]],viewQuery:function(s,a){if(1&s&&e.Gf(At,5),2&s){let n;e.iGM(n=e.CRH())&&(a.datatableComponent=n.first)}},features:[e._Bn([D.Y,k.v,b]),e.qOj],decls:10,vars:33,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],["id","tagid",3,"header","actions","totalPages","totalRecords","paginator","data","mobileListData","expand","showRights","statsShow","id","statsSearch","listingVariables","selectedDisplayViewType","selectedFilterType","showSpinner","selectedAdvancedSearchObj","pageName","selectedMenuId","selectedSubMenuId","actionClicked","itemClickEvent","changeStats","redirectionEvent","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],[3,"actionClicked","pageName","emitEvent"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(o){return a.onHeaderItemClick(o)}),e.qZA()(),e.TgZ(4,"div",4)(5,"app-datatable",5,6),e.NdJ("actionClicked",function(o){return a.onActionClicked(o)})("itemClickEvent",function(o){return a.getRedirectCrmAccounts(o)})("changeStats",function(o){return a.statusData(o)})("redirectionEvent",function(o){return a.mobileEventAction(o)})("loadPageData",function(o){return a.loadPageData(o)}),e.qZA(),e.TgZ(7,"div",7)(8,"app-page-actions",8),e.NdJ("selectedAction",function(o){return a.onPageLevelActionClicked(o)}),e.qZA()()()()(),e.TgZ(9,"app-importdata",9),e.NdJ("emitEvent",function(o){return a.getchangeEvent(o)}),e.qZA()),2&s&&(e.xp6(3),e.Q6J("pageName",a.dataJsonObj.pageName)("defaultView",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",a.dataJsonObj.pageActionsList)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(2),e.MGl("id","crmaccounts-",a.objectType,"-list-records"),e.Q6J("header",a.tableColumnheaders)("actions",a.actions)("totalPages",a.listingVariables.totalpages)("totalRecords",a.listingVariables.totalRecords)("paginator",!0)("data",a.listdata)("mobileListData",a.crmAccountsMobileList)("expand",!1)("showRights",a.crmAccountsStatsAction())("statsShow",a.show)("statsSearch",a.searchString)("listingVariables",a.listingVariables)("selectedDisplayViewType",a.dataJsonObj.selectedDisplayView)("selectedFilterType",a.dataJsonObj.selectedFilter)("showSpinner",a.dataJsonObj.showSpinner)("selectedAdvancedSearchObj",a.dataJsonObj.selectedAdvancedSearchObj)("pageName",a.dataJsonObj.pageName)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",a.dataJsonObj.pageActionsList),e.xp6(1),e.Q6J("actionClicked",a.dataJsonObj.isImportActionClicked)("pageName",a.defaultPageName))},dependencies:[Ct.M,_t.n,j.q,gt.y]})}return i})();var bt=c(71238);const Tt=["activedropdown"];function Ot(i,l){if(1&i&&(e.TgZ(0,"div",11),e._UZ(1,"app-input",74),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.REASON_ACTIVATE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.crmAccountsViewData||null==t.crmAccountsViewData.reason_activate?null:t.crmAccountsViewData.reason_activate.lookup_id))}}function St(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"app-dropdown-singleselect",75,76),e.NdJ("valueChange",function(a){e.CHM(t);const n=e.oxw();return e.KtG(n.changeReasonActive(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"COMMON_FIELDS.REASON_ACTIVATE")),e.s9C("defaultValue",t.reasonActiveDrop),e.Q6J("options",t.reasonActiveOptions)}}function vt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"app-dropdown-singleselect",77,76),e.NdJ("valueChange",function(a){e.CHM(t);const n=e.oxw();return e.KtG(n.changeReasonInactive(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"COMMON_FIELDS.REASON_INACTIVATE")),e.s9C("defaultValue",t.reasonInactiveDrop),e.Q6J("options",t.reasonInactiveOptions)}}function yt(i,l){if(1&i&&(e.TgZ(0,"div",11),e._UZ(1,"app-input",78),e.ALo(2,"translate"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.REASON_INACTIVATE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.crmAccountsViewData||null==t.crmAccountsViewData.reason_inactivate?null:t.crmAccountsViewData.reason_inactivate.lookup_id))}}function Et(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",83),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.updateRecord())}),e.ALo(1,"translate"),e.qZA()}2&i&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_ACTIVATE"))}function ft(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",84),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.updateRecord())}),e.ALo(1,"translate"),e.qZA()}2&i&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_INACTIVATE"))}function Mt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",85),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.Close())}),e.ALo(1,"translate"),e.qZA()}2&i&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_CANCEL"))}function Nt(i,l){if(1&i&&(e.TgZ(0,"div",79),e.YNc(1,Et,2,3,"app-button",80),e.YNc(2,ft,2,3,"app-button",81),e.YNc(3,Mt,2,3,"app-button",82),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===t.reasonActiveDisable&&!1===t.reasonviewenable),e.xp6(1),e.Q6J("ngIf",!1===t.reasonInactiveDisable&&!0===t.reasonviewenable),e.xp6(1),e.Q6J("ngIf",!1===t.reasonActiveDisable||!1===t.reasonInactiveDisable)}}function Rt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",79)(1,"app-button",86),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.Close())}),e.ALo(2,"translate"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("label",e.lcZ(2,1,"COMMON_BUTTONS.BUTTON_CLOSE")))}function Dt(i,l){if(1&i&&(e.TgZ(0,"tr",88)(1,"td",89),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Lt(i,l){if(1&i&&e.YNc(0,Dt,4,4,"tr",87),2&i){const t=e.oxw();e.Q6J("ngIf",t.salesrepData&&0==t.salesrepData.length)}}function It(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Zt(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,It,3,3,"th",90),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function wt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",92),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.viewSalesreps(n,o))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,s=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",s),e.xp6(1),e.hij(" ",s[t.field]," ")}}function Ut(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,wt,2,5,"td",91),e.qZA()),2&i){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Vt(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",94)(6,"br"),e.qZA()),2&i){const t=l.$implicit,s=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",s[t.field],e.oJD)}}function Jt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Vt,7,4,"div",93),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function jt(i,l){if(1&i&&(e.TgZ(0,"tr",88)(1,"td",89),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function kt(i,l){if(1&i&&e.YNc(0,jt,4,4,"tr",87),2&i){const t=e.oxw();e.Q6J("ngIf",t.relationShipsData&&0==t.relationShipsData.length)}}function Pt(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Bt(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Pt,3,3,"th",90),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function qt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",96),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.viewRelationships(n,o))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,s=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",s),e.xp6(1),e.hij(" ",s[t.field]," ")}}function Yt(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,qt,2,5,"td",95),e.qZA()),2&i){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Ft(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",94)(6,"br"),e.qZA()),2&i){const t=l.$implicit,s=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",s[t.field],e.oJD)}}function Qt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ft,7,4,"div",93),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}let oe=(()=>{class i extends w.O{apiEndPointUrl;ColumnHeader;CrmAccountsService;_sharedService;actionSheetController;loggerService;navigationService;router;translateService;uiUtils;commonService;enterprisesService;listingVariables;route;userService;activedropdown;actionType;apiEndPoint;attachmentColumnHeaders;attachmentsData;clientStatusName;contactsData;creationDate;crmAccountsViewData;defaultStatus;fromDateValue;header2;header;imgFilepath;lastUpdateDate;mobileroutesArray=[];objectType;reasonActiveDisable=!0;reasonActiveDrop;reasonActiveObj;reasonActiveOptions;reasonInactiveDisable=!0;reasonInactiveDrop;reasonInactiveObj;reasonInactiveOptions;reasonviewenable;recordId;relatedAccountName;relationType;relationshiplastUpdatedAt;relationshiplastUpdatedBy;relationshipsData=[];saleslastUpdatedAt;saleslastUpdatedBy;salesrepData=[];salesrepName;spinner=!0;status;statusObj;statusOptions;toDateValue;totalRecords;totalpages;url;dataJsonObj={};constructor(t,s,a,n,o,u,d,C,m,p,h,O,A,I,Z){super(I,h),this.apiEndPointUrl=t,this.ColumnHeader=s,this.CrmAccountsService=a,this._sharedService=n,this.actionSheetController=o,this.loggerService=u,this.navigationService=d,this.router=C,this.translateService=m,this.uiUtils=p,this.commonService=h,this.enterprisesService=O,this.listingVariables=A,this.route=I,this.userService=Z,this.route.params.subscribe(f=>{this.recordId=f.id?f.id:f.parentId}),this.route.queryParams.subscribe(f=>{this.dataJsonObj.queryParamsObj={defaultView:f.defaultView,selectedMenuId:f.selectedMenuId,selectedSubMenuId:f.selectedSubMenuId}})}ngOnInit(){}ngAfterContentInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.CRM_ACCOUNTS,this.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl,this.objectType=this.route.snapshot.data.object_type,document.getElementsByTagName("body"),this.url=this.router.url.split("/")[4],this.commonService.getLookupCodesListJson(localStorage.getItem(r.BU.SELECTED_ENTERPRISE),"list").then(a=>{this.dataJsonObj.lookupCodesListJSON=a,this.dataJsonObj.enterpriseData=JSON.parse(localStorage.getItem(r.BU.ENTERPRISE)),this.dataJsonObj.enterpriseId=this.dataJsonObj.enterpriseData.enterprise_id,this.getCrmAccountsViewData(this.recordId)}),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.actionType=r.In.VIEW,this.attachmentColumnHeaders=this.ColumnHeader.getAttachmentsColumnHeaders(),this.getAttachmentsList(),this.header=[[{headersort:"disableth",field:"sales_rep_name",header:this.translateService.instant("CRM_ACCOUNTS.CRM_SALES_REP"),class:""},{headersort:"disableth",field:"from_date",header:this.translateService.instant("WORK_ABSENCES.WORK_FROM_DATE"),class:"w-140 list-value-right"},{headersort:"disableth",field:"to_date",header:this.translateService.instant("WORK_ABSENCES.WORK_TO_DATE"),class:"w-140 list-value-right"}],[]],this.header2=[[{headersort:"disableth",field:"related_Account",header:this.translateService.instant("CRM_ACCOUNTS.CRM_RELATED_ACCOUNT"),class:""},{headersort:"disableth",field:"relation_Type",header:this.translateService.instant("CRM_ACCOUNTS.CRM_RELATION_TYPE"),class:"w-140 list-value-right"}],[]],this.dataJsonObj.selectedPage=r.hf.CRM_ACCOUNTS,this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}])}getDynamicJson(t){var s=this;return(0,K.Z)(function*(){for(let a of t)s.dataJsonObj[a.storingFieldName]=yield s.commonService.getDynamicJson(s.dataJsonObj.enterpriseId,a.folderName,a.jsonType);s.dataJsonObj.selectedObj={},s.dataJsonObj.selectedObj.recordId=s.recordId,s.dataJsonObj.selectedObj.pageObj=s.dataJsonObj.menuDataJson.filter(a=>a.menu_page.page_name===s.dataJsonObj.selectedPage),s.dataJsonObj.selectedObjEnabled=!0})()}getCrmAccountsViewData(t){try{let s="";this.commonService.isMobileWindow()&&(s="&mobileview=true"),this.CrmAccountsService.get(this.recordId,s).subscribe(a=>{this.crmAccountsViewData=a,this.commonService.setCurrentPageTitle(this.crmAccountsViewData.account_short_name,this.recordId),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CRM_ACCOUNTS",value:this.crmAccountsViewData.account_short_name+" - ",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.imgFilepath=this.crmAccountsViewData.account_icon_file_path&&this.crmAccountsViewData.account_icon?this.apiEndPoint+this.crmAccountsViewData.account_icon_file_path+"/"+this.crmAccountsViewData.account_icon:"",this.status=this.crmAccountsViewData.status.lookup_name,this.status===r.oP.ACTIVE?this.reasonviewenable=!0:this.status===r.oP.INACTIVE&&(this.reasonviewenable=!1),"status"===this.url&&this.status===r.oP.ACTIVE&&(this.reasonInactiveDisable=!1,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CRM_ACCOUNTS",value:this.crmAccountsViewData.account_short_name+" - ",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}]),"status"===this.url&&this.status===r.oP.INACTIVE&&(this.reasonActiveDisable=!1,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CRM_ACCOUNTS",value:this.crmAccountsViewData.account_short_name+" - ",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.CRM_ACCOUNTS",value:"",showSubMenuDisplayName:!1}]),this.contactsData=this.crmAccountsViewData.contact_details,this.salesrepData=this.crmAccountsViewData.sales_rep;for(let n=0;n<this.salesrepData.length;n++)this.salesrepData[n].work_resource_obj={sales_rep_id:this.salesrepData[n].sales_rep_id,sales_rep_name:this.salesrepData[n].sales_rep_name},this.salesrepData[n].from_date=this.salesrepData[n].from_date?this.commonService.dbTimezoneFormatWithHours(this.salesrepData[n].from_date):"",this.salesrepData[n].to_date=this.salesrepData[n].to_date?this.commonService.dbTimezoneFormatWithHours(this.salesrepData[n].to_date):"";this.relationshipsData=this.crmAccountsViewData.additional_information.relationships;for(let n=0;n<this.relationshipsData.length;n++)this.relationshipsData[n].related_Account=this.relationshipsData[n].related_account?this.relationshipsData[n].related_account.account_name:"",this.relationshipsData[n].relation_Type=this.relationshipsData[n].relation_type?this.lookupLanguageTranslations(this.relationshipsData[n].relation_type.lookup_id):"";this.getReasonActiveOptions(this.crmAccountsViewData.enterprise.enterprise_id),this.getReasonInactiveOptions(this.crmAccountsViewData.enterprise.enterprise_id)},a=>{this.loggerService.setLoggerError(this.constructor.name,"getCrmAccountsViewData",a)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getCrmAccountsViewData",s)}}getReasonActiveOptions(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.REASONS_CRM_ACCOUNT_ACTIVATE],"").then(s=>{this.reasonActiveOptions=s},s=>{this.loggerService.setLoggerError(this.constructor.name,"getReasonActiveOptions",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getReasonActiveOptions",s)}}getReasonInactiveOptions(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.REASONS_CRM_ACCOUNT_INACTIVATE],"").then(s=>{this.reasonInactiveOptions=s},s=>{this.loggerService.setLoggerError(this.constructor.name,"getReasonInactiveOptions",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getReasonInactiveOptions",s)}}getStatusOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CRM_ACCOUNT_STATUSES],"").then(t=>{this.statusOptions=t,this.statusObj=this.statusOptions.find(s=>s.lookup_name===this.clientStatusName)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",t)}}getAttachmentsList(){this.CrmAccountsService.getAttachmentsList(this.objectType,this.recordId,"","","").then(t=>{if(this._sharedService.emitChangeLoaders(!1),t.rows.length>0)for(let s=0;s<t.rows.length;s++)t.rows[s].user_name=t.rows[s].f_name+", "+t.rows[s].l_name,t.rows[s].last_uploaded_date=this.commonService.dbTimezoneFormat(t.rows[s].last_uploaded_date),this.attachmentsData=t.rows;else this.attachmentsData=[];this.totalRecords=t.totalCount,this.totalpages=t.pages,this.spinner=!1}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getAttachmentsList",t)})}changeReasonActive(t){try{this.reasonActiveDrop=t.value,this.reasonActiveObj=this.reasonActiveOptions.find(s=>s.ID===parseInt(this.reasonActiveDrop,10)),this.clientStatusName=r.oP.ACTIVE,this.getStatusOptions()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeReasonActive",s)}}changeReasonInactive(t){try{this.reasonInactiveDrop=t.value,this.reasonInactiveObj=this.reasonInactiveOptions.find(s=>s.ID===parseInt(this.reasonInactiveDrop,10)),this.clientStatusName=r.oP.INACTIVE,this.getStatusOptions()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeReasonInactive",s)}}changeStatus(t){try{this.defaultStatus=t.value,this.statusObj=this.statusOptions.find(s=>s.ID===parseInt(this.defaultStatus,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeStatus",s)}}viewSalesreps(t,s){try{this.toDateValue=s.to_date?this.commonService.dbTimezoneFormatWithHours(s.to_date):"",this.fromDateValue=this.commonService.dbTimezoneFormatWithHours(s.from_date),this.salesrepName=s.sales_rep_name,this.saleslastUpdatedBy=this.crmAccountsViewData.updated_by.f_name+" "+this.crmAccountsViewData.updated_by.l_name,this.saleslastUpdatedAt=this.commonService.dbTimezoneFormatWithHours(s.last_updatedAt)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"viewSalesreps",a)}}viewRelationships(t,s){try{this.relatedAccountName=s.related_account?s.related_account.account_name:"",this.relationType=s.relation_type?this.lookupLanguageTranslations(s.relation_type.lookup_id):"",this.relationshiplastUpdatedBy=this.crmAccountsViewData.updated_by.f_name+" "+this.crmAccountsViewData.updated_by.l_name,this.relationshiplastUpdatedAt=this.commonService.dbTimezoneFormatWithHours(s.last_updatedAt)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"viewSalesreps",a)}}updateRecord(){try{!1===this.reasonActiveDisable&&!1===this.reasonviewenable?this.activedropdown.isValid()&&this.CrmAccountsService.crmAccountStatusEdit({reason_activate:this.reasonActiveObj,reason_inactivate:this.reasonInactiveObj,status:this.statusObj},this.recordId).then(s=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_ACTIVATE"),this.commonService.redirectToPreviousUrl()},s=>{}):this.activedropdown.isValid()&&this.CrmAccountsService.crmAccountStatusEdit({reason_activate:this.reasonActiveObj,reason_inactivate:this.reasonInactiveObj,status:this.statusObj},this.recordId).then(s=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_INACTIVATE"),this.commonService.redirectToPreviousUrl()},s=>{})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"updateRecord",t)}}mobileEventAction(t){try{this.mobileroutesArray=[],t.status.lookup_name===r.oP.INACTIVE&&this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.ACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ACTIVATE"),handler:()=>{this.router.navigate(["crmaccounts/crmaccounts/"+t._id+"/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("crmaccounts")}}),this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.VIEW)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/crmaccounts/crmaccounts/"+t._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("crmaccounts")}}),t.status.lookup_name===r.oP.ACTIVE&&this.roleRightsValidationByPage(r.hf.CRM_ACCOUNTS,r.AM.ACTIONS,r.In.INACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_INACTIVATE"),handler:()=>{this.router.navigate(["crmaccounts/crmaccounts/"+t._id+"/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("crmaccounts")}}),this.presentActionSheet(t)}catch(s){this.loggerService.setLoggerError(this.constructor.name,"presentActionSheet",s)}}presentActionSheet(t){var s=this;return(0,K.Z)(function*(){try{s.mobileroutesArray.length>0?yield(yield s.actionSheetController.create({cssClass:"actionsheet",buttons:s.mobileroutesArray})).present():s.uiUtils.displayWarningMessage("COMMON_VALIDATION_MESSAGES.VALID_PERFORM_ACTIONS")}catch(a){s.loggerService.setLoggerError(s.constructor.name,"mobileEventAction",a)}})()}Close(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Close",t)}}cancelModalPopup(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopBtn",t)}}static \u0275fac=function(s){return new(s||i)(e.Y36("apiEndPoint"),e.Y36(D.Y),e.Y36(b),e.Y36(bt.F),e.Y36(se.BX),e.Y36(U.m),e.Y36(q.f),e.Y36(g.F0),e.Y36(T.sK),e.Y36(J.s),e.Y36(v.v),e.Y36(N.e),e.Y36(k.v),e.Y36(g.gz),e.Y36(B.K))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-crm-accounts-view"]],viewQuery:function(s,a){if(1&s&&e.Gf(Tt,5),2&s){let n;e.iGM(n=e.CRH())&&(a.activedropdown=n.first)}},features:[e._Bn([k.v,N.e,b,v.v,D.Y,J.s,B.K]),e.qOj],decls:179,vars:200,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],[1,"d-lg-none","card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-4"],["disabled","true","id","crmaccounts-view-enterprisename",3,"label","value"],["disabled","true","id","crmaccounts-view-business_entity_name",3,"label","value"],["disabled","true","id","crmaccounts-view-account_name",3,"label","value"],["disabled","true","id","crmaccounts-view-account_short_name",3,"label","value"],["disabled","true","id","crmaccounts-view-account_type",3,"label","value"],["disabled","true","id","crmaccounts-view-account_subtype",3,"label","value"],["disabled","true","id","crmaccounts-view-status",3,"label","value"],["class","col-md-4",4,"ngIf"],[1,"col-lg-1","col-md-2","pdl-0","order-md-1"],["id","crmaccounts-view-reasoninactive",1,"thumbnail-view",3,"defaultImage","imageName"],[1,"col-md-10","order-md-1","order-2"],["disabled","true","id","crmaccounts-view-description",3,"label","defaultvalue"],["class","col-md-2 text-end mt-2 order-md-1 order-2",4,"ngIf"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"multiple"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","true","id","crmaccounts-view-address-label",3,"label","value"],["disabled","true","id","crmaccounts-view-address-addressline1",3,"label","value"],["disabled","true","id","crmaccounts-view-address-addressline2",3,"label","value"],["disabled","true","id","crmaccounts-view-address-country",3,"label","value"],["disabled","true","id","crmaccounts-view-address-state",3,"label","value"],["disabled","true","id","crmaccounts-view-address-city",3,"label","value"],["disabled","true","id","crmaccounts-view-address-zipcode",3,"label","value"],["type","email","disabled","true","id","crmaccounts-view-address-email",3,"label","value"],["disabled","true","id","crmaccounts-view-address-countrycode",3,"label","value"],["type","mobile","disabled","true","id","crmaccounts-view-address-mobilenumber",3,"label","maxlength","value"],["flag","view","id","crmaccounts-view-contact-details",3,"defaultValue"],["contactDetailsComponent",""],[1,"list-accordion-tab",3,"selected"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["disabled","true","id","crmaccounts-view-additionalinformation-industrytype",3,"label","value"],["disabled","true","id","crmaccounts-view-additionalinformation-industrysubtype",3,"label","value"],["disabled","true","id","crmaccounts-view-additionalinformation-annualrevenue",3,"label","value"],["disabled","true","id","crmaccounts-view-additionalinformation-employeecount",3,"label","value"],["id","viewattachmentId",3,"header","data","totalPages","totalRecords","objectType","objectId","actionType","spinner"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],["id","exampleModal8","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"col-md-3"],["disabled","true","id","crmaccounts-view-salesreps-viewpopup-salesrepsName",3,"label","value"],["id","crmaccounts-view-salesreps-viewpopup-fromDateValue","disabled","true",3,"label","value"],["id","crmaccounts-view-salesreps-viewpopup-toDateValue","disabled","true",3,"label","value"],["disabled","true","id","crmaccounts-view-salesreps-lastUpdatedBy",3,"label","value"],["disabled","true","id","crmaccounts-view-salesreps-lastUpdatedDate",3,"label","value"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","crmaccounts-view-salesreps close button viewpopup",3,"label","buttonOnClick"],["id","exampleModal3","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","crmaccounts-view-account-reletionship-viewpopup-accout relatedAccountName",3,"label","value"],["id","crmaccounts-view-account-reletionship-viewpopup-relationType","disabled","true",3,"label","value"],["disabled","true","id","crmaccounts-view-account-reletionship-lastUpdatedBy",3,"label","value"],["disabled","true","id","crmaccounts-view-accountreletionship-lastUpdatedDate",3,"label","value"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","crmaccounts-view-account-reletionship-closebutton-viewpopup",3,"label","buttonOnClick"],["disabled","true","id","crmaccounts-view-reasonactive",3,"label","value"],["disabled","false","mandatory","true","id","crmaccounts-view-reasonactivedropdown",3,"label","defaultValue","options","valueChange"],["activedropdown",""],["disabled","false","mandatory","true","id","crmaccounts-view-reasoninactivedropdown",3,"label","defaultValue","options","valueChange"],["disabled","true","id","crmaccounts-view-reasoninactive",3,"label","value"],[1,"col-md-2","text-end","mt-2","order-md-1","order-2"],["id","crmaccounts-view-activatebutton","className","btn btn-primary btn-sm","class","mgr-5",3,"label","buttonOnClick",4,"ngIf"],["id","crmaccounts-view-inactivatebutton","className","btn btn-primary btn-sm","class","mgr-5",3,"label","buttonOnClick",4,"ngIf"],["id","crmaccounts-view-cancelbutton","className","btn btn-danger btn-sm",3,"label","buttonOnClick",4,"ngIf"],["id","crmaccounts-view-activatebutton","className","btn btn-primary btn-sm",1,"mgr-5",3,"label","buttonOnClick"],["id","crmaccounts-view-inactivatebutton","className","btn btn-primary btn-sm",1,"mgr-5",3,"label","buttonOnClick"],["id","crmaccounts-view-cancelbutton","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],["id","crmaccounts-view-closebutton","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","click"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"],["data-toggle","modal","data-bs-target","#exampleModal3",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal3",3,"pSelectableRow","click"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",11),e._UZ(15,"app-input",13),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"app-input",14),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",11),e._UZ(21,"app-input",15),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",11),e._UZ(24,"app-input",16),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",11),e._UZ(27,"app-input",17),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",11),e._UZ(30,"app-input",18),e.ALo(31,"translate"),e.qZA(),e.YNc(32,Ot,3,4,"div",19),e.YNc(33,St,4,5,"div",19),e.YNc(34,vt,4,5,"div",19),e.YNc(35,yt,3,4,"div",19),e.qZA()(),e.TgZ(36,"div",20)(37,"div"),e._UZ(38,"app-imageupload",21),e.qZA()(),e.TgZ(39,"div",22),e._UZ(40,"app-textarea",23),e.ALo(41,"translate"),e.qZA(),e.YNc(42,Nt,4,3,"div",24),e.YNc(43,Rt,3,3,"div",24),e.qZA()()()(),e.TgZ(44,"div",3)(45,"div",25)(46,"div",26)(47,"p-accordion",27)(48,"p-accordionTab",28)(49,"p-header",29)(50,"span"),e._uU(51),e.ALo(52,"translate"),e.qZA()(),e.TgZ(53,"div",8)(54,"div",11),e._UZ(55,"app-input",30),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"div",11),e._UZ(58,"app-input",31),e.ALo(59,"translate"),e.qZA(),e.TgZ(60,"div",11),e._UZ(61,"app-input",32),e.ALo(62,"translate"),e.qZA(),e.TgZ(63,"div",11),e._UZ(64,"app-input",33),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"div",11),e._UZ(67,"app-input",34),e.ALo(68,"translate"),e.qZA(),e.TgZ(69,"div",11),e._UZ(70,"app-input",35),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"div",11),e._UZ(73,"app-input",36),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"div",11),e._UZ(76,"app-input",37),e.ALo(77,"translate"),e.qZA(),e.TgZ(78,"div",11),e._UZ(79,"app-input",38),e.ALo(80,"translate"),e.qZA(),e.TgZ(81,"div",11),e._UZ(82,"app-inputnumber",39),e.ALo(83,"translate"),e.qZA()()(),e._UZ(84,"app-contactdetails",40,41),e.TgZ(86,"p-accordionTab",42)(87,"p-header",29)(88,"span"),e._uU(89),e.ALo(90,"translate"),e.qZA()(),e.TgZ(91,"p-table",43),e.YNc(92,Lt,1,1,"ng-template",44),e.YNc(93,Zt,2,1,"ng-template",45),e.YNc(94,Ut,2,1,"ng-template",46),e.YNc(95,Jt,4,2,"ng-template",47),e.qZA()(),e.TgZ(96,"p-accordionTab",28)(97,"p-header",29)(98,"span"),e._uU(99),e.ALo(100,"translate"),e.qZA()(),e.TgZ(101,"div",8)(102,"div",11),e._UZ(103,"app-input",48),e.ALo(104,"translate"),e.qZA(),e.TgZ(105,"div",11),e._UZ(106,"app-input",49),e.ALo(107,"translate"),e.qZA(),e.TgZ(108,"div",11),e._UZ(109,"app-input",50),e.ALo(110,"translate"),e.qZA(),e.TgZ(111,"div",11),e._UZ(112,"app-input",51),e.ALo(113,"translate"),e.qZA()()(),e.TgZ(114,"p-accordionTab",42)(115,"p-header",29)(116,"span"),e._uU(117),e.ALo(118,"translate"),e.qZA()(),e.TgZ(119,"p-table",43),e.YNc(120,kt,1,1,"ng-template",44),e.YNc(121,Bt,2,1,"ng-template",45),e.YNc(122,Yt,2,1,"ng-template",46),e.YNc(123,Qt,4,2,"ng-template",47),e.qZA()(),e._UZ(124,"app-attachment",52)(125,"app-recordhistory",53),e.qZA()()()()()()(),e.TgZ(126,"div",54)(127,"div",55)(128,"div",56)(129,"div",57)(130,"div",58),e._uU(131),e.ALo(132,"translate"),e.ALo(133,"translate"),e.qZA()(),e.TgZ(134,"div",59)(135,"div",8)(136,"div",60),e._UZ(137,"app-input",61),e.ALo(138,"translate"),e.qZA(),e.TgZ(139,"div",60),e._UZ(140,"app-input",62),e.ALo(141,"translate"),e.qZA(),e.TgZ(142,"div",60),e._UZ(143,"app-input",63),e.ALo(144,"translate"),e.qZA(),e.TgZ(145,"div",60),e._UZ(146,"app-input",64),e.ALo(147,"translate"),e.qZA(),e.TgZ(148,"div",60),e._UZ(149,"app-input",65),e.ALo(150,"translate"),e.qZA(),e.TgZ(151,"div",66)(152,"app-button",67),e.NdJ("buttonOnClick",function(){return a.cancelModalPopup()}),e.ALo(153,"translate"),e.qZA()()()()()()(),e.TgZ(154,"div",68)(155,"div",55)(156,"div",56)(157,"div",57)(158,"div",58),e._uU(159),e.ALo(160,"translate"),e.ALo(161,"translate"),e.qZA()(),e.TgZ(162,"div",59)(163,"div",8)(164,"div",60),e._UZ(165,"app-input",69),e.ALo(166,"translate"),e.qZA(),e.TgZ(167,"div",60),e._UZ(168,"app-input",70),e.ALo(169,"translate"),e.qZA(),e.TgZ(170,"div",60),e._UZ(171,"app-input",71),e.ALo(172,"translate"),e.qZA(),e.TgZ(173,"div",60),e._UZ(174,"app-input",72),e.ALo(175,"translate"),e.qZA(),e.TgZ(176,"div",66)(177,"app-button",73),e.NdJ("buttonOnClick",function(){return a.cancelModalPopup()}),e.ALo(178,"translate"),e.qZA()()()()()()()),2&s&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(6),e.s9C("label",e.lcZ(13,118,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",null==a.crmAccountsViewData||null==a.crmAccountsViewData.enterprise?null:a.crmAccountsViewData.enterprise.short_name),e.xp6(3),e.s9C("label",e.lcZ(16,120,"COMMON_FIELDS.BUSINESS_ENTITY")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.business_entity_name?null:a.crmAccountsViewData.business_entity_name.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(19,122,"COMMON_PAGE_TITLES.CRM_ACCOUNT")),e.s9C("value",null==a.crmAccountsViewData?null:a.crmAccountsViewData.account_name),e.xp6(3),e.s9C("label",e.lcZ(22,124,"CRM_ACCOUNTS.CRM_ACCOUNT_SHORT_NAME")),e.s9C("value",null==a.crmAccountsViewData?null:a.crmAccountsViewData.account_short_name),e.xp6(3),e.s9C("label",e.lcZ(25,126,"CRM_ACCOUNTS.CRM_ACCOUNT_TYPE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.account_type?null:a.crmAccountsViewData.account_type.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(28,128,"CRM_ACCOUNTS.CRM_ACCOUNT_SUB_TYPE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.account_subtype?null:a.crmAccountsViewData.account_subtype.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(31,130,"COMMON_FIELDS.STATUS")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.status?null:a.crmAccountsViewData.status.lookup_id)),e.xp6(2),e.Q6J("ngIf",!0===a.reasonviewenable),e.xp6(1),e.Q6J("ngIf",!1===a.reasonActiveDisable&&!1===a.reasonviewenable),e.xp6(1),e.Q6J("ngIf",!1===a.reasonInactiveDisable&&!0===a.reasonviewenable),e.xp6(1),e.Q6J("ngIf",!1===a.reasonviewenable),e.xp6(3),e.s9C("defaultImage",a.imgFilepath),e.s9C("imageName",null==a.crmAccountsViewData?null:a.crmAccountsViewData.account_short_name),e.xp6(2),e.s9C("label",e.lcZ(41,132,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.crmAccountsViewData?null:a.crmAccountsViewData.description),e.xp6(2),e.Q6J("ngIf",!1===a.reasonActiveDisable||!1===a.reasonInactiveDisable),e.xp6(1),e.Q6J("ngIf",!0===a.reasonActiveDisable&&!0===a.reasonInactiveDisable),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(52,134,"COMMON_BLOCK_TITLES.ADDRESS_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(56,136,"ENTERPRISES.LABEL")),e.s9C("value",null==a.crmAccountsViewData||null==a.crmAccountsViewData.address?null:a.crmAccountsViewData.address.address_label),e.xp6(3),e.s9C("label",e.lcZ(59,138,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE1")),e.s9C("value",null==a.crmAccountsViewData||null==a.crmAccountsViewData.address?null:a.crmAccountsViewData.address.address_line1),e.xp6(3),e.s9C("label",e.lcZ(62,140,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE2")),e.s9C("value",null==a.crmAccountsViewData||null==a.crmAccountsViewData.address?null:a.crmAccountsViewData.address.address_line2),e.xp6(3),e.s9C("label",e.lcZ(65,142,"COMMON_ADDRESS_BLOCK.COUNTRY")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.address||null==a.crmAccountsViewData.address.country?null:a.crmAccountsViewData.address.country.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(68,144,"COMMON_ADDRESS_BLOCK.STATE")),e.s9C("value",null==a.crmAccountsViewData||null==a.crmAccountsViewData.address||null==a.crmAccountsViewData.address.state?null:a.crmAccountsViewData.address.state.state_name),e.xp6(3),e.s9C("label",e.lcZ(71,146,"COMMON_ADDRESS_BLOCK.CITY")),e.s9C("value",null==a.crmAccountsViewData||null==a.crmAccountsViewData.address?null:a.crmAccountsViewData.address.city),e.xp6(3),e.s9C("label",e.lcZ(74,148,"COMMON_ADDRESS_BLOCK.ZIP_CODE")),e.s9C("value",null==a.crmAccountsViewData||null==a.crmAccountsViewData.address?null:a.crmAccountsViewData.address.ZIP),e.xp6(3),e.s9C("label",e.lcZ(77,150,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==a.crmAccountsViewData||null==a.crmAccountsViewData.address?null:a.crmAccountsViewData.address.email),e.xp6(3),e.s9C("label",e.lcZ(80,152,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.address||null==a.crmAccountsViewData.address.phone_country_code?null:a.crmAccountsViewData.address.phone_country_code.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(83,154,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==a.crmAccountsViewData||null==a.crmAccountsViewData.address?null:a.crmAccountsViewData.address.phone),e.Q6J("maxlength",10),e.xp6(2),e.Q6J("defaultValue",a.contactsData),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(90,156,"CRM_ACCOUNTS.CRM_SALES_REPS")),e.xp6(2),e.Q6J("columns",a.header)("value",a.salesrepData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(5),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(100,158,"CRM_ACCOUNTS.CRM_ADDITONAL_INFORMATION")),e.xp6(4),e.s9C("label",e.lcZ(104,160,"COMMON_FIELDS.CRM_INDUSTRY_TYPE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.additional_information||null==a.crmAccountsViewData.additional_information.industry_type?null:a.crmAccountsViewData.additional_information.industry_type.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(107,162,"CRM_ACCOUNTS.CRM_INDUSTRY_SUBTYPE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.additional_information||null==a.crmAccountsViewData.additional_information.industry_sub_type?null:a.crmAccountsViewData.additional_information.industry_sub_type.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(110,164,"CRM_ACCOUNTS.CRM_ANNUAL_REVENUE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.additional_information||null==a.crmAccountsViewData.additional_information.annual_revenue?null:a.crmAccountsViewData.additional_information.annual_revenue.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(113,166,"CRM_ACCOUNTS.CRM_EMPLOYEES_COUNT")),e.Q6J("value",a.lookupLanguageTranslations(null==a.crmAccountsViewData||null==a.crmAccountsViewData.additional_information||null==a.crmAccountsViewData.additional_information.employee_count?null:a.crmAccountsViewData.additional_information.employee_count.lookup_id)),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(118,168,"CRM_ACCOUNTS.CRM_RELATIONSHIPS")),e.xp6(2),e.Q6J("columns",a.header2)("value",a.relationshipsData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(5),e.Q6J("header",a.attachmentColumnHeaders)("data",a.attachmentsData)("totalPages",a.totalpages)("totalRecords",a.totalRecords)("objectType",a.objectType)("objectId",a.recordId)("actionType",a.actionType)("spinner",a.spinner),e.xp6(1),e.Q6J("createdBy",null==a.crmAccountsViewData?null:a.crmAccountsViewData.created_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==a.crmAccountsViewData?null:a.crmAccountsViewData.updated_by)("creationDate",null==a.crmAccountsViewData?null:a.crmAccountsViewData.createdAt)("lastUpdatedDate",null==a.crmAccountsViewData?null:a.crmAccountsViewData.updatedAt),e.xp6(6),e.AsE("",e.lcZ(132,170,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(133,172,"COMMON_BUTTONS.BUTTON_VIEW"),""),e.xp6(6),e.s9C("label",e.lcZ(138,174,"CRM_ACCOUNTS.CRM_SALES_REP")),e.s9C("value",a.salesrepName),e.xp6(3),e.s9C("label",e.lcZ(141,176,"WORK_ABSENCES.WORK_FROM_DATE")),e.s9C("value",a.fromDateValue),e.xp6(3),e.s9C("label",e.lcZ(144,178,"WORK_ABSENCES.WORK_TO_DATE")),e.s9C("value",a.toDateValue),e.xp6(3),e.s9C("label",e.lcZ(147,180,"COMMON_RECORD_HISTORY.LAST_UPDATED_BY")),e.s9C("value",a.saleslastUpdatedBy),e.xp6(3),e.s9C("label",e.lcZ(150,182,"COMMON_RECORD_HISTORY.LAST_UPDATED_DATE")),e.s9C("value",a.saleslastUpdatedAt),e.xp6(3),e.s9C("label",e.lcZ(153,184,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(7),e.AsE("",e.lcZ(160,186,"CRM_ACCOUNTS.CRM_RELATIONSHIP")," - ",e.lcZ(161,188,"COMMON_BUTTONS.BUTTON_VIEW"),""),e.xp6(6),e.s9C("label",e.lcZ(166,190,"CRM_ACCOUNTS.CRM_RELATED_ACCOUNT")),e.s9C("value",a.relatedAccountName),e.xp6(3),e.s9C("label",e.lcZ(169,192,"CRM_ACCOUNTS.CRM_RELATION_TYPE")),e.s9C("value",a.relationType),e.xp6(3),e.s9C("label",e.lcZ(172,194,"COMMON_RECORD_HISTORY.LAST_UPDATED_BY")),e.s9C("value",a.relationshiplastUpdatedBy),e.xp6(3),e.s9C("label",e.lcZ(175,196,"COMMON_RECORD_HISTORY.LAST_UPDATED_DATE")),e.s9C("value",a.relationshiplastUpdatedAt),e.xp6(3),e.s9C("label",e.lcZ(178,198,"COMMON_BUTTONS.BUTTON_CLOSE")))},dependencies:[S.UQ,S.US,R.h4,R.jx,y.sg,y.O5,E.iA,E.Ei,Y.r,F.a,Q.k,x.R,G.K,H.f,te.W,ae.Y,P.G,j.q,T.X$]})}return i})();const xt=[{path:"",data:{title:"crmaccounts"},children:[{path:"",redirectTo:"crmaccounts/list",pathMatch:"full"},{path:"crmaccounts/list",component:ne,canActivate:[L.P],data:{object_type:r.hf.CRM_ACCOUNTS,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.bP.SUBMENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.Iu.ENABLED,pageName:r.hf.CRM_ACCOUNTS}},{path:"crmaccounts/create",component:ee,canActivate:[L.P],data:{object_type:r.hf.CRM_ACCOUNTS,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.bP.SUBMENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.In.CREATE,pageName:r.hf.CRM_ACCOUNTS,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}},{path:"crmaccounts/:id/edit",component:mt,canActivate:[L.P],data:{object_type:r.hf.CRM_ACCOUNTS,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.bP.SUBMENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.In.EDIT,pageName:r.hf.CRM_ACCOUNTS,pageSetting:r.AM.ACTIONS,settingField:r.In.EDIT}},{path:"crmaccounts/:id/view",component:oe,canActivate:[L.P],data:{object_type:r.hf.CRM_ACCOUNTS,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.bP.SUBMENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.In.VIEW,pageName:r.hf.CRM_ACCOUNTS,pageSetting:r.AM.ACTIONS,settingField:r.In.VIEW}},{path:"crmaccounts/:id/status",canActivate:[L.P],component:oe,data:{object_type:r.hf.CRM_ACCOUNTS,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.bP.SUBMENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.In.ACTIVATE,pageName:r.hf.CRM_ACCOUNTS}},{path:":parentId/activities",loadChildren:()=>Promise.resolve().then(c.bind(c,75896)).then(i=>i.ActivitiesModule)},{path:":parentId/crmopportunities",loadChildren:()=>Promise.all([c.e(8592),c.e(3337)]).then(c.bind(c,93337)).then(i=>i.CrmOpportunitiesModule)},{path:"crmsalesrepscrmaccounts-list",component:ne,data:{object_type:r.hf.CRM_SALES_REPS,title:"Crm Sales Reps Crm Account List",responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_SALES_REPS+"."+r.bP.SUBMENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.In.ENABLED,pageName:r.hf.CRM_SALES_REPS}},{path:"crmsalesrepaccounts-create",component:ee,data:{object_type:r.hf.CRM_SALES_REPS,title:"Crm Sales Reps Crm Account Create",responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_SALES_REPS+"."+r.bP.SUBMENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.In.CREATE,pageName:r.hf.CRM_SALES_REPS,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}},{path:":parentId/crmquotes",loadChildren:()=>Promise.all([c.e(8592),c.e(3098)]).then(c.bind(c,93098)).then(i=>i.CrmQuotesModule)}]}];let Gt=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[g.Bz.forChild(xt),g.Bz]})}return i})();var Ht=c(32137),ie=c(24006),Kt=c(65673);let $t=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[S.fx,Gt,y.ez,Ht.D,ie.u5,ie.UX,E.U$,T.aw,Kt.Q]})}return i})()}}]);