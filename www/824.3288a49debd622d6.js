"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[824],{20824:(lt,U,c)=>{c.r(U),c.d(U,{FacilitiesUiModule:()=>tt});var k=c(32174),S=c(36895),M=c(32137),g=c(15861),y=c(71568),J=c(73078),Z=c(75875),j=c(62843),a=c(32236),e=c(94650),B=c(80529);let F=(()=>{class n{http;authService;commonService;constructor(t,i,o){this.http=t,this.authService=i,this.commonService=o}getAssetsListLocal(t,i,o){const s=localStorage.getItem(a.BU.LOGIN_USER_LANGUAGE)?localStorage.getItem(a.BU.LOGIN_USER_LANGUAGE):"en";return this.commonService.getStaticApiCall("assets/enterprises/"+t+"/facilities/"+i+"/"+s+".json","assets/enterprises/"+t+"/facilities/",i+"/"+s+".json")}getReviewlist(t,i){}getAverageReviewlist(t,i){}followToAsset(t,i){}unFollowAssset(t,i,o){}getPromotions(t,i){return new Promise((o,s)=>{this.authService.getStaticApiCall("api/v1/fleet/promotions/"+t+"/"+i).subscribe(r=>{o(r)},r=>{s(r)})})}extractData(t){}extractData1(t){return t.json()||{}}handleError(t){return(0,j._)(t)}createBookmark(t){return new Promise((i,o)=>{this.authService.postApiCall("api/v1/pigeonbookmarks/",t).subscribe(s=>{i(s)},s=>{o(s)})})}getEvents(t,i,o,s,r,_,p,d,m,u,I){return this.authService.getApiCall("api/v1/iotevents?skip="+o+"&limit="+s+"&sort="+_+"&type=list&enterprise.enterprise_id="+i+(t?"&facility.facility_id="+t:"")+(d?"&selectedstarid="+d:"")+(m?"&selectedteamid="+m:"")+(u?"&filteredyear="+u:"")+(I?"&tournament.tournament_id="+I:"")+p,r)}static \u0275fac=function(i){return new(i||n)(e.LFG(B.eN),e.LFG(Z.e),e.LFG(y.v))};static \u0275prov=e.Yz7({token:n,factory:n.\u0275fac})}return n})();var R=c(96090),P=c(42786),V=c(81145),G=c(47561),v=c(63556),Y=c(15439),Q=c(42863),b=c(62510),H=c(11481),A=c(70057),E=c(30958),K=c(46448),O=c(54463),q=c(27601),z=c(30578),$=c(2387),W=c(9851),X=c(28168),ee=c(37415),te=c(91749),ie=c(65346),ae=c(65305),oe=c(1029);const ne=["videoPlayer"],se=["content"];function le(n,l){1&n&&e._UZ(0,"ion-spinner",31)}function re(n,l){if(1&n&&(e.TgZ(0,"div",29),e.YNc(1,le,1,0,"ion-spinner",30),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",null==t.dataJsonObj?null:t.dataJsonObj.showSpinner)}}function ce(n,l){if(1&n&&(e.TgZ(0,"div",32),e._UZ(1,"img",33),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",t.dataJsonObj.fleetImage,e.LSH)}}function de(n,l){if(1&n&&(e.TgZ(0,"div",34),e._UZ(1,"img",35),e.ALo(2,"imageTransform"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",e.Dn7(2,1,t.headerIcon,"",!1),e.LSH)}}function _e(n,l){if(1&n&&(e.TgZ(0,"ion-avatar",52),e._UZ(1,"i"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Gre("",null==t.dataJsonObj?null:t.dataJsonObj.iconname," fs-32 position-relative w-100 h-100 d-flex align-items-center justify-content-center"),e.Udp("color",null==t.dataJsonObj?null:t.dataJsonObj.facilityTypeBackgroundColor)}}function pe(n,l){if(1&n&&(e.TgZ(0,"ion-avatar",53),e._UZ(1,"img",54),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.dataJsonObj.facilityAvatarImage,e.LSH)}}function ge(n,l){if(1&n&&(e.TgZ(0,"p",55),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",null==t.fleetData||null==t.fleetData.address?null:t.fleetData.address.city,"")}}function me(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.spotlightClick())}),e.ALo(1,"translate"),e._UZ(2,"i",57),e.qZA()}2&n&&e.s9C("title",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_QUIZ_PLAY"))}function ue(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",58),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openPopup())}),e.ALo(1,"translate"),e._UZ(2,"i",59),e.qZA()}2&n&&e.s9C("title",e.lcZ(1,1,"COMMON_BUTTONS.AVATAR_PLAY"))}function fe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",60),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.followToAssets())}),e._UZ(1,"i",61),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"COMMON_BUTTONS.BUTTON_FOLLOW")," "))}function he(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.unFollowFromAsset())}),e._UZ(1,"i",63),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"COMMON_BUTTONS.BUTTON_FOLLOWING")," "))}function Ie(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.createBookmark())}),e.ALo(1,"translate"),e._UZ(2,"i",65),e.qZA()}if(2&n){const t=e.oxw(2);e.s9C("title",e.lcZ(1,2,"MAP.Add_BOOKMARK")),e.s9C("disabled",t.dataJsonObj.disableBookmarkBtn)}}function be(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.fleetLocate("locate",o.fleetData))}),e.ALo(1,"translate"),e._UZ(2,"i",67),e.qZA()}2&n&&e.s9C("title",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_LOCATE"))}function Te(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-button",68),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.fromAssetsList())}),e.ALo(1,"translate"),e._UZ(2,"i",69),e.qZA()}2&n&&e.s9C("title",e.lcZ(1,1,"MAP.DIRECTIONS"))}function Se(n,l){if(1&n&&(e.TgZ(0,"span",76)(1,"span",77),e._uU(2),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("(",t.count,")")}}function ye(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.ratenow(""))}),e._UZ(1,"ion-icon",81),e.TgZ(2,"span",82),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&n){const t=e.oxw(4);e.xp6(1),e.Udp("background",t.buttonBackgroundColor),e.xp6(1),e.Udp("color",t.buttonBackgroundColor),e.xp6(1),e.Oqu(e.lcZ(4,7,"COMMON_FIELDS.RATE_NOW"))}}function ve(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",80),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.editratenow(""))}),e._UZ(1,"ion-icon",83),e.TgZ(2,"span",84),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"COMMON_FIELDS.RATED")))}function Ae(n,l){if(1&n&&(e.TgZ(0,"div",78),e.YNc(1,ye,5,9,"div",79),e.YNc(2,ve,5,3,"div",79),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf","true"===t.ratedlist),e.xp6(1),e.Q6J("ngIf","false"===t.ratedlist)}}function Ee(n,l){if(1&n&&(e.TgZ(0,"ion-col",70)(1,"ion-card-content",71)(2,"ion-list",72)(3,"ion-item",73),e.YNc(4,Se,3,1,"span",74),e.YNc(5,Ae,3,2,"div",75),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.count),e.xp6(1),e.Q6J("ngIf","true"===t.rateNow)}}function Oe(n,l){if(1&n&&(e.TgZ(0,"ion-card",36)(1,"ion-row")(2,"ion-col",37)(3,"ion-item",38),e.YNc(4,_e,2,6,"ion-avatar",39),e.YNc(5,pe,2,1,"ion-avatar",40),e.TgZ(6,"ion-label",41)(7,"p",42),e._uU(8),e.qZA(),e.YNc(9,ge,2,1,"p",43),e.qZA(),e.YNc(10,me,3,3,"ion-button",44),e.YNc(11,ue,3,3,"ion-button",45),e.YNc(12,fe,4,3,"ion-button",46),e.YNc(13,he,4,3,"ion-button",47),e.YNc(14,Ie,3,4,"ion-button",48),e.YNc(15,be,3,3,"ion-button",49),e.YNc(16,Te,3,3,"ion-button",50),e.qZA()(),e.YNc(17,Ee,6,2,"ion-col",51),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!(null!=t.fleetData&&t.fleetData.facility_image_file_path&&null!=t.fleetData&&t.fleetData.facility_image_file_name)),e.xp6(1),e.Q6J("ngIf",(null==t.fleetData?null:t.fleetData.facility_image_file_path)&&(null==t.fleetData?null:t.fleetData.facility_image_file_name)),e.xp6(3),e.hij(" ",null==t.fleetData?null:t.fleetData.facility_display_name,""),e.xp6(1),e.Q6J("ngIf",t.removeattherate),e.xp6(1),e.Q6J("ngIf",t.isQuizPlayEnabled),e.xp6(1),e.Q6J("ngIf",t.isAvatarPlayEnabled),e.xp6(1),e.Q6J("ngIf",!0===t.isFollowEnabled&&!1===t.fleetFollowStatus),e.xp6(1),e.Q6J("ngIf",!0===t.fleetFollowStatus),e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.isBookmarkEnabled),e.xp6(1),e.Q6J("ngIf",t.isLocateEnabled),e.xp6(1),e.Q6J("ngIf",t.isDirectionsEnabled),e.xp6(1),e.Q6J("ngIf",!0===t.isRatingEnabled&&t.count)}}function Ce(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",87)(1,"img",88),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.viewfile(s.visualFilePath,s.visualFileName))}),e.qZA()()}if(2&n){const t=l.$implicit,i=e.oxw(2);e.xp6(1),e.hYB("src","",i.apiEndpoint,"",t.thumbnailPath,"",e.LSH)}}function Ne(n,l){if(1&n&&(e.TgZ(0,"ion-card")(1,"div",85),e.YNc(2,Ce,2,2,"div",86),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.visuals)}}function we(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",95),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(4);return e.KtG(r.contentRedirection(s))}),e.qZA()()}if(2&n){const t=l.$implicit;e.xp6(1),e.Q6J("innerHTML",null==t?null:t.html_content,e.oJD)}}function De(n,l){if(1&n&&(e.TgZ(0,"ion-card-content"),e.YNc(1,we,2,1,"div",94),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.block_content)}}function Le(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",90)(1,"ion-item",91),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),s=o.$implicit,r=o.index,_=e.oxw();return e.KtG(_.handleTab(s,r))}),e._UZ(2,"ion-icon",92)(3,"ion-label",93),e.qZA(),e.YNc(4,De,2,1,"ion-card-content",23),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("name",null!=t&&t.contentopen?"chevron-up":"chevron-down"),e.xp6(1),e.Q6J("innerHTML",t.block_display_name,e.oJD),e.xp6(1),e.Q6J("ngIf",null==t?null:t.contentopen)}}function Ue(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",12)(2,"p",98),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.contentRedirection(s))}),e.qZA()()()}if(2&n){const t=l.$implicit;e.xp6(2),e.Q6J("innerHTML",null==t?null:t.html_content,e.oJD)}}function Je(n,l){if(1&n&&(e.TgZ(0,"div",96),e.YNc(1,Ue,3,1,"div",97),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",null==t?null:t.block_content)}}function Fe(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Le,5,3,"ion-card",25),e.YNc(2,Je,2,1,"div",89),e.qZA()),2&n){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",(null==t?null:t.block_content)&&(null==t?null:t.is_display_as_accordion)),e.xp6(1),e.Q6J("ngIf",(null==t?null:t.block_content)&&!(null!=t&&t.is_display_as_accordion))}}function xe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"li",72)(1,"span",107),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.assetDetails(s))}),e._uU(2),e.qZA()()}if(2&n){const t=l.$implicit,i=l.index,o=e.oxw(3);e.xp6(1),e.Udp("color",o.linkTextColor),e.MGl("id","fleetnameid",i,""),e.xp6(1),e.Oqu(null==t?null:t.facility_display_name)}}function ke(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card-content",101)(1,"ul",102),e.YNc(2,xe,3,5,"li",94),e.qZA(),e._UZ(3,"hr",103),e.TgZ(4,"ion-row",104)(5,"ion-col",105)(6,"app-button",106),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.getAssets(o.fleetData))}),e.ALo(7,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.assetsList),e.xp6(4),e.s9C("label",e.lcZ(7,2,"COMMON_FIELDS.VIEW_ALL_ASSETS"))}}function Me(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",90)(1,"ion-item",91),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleTab2("similarAssets"))}),e._UZ(2,"ion-icon",92),e.TgZ(3,"ion-label",99),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,ke,8,4,"ion-card-content",100),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("name",t.similarAssetsEnable?"chevron-up":"chevron-down"),e.xp6(2),e.AsE("",e.lcZ(5,4,"COMMON_FIELDS.SIMILAR_FLEETS")," ",null==t.fleetData||null==t.fleetData.facility_type?null:t.fleetData.facility_type.facility_type_display_name,""),e.xp6(2),e.Q6J("ngIf",t.similarAssetsEnable)}}function Ze(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-list",72)(1,"ion-item",110),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(3);return e.KtG(r.getPromotionData(s))}),e._uU(2),e.qZA()()}if(2&n){const t=l.$implicit,i=l.index;e.xp6(1),e.MGl("id","promotionid",i,""),e.xp6(1),e.AsE(" ",i+1,". ",t.title," ")}}function je(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-col",105)(1,"ion-button",111),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.getAllPromotions())}),e._UZ(2,"ion-icon",112),e._uU(3),e.ALo(4,"translate"),e.qZA()()}if(2&n){const t=e.oxw(3);e.xp6(1),e.Udp("color",t.buttonBackgroundColor),e.xp6(2),e.hij(" ",e.lcZ(4,4,"COMMON_FIELDS.VIEW_ALL_ASSETS")," ")}}function Be(n,l){if(1&n&&(e.TgZ(0,"ion-card-content"),e.YNc(1,Ze,3,3,"ion-list",94),e.TgZ(2,"ion-row",104),e.YNc(3,je,5,6,"ion-col",109),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.promotionsListArray),e.xp6(2),e.Q6J("ngIf",!0===t.viewMorePromotions)}}function Re(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",90)(1,"ion-item",108),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleTab1("deals"))}),e._UZ(2,"ion-icon",92),e.TgZ(3,"ion-label",99),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,Be,4,2,"ion-card-content",23),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("name",t.descriptionEnable?"chevron-up":"chevron-down"),e.xp6(2),e.Oqu(e.lcZ(5,3,"COMMON_FIELDS.DEALS")),e.xp6(2),e.Q6J("ngIf",t.dealsEnable)}}function Pe(n,l){if(1&n&&(e.TgZ(0,"ion-item",118)(1,"ion-avatar"),e._UZ(2,"ion-icon",119),e.qZA(),e.TgZ(3,"ion-label",120)(4,"h3")(5,"strong"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"a",121),e._uU(9),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(2),e.Udp("color",t.buttonBackgroundColor),e.xp6(4),e.Oqu(e.lcZ(7,9,"COMMON_FIELDS.EMAIL")),e.xp6(2),e.Udp("color",t.linkTextColor),e.MGl("href","mailto: ",null==t.fleetData||null==t.fleetData.contact_details?null:t.fleetData.contact_details.email," ",e.LSH),e.xp6(1),e.Oqu(null==t.fleetData||null==t.fleetData.contact_details?null:t.fleetData.contact_details.email)}}function Ve(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",122),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.fromAssetsList())}),e.TgZ(1,"ion-avatar"),e._UZ(2,"ion-icon",123),e.qZA(),e.TgZ(3,"ion-label",120)(4,"h3")(5,"strong"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"p",124),e._uU(9),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Udp("color",t.buttonBackgroundColor),e.xp6(4),e.Oqu(e.lcZ(7,8,"COMMON_ADDRESS_BLOCK.ADDRESS")),e.xp6(2),e.Udp("color",t.linkTextColor),e.xp6(1),e.Oqu(t.address)}}function Ge(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",122),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.callResource(o.phonenumber))}),e.TgZ(1,"ion-avatar"),e._UZ(2,"ion-icon",125),e.qZA(),e.TgZ(3,"ion-label",120)(4,"h3")(5,"strong"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"p",126),e._uU(9),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Udp("color",t.buttonBackgroundColor),e.xp6(4),e.Oqu(e.lcZ(7,6,"COMMON_FIELDS.PHONE_NUMBER")),e.xp6(3),e.AsE("",t.countrycode,"-",null==t.fleetData||null==t.fleetData.contact_details?null:t.fleetData.contact_details.phone,"")}}function Ye(n,l){if(1&n&&(e.TgZ(0,"ion-card-content",114)(1,"ion-row",72)(2,"ion-col",8)(3,"ion-list",115),e.YNc(4,Pe,10,11,"ion-item",116),e.YNc(5,Ve,10,10,"ion-item",117),e.YNc(6,Ge,10,8,"ion-item",117),e.qZA()()()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",!0===t.emailAddreshDisplay),e.xp6(1),e.Q6J("ngIf",!0===t.addressDisplay),e.xp6(1),e.Q6J("ngIf",!0===t.phoneNumberDisplay)}}function Qe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"ion-card",90)(1,"ion-item",91),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.handleTab1("contact"))}),e._UZ(2,"ion-icon",92),e.TgZ(3,"ion-label",99),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,Ye,7,3,"ion-card-content",113),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("name",t.contactEnable?"chevron-up":"chevron-down"),e.xp6(2),e.Oqu(e.lcZ(5,3,"COMMON_FIELDS.CONTACT")),e.xp6(2),e.Q6J("ngIf",t.contactEnable)}}function He(n,l){if(1&n&&e._UZ(0,"app-gallery",128),2&n){const t=e.oxw(2);e.Q6J("pageName",t.dataJsonObj.pageName)("digitalAssetType",t.dataJsonObj.digitalAssetType)("accessType",t.dataJsonObj.accessType)("relatedTypeName",t.dataJsonObj.relatedTypeName)("relatedTypeRecordObj",t.dataJsonObj.relatedTypeRecordObj)}}function Ke(n,l){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,He,1,5,"app-gallery",127),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.relatedTypeRecordObj)}}function qe(n,l){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",129)(2,"app-dropdown-singleselect",130),e.NdJ("valueChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.changeYear(o))}),e.qZA()(),e.TgZ(3,"app-datatable",131,132),e.NdJ("actionClicked",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onActionClicked(o))})("itemClickEvent",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.viewAction(o))})("loadPageData",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.loadPageData(o))}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.s9C("defaultValue",t.dataJsonObj.selectedYear),e.Q6J("options",t.dataJsonObj.yearsObj),e.xp6(1),e.Q6J("header",t.dataJsonObj.header1)("listingVariables",t.listingVariables)("paginator",!0)("data",t.dataJsonObj.tournamentEventsList)("expand",!1)("actions",t.dataJsonObj.actions)("ignoreDisplayView",!0)("mobileListData",t.dataJsonObj.tournamentEventMobileListData)("totalRecords",t.listingVariables.totalRecords)("totalPages",t.listingVariables.totalpages)("showSpinner",t.dataJsonObj.showSpinner)}}let C=(()=>{class n extends G.O{apiEndPointUrl;assetsDetailsService;facilitiesService;loggerService;router;sanitizer;alertCtrl;commonServices;modalCtrl;navCrl;navCtrl;navigationService;platform;route;syncService;toastCtrl;translateService;imageTransformPipe;uiUtils;listingVariables;ColumnHeader;userTimeZoneObj;noDuplicates=void 0;getAvgRateEvent(){try{this.ratedlist="false";let t=localStorage.getItem(a.BU.LOG_IN_USER_ID);(""===localStorage.getItem(a.BU.LOG_IN_USER_ID)||void 0===localStorage.getItem(a.BU.LOG_IN_USER_ID)||null===localStorage.getItem(a.BU.LOG_IN_USER_ID)||"null"===localStorage.getItem(a.BU.LOG_IN_USER_ID))&&(t=""),this.assetsDetailsService.getAverageReviewlist(this.fleetId,t).subscribe(i=>{this.ratingvalue=i[0].avgRating,this.count=i[0].count,this.avgratingvalue=this.ratingvalue},i=>{this.loggerService.setLoggerError(this.constructor.name,"getAvgRateEvent",i)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getReviewlist",t)}}videoPlayer;address;addressDisplay=!1;apiEndpoint;appcolor;assetName;assetsList;avgratingvalue;buildingCode;buttonBackgroundColor;buttonTextColor;confgItem;contactDetailsBlockDisplay=!1;contactEnable=!0;count;countrycode;deals;dealsEnable=!1;defaultuiSettingsJson;descriptionEnable=!0;emailAddreshDisplay=!1;enterpriseId;enterpriseName;exploreEnable=!0;exporeAccordion=!1;fileSrc="";fleetCommonName;fleetData;fleetDetails;fleetFollowStatus=!1;fleetId;fleetImageFileName;fleetImageName;fleetImagePath;fleetType;floorsenable;forceRefresh=!1;headerIcon;headerImage="";headerTitle;imagePath;isContactdetailsEnabled;isDescriptionEnabled;isDirectionsEnabled;isFollowEnabled;isAvatarPlayEnabled=!0;isQuizPlayEnabled=!0;isLocateEnabled=!0;isRatingEnabled;isSimilarEnabled;langcode;linkTextColor;localendpoint;locateFacility=!0;map;moretoExploreOption;nodata;notes;parameterName;phoneNumberDisplay=!1;phonenumber;position;preAsset="";enabledSpineer=!0;startDate;endDate;today;forcerefresh;prefleetTypevalue="";previousUrl;mobileViewCond="";filter=!0;promotionsListArray;enterpriseImage=localStorage.getItem(a.BU.ENTERPRISE_IMAGE);notificationCount=localStorage.getItem(a.BU.NOTIFICATION_COUNT);publishEnabled=!1;rateNow;ratedlist;ratingvalue;removeattherate=!1;resObj;rotationAngle;selcetedassetspage=!1;selectall=!1;similarAssetsEnable=!0;spinner;stores;syncEnabled=!1;syncFreq;token;userToken;viewMorePromotions=!0;visualFilename="";visuals;visualsLength=0;workNumber;dataJsonObj={};content;constructor(t,i,o,s,r,_,p,d,m,u,I,h,w,T,D,L,it,at,ot,nt,st){super(T,d),this.apiEndPointUrl=t,this.assetsDetailsService=i,this.facilitiesService=o,this.loggerService=s,this.router=r,this.sanitizer=_,this.alertCtrl=p,this.commonServices=d,this.modalCtrl=m,this.navCrl=u,this.navCtrl=I,this.navigationService=h,this.platform=w,this.route=T,this.syncService=D,this.toastCtrl=L,this.translateService=it,this.imageTransformPipe=at,this.uiUtils=ot,this.listingVariables=nt,this.ColumnHeader=st,this.handleFilter(),this.route.params.subscribe(f=>{this.parameterName=f.name?f.name.replace("~"," "):"",f.id&&parseInt(f.id,10)&&(this.dataJsonObj.selectedRecordId=parseInt(f.id,10))}),this.route.queryParams.subscribe(f=>{this.dataJsonObj.queryParamsObj={defaultView:f.defaultView,selectedMenuId:f.selectedMenuId,selectedSubMenuId:f.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){var t=this;return(0,g.Z)(function*(){if(t.dataJsonObj.shareExternal=!!t.commonServices.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.SHARE_EXTERNAL)&&t.commonServices.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.SHARE_EXTERNAL),t.commonServices.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.SHARE_EXTERNAL)&&!t.commonServices.isBrowserApp()&&(t.dataJsonObj.fabMobileactionsOptions=[{iconClass:"fas fa-share-alt",redirectUrl:"",actionType:a.gL.POPUP,actionName:"SocialShare"}]),t.showSpinner(),t.dataJsonObj.selectedTab="",t.dataJsonObj.displayTabTitle=[],t.dataJsonObj.displayDigitalAssetsTabsJson={},t.dataJsonObj.pageName=a.hf.FACILITIESUI,t.apiEndpoint=localStorage.getItem(a.BU.S3_URL)?localStorage.getItem(a.BU.S3_URL):t.apiEndPointUrl,t.ionViewWillEnter(),t.getsyncSettings(),t.dataJsonObj.selectedPage=a.hf.FACILITIESUI,t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.GALLERY)||t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.GALLERY_AUDIO)||t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.GALLERY_VIDEO)||t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.GALLERY_DOCUMENT)||t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.MEDIA_GALLERY)){const o=t.translateService.instant("NEW_VARIABLES.MEDIA");t.dataJsonObj.displayDigitalAssetsTabsJson.MEDIA=o,t.dataJsonObj.displayTabTitle.push({title:o,tabName:a.yg.MEDIA})}if(t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.DISPLAY_EVENTS_BLOCK)){const o=t.translateService.instant("COMMON_PAGE_TITLES.EVENTS");t.dataJsonObj.displayDigitalAssetsTabsJson.EVENTS=o,t.dataJsonObj.displayTabTitle.push({title:o,tabName:a.a3.EVENTS})}t.dataJsonObj.displayTabTitle.length>0&&(t.dataJsonObj.selectedTab=t.dataJsonObj.displayTabTitle[0].title,t.dataJsonObj.selectedTabName=t.dataJsonObj.displayTabTitle[0].tabName),t.getSelectedFacilityDetails(),t.dataJsonObj.actions={VIEW:t.roleRightsValidationByPage(a.hf.TOURNAMENT_EVENTS,a.AM.ACTIONS,a.In.VIEW)},t.dataJsonObj.header1=t.ColumnHeader.getiotEventsColumnHeaders(),t.defaultuiSettingsJson=JSON.parse(localStorage.getItem(a.BU.DEFAULT_UI_SETTINGS_DATA)).map_settings.is_directions_enabled,t.isFollowEnabled=t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,t.ResponsibilityActions.DISPLAY_FOLLOW),t.isRatingEnabled=t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,t.ResponsibilityActions.DISPLAY_RATING),t.isDescriptionEnabled=t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,t.ResponsibilityActions.DISPLAY_DESCRIPTION),t.isSimilarEnabled=t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,t.ResponsibilityActions.DISPLAY_SIMILAR_FACILITY),t.isContactdetailsEnabled=t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,t.ResponsibilityActions.DISPLAY_CONTACT_DETAILS),t.isAvatarPlayEnabled=t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.AVATAR_PLAY),t.isQuizPlayEnabled=t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.QUIZ_PLAY),t.isLocateEnabled=t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.LOCATE),t.isDirectionsEnabled=t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.DIRECTIONS),t.dataJsonObj.isBookmarkEnabled=t.roleRightsValidationByPage(a.hf.FACILITIESUI,a.AM.ACTIONS,a.In.BOOKMARKS);const i=t.commonService.getLoginUserTimeZoneDateFormat();t.userTimeZoneObj=t.commonService.getUTCMinuteAndSign(i.timeZoneDescription),t.userTimeZoneObj.timeZoneCode=i.timeZoneCode,t.dataJsonObj.yearsObj=[],t.dataJsonObj.selectedYear=(new Date).getFullYear(),t.dataJsonObj.yearsObj=t.commonService.getYearsObj(),t.commonService.isMobileWindow()&&(t.mobileViewCond="&mobileview=true"),t.dataJsonObj.disableBookmarkBtn=!1,t.getDynamicJson(t.isSimilarEnabled?[{folderName:"facilities",jsonType:"v2",storingFieldName:"facilitiesListJson"},{folderName:"event_categories",jsonType:"view",storingFieldName:"eventCategoriesViewJson"}]:[{folderName:"event_categories",jsonType:"view",storingFieldName:"eventCategoriesViewJson"}],!1),t.dataJsonObj.isBookmarkEnabled&&t.getBookmarksData()})()}getSelectedFacilityDetails(){var t=this;return(0,g.Z)(function*(){const i=localStorage.getItem(a.BU.LOGIN_USER_LANGUAGE)?localStorage.getItem(a.BU.LOGIN_USER_LANGUAGE):"en",o=yield t.commonServices.getDynamicJsonByPath(`assets/enterprises/${t.enterpriseId}/facilities/details/${t.dataJsonObj.selectedRecordId}/`,`${i}.json`);t.fleetData=o&&0!==o.length?o:{},t.tabvalueChange(t.dataJsonObj.selectedTab),t.dataJsonObj.facilityAvatarImage=yield t.imageTransformPipe.transformAsync(t.fleetData.facility_image_file_path,t.fleetData.facility_image_file_name,!1,t.dataJsonObj.shareExternal),t.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.FACILITIESUI",value:t.fleetData.facility_display_name,showSubMenuDisplayName:!1}],t.dataJsonObj.selectedObj={},t.dataJsonObj.selectedObjEnabled=!0,t.dataJsonObj.facilityTypeBackgroundColor=t.fleetData.facility_type?.facility_type_background_color,t.dataJsonObj.iconname=t.fleetData.facility_type?.facility_type_icon_name?.toLowerCase(),t.setFacilityDisplaImage(),t.dependencyForIonViewWillEnter(),t.commonServices.getDynamicHeight()})()}getDynamicJson(t,i){var o=this;return(0,g.Z)(function*(){for(let s of t)o.dataJsonObj[s.storingFieldName]=yield o.commonServices.getDynamicJson(o.enterpriseId,s.folderName,s.jsonType);o.getfleetsByfleetType()})()}getBookmarksData(){var t=this;return(0,g.Z)(function*(){const i=localStorage.getItem(a.BU.LOG_IN_USER_ID),s=(yield t.commonServices.getDynamicJsonByPath(`assets/enterprises/${t.enterpriseId}/bookmarks/list/`,"bookmarks.json",!0),localStorage.getItem(a.BU.BOOKMARKS_DATA)?JSON.parse(localStorage.getItem(a.BU.BOOKMARKS_DATA)):[]);t.dataJsonObj.bookmarksJSONData=s.length>0?s.filter(r=>r.user_profile.user_profile_id===parseInt(i,10)):[],setTimeout(()=>{t.dataJsonObj.disableBookmarkBtn=!1},5e3)})()}getsyncSettings(){var t=this;return(0,g.Z)(function*(){const i=yield t.commonServices.getCacheSettings(a.hf.FACILITIES);t.syncEnabled=i.cacheEnabled,t.syncFreq=i.syncFreq,t.forceRefresh=i.forceRefresh,t.publishEnabled=i.publishEnabled})()}ionViewWillEnter(){this.deals=!1,this.viewMorePromotions=!0,localStorage.setItem(a.BU.PAGE_NAME,"assetDeatailsPage"),this.fleetFollowStatus=!1,this.userToken=localStorage.getItem(a.BU.TOKEN),this.ratedlist="true",this.rateNow=localStorage.getItem(a.BU.DEVICE_ID)?"true":"false",this.map=this.translateService.instant("COMMON_FIELDS.DETAILS"),this.langcode=localStorage.getItem(a.BU.LOGIN_USER_LANGUAGE),localStorage.getItem(a.BU.SELECTED_ENTERPRISE)?(this.enterpriseId=localStorage.getItem(a.BU.SELECTED_ENTERPRISE),this.buildingCode=localStorage.getItem(a.BU.BUILDING_CODE),this.rotationAngle=localStorage.getItem(a.BU.ROTATION_ANGLE)):(this.enterpriseId=localStorage.getItem(a.BU.PARENT_ENTERPRISE_ID),this.buildingCode=localStorage.getItem(a.BU.PARENT_BUILDING_CODE),this.rotationAngle=localStorage.getItem(a.BU.PARENT_ROTATION_ANGLE)),this.getEnterpriseData(this.enterpriseId)}dependencyForIonViewWillEnter(){var t=this;return(0,g.Z)(function*(){t.hideSpinner(),t.commonServices.trackView(t.parameterName?t.parameterName+"-"+t.fleetData.facility_display_name:t.fleetData.facility_display_name),t.fleetData.custom_content_blocks.forEach(s=>{s.block_content.forEach(r=>{t.dataJsonObj.isDisplapAsAccordion=r.is_display_as_accordion}),s.contentopen=!0,s.is_display_as_accordion=t.dataJsonObj.isDisplapAsAccordion}),t.getAnimalData(),t.fleetData.contact_details.phone&&(t.phoneNumberDisplay=!0,t.contactDetailsBlockDisplay=!0),t.fleetData.contact_details.email&&(t.emailAddreshDisplay=!0,t.contactDetailsBlockDisplay=!0),t.notes=t.fleetData.notes,t.fleetData.contact_details&&t.fleetData.contact_details.phone_country_code&&(t.countrycode=t.fleetData.contact_details.phone_country_code.lookup_name.split("-")[0]),t.address=t.fleetData.address.addressLine1,""!==t.fleetData.address.addressLine2&&null!=t.fleetData.address.addressLine2&&(t.address=t.address+", "+t.fleetData.address.addressLine2),t.address=t.address+", "+t.fleetData.address.city+", "+t.fleetData.address.state+", "+t.fleetData.address.ZIP+", "+t.fleetData.address.country,t.enterpriseImage=localStorage.getItem(a.BU.ENTERPRISE_IMAGE),t.address&&(t.addressDisplay=!0,t.contactDetailsBlockDisplay=!0),t.selectall=!1,t.assetName="",t.fleetType="",t.selcetedassetspage=!1;try{t.notificationCount=localStorage.getItem(a.BU.NOTIFICATION_COUNT),t.nodata=!1,t.spinner=!1,t.position=localStorage.getItem(a.BU.MENU_POSITION)}catch{}})()}ionViewDidLoad(){}ionViewWillLeave(){localStorage.removeItem(a.BU.PAGE_NAME)}getAverageReviewlist(t){try{let i="";i=this.enterpriseId===localStorage.getItem(a.BU.LOG_IN_ENTERPRISE_ID)?localStorage.getItem(a.BU.LOG_IN_USER_ID):"",this.fleetId=this.fleetData._id,this.assetsDetailsService.getAverageReviewlist(this.fleetId,i).then(o=>{null!=t&&""!==t&&"null"!==t&&(this.fleetFollowStatus=o[0].fleetFollowStatus),this.getReviewlist(t),this.ratingvalue=o[0].avgRating,this.count=o[0].count,this.avgratingvalue=this.ratingvalue},o=>{this.loggerService.setLoggerError(this.constructor.name,"getAverageReviewlist",o),this.getReviewlist(t)})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getAverageReviewlist",i)}}getReviewlist(t){try{this.assetsDetailsService.getReviewlist(this.fleetId,t).subscribe(i=>{this.ratedlist="false"},i=>{const o=JSON.parse(i.status),s=JSON.parse(i._body).statusCode;switch(o){case 500:break;case 400:"9997"===s&&(this.ratedlist="true")}})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getReviewlist",i)}}editratenow(t){}getEnterpriseData(t){try{if(localStorage.getItem(a.BU.DEFAULT_UI_SETTINGS_DATA)){let i=JSON.parse(localStorage.getItem(a.BU.DEFAULT_UI_SETTINGS_DATA));this.appcolor=i.application_color,this.buttonBackgroundColor=i.background_color,this.linkTextColor=i?.theme_settings?.body_link_color,this.buttonTextColor=i.button_text_color,this.enterpriseName=i.enterprise.enterprise_name,this.removeattherate=i.general_settings.is_city_enabled}}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getEnterpriseData",i)}}handleFilter(){this.filter=!this.filter}goBackToPreviousPage(){this.fleetType=this.prefleetTypevalue,this.assetName=this.preAsset,this.selcetedassetspage=!1}handleKeyPress(t){}setFacilityDisplaImage(){var t=this;return(0,g.Z)(function*(){if(t.fleetData.displayImagePath&&t.fleetData.displayImageName)t.fleetImageName=t.fleetData.displayImageName,t.fleetImagePath=t.fleetData.displayImagePath,t.dataJsonObj.fleetImage=yield t.imageTransformPipe.transformAsync(t.fleetData.displayImagePath,t.fleetData.displayImageName,!1,t.dataJsonObj.shareExternal);else{const i=JSON.parse(localStorage.getItem(a.BU.DEFAULT_UI_SETTINGS_DATA));t.headerIcon=i.enterprise_top_image_file_path+"/"+i.enterprise_top_image_file_name}})()}handleTab(t,i){try{this.fleetData.custom_content_blocks[i].contentopen=!t.contentopen}catch(o){this.loggerService.setLoggerError(this.constructor.name,"handleTab",o)}}handleTab1(t){this.contactEnable=!this.contactEnable}handleTab2(t){this.similarAssetsEnable=!this.similarAssetsEnable}fleetLocate(t,i){localStorage.removeItem(a.BU.TO_ASSET),localStorage.removeItem(a.BU.MAP_URL),localStorage.setItem(a.BU.SELECTED_FLEET,JSON.stringify({facilityId:i._id,geometry:{type:"Point",coordinates:i.locateCoordinates?.geometryGeoCoordinates?[i.locateCoordinates.geometryGeoCoordinates[1],i.locateCoordinates.geometryGeoCoordinates[0]]:["",""]}})),this.router.navigate(["/maps/maps/list"])}fromAssetsList(){try{localStorage.removeItem(a.BU.SELECTED_FLEET),localStorage.setItem(a.BU.TO_LOCATE_FLEET_NAME,this.fleetData.facility_display_name);const t=JSON.parse(JSON.stringify(this.fleetData));t.geometry={type:"Point",coordinates:this.fleetData.locateCoordinates?.geometryGeoCoordinates?[this.fleetData.locateCoordinates.geometryGeoCoordinates[1],this.fleetData.locateCoordinates.geometryGeoCoordinates[0]]:["",""]},t.properties||(t.properties={level:this.fleetData.levelDetails?.level,levelDisplay:this.fleetData.levelDetails?.levelDisplay}),localStorage.setItem(a.BU.TO_ASSET,JSON.stringify(t)),this.router.navigate(["/facilities/facilities/locate"],{queryParams:{fId:this.dataJsonObj.selectedRecordId}}),"false"===localStorage.getItem(a.BU.USER_LOCATION)&&(localStorage.removeItem(a.BU.USER_LOCATION),R.b.getCurrentPosition().then(i=>{localStorage.setItem(a.BU.CURRENT_POSITION,JSON.stringify({longitude:i.coords.longitude,latitude:i.coords.latitude,accuracy:i.coords.accuracy}))}).catch(i=>{localStorage.setItem(a.BU.USER_LOCATION,"false"),this.loggerService.setLoggerError(this.constructor.name,"fromAssetsList",i)}))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"fromAssetsList",t)}}similarFromAssetsList(t){localStorage.setItem(a.BU.TO_ASSET,JSON.stringify(t))}ratenow(t){return(0,g.Z)(function*(){})()}getfleetsByfleetType(){try{this.dataJsonObj.similarFacilities=this.dataJsonObj.facilitiesListJson?this.dataJsonObj.facilitiesListJson.filter(t=>t.facility_type.facility_type_id===this.fleetData.facility_type.facility_type_id&&t._id!==this.fleetData._id):[],this.dataJsonObj.similarFacilities.sort((t,i)=>t.facility_display_name.localeCompare(i.facility_display_name)),this.assetsList=this.dataJsonObj.similarFacilities.slice(0,3)}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getfleetsByfleetType",t)}}getAssets(t){try{const i=t?.facility_type?.facility_type_display_name?t.facility_type.facility_type_display_name.toLowerCase().replaceAll(" ",""):t?.facility_type?.facility_type_name;this.router.navigate(["facilities/facilities/"+i+"/list/"],{queryParams:{default_view:this.dataJsonObj.queryParamsObj.defaultView,facilityTypeObj:JSON.stringify({facility_type_id:t.facility_type.facility_type_id,facility_type_name:t.facility_type.facility_type_name,facility_type_display_name:t.facility_type.facility_type_display_name})}})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getFacilityOptions",i)}}viewfile(t,i){}followToAssets(){try{const t=this.fleetData._id,i=localStorage.getItem(a.BU.DEVICE_ID),o=parseInt(localStorage.getItem(a.BU.LOG_IN_USER_ID),0),s=JSON.parse(localStorage.getItem(a.BU.SELECTED_ENTERPRISE_OBJ));this.enterpriseId===localStorage.getItem(a.BU.LOG_IN_ENTERPRISE_ID)?this.assetsDetailsService.followToAsset(this.userToken,{enterprise:{enterprise_id:this.enterpriseId,enterprise_name:s.enterprise_name,short_name:s.short_name},fleetId:t,userId:o,status:"Following"}).subscribe(_=>{this.fleetFollowStatus=!0,this.getAverageReviewlist(i)},_=>{JSON.parse(_.status);JSON.parse(_._body)}):this.showLoginAlert()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"followToAssets",t)}}unFollowFromAsset(){try{this.enterpriseId===localStorage.getItem(a.BU.LOG_IN_ENTERPRISE_ID)?this.confirmationAlert():this.showLoginAlert()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"unFollowFromAsset",t)}}confirmationAlert(){var t=this;return(0,g.Z)(function*(){try{const i=t.fleetData._id,o=localStorage.getItem(a.BU.DEVICE_ID),s=parseInt(localStorage.getItem(a.BU.LOG_IN_USER_ID),0);(yield t.alertCtrl.create({message:"Do you want to unfollow from "+t.fleetData.facility_display_name+".",buttons:[{text:"OK",handler:()=>{t.assetsDetailsService.followToAsset(t.userToken,{enterprise:{enterpriseId:t.enterpriseId,enterpriseName:t.enterpriseName},fleetId:i,userId:s,status:"Unfollowed"}).subscribe(p=>{t.getAverageReviewlist(o),t.fleetFollowStatus=!1},p=>{JSON.parse(p.status);JSON.parse(p._body)})}},{text:"Cancel",handler:()=>{}}]})).present()}catch(i){t.loggerService.setLoggerError(t.constructor.name,"confirmationAlert",i)}})()}showLoginAlert(){var t=this;return(0,g.Z)(function*(){try{(yield t.alertCtrl.create({message:"Login to continue",buttons:[{text:"OK",handler:()=>{localStorage.setItem(a.BU.TO_FOLLOW_ASSET,"toFollowAsset")}},{text:"Cancel",handler:()=>{}}]})).present()}catch(i){t.loggerService.setLoggerError(t.constructor.name,"showLoginAlert",i)}})()}assetDetails(t){var i=this;return(0,g.Z)(function*(){i.map=i.translateService.instant("COMMON_FIELDS.DETAILS"),i.dataJsonObj.selectedRecordId=t._id,i.langcode=localStorage.getItem(a.BU.LOGIN_USER_LANGUAGE),localStorage.setItem(a.BU.PAGE_NAME,"assetDeatailsPage"),yield i.getSelectedFacilityDetails(),i.getfleetsByfleetType()})()}getAllPromotions(){}getPromotionData(t){}callResource(t){var i=this;return(0,g.Z)(function*(){try{localStorage.getItem(a.BU.USER_TIME_ZONE);localStorage.getItem(a.BU.LOG_IN_USER_ID),localStorage.getItem(a.BU.USER_ACCOUNT),localStorage.getItem(a.BU.DEVICE_ID),localStorage.getItem(a.BU.FIRSTNAME),localStorage.getItem(a.BU.LASTNAME),localStorage.getItem(a.BU.MOBILE_NUMBER_COUNTRY_CODE),localStorage.getItem(a.BU.MOBILE_NUMBER);localStorage.getItem(a.BU.TOKEN),i.countrycode.replace("%2B","+")}catch(o){i.loggerService.setLoggerError(i.constructor.name,"callResource",o)}})()}send(t){}spotlightClick(){this.router.navigate(["quiz/quiz/list"])}contentRedirection(t){t.link_to_screen&&"FACILITY_SPOTLIGHT"==t.link_to_screen.screen_type.lookup_name?(localStorage.setItem(a.BU.ANIMAL_CLICKED,this.fleetData.facility_display_name),this.router.navigate(["facedetectiondetails/facedetectiondetails/list"])):t.link_to_screen.navigation_id?(this.commonServices.trackView(this.fleetData.facility_display_name+"-"+t.link_to_screen.object_name),this.router.navigate(["/contentpages/"+t.link_to_screen.navigation_id+"/contentpages-view"])):!this.platform.is("android")&&!this.commonServices.isBrowserApp()&&t.html_content&&this.openUrl(t.html_content)}openUrl(t){var i=document.createElement("div");i.innerHTML=t;const o=i.querySelector("a").getAttribute("href");o&&this.commonServices.commonRedirectUrl(o)}getlinkfy(t){return this.commonServices.linkify(t)}getAnimalData(){try{this.fleetData&&"L25-Animals"===this.fleetData.facility_type.facility_type_name?(this.exporeAccordion=!0,this.locateFacility=!1,this.enterpriseId=localStorage.getItem(a.BU.SELECTED_ENTERPRISE)?localStorage.getItem(a.BU.SELECTED_ENTERPRISE):localStorage.getItem(a.BU.PARENT_ENTERPRISE_ID)?localStorage.getItem(a.BU.PARENT_ENTERPRISE_ID):localStorage.getItem(a.BU.LOGIN_ENTERPRISE_ID)):(this.exporeAccordion=!1,this.locateFacility=!0)}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getAnimalData",t)}}getMediaFiles(t){if(t.mediaData=this.apiEndpoint+t.facilityImageFilePath+"/"+t.facilityImageFileName,this.platform.is("android")||this.platform.is("ios")||this.platform.is("ipad")||this.platform.is("iphone")||this.platform.is("tablet"))try{this.syncService.getMobileAssetsData(t.facilityImageFilePath,t.facilityImageFileName,"image").then(i=>{let o=this.sanitizer.bypassSecurityTrustUrl(i);t.mediaData=o}).catch(i=>{this.loggerService.setLoggerError(this.constructor.name,"getMediaFiles",i)})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getMediaFiles",i)}}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}selectedFabAction(t){var i=this;return(0,g.Z)(function*(){t&&"SocialShare"===t.actionName&&i.commonServices.socialShare(i.content)})()}createBookmark(){const t=JSON.parse(localStorage.getItem(a.BU.USER)),i=localStorage.getItem(a.BU.BOOKMARK_DEVICE_ID),o="abcdefghijklmnopqrstuvwxyz",s=o[Math.floor(Math.random()*o.length)]+(new Date).getTime().toString(16);try{const _=this.fleetData.facility_display_name.toLowerCase().trim().replace(/  +/g," ");let p=!1;for(let d of this.dataJsonObj.bookmarksJSONData)if(d.bookmark_name.toLowerCase().trim().replace(/  +/g," ").match(_)&&d.device_id===i){p=!0;break}if(p)this.uiUtils.displayInfoMessage("COMMON_TOAST_MESSAGES.TOAST_BOOKMARK_ALREADY_SAVED");else{const d={enterprise:this.fleetData.enterprise,bookmark_name:this.fleetData.facility_display_name,id:s,user_profile:{user_profile_id:t._id,f_name:t.f_name,l_name:t.l_name},device_id:i,floor_name:this.fleetData.levelDetails.level,geo_coordinates:[parseFloat(this.fleetData.address.geo_coordinates[0]),parseFloat(this.fleetData.address.geo_coordinates[1])],zoom:17};let m=localStorage.getItem(a.BU.BOOKMARKS_DATA)?JSON.parse(localStorage.getItem(a.BU.BOOKMARKS_DATA)):[];m.push(d),localStorage.setItem(a.BU.LEAFLET_BOOKMARKS+s,JSON.stringify(d)),localStorage.setItem(a.BU.BOOKMARKS_DATA,JSON.stringify(m)),this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_BOOKMARK"),this.dataJsonObj.disableBookmarkBtn=!0,this.dataJsonObj.bookmarksJSONData=[],this.getBookmarksData()}}catch(_){this.loggerService.setLoggerError(this.constructor.name,"createBookmark",_)}}getMediaData(){this.dataJsonObj.pageName=a.hf.FACILITIESUI,this.dataJsonObj.relatedTypeName=a.w1.FACILITY,this.dataJsonObj.relatedTypeRecordObj={id:this.fleetData._id,name:this.fleetData.facility_name}}openPopup(){const t=document.getElementById("popup");t&&(t.style.display="block")}closePopup(){const t=document.getElementById("popup");if(t&&(t.style.display="none"),this.videoPlayer&&this.videoPlayer.nativeElement){const i=this.videoPlayer.nativeElement;i.pause(),i.currentTime=0}}changeYear(t){try{this.dataJsonObj.tournamentEventMobileListData=[],t.value&&(this.dataJsonObj.selectedYear=t.value,this.getTournamentEvents())}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeYear",i)}}getTournamentEvents(){this.showSpinner(),this.assetsDetailsService.getEvents(this.dataJsonObj.selectedRecordId,this.enterpriseId,this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.forcerefresh,this.listingVariables.sortOrderColumn,this.mobileViewCond,"","",this.dataJsonObj.selectedYear).subscribe(t=>{if(this.hideSpinner(),this.enabledSpineer=!1,t.rows.length>0){this.dataJsonObj.tournamentEventsData&&this.dataJsonObj?.tournamentEventMobileListData?.length>0||(this.dataJsonObj.tournamentEventMobileListData=[]),this.dataJsonObj.isGridView&&!(this.dataJsonObj.tournamentEventsData&&this.dataJsonObj?.tournamentEventsData?.length>0)&&(this.dataJsonObj.tournamentEventsData=[]),this.forcerefresh&&(this.dataJsonObj.tournamentEventMobileListData=[]);for(let i=0;i<t.rows.length;i++){t.rows[i].imageName=t.rows[i].iot_event_name,t.rows[i].imageDisplay=t.rows[i].iot_event_image_path&&t.rows[i].iot_event_image_name?t.rows[i].iot_event_image_path+"/"+t.rows[i].iot_event_image_name:null,t.rows[i].event_category&&(t.rows[i].event_category.category_name=this.dataJsonObj.eventCategoriesViewJson&&this.dataJsonObj.eventCategoriesViewJson[t.rows[i].event_category.category_id+""]?this.dataJsonObj.eventCategoriesViewJson[t.rows[i].event_category.category_id+""].category_display_name:"");const o="sports/sporttournamenteventview/view/"+t.rows[i]._id;t.rows[i].iot_event_display_name=t.rows[i].iot_event_name,t.rows[i].iot_event_name=`<a class="enable" id="iot_event_name${t.rows[i]._id}" href=${o}> ${t.rows[i].iot_event_name} </a>`,t.rows[i].page_name="Iotevents",t.rows[i].display_grid_title=t.rows[i].iot_event_name;const s=this.displayDateFormatter(t.rows[i].start_datetime,!1,!0);this.startDate=s.startDate;const r=this.displayDateFormatter(t.rows[i].end_datetime,!1,!0);this.endDate=r.startDate;const p=this.displayDateFormatter((new Date).toISOString(),!1,!0).startDate,d=this.commonService.getUTCDateObj(this.startDate),m=this.commonService.getUTCDateObj(this.endDate),u=this.commonService.getUTCDateObj(p);t.rows[i].start_datetime=this.startDate+" "+this.userTimeZoneObj.timeZoneCode,t.rows[i].end_datetime=this.endDate+" "+this.userTimeZoneObj.timeZoneCode,t.rows[i].is_canceled?t.rows[i].statusDisplay=a.hf.CANCELED:d<=u&&u<m?t.rows[i].statusDisplay=a.hf.IN_PROGRESS:u>=m?t.rows[i].statusDisplay=a.hf.CLOSED:d>u&&(t.rows[i].statusDisplay=a.hf.YET_TO_START),t.rows[i].is_recordDisableClass=new Date(t.rows[i].start_datetime)<=new Date(this.today)?"f-events":"l-events",t.rows[i].privacy_type=this.translateService.instant(t.rows[i].is_private?"NEW_VARIABLES.PRIVATE":"NEW_VARIABLES.PUBLIC"),this.dataJsonObj.tournamentEventMobileListData.find(h=>h._id===parseInt(t.rows[i]._id,10))||(this.dataJsonObj.tournamentEventMobileListData=this.dataJsonObj.tournamentEventMobileListData.filter(h=>h._id!==t.rows[i]._id),this.dataJsonObj.tournamentEventMobileListData.push(t.rows[i]))}t.totalCount&&(this.listingVariables.totalRecords=t.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=t.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.dataJsonObj.tournamentEventsList=this.dataJsonObj.tournamentEventsList.concat(t.rows)):this.dataJsonObj.tournamentEventsList=t.rows}else this.dataJsonObj.tournamentEventsList=[],this.dataJsonObj.tournamentEventMobileListData=[]})}displayDateFormatter(t,i,o){try{const s=o?this.commonService.convertDateToUserTimeZone(t,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign):t,r={startDate:"",endDate:""};if(r.startDate=this.commonService.convertDateToUserFormat(s,a.eZ.HOURS_MINS,!0,"",!1),i){const _=o?this.commonService.convertDateToUserTimeZone(t,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign):t,p=Y.utc(_).add(2,"hours");r.endDate=this.commonService.convertDateToUserFormat(p,a.eZ.HOURS_MINS,!0,"",!1)}return r}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",s)}}viewAction(t){this.router.navigate(["sports/sporttournamenteventview/view/"+t._id]),this.router.routeReuseStrategy.clearModuleRouteCache("event")}onActionClicked(t){t.action===a.A0.VIEW&&(this.router.navigate(["sports/sporttournamenteventview/view/"+t.data._id]),this.router.routeReuseStrategy.clearModuleRouteCache("event"))}loadPageData(t){this.forcerefresh=t.forceRefresh,this.listingVariables.pageNumbers=t.listingVariables.pageNumbers,t.isPaginationChange&&(this.dataJsonObj.selectedFilter=t.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=t.isLoadMoreClicked),this.getTournamentEvents()}tabvalueChange(t){const i=this.dataJsonObj.displayTabTitle.find(o=>o.title===t);switch(this.dataJsonObj.tabSelectIndexValue=t,i?.tabName){case a.yg.MEDIA:this.getMediaData(),this.dataJsonObj.selectedTab=t;break;case a.a3.EVENTS:this.getTournamentEvents(),this.dataJsonObj.selectedTab=t}}static \u0275fac=function(i){return new(i||n)(e.Y36("apiEndPoint"),e.Y36(F),e.Y36(J.e),e.Y36(P.m),e.Y36(b.F0),e.Y36(H.H7),e.Y36(A.Br),e.Y36(y.v),e.Y36(A.IN),e.Y36(E.SH),e.Y36(E.SH),e.Y36(K.f),e.Y36(E.t4),e.Y36(b.gz),e.Y36(V._),e.Y36(A.yF),e.Y36(O.sK),e.Y36(v.D),e.Y36(q.s),e.Y36(z.v),e.Y36(Q.Y))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-facilitiesui-view"]],viewQuery:function(i,o){if(1&i&&(e.Gf(ne,5),e.Gf(se,5)),2&i){let s;e.iGM(s=e.CRH())&&(o.videoPlayer=s.first),e.iGM(s=e.CRH())&&(o.content=s.first)}},hostBindings:function(i,o){1&i&&e.NdJ("custom-event13",function(r){return o.getAvgRateEvent(r)},!1,e.Jf7)},features:[e._Bn([F,y.v,J.e,v.D]),e.qOj],decls:37,vars:24,consts:[[1,"container-fluid"],[1,"card","bdt-0"],["content",""],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],["class","text-center loading",4,"ngIf"],[1,"card-body","pdt-0","pdl-0","pdr-0","pdb-0"],[1,"public-eventdetails"],["size","12",1,"ion-no-padding"],["id","assetdetails-facility-scientificname",1,"pdl-10","pdr-10","fs-13","text-center","mgb-0","mgt-5","facilities-name",3,"innerHTML"],["class","mgt-5 mgl-10 mgr-10",4,"ngIf"],["id","assetdetails-facility-default-image","class","pdt-10 pdl-10 pdr-10 fs-13 text-center enterpriselist-bg",4,"ngIf"],[1,"position-relative"],[3,"selectedPage"],["id","extraPaddingBottomID",1,"asset-detail","mgb-50"],[1,"asset-detail-wrapper"],["class","mgl-0 mgr-0",4,"ngIf"],["id","popup",1,"popup-overlay"],[1,"popup-content"],[1,"close-btn",3,"click"],["controls",""],["videoPlayer",""],["type","video/mp4",3,"src"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","detail-accordion-block",4,"ngIf"],[1,"row"],[3,"tabSelectedIndex","displayTabTitleData","valueChange"],[3,"actionData","selectedAction"],[1,"text-center","loading"],["name","lines",4,"ngIf"],["name","lines"],[1,"mgt-5","mgl-10","mgr-10"],[1,"img-detail",3,"src"],["id","assetdetails-facility-default-image",1,"pdt-10","pdl-10","pdr-10","fs-13","text-center","enterpriselist-bg"],[1,"fs-32","position-relative","img-detail",3,"src"],[1,"mgl-0","mgr-0"],["col-12","",1,"ion-no-padding"],["lines","none",1,"ion-no-border","event-details-item"],["class","avatar-bg","item-start","",4,"ngIf"],["class","event-asset-icon","id","assetdetails-imgid",4,"ngIf"],[1,"ion-no-margin","ion-no-padding","mgr-5"],["id","assetdetails-fleetnameid",1,"event-fleet-name","ion-no-margin","fs-13","fw-500"],["class","event-fleet-name ion-no-margin fs-13 fw-500","id","assetdetails-cityname",4,"ngIf"],["class","mgr-5 navigate-btn mg-0","shape","round","id","quizplaybuttonid",3,"title","click",4,"ngIf"],["class","mgr-5 navigate-btn mg-0","shape","round","id","bookmarkbuttonid",3,"title","click",4,"ngIf"],["shape","round","class","follow-btn","id","followassetId",3,"click",4,"ngIf"],["class","mgr-5 follow-btn","shape","round","id","followassetId",3,"click",4,"ngIf"],["class","mgr-5 navigate-btn mg-0","shape","round","id","bookmarkbuttonid",3,"title","disabled","click",4,"ngIf"],["class","assets-navigate-btn locatebutton mgr-5","ion-button","","clear","","item-end","","icon-start","","shape","round","id","",3,"title","click",4,"ngIf"],["class","navigate-btn mg-0 mgr-5","shape","round","slot","end","id","fromassetbuttonid",3,"title","click",4,"ngIf"],["size","12",4,"ngIf"],["item-start","",1,"avatar-bg"],["id","assetdetails-imgid",1,"event-asset-icon"],["onerror","this.onerror=null;this.src='assets/img/image_placeholder.jpg';",3,"src"],["id","assetdetails-cityname",1,"event-fleet-name","ion-no-margin","fs-13","fw-500"],["shape","round","id","quizplaybuttonid",1,"mgr-5","navigate-btn","mg-0",3,"title","click"],[1,"fas","fa-lightbulb"],["shape","round","id","bookmarkbuttonid",1,"mgr-5","navigate-btn","mg-0",3,"title","click"],[1,"fas","fa-play"],["shape","round","id","followassetId",1,"follow-btn",3,"click"],["aria-hidden","true",1,"fas","fa-plus","mgr-5"],["shape","round","id","followassetId",1,"mgr-5","follow-btn",3,"click"],["aria-hidden","true",1,"fas","fa-check","mgr-5"],["shape","round","id","bookmarkbuttonid",1,"mgr-5","navigate-btn","mg-0",3,"title","disabled","click"],[1,"fas","fa-bookmark"],["ion-button","","clear","","item-end","","icon-start","","shape","round","id","",1,"assets-navigate-btn","locatebutton","mgr-5",3,"title","click"],[1,"icon-circle-target","circle-icon"],["shape","round","slot","end","id","fromassetbuttonid",1,"navigate-btn","mg-0","mgr-5",3,"title","click"],[1,"asset-icon-navigate-big"],["size","12"],[1,"asset-detail-content"],[1,"ion-no-padding"],["lines","none",1,"star-rating","ion-no-padding"],["class","inline-block",4,"ngIf"],["class","inline-block fleet-ratenow-btn",4,"ngIf"],[1,"inline-block"],[2,"color","black"],[1,"inline-block","fleet-ratenow-btn"],["class","inline-block","text-center","","id","ratenowid",3,"click",4,"ngIf"],["text-center","","id","ratenowid",1,"inline-block",3,"click"],["item-end","","md","md-heart","ios","ios-heart",1,"circle-icon"],[1,"vertical-align-m"],["item-end","","md","md-checkmark-circle","ios","ios-checkmark-circle",1,"circle-icon",2,"background","green"],[1,"vertical-align-m",2,"color","green"],[1,"scroll-item"],["class","inline-block top-asset-details vertical-align-m",4,"ngFor","ngForOf"],[1,"inline-block","top-asset-details","vertical-align-m"],["onerror","this.onerror=null;this.src='assets/map/pigeonmap/assets/noPreview.jpg';",2,"height","50px","width","50px","margin","0 auto",3,"src","click"],["class","position-relative detail-accordion-block",4,"ngIf"],[1,"detail-accordion-block"],["lines","none",1,"ion-no-padding","header-title-item","cursor-pointer",3,"click"],["slot","end",3,"name"],[1,"fs-16","fw-600",3,"innerHTML"],["class","ion-no-padding",4,"ngFor","ngForOf"],[1,"fs-13",3,"innerHTML","click"],[1,"position-relative","detail-accordion-block"],["class","position-relative",4,"ngFor","ngForOf"],[3,"innerHTML","click"],[1,"fs-16","fw-600"],["class","similar-items-content-list",4,"ngIf"],[1,"similar-items-content-list"],[1,"list-inline"],[1,"bg-gray-gradient","mgb-5"],[1,"ion-justify-content-end","bdt-1"],["size","12",1,"ion-no-padding","ion-text-end"],["className","btn btn-primary btn-sm","btnIcon","icon-view-all-solid mgr-5","id","viewallassetsbuttonid",3,"label","click"],["lines","none",1,"ion-no-padding","similar-items","cursor-pointer",3,"id","click"],["lines","none",1,"ion-no-padding","header-title-item",3,"click"],["size","12","class","ion-no-padding ion-text-end",4,"ngIf"],["lines","full",1,"ion-no-padding",3,"id","click"],["id","viewallpromotionsbuttonid","fill","none","color","primary",1,"ion-no-margin","viewall-btn",3,"click"],["slot","start","name","add-circle"],["class","developer-contact",4,"ngIf"],[1,"developer-contact"],[1,"address-list"],["class","ion-no-padding address-list-item","lines","none",4,"ngIf"],["class","ion-no-padding address-list-item","lines","none",3,"click",4,"ngIf"],["lines","none",1,"ion-no-padding","address-list-item"],["name","mail",1,"address-list-icon"],[1,"ion-no-padding","ion-no-margin"],[3,"href"],["lines","none",1,"ion-no-padding","address-list-item",3,"click"],["name","location",1,"address-list-icon"],["id","addressid"],["name","call",1,"address-list-icon"],["id","phonenumberid"],[3,"pageName","digitalAssetType","accessType","relatedTypeName","relatedTypeRecordObj",4,"ngIf"],[3,"pageName","digitalAssetType","accessType","relatedTypeName","relatedTypeRecordObj"],[1,"d-flex","align-items-center","justify-content-center","mgt-5"],["mandatory","false","id","years-dropdown",3,"options","defaultValue","valueChange"],["id","tagid",3,"header","listingVariables","paginator","data","expand","actions","ignoreDisplayView","mobileListData","totalRecords","totalPages","showSpinner","actionClicked","itemClickEvent","loadPageData"],["datatableComponent",""]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),e._UZ(4,"app-pageheader",4),e.qZA(),e.YNc(5,re,2,1,"div",5),e.TgZ(6,"div",6)(7,"div",7)(8,"ion-row")(9,"ion-col",8),e._UZ(10,"p",9),e.YNc(11,ce,2,1,"div",10),e.YNc(12,de,3,5,"div",11),e.qZA()(),e.TgZ(13,"div",12),e._UZ(14,"app-body-ads",13),e.qZA(),e.TgZ(15,"div",14)(16,"div",15),e.YNc(17,Oe,18,12,"ion-card",16),e.TgZ(18,"div",17)(19,"div",18)(20,"button",19),e.NdJ("click",function(){return o.closePopup()}),e._uU(21,"\xd7"),e.qZA(),e.TgZ(22,"video",20,21),e._UZ(24,"source",22),e._uU(25," Your browser does not support the video tag. "),e.qZA()()(),e.YNc(26,Ne,3,1,"ion-card",23),e.YNc(27,Fe,3,2,"div",24),e.YNc(28,Me,7,6,"ion-card",25),e.YNc(29,Re,7,5,"ion-card",25),e.YNc(30,Qe,7,5,"ion-card",25),e.TgZ(31,"div",26)(32,"app-tabgroup",27),e.NdJ("valueChange",function(r){return o.tabvalueChange(r)}),e.qZA(),e.TgZ(33,"div",12),e.YNc(34,Ke,2,1,"div",23),e.YNc(35,qe,5,13,"div",23),e.qZA()()()()()()(),e.TgZ(36,"app-mobile-fab-button",28),e.NdJ("selectedAction",function(r){return o.selectedFabAction(r)}),e.qZA()()),2&i&&(e.xp6(4),e.Q6J("pageName",o.dataJsonObj.pageName)("pageTitle",o.dataJsonObj.pageTitle)("selectedMenuId",null==o.dataJsonObj.queryParamsObj?null:o.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==o.dataJsonObj.queryParamsObj?null:o.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(1),e.Q6J("ngIf",null==o.dataJsonObj?null:o.dataJsonObj.showSpinner),e.xp6(5),e.Q6J("innerHTML",null==o.fleetData?null:o.fleetData.notes,e.oJD),e.xp6(1),e.Q6J("ngIf",(null==o.fleetData?null:o.fleetData.displayImagePath)&&(null==o.fleetData?null:o.fleetData.displayImageName)),e.xp6(1),e.Q6J("ngIf",!(null!=o.fleetData&&o.fleetData.displayImagePath&&null!=o.fleetData&&o.fleetData.displayImageName)),e.xp6(2),e.Q6J("selectedPage",o.dataJsonObj.selectedPage),e.xp6(3),e.Q6J("ngIf",o.locateFacility),e.xp6(7),e.hYB("src","",o.apiEndpoint,"assets/enterprises/",o.enterpriseId,"/ai_avatar/result_voice.mp4",e.LSH),e.xp6(2),e.Q6J("ngIf",0!==o.visualsLength),e.xp6(1),e.Q6J("ngForOf",null==o.fleetData?null:o.fleetData.custom_content_blocks),e.xp6(1),e.Q6J("ngIf",!0===o.isSimilarEnabled&&o.assetsList&&o.assetsList.length),e.xp6(1),e.Q6J("ngIf",!0===o.deals),e.xp6(1),e.Q6J("ngIf",!0===o.isContactdetailsEnabled&&!0===o.contactDetailsBlockDisplay),e.xp6(2),e.Q6J("tabSelectedIndex",o.dataJsonObj.selectedTab)("displayTabTitleData",o.dataJsonObj.displayTabTitle),e.xp6(2),e.Q6J("ngIf",(null==o.dataJsonObj?null:o.dataJsonObj.selectedTab)===(null==o.dataJsonObj.displayDigitalAssetsTabsJson?null:o.dataJsonObj.displayDigitalAssetsTabsJson.MEDIA)),e.xp6(1),e.Q6J("ngIf",(null==o.dataJsonObj?null:o.dataJsonObj.selectedTab)===(null==o.dataJsonObj.displayDigitalAssetsTabsJson?null:o.dataJsonObj.displayDigitalAssetsTabsJson.EVENTS)),e.xp6(1),e.Q6J("actionData",null==o.dataJsonObj?null:o.dataJsonObj.fabMobileactionsOptions))},dependencies:[S.sg,S.O5,$.r,W.k,X.n,ee.q,te.J,ie.S,ae.j,oe.v,O.X$,v.D],styles:[".popup-overlay[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:auto;height:auto;background:rgba(0,0,0,.6);z-index:999}.popup-content[_ngcontent-%COMP%]{position:fixed;right:20px;bottom:8%;width:70%;max-width:400px;background-color:#ffffffe6;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0003}video[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px;background-color:transparent}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-10px;right:-10px;background-color:#000;color:#fff;border:none;border-radius:50%;width:30px;height:30px;font-size:20px;cursor:pointer}@media (max-width: 480px){.popup-content[_ngcontent-%COMP%]{width:70%;max-width:none}.close-btn[_ngcontent-%COMP%]{width:25px;height:25px;font-size:18px}}",".facedetection-img-bg[_ngcontent-%COMP%]{background-position:top}"]})}return n})();var N=c(85623);const ze=[{path:"",data:{title:"facilitiesui"},children:[{path:"facilitiesui/list/:name",component:N.G,data:{object_type:a.hf.FACILITIES_UI,title:"trip planner",responsibilityParam:a.bP.MENUS+"."+a.w1.FACILITIES_UI+"."+a.bP.SUBMENUS+"."+a.w1.FACILITIES_UI+"."+a.In.ENABLED,pageName:a.hf.FACILITIESUI}},{path:"facilitiesui/list",component:N.G,data:{object_type:a.hf.FACILITIES_UI,title:"trip planner",responsibilityParam:a.bP.MENUS+"."+a.w1.FACILITIES_UI+"."+a.bP.SUBMENUS+"."+a.w1.FACILITIES_UI+"."+a.In.ENABLED,pageName:a.hf.FACILITIESUI}},{path:"facilitiesui/:name/list",component:N.G,data:{object_type:a.hf.FACILITIES_UI,title:"trip planner",responsibilityParam:a.bP.MENUS+"."+a.w1.FACILITIES_UI+"."+a.bP.SUBMENUS+"."+a.w1.FACILITIES_UI+"."+a.In.ENABLED,pageName:a.hf.FACILITIESUI}},{path:"facilitiesui/view",component:C,data:{object_type:a.hf.FACILITIES_UI,title:"trip planner",responsibilityParam:a.bP.MENUS+"."+a.w1.FACILITIES_UI+"."+a.bP.SUBMENUS+"."+a.w1.FACILITIES_UI+"."+a.In.VIEW,pageName:a.hf.FACILITIESUI,pageSetting:a.AM.ACTIONS,settingField:a.In.VIEW}},{path:"facilitiesui/:name/view",component:C,data:{object_type:a.hf.FACILITIES_UI,title:"trip planner",responsibilityParam:a.bP.MENUS+"."+a.w1.FACILITIES_UI+"."+a.bP.SUBMENUS+"."+a.w1.FACILITIES_UI+"."+a.In.VIEW,pageName:a.hf.FACILITIESUI}},{path:"facilitiesui/:name/:id/view",component:C,data:{object_type:a.hf.FACILITIES_UI,title:"trip planner",responsibilityParam:a.bP.MENUS+"."+a.w1.FACILITIES_UI+"."+a.bP.SUBMENUS+"."+a.w1.FACILITIES_UI+"."+a.In.VIEW,pageName:a.hf.FACILITIESUI}}]}];let $e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[b.Bz.forChild(ze),b.Bz]})}return n})();var x=c(24006),We=c(93144),Xe=c(65673),et=c(3848);let tt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[S.ez,O.aw,x.u5,x.UX,We.U$,k.fx,Xe.Q,M.D,$e,et.Nh]})}return n})()}}]);