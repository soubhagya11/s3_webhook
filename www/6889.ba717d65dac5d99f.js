"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6889],{86889:(L,h,r)=>{r.r(h),r.d(h,{EstoreModule:()=>R});var m=r(36895),n=r(11210),E=r(71568),c=r(45359),S=r(42786),s=r(32236),e=r(94650),l=r(62510),y=r(11481),u=r(70057),g=r(54463),T=r(37415);let p=(()=>{class i{estoreSettingsService;loggerService;route;sanitizer;commonService;loadingCtrl;translateService;configData;enterpriseId;estoreSettingsData;key;loading;storeUrl;theme;token;url;urlSafe;useremail;dataJsonObj={};errorObj={};constructor(t,a,o,d,N,M,I){this.estoreSettingsService=t,this.loggerService=a,this.route=o,this.sanitizer=d,this.commonService=N,this.loadingCtrl=M,this.translateService=I,this.token=JSON.parse(localStorage.getItem(s.BU.USER)),this.useremail=this.token.address[0].email,this.theme=this.configData?this.configData.estore_theme:"mlg"}getEstoreSettings(){try{this.enterpriseId=localStorage.getItem(s.BU.SELECTED_ENTERPRISE),this.estoreSettingsService.getAll(this.enterpriseId).then(t=>{this.estoreSettingsData=t.rows[0],this.storeUrl=this.estoreSettingsData.configoption_json.estoreConfigOptions.eagle_estore_url,this.swtchMethod()}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getEstoreSettings",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getEstoreSettings",t)}}ngOnInit(){this.dataJsonObj.pageName=s.hf.ESTORE,this.route.params.subscribe(t=>{this.key=t.key}),this.getEstoreSettings()}swtchMethod(){switch(this.key){case s.w1.CATALOG:this.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://"+this.storeUrl+"/?theme="+this.theme+"/&token="+this.useremail),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.ESTORE_CATALOG",value:"",showSubMenuDisplayName:!1}];break;case"yourorders":this.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://"+this.storeUrl+"/my-account/orders/?theme="+this.theme+"/&token="+this.useremail),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.ESTORE_ORDERS",value:"",showSubMenuDisplayName:!1}];break;case"shippingpolicy":this.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://"+this.storeUrl+"/shipping-policy/"),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.ESTORE_SHIPPINGPOLICY",value:"",showSubMenuDisplayName:!1}];break;case"privacypolicy":this.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://"+this.storeUrl+"/privacy-policy/"),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.ESTORE_PRIVACYPOLICY",value:"",showSubMenuDisplayName:!1}];break;case"returnpolicy":this.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://"+this.storeUrl+"/return-policy/"),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.ESTORE_RETURNPOLICY",value:"",showSubMenuDisplayName:!1}];break;case"termsandconditions":this.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://"+this.storeUrl+"/terms-conditions/"),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.ESTORE_TERMSANDCONDITIONS",value:"",showSubMenuDisplayName:!1}];break;case"registerasvendor":this.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://"+this.storeUrl+"/vendor-registration/"),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.ESTORE_REGISTERASVENDOR",value:"",showSubMenuDisplayName:!1}];break;case"vendorlist":this.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://"+this.storeUrl+"/vendors/"),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.ESTORE_VENDORLIST",value:"",showSubMenuDisplayName:!1}];break;default:this.url=this.sanitizer.bypassSecurityTrustResourceUrl("https://"+this.storeUrl+"/?theme="+this.theme+"/&token="+this.useremail),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.ESTORE",value:"",showSubMenuDisplayName:!1}]}}presentLoading(){try{this.loading=this.loadingCtrl.create({message:"Loading Please Wait..."}).then(t=>{t.present(),t.onDidDismiss().then(a=>{})}),this.dismissLoading()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"presentLoading",t)}}dismissLoading(){try{this.loadingCtrl.dismiss(!0)}catch(t){this.loggerService.setLoggerError(this.constructor.name,"dismissLoading",t)}}static \u0275fac=function(a){return new(a||i)(e.Y36(c.t),e.Y36(S.m),e.Y36(l.gz),e.Y36(y.H7),e.Y36(E.v),e.Y36(u.HT),e.Y36(g.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-estore"]],features:[e._Bn([c.t])],decls:11,vars:5,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],["ng-class","isPlatfromIOS? 'ios' : 'md'",1,"col-md-12"],["width","100%","frameborder","0",1,"pdt-60",2,"height","calc(100vh - 129px)",3,"src","load"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"iframe",10),e.NdJ("load",function(){return o.dismissLoading()}),e.qZA()()()()()()()()()),2&a&&(e.xp6(6),e.Q6J("pageName",o.dataJsonObj.pageName)("pageTitle",o.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.Q6J("src",o.url,e.uOi))},dependencies:[T.q],styles:["@media (min-width: 991px){.main-content-wrapper[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{height:calc(100vh - 50px)!important}}"]})}return i})();const O=[{path:"",redirectTo:"eagleestore/list",canActivate:[n.P],data:{object_type:s.hf.ESTORE,title:"estore",responsibilityParam:s.bP.MENUS+"."+s.w1.ESTORE+"."+s.Iu.ENABLED,pageName:s.hf.EAGLE_ESTORE}},{path:"eagleestore/list",component:p,canActivate:[n.P],data:{object_type:s.hf.ESTORE,title:"estore",responsibilityParam:s.bP.MENUS+"."+s.w1.ESTORE+"."+s.Iu.ENABLED,pageName:s.hf.EAGLE_ESTORE}},{path:":key/list",component:p,canActivate:[n.P],data:{object_type:s.hf.ESTORE,title:"key",responsibilityParam:s.bP.MENUS+"."+s.w1.ESTORE+"."+s.Iu.ENABLED,pageName:s.hf.EAGLE_ESTORE}}];let v=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[l.Bz.forChild(O),l.Bz]})}return i})();var f=r(24006),b=r(65673);let R=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[m.ez,u.Pc,b.Q,g.aw,f.u5,v]})}return i})()}}]);