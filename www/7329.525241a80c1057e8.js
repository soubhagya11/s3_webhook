"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7329],{27329:(sa,R,d)=>{d.r(R),d.d(R,{FacilitySpotlightModule:()=>la});var A=d(32174),L=d(67375),E=d(36895),v=d(11210),b=d(15861),y=d(71568),q=d(57936),G=d(75875),o=d(32236),Y=d(90313),e=d(94650);let S=(()=>{class l{authService;constructor(a){this.authService=a}getAll(a,i,t,n,s,g,c,u){const h=c||"",m=Y.L.isEmpty(u)?"":"&advSearchString="+JSON.stringify(u);return this.authService.getApiCall("api/v1/facilityspotlightscreens?skip="+i+"&limit="+t+"&type=list&sort="+n+"&search="+s+"&enterprise.enterprise_id="+a+g+h+m)}create(a,i){return new Promise((t,n)=>{const s=new FormData;i&&s.append("FacilitySpotlightScreenIcon",i,"FacilitySpotlightScreenIcon"),s.append("FacilitySpotlightScreenData",JSON.stringify(a)),this.authService.postApiCall("api/v1/facilityspotlightscreens/",s).subscribe(g=>{t(g)},g=>{n(g)})})}get(a,i){let t;return t=i?"api/v1/facilityspotlightscreens/"+a+"?enterprise.enterprise_id="+localStorage.getItem(o.BU.SELECTED_ENTERPRISE)+i:"api/v1/facilityspotlightscreens/"+a,this.authService.getApiCall(t,!0)}update(a,i,t){const n=new FormData;return t&&n.append("FacilitySpotlightScreenIcon",t,"FacilitySpotlightScreenIcon"),n.append("FacilitySpotlightScreenData",JSON.stringify(i)),new Promise((s,g)=>{this.authService.putApiCall("api/v1/facilityspotlightscreens/"+a,n).subscribe(c=>{s(c)},c=>{g(c)})})}editAnimalSpotlightData(a,i){return new Promise((t,n)=>{this.authService.patchApiCall("api/v1/facilityspotlightscreens/"+a,i).subscribe(s=>{t(s)},s=>{n(s)})})}getFacilities(a,i){return new Promise((t,n)=>{this.authService.getApiCall("api/v1/facilities?type=drop&enterprise.enterprise_id="+a+" &search="+i).subscribe(s=>{t(s)},s=>{n(s)})})}getFacilityImages(a,i){return new Promise((t,n)=>{this.authService.getApiCall("api/v1/facilityspotlightscreens?type=drop&enterprise.enterprise_id="+a+"&facility.facility_id="+i+"&existingimagescreens=true").subscribe(s=>{t(s)},s=>{n(s)})})}getTranslateLanguages(a){return new Promise((i,t)=>{this.authService.getApiCall("api/v1/configoptions?type=drop&enterprise.enterprise_id="+a+"&configoption_name=generalSettings").subscribe(n=>{i(n)},n=>{t(n)})})}static \u0275fac=function(i){return new(i||l)(e.LFG(G.e))};static \u0275prov=e.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var I=d(42786),Z=d(46448),_=d(62510),O=d(54463),J=d(27601),p=d(70057),M=d(2387),D=d(56368),P=d(9851),F=d(93837),U=d(68653),V=d(42919),j=d(37415),N=d(10805),f=d(93144),C=d(24006);const H=["descriptionInput"],Q=["facilitydropdown"],W=["screenNameValid"],z=["titleValid"],K=["translateTitleValid"],X=["translateTitleUpdate"],ee=["displayNameAdd"],ae=["languageAdd"],te=["displayNameUpdate"];function ie(l,r){if(1&l){const a=e.EpF();e.TgZ(0,"div",16)(1,"app-checkbox",17),e.NdJ("valueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changeImageCheckoxValue(t))}),e.qZA()()}if(2&l){const a=e.oxw();e.xp6(1),e.Q6J("options",a.imageCheckboxOptions)("checked",a.imageEnableCheckbox)}}function ne(l,r){if(1&l){const a=e.EpF();e.TgZ(0,"div",11)(1,"app-dropdown-singleselect",82),e.NdJ("valueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changePositionType(t))}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,3,"FACILITY_SPOTLIGHT.EXISTING_IMAGES")),e.s9C("defaultValue",a.existingImage),e.Q6J("options",a.facilityImageOptions)}}function le(l,r){if(1&l){const a=e.EpF();e.TgZ(0,"div",83)(1,"app-imageupload",84),e.NdJ("valueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changeProfileImage(t))}),e.qZA()()}}function se(l,r){if(1&l&&(e.TgZ(0,"div",83),e._UZ(1,"app-imageupload",85),e.qZA()),2&l){const a=e.oxw();e.xp6(1),e.s9C("defaultImage",a.imgFilepath)}}function oe(l,r){if(1&l&&(e.TgZ(0,"tr",87)(1,"td",88),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const a=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",a[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function re(l,r){if(1&l&&e.YNc(0,oe,4,4,"tr",86),2&l){const a=e.oxw();e.Q6J("ngIf",a.dataJsonObj.languagesData&&0==a.dataJsonObj.languagesData.length)}}function de(l,r){if(1&l&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){const a=r.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,a.header)," ")}}function ge(l,r){if(1&l&&(e.TgZ(0,"tr"),e.YNc(1,de,3,3,"th",89),e.qZA()),2&l){const a=r.$implicit;e.xp6(1),e.Q6J("ngForOf",a[0])}}function ce(l,r){if(1&l){const a=e.EpF();e.TgZ(0,"td",91),e.NdJ("click",function(){e.CHM(a);const t=e.oxw(),n=t.rowIndex,s=t.$implicit,g=e.oxw();return e.KtG(g.editLanguages(n,s))}),e._UZ(1,"span",92),e.qZA()}if(2&l){const a=r.$implicit,i=e.oxw().$implicit;e.Gre("",a.class," "),e.Q6J("pSelectableRow",i),e.xp6(1),e.Q6J("innerHTML",i[a.field],e.oJD)}}function pe(l,r){if(1&l&&(e.TgZ(0,"tr"),e.YNc(1,ce,2,5,"td",90),e.qZA()),2&l){const a=r.columns;e.xp6(1),e.Q6J("ngForOf",a[0])}}function ue(l,r){if(1&l&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",92)(6,"br"),e.qZA()),2&l){const a=r.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,a.header)),e.xp6(3),e.Q6J("innerHTML",i[a.field],e.oJD)}}function he(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,ue,7,4,"div",93),e.qZA()()()),2&l){const a=r.columns;e.xp6(1),e.uIk("colspan",a[0].length+2),e.xp6(2),e.Q6J("ngForOf",a[1])}}function me(l,r){if(1&l){const a=e.EpF();e.TgZ(0,"ion-item",94)(1,"ion-label",95),e.NdJ("click",function(){const t=e.CHM(a),n=t.index,s=t.$implicit,g=e.oxw();return e.KtG(g.editLanguages(n,s))}),e.TgZ(2,"div",96)(3,"span",97),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()(),e.TgZ(8,"div",98)(9,"span",99),e._uU(10),e.ALo(11,"translate"),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"span"),e._uU(14),e.qZA()(),e.TgZ(15,"div",98)(16,"span",99),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"span"),e._uU(20),e.qZA()()()()}if(2&l){const a=r.$implicit;e.xp6(4),e.hij("",e.lcZ(5,7,"PREFERENCES.LANGUAGE"),":"),e.xp6(3),e.Oqu(null==a?null:a.language_name_value),e.xp6(3),e.AsE("",e.lcZ(11,9,"COMMON_FIELDS.DISPLAY_NAME")," (",e.lcZ(12,11,"NEW_VARIABLES.TRANSLATED"),") :"),e.xp6(4),e.Oqu(null==a?null:a.display_name),e.xp6(3),e.hij("",e.lcZ(18,13,"COMMON_FIELDS.ENABLED"),":"),e.xp6(3),e.Oqu(null==a?null:a.is_enabled_value)}}function _e(l,r){1&l&&(e.TgZ(0,"p",100),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}let be=(()=>{class l{apiEndPointUrl;facilitySpotlightService;loggerService;navigationService;router;translateService;uiUtils;commonService;enterprisesService;route;descriptionInput;facilitydropdown;screenNameValid;titleValid;translateTitleValid;translateTitleUpdate;displayNameAdd;languageAdd;displayNameUpdate;animalSpotlightCheckbox=!0;apiEndPoint;checkboxOptions;ckeitor_message;description;enterprise;enterpriseId;enterpriseShortName;error;existingImage;existingImagesObj;facility;facilityId;facilityImageOptions;facilityOptions;imageCheckbox;imageCheckboxEnable=!1;imageCheckboxOptions;imageError;imagePreview=!1;imgFile;imgFilepath;screenName;submitenabled=!1;title;errorHtml;editorConfig={editable:!0,spellcheck:!0,height:"15rem",minHeight:"5rem",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["customClasses","insertImage","insertVideo","removeFormat","backgroundColor"]]};languageViewSignature={editable:!1,spellcheck:!0,height:"15rem",minHeight:"5rem",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!1,showToolbar:!1,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["customClasses","insertImage","insertVideo","removeFormat","backgroundColor"]]};dataJsonObj={};constructor(a,i,t,n,s,g,c,u,h,m){this.apiEndPointUrl=a,this.facilitySpotlightService=i,this.loggerService=t,this.navigationService=n,this.router=s,this.translateService=g,this.uiUtils=c,this.commonService=u,this.enterprisesService=h,this.route=m}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=o.hf.FACILITY_SPOTLIGHT_SCREENS,this.dataJsonObj.pageTitle=[{key:"FACILITY_SPOTLIGHT.FACILITY_SPOTLIGHT",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.checkboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.imageCheckboxOptions=[{displayname:this.translateService.instant("FACILITY_SPOTLIGHT.EXISTING_IMAGE")}],this.enterpriseId=localStorage.getItem(o.BU.SELECTED_ENTERPRISE),this.getDynamicJson([{folderName:o.sb.FACILITIES,jsonType:"list",storingFieldName:"facilitiesListJson"}]),this.dataJsonObj.languagesFromJson={},this.getLanguagesfromJson(),this.getEnterprisesViewData(),this.apiEndPoint=localStorage.getItem(o.BU.S3_URL)?localStorage.getItem(o.BU.S3_URL):this.apiEndPointUrl,this.dataJsonObj.disableTransAdd=!0,this.dataJsonObj.languagesData=[],this.dataJsonObj.facilitySpotlightScreensTlheaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-60"},{headersort:"disableth",field:"screen_display_name",header:"FACILITY_SPOTLIGHT.SCREEN_NAME",class:"w-60"},{headersort:"disableth",field:"title",header:"NEW_VARIABLES.TITLE",class:"w-60"},{headersort:"disableth",field:"display_name",header:this.translateService.instant("NEW_VARIABLES.TITLE")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"description",header:this.translateService.instant("COMMON_FIELDS.DESCRIPTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]]}getDynamicJson(a){var i=this;return(0,b.Z)(function*(){for(let t of a)i.dataJsonObj[t.storingFieldName]=yield i.commonService.getDynamicJson(i.enterpriseId,t.folderName,t.jsonType);i.getFacilities("")})()}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(localStorage.getItem(o.BU.SELECTED_ENTERPRISE)).subscribe(a=>{this.enterprise=a,this.enterpriseShortName=a.short_name},a=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",a)}}getFacilities(a){try{this.facilityOptions=this.dataJsonObj.facilitiesListJson?this.dataJsonObj.facilitiesListJson.filter(i=>i.status.lookup_name===o.t3.ACTIVE):[],this.commonService.getFilteredDynamicJSONData(this.dataJsonObj.facilitiesListJson,"facility_name",a).then(i=>{this.facilityOptions=i}).catch(i=>{this.loggerService.setLoggerError(this.constructor.name,"getFacilities",i)})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getFacilities",i)}}changeFacility(a){try{this.error="",this.submitenabled=!1,this.facilityId=a.ID,this.facility=a.NAME,this.imageCheckboxEnable="undefined"!==this.facility}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeFacility",i)}}changeScreenName(a){this.error="",this.screenName=a.value,this.submitenabled=!1,this.dataJsonObj.disableTransAdd=!this.screenName}changeTitle(a){this.title=a.value,this.dataJsonObj.languageTitle=a.value}changeLanguageTitle(a){this.dataJsonObj.addPopupError="",a&&(this.dataJsonObj.languageTitle=a.value)}changeCheckoxValue(a){this.animalSpotlightCheckbox=a.value}changeImageCheckoxValue(a){this.imageCheckbox=a.value,!0===this.imageCheckbox?(this.imagePreview=!0,this.imgFilepath="",this.getPositionTypeOptions()):(this.imageCheckbox=!1,this.imagePreview=!1,this.existingImage="")}changeDescription(a){this.description=a.value}changeProfileImage(a){try{""===a.error?(this.imageError="",this.imgFile=a.value):this.imageError=a.error}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeProfileImage",i)}}getPositionTypeOptions(){try{this.facilitySpotlightService.getFacilityImages(this.enterpriseId,this.facilityId).then(a=>{this.facilityImageOptions=JSON.parse(JSON.stringify(a));for(let i=0;i<this.facilityImageOptions.length;i++)this.facilityImageOptions[i].imageurl=this.apiEndPoint+this.facilityImageOptions[i].imageUrl},a=>{this.loggerService.setLoggerError(this.constructor.name,"getPositionTypeOptions",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getPositionTypeOptions",a)}}changePositionType(a){try{a.value&&(this.existingImage=a.value,this.existingImagesObj=this.facilityImageOptions.find(i=>i.ID===parseInt(this.existingImage,10)),this.imagePreview=!0,this.existingImagesObj.image_path&&this.existingImagesObj.image_name?this.imgFilepath=this.apiEndPoint+this.existingImagesObj.image_path+"/"+this.existingImagesObj.image_name:(this.imgFilepath="",this.imagePreview=!1))}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changePositionType",i)}}createRecord(){try{if(this.facilitydropdown.isValid()&&this.screenNameValid.isValid()&&this.titleValid.isValid()){this.submitenabled=!0;const a={enterprise:{enterprise_id:this.enterprise._id,enterprise_name:this.enterprise.enterprise_name,short_name:this.enterprise.short_name},facility:{facility_id:this.facilityId,facility_name:this.facility},screen_display_name:this.screenName,title:this.title,description:this.ckeitor_message,is_enabled:this.animalSpotlightCheckbox,image_path:this.existingImagesObj?this.existingImagesObj.image_path:"",image_name:this.existingImagesObj?this.existingImagesObj.image_name:"",language_translations:this.dataJsonObj.languagesData};this.imgFile=this.imgFile?this.commonService.dataURItoImgBlob(this.imgFile,"image/jpeg"):"",this.facilitySpotlightService.create(a,this.imgFile).then(i=>{this.submitenabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),this.commonService.redirectToPreviousUrl()},i=>{this.commonErrorCodes(JSON.parse(i)),this.loggerService.setLoggerError(this.constructor.name,"createRecord",i)})}}catch(a){this.loggerService.setLoggerError(this.constructor.name,"createRecord",a)}}commonErrorCodes(a){try{409===JSON.parse(a[o.BU.STATUS])&&(this.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}catch(i){this.loggerService.setLoggerError(this.constructor.name,"commonErrorCodes",i)}}cancelBtn(){try{this.commonService.redirectToPreviousUrl()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"cancelBtn",a)}}clearMessage(){this.errorHtml=""}cancelPopUpButton(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",a)}}languagesAdd(a){try{this.dataJsonObj.disableTransAdd||(a.stopPropagation(),this.displayNameAdd.clearmessage(),this.languageAdd.clearmessage(),this.languageAdd.clearSelectInput(),this.dataJsonObj.languageCode="",this.dataJsonObj.languageName="",this.dataJsonObj.addPopupError="",this.dataJsonObj.langTransDisplayname="",this.dataJsonObj.langTransDescription="",this.dataJsonObj.isLangTransEnabled=!0,this.getLanguagesList(""),$("#exampleModal5").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal5"))}catch(i){this.loggerService.setLoggerError(this.constructor.name,"languagesAdd",i)}}onClick(a){a.stopPropagation()}removeLanguages(a,i){try{this.dataJsonObj.deleteRowIndex=a,this.dataJsonObj.languageCode=i.language.language_code,this.dataJsonObj.languageId=i.language.language_id,this.dataJsonObj.languageName=i.language_name_value,this.dataJsonObj.languageTitle=i.title,this.dataJsonObj.langTransDisplayname=i.display_name,this.dataJsonObj.langTransDescription=i.description,this.dataJsonObj.isLangTransEnabled=i.is_enabled,$("#exampleModal7").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal7")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"removeLanguages",t)}}editLanguages(a,i){try{this.dataJsonObj.editRowIndex=a,this.dataJsonObj.languageCode=i.language.language_code,this.dataJsonObj.languageId=i.language.language_id,this.dataJsonObj.languageName=i.language_name_value,this.dataJsonObj.langTransDisplayname=i.display_name,this.dataJsonObj.languageTitle=i.title,this.dataJsonObj.langTransDescription=i.description,this.dataJsonObj.isLangTransEnabled=i.is_enabled,this.displayNameUpdate.clearmessage(),$("#exampleModal6").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal6")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"editLanguages",t)}}spotlightScreenTranslationCreate(){try{this.languageAdd.isValid()&&this.translateTitleValid.isValid()&&this.displayNameAdd.isValid()&&(this.dataJsonObj.languageDatavalid=this.dataJsonObj.languagesData.find(a=>a.screen_display_name===this.screenName.toString()&&a.language.language_id===this.dataJsonObj.languageId),this.dataJsonObj.languageDatavalid?this.dataJsonObj.addPopupError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS":(this.dataJsonObj.languagesData.push({language:{language_id:this.dataJsonObj.languageId,language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode},screen_display_name:this.screenName,title:this.dataJsonObj.languageTitle,language_name_value:this.dataJsonObj.languageName,display_name:this.dataJsonObj.langTransDisplayname,description:this.dataJsonObj.langTransDescription,is_enabled:this.dataJsonObj.isLangTransEnabled,is_enabled_value:this.dataJsonObj.isLangTransEnabled?"Yes":"No"}),$("#exampleModal5").modal("hide")))}catch(a){this.loggerService.setLoggerError(this.constructor.name,"languagesAddSubmit",a)}}getLanguagesfromJson(){var a=this;return(0,b.Z)(function*(){a.dataJsonObj.languagesFromJson=yield a.commonService.getLanguagesListJson(a.enterpriseId)})()}getLanguagesList(a){var i=this;return(0,b.Z)(function*(){try{i.facilitySpotlightService.getTranslateLanguages(i.enterpriseId).then(t=>{if(i.dataJsonObj.translateLanguageOptions=t[0].configoption_json.languages,i.dataJsonObj.translateLanguageOptions&&i.dataJsonObj.translateLanguageOptions.length>0){for(let n=0;n<i.dataJsonObj.translateLanguageOptions.length;n++)i.dataJsonObj.translateLanguageOptions[n].ID=i.dataJsonObj.translateLanguageOptions[n].language_id,i.dataJsonObj.translateLanguageOptions[n].NAME=i.dataJsonObj.languagesFromJson[i.dataJsonObj.translateLanguageOptions[n].language_name].language_display_name,i.dataJsonObj.translateLanguageOptions[n].language_code=i.dataJsonObj.translateLanguageOptions[n].language_code,i.dataJsonObj.translateLanguageOptions[n].language_id=i.dataJsonObj.translateLanguageOptions[n].language_id,i.dataJsonObj.translateLanguageOptions[n].language_name=i.dataJsonObj.translateLanguageOptions[n].language_name;if(i.dataJsonObj.translateLanguageOptions&&a){const n=i.dataJsonObj.translateLanguageOptions.filter(function(s){return s.NAME.toLowerCase().includes(a.toLowerCase())});i.dataJsonObj.translateLanguageOptions=n}}},t=>{i.loggerService.setLoggerError(i.constructor.name,"getLanguagesList",t)})}catch(t){i.loggerService.setLoggerError(i.constructor.name,"getLanguagesList",t)}})()}changeLanguage(a){this.dataJsonObj.addPopupError="",a&&(this.dataJsonObj.languageId=a.ID,this.dataJsonObj.languageName=a.NAME,this.dataJsonObj.language=a.language_name,this.dataJsonObj.languageCode=a.language_code)}changeLangTransDisplayname(a){this.dataJsonObj.addPopupError="",a&&(this.dataJsonObj.langTransDisplayname=a.value)}changeLangTransDescription(a){a&&(this.dataJsonObj.langTransDescription=a.value)}languagesEditSubmit(){try{if(this.displayNameUpdate.isValid()&&this.translateTitleUpdate.isValid()){for(let a=0;a<this.dataJsonObj.languagesData.length;a++)a===this.dataJsonObj.editRowIndex&&(this.dataJsonObj.languagesData[a].language={language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode,language_id:this.dataJsonObj.languageId},this.dataJsonObj.languagesData[a].language_name_value=this.dataJsonObj.languageName,this.dataJsonObj.languagesData[a].title=this.dataJsonObj.languageTitle,this.dataJsonObj.languagesData[a].display_name=this.dataJsonObj.langTransDisplayname,this.dataJsonObj.languagesData[a].description=this.dataJsonObj.langTransDescription,this.dataJsonObj.languagesData[a].is_enabled=this.dataJsonObj.isLangTransEnabled,this.dataJsonObj.languagesData[a].is_enabled_value=!0===this.dataJsonObj.isLangTransEnabled?"Yes":"No");$("#exampleModal6").modal("hide")}}catch(a){this.loggerService.setLoggerError(this.constructor.name,"languagesEditSubmit",a)}}changeLangTransCheckBox(a){this.dataJsonObj.addPopupError="",a&&(this.dataJsonObj.isLangTransEnabled=a.value)}languagesDeleteSubmit(){try{this.dataJsonObj.languagesData.splice(this.dataJsonObj.deleteRowIndex,1),$("#exampleModal7").modal("hide")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"languagesDeleteSubmit",a)}}static \u0275fac=function(i){return new(i||l)(e.Y36("apiEndPoint"),e.Y36(S),e.Y36(I.m),e.Y36(Z.f),e.Y36(_.F0),e.Y36(O.sK),e.Y36(J.s),e.Y36(y.v),e.Y36(q.e),e.Y36(_.gz))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-facility-spotlight-create"]],viewQuery:function(i,t){if(1&i&&(e.Gf(H,5),e.Gf(Q,5),e.Gf(W,5),e.Gf(z,5),e.Gf(K,5),e.Gf(X,5),e.Gf(ee,5),e.Gf(ae,5),e.Gf(te,5)),2&i){let n;e.iGM(n=e.CRH())&&(t.descriptionInput=n.first),e.iGM(n=e.CRH())&&(t.facilitydropdown=n.first),e.iGM(n=e.CRH())&&(t.screenNameValid=n.first),e.iGM(n=e.CRH())&&(t.titleValid=n.first),e.iGM(n=e.CRH())&&(t.translateTitleValid=n.first),e.iGM(n=e.CRH())&&(t.translateTitleUpdate=n.first),e.iGM(n=e.CRH())&&(t.displayNameAdd=n.first),e.iGM(n=e.CRH())&&(t.languageAdd=n.first),e.iGM(n=e.CRH())&&(t.displayNameUpdate=n.first)}},features:[e._Bn([S])],decls:175,vars:181,consts:[[1,"container-fluid"],["id","extraPaddingBottomID",1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-4"],["mandatory","true","disabled","false","id","animal-spotlight-screen-create-facility",3,"label","options","defaultValue","selectedOption","searchValueChange"],["facilitydropdown",""],["disabled","false","mandatory","true","id","animal-spotlight-screen-create-screenname",3,"label","value","valueChange"],["screenNameValid",""],[1,"col-md-2","d-flex","align-items-center"],["label","","disabled","false","mandatory","true","id","animal-spotlight-screen-create-checkboxoptions",3,"options","checked","valueChange"],[1,"col-md-8"],["autoCaseFlag","false","disabled","false","id","animal-spotlight-screen-create-title","mandatory","true",3,"label","value","valueChange"],["titleValid",""],["class","col-md-2 d-flex align-items-center",4,"ngIf"],["class","col-md-4",4,"ngIf"],["class","col-lg-1 col-md-2 pdl-0 order-md-1",4,"ngIf"],[1,"col-lg-12","col-md-12","order-md-1","order-2"],[1,"fs-12"],["id","animal-spotlight-screen-create-description",3,"ngModel","config","ngModelChange"],[1,"col-md-12","text-end","mt-2","order-md-1","order-2"],["className","btn btn-primary btn-sm","id","animal-spotlight-screen-create-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","animal-spotlight-screen-create-cancel",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","customscreenstaticcontent-create-translationsadd",3,"disabled","isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","hidden-md-down","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"hidden-md-up"],["lines","full","class","pdl-0 pdr-0",4,"ngFor","ngForOf"],["class","text-center text-danger mb-0 no-data-txt",4,"ngIf"],["id","exampleModal5","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],["disabled","true","id","customscreenstaticcontent-create-translationsadd-contentpagename",3,"label","value"],["mandatory","true","id","customscreenstaticcontent-create-translationsadd-languagename",3,"label","options","selectedOption","searchValueChange"],["languageAdd",""],["disabled","true","mandatory","true","id","customscreenstaticcontent-create-translations-delete-contentname",3,"label","value","valueChange"],["translateTitleValid",""],["disabled","false","mandatory","true","autoCaseFlag","false","id","customscreenstaticcontent-create-translationsadd-displayname",3,"label","value","maxlength","valueChange"],["displayNameAdd",""],[1,"col-md-4","d-flex","align-items-center"],["label","","mandatory","true","id","customscreenstaticcontent-create-translationsadd-checkboxoptions",3,"options","checked","valueChange"],[1,"col-lg-12","col-md-12"],["id","customscreenstaticcontent-create-translationsadd-description",3,"ngModel","config","ngModelChange","keypress"],[1,"error-msg","col-md-10","text-danger","text-center","mb-0"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","customscreenstaticcontent-create-translationsadd-add-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","customscreenstaticcontent-create-translationsadd-cancel-btn",3,"label","buttonOnClick"],["id","exampleModal6","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","customscreenstaticcontent-create-translationsedit-contentpagename",3,"label","value"],["mandatory","true","disabled","false","id","customscreenstaticcontent-create-translationsedit-language",3,"label","value"],["translateTitleUpdate",""],["disabled","false","mandatory","true","autoCaseFlag","false","id","customscreenstaticcontent-create-translationsedit-displayname",3,"label","value","maxlength","valueChange"],["displayNameUpdate",""],["label","","mandatory","true","id","customscreenstaticcontent-create-translationsedit-checkboxoptions",3,"options","checked","valueChange"],["id","customscreenstaticcontent-create-translationsedit-description",3,"ngModel","config","ngModelChange","keypress"],["className","btn btn-primary btn-sm","id","customscreenstaticcontent-create-translationsedit-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","customscreenstaticcontent-create-translationsedit-cancel-btn",3,"label","buttonOnClick"],["id","exampleModal7","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","customscreenstaticcontent-create-translations-delete-contentname",3,"label","value"],["mandatory","false","disabled","true","id","customscreenstaticcontent-create-translations-delete-language",3,"label","value"],["disabled","true","id","customscreenstaticcontent-create-translations-delete-displayname","mandatory","true",3,"label","value"],["label","","mandatory","false","id","customscreenstaticcontent-create-translations-delete-checkboxoption","disabled","true",3,"options","checked"],["ng-disabled","true","id","customscreenstaticcontent-create-translations-delete-description",3,"ngModel","config","ngModelChange"],["className","btn btn-primary btn-sm","id","customscreenstaticcontent-create-translations-delete-delete-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","customscreenstaticcontent-create-translations-delete-cancel-btn",3,"label","buttonOnClick"],["displayImageForOptions","true","id","animal-spotlight-screen-details-create-addpopup-position",3,"label","options","defaultValue","valueChange"],[1,"col-lg-1","col-md-2","pdl-0","order-md-1"],["type","file","btnHide","true","action","create","id","animal-spotlight-screen-create-image",1,"edit-pic",3,"valueChange"],["id","animal-spotlight-screen-view-image",1,"thumbnail-view",3,"defaultImage"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","click"],[3,"innerHTML"],["class","col-md-12",4,"ngFor","ngForOf"],["lines","full",1,"pdl-0","pdr-0"],[1,"mg-0",3,"click"],[1,"mg-0","fs-13"],["color","primary",1,"h3"],[1,"mg-0","fs-11"],[1,"h3"],[1,"text-center","text-danger","mb-0","no-data-txt"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"app-dropdown-search",12,13),e.NdJ("selectedOption",function(s){return t.changeFacility(s)})("searchValueChange",function(s){return t.getFacilities(s)}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",11)(16,"app-input",14,15),e.NdJ("valueChange",function(s){return t.changeScreenName(s)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",16)(20,"app-checkbox",17),e.NdJ("valueChange",function(s){return t.changeCheckoxValue(s)}),e.qZA()(),e.TgZ(21,"div",18)(22,"app-input",19,20),e.NdJ("valueChange",function(s){return t.changeTitle(s)}),e.ALo(24,"translate"),e.qZA()(),e.YNc(25,ie,2,2,"div",21),e.YNc(26,ne,3,5,"div",22),e.qZA()(),e.YNc(27,le,2,0,"div",23),e.YNc(28,se,2,1,"div",23),e.TgZ(29,"div",24)(30,"ion-label",25),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"angular-editor",26),e.NdJ("ngModelChange",function(s){return t.ckeitor_message=s}),e.qZA()(),e.TgZ(34,"div",27)(35,"app-button",28),e.NdJ("buttonOnClick",function(){return t.createRecord()}),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"app-button",29),e.NdJ("buttonOnClick",function(){return t.cancelBtn()}),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",30),e._uU(40),e.ALo(41,"translate"),e.qZA()()()()(),e.TgZ(42,"div",24)(43,"p-accordion",31)(44,"p-accordionTab",32)(45,"p-header",33)(46,"span"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"app-button",34),e.NdJ("buttonOnClick",function(s){return t.languagesAdd(s)})("buttonOnClick",function(s){return t.onClick(s)}),e.qZA()(),e.TgZ(50,"p-table",35),e.YNc(51,re,1,1,"ng-template",36),e.YNc(52,ge,2,1,"ng-template",37),e.YNc(53,pe,2,1,"ng-template",38),e.YNc(54,he,4,2,"ng-template",39),e.qZA(),e.TgZ(55,"div",40)(56,"ion-list"),e.YNc(57,me,21,15,"ion-item",41),e.qZA(),e.YNc(58,_e,3,3,"p",42),e.qZA()()()()()()(),e.TgZ(59,"div",43)(60,"div",44)(61,"div",45)(62,"div",46)(63,"div",47),e._uU(64),e.ALo(65,"translate"),e.ALo(66,"translate"),e.qZA()(),e.TgZ(67,"div",48)(68,"div",8)(69,"div",11),e._UZ(70,"app-input",49),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"div",11)(73,"app-dropdown-search",50,51),e.NdJ("selectedOption",function(s){return t.changeLanguage(s)})("searchValueChange",function(s){return t.getLanguagesList(s)}),e.ALo(75,"translate"),e.qZA()(),e.TgZ(76,"div",11)(77,"app-input",52,53),e.NdJ("valueChange",function(s){return t.changeLanguageTitle(s)}),e.ALo(79,"translate"),e.qZA()(),e.TgZ(80,"div",11)(81,"app-input",54,55),e.NdJ("valueChange",function(s){return t.changeLangTransDisplayname(s)}),e.ALo(83,"translate"),e.ALo(84,"translate"),e.qZA()(),e.TgZ(85,"div",56)(86,"app-checkbox",57),e.NdJ("valueChange",function(s){return t.changeLangTransCheckBox(s)}),e.qZA()(),e.TgZ(87,"div",58)(88,"ion-label",25),e._uU(89),e.ALo(90,"translate"),e.ALo(91,"translate"),e.qZA(),e.TgZ(92,"angular-editor",59),e.NdJ("ngModelChange",function(s){return t.dataJsonObj.langTransDescription=s})("keypress",function(){return t.clearMessage()}),e.qZA()(),e.TgZ(93,"div",60),e._uU(94),e.ALo(95,"translate"),e.qZA(),e.TgZ(96,"div",61)(97,"app-button",62),e.NdJ("buttonOnClick",function(){return t.spotlightScreenTranslationCreate()}),e.ALo(98,"translate"),e.qZA(),e.TgZ(99,"app-button",63),e.NdJ("buttonOnClick",function(){return t.cancelPopUpButton()}),e.ALo(100,"translate"),e.qZA()()()()()()(),e.TgZ(101,"div",64)(102,"div",44)(103,"div",45)(104,"div",46)(105,"div",47),e._uU(106),e.ALo(107,"translate"),e.ALo(108,"translate"),e.qZA()(),e.TgZ(109,"div",48)(110,"div",8)(111,"div",11),e._UZ(112,"app-input",65),e.ALo(113,"translate"),e.qZA(),e.TgZ(114,"div",11),e._UZ(115,"app-input",66),e.ALo(116,"translate"),e.qZA(),e.TgZ(117,"div",11)(118,"app-input",52,67),e.NdJ("valueChange",function(s){return t.changeLanguageTitle(s)}),e.ALo(120,"translate"),e.qZA()(),e.TgZ(121,"div",11)(122,"app-input",68,69),e.NdJ("valueChange",function(s){return t.changeLangTransDisplayname(s)}),e.ALo(124,"translate"),e.ALo(125,"translate"),e.qZA()(),e.TgZ(126,"div",56)(127,"app-checkbox",70),e.NdJ("valueChange",function(s){return t.changeLangTransCheckBox(s)}),e.qZA()(),e.TgZ(128,"div",58)(129,"ion-label",25),e._uU(130),e.ALo(131,"translate"),e.ALo(132,"translate"),e.qZA(),e.TgZ(133,"angular-editor",71),e.NdJ("ngModelChange",function(s){return t.dataJsonObj.langTransDescription=s})("keypress",function(){return t.clearMessage()}),e.qZA()(),e.TgZ(134,"div",61)(135,"app-button",72),e.NdJ("buttonOnClick",function(){return t.languagesEditSubmit()}),e.ALo(136,"translate"),e.qZA(),e.TgZ(137,"app-button",73),e.NdJ("buttonOnClick",function(){return t.cancelPopUpButton()}),e.ALo(138,"translate"),e.qZA()()()()()()(),e.TgZ(139,"div",74)(140,"div",44)(141,"div",45)(142,"div",46)(143,"div",47),e._uU(144),e.ALo(145,"translate"),e.ALo(146,"translate"),e.qZA()(),e.TgZ(147,"div",48)(148,"div",8)(149,"div",11),e._UZ(150,"app-input",75),e.ALo(151,"translate"),e.qZA(),e.TgZ(152,"div",11),e._UZ(153,"app-input",76),e.ALo(154,"translate"),e.qZA(),e.TgZ(155,"div",11),e._UZ(156,"app-input",75),e.ALo(157,"translate"),e.qZA(),e.TgZ(158,"div",11),e._UZ(159,"app-input",77),e.ALo(160,"translate"),e.ALo(161,"translate"),e.qZA(),e.TgZ(162,"div",56),e._UZ(163,"app-checkbox",78),e.qZA(),e.TgZ(164,"div",58)(165,"ion-label",25),e._uU(166),e.ALo(167,"translate"),e.ALo(168,"translate"),e.qZA(),e.TgZ(169,"angular-editor",79),e.NdJ("ngModelChange",function(s){return t.dataJsonObj.langTransDescription=s}),e.qZA()(),e.TgZ(170,"div",61)(171,"app-button",80),e.NdJ("buttonOnClick",function(){return t.languagesDeleteSubmit()}),e.ALo(172,"translate"),e.qZA(),e.TgZ(173,"app-button",81),e.NdJ("buttonOnClick",function(){return t.cancelPopUpButton()}),e.ALo(174,"translate"),e.qZA()()()()()()()),2&i&&(e.xp6(6),e.Q6J("pageName",t.dataJsonObj.pageName)("pageTitle",t.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(6),e.s9C("label",e.lcZ(14,97,"COMMON_PAGE_TITLES.FACILITY")),e.s9C("defaultValue",t.facility),e.Q6J("options",t.facilityOptions),e.xp6(4),e.s9C("label",e.lcZ(18,99,"FACILITY_SPOTLIGHT.SCREEN_NAME")),e.s9C("value",t.screenName),e.xp6(4),e.Q6J("options",t.checkboxOptions)("checked",t.animalSpotlightCheckbox),e.xp6(2),e.s9C("label",e.lcZ(24,101,"NEW_VARIABLES.TITLE")),e.s9C("value",t.title),e.xp6(3),e.Q6J("ngIf",!0===t.imageCheckboxEnable),e.xp6(1),e.Q6J("ngIf",!0===t.imageCheckbox),e.xp6(1),e.Q6J("ngIf",!1===t.imagePreview),e.xp6(1),e.Q6J("ngIf",!0===t.imagePreview),e.xp6(3),e.hij(" ",e.lcZ(32,103,"COMMON_FIELDS.DESCRIPTION")," "),e.xp6(2),e.Q6J("ngModel",t.ckeitor_message)("config",t.editorConfig),e.xp6(2),e.s9C("label",e.lcZ(36,105,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.Q6J("disabled",t.submitenabled),e.xp6(2),e.s9C("label",e.lcZ(38,107,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(41,109,t.error)," "),e.xp6(3),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(48,111,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")),e.xp6(2),e.s9C("disabled",null==t.dataJsonObj?null:t.dataJsonObj.disableTransAdd),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",null==t.dataJsonObj?null:t.dataJsonObj.facilitySpotlightScreensTlheaders)("value",t.dataJsonObj.languagesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(7),e.Q6J("ngForOf",t.dataJsonObj.languagesData),e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.languagesData&&0==t.dataJsonObj.languagesData.length),e.xp6(6),e.AsE("",e.lcZ(65,113,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(66,115,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(71,117,"FACILITY_SPOTLIGHT.SCREEN_NAME")),e.s9C("value",t.screenName),e.xp6(3),e.s9C("label",e.lcZ(75,119,"PREFERENCES.LANGUAGE")),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.translateLanguageOptions),e.xp6(4),e.s9C("label",e.lcZ(79,121,"NEW_VARIABLES.TITLE")),e.s9C("value",t.dataJsonObj.languageTitle),e.xp6(4),e.hYB("label","",e.lcZ(83,123,"NEW_VARIABLES.TITLE")," (",e.lcZ(84,125,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(5),e.Q6J("options",t.checkboxOptions)("checked",null==t.dataJsonObj?null:t.dataJsonObj.isLangTransEnabled),e.xp6(3),e.AsE(" ",e.lcZ(90,127,"COMMON_FIELDS.DESCRIPTION")," (",e.lcZ(91,129,"NEW_VARIABLES.TRANSLATED"),")"),e.xp6(3),e.Q6J("ngModel",t.dataJsonObj.langTransDescription)("config",t.editorConfig),e.xp6(2),e.hij(" ",e.lcZ(95,131,null==t.dataJsonObj?null:t.dataJsonObj.addPopupError)," "),e.xp6(3),e.s9C("label",e.lcZ(98,133,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(100,135,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(107,137,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(108,139,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(113,141,"FACILITY_SPOTLIGHT.SCREEN_NAME")),e.s9C("value",t.screenName),e.xp6(3),e.s9C("label",e.lcZ(116,143,"PREFERENCES.LANGUAGE")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.languageName),e.xp6(3),e.s9C("label",e.lcZ(120,145,"NEW_VARIABLES.TITLE")),e.s9C("value",t.dataJsonObj.languageTitle),e.xp6(4),e.hYB("label","",e.lcZ(124,147,"NEW_VARIABLES.TITLE")," (",e.lcZ(125,149,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(5),e.Q6J("options",t.checkboxOptions)("checked",null==t.dataJsonObj?null:t.dataJsonObj.isLangTransEnabled),e.xp6(3),e.AsE(" ",e.lcZ(131,151,"COMMON_FIELDS.DESCRIPTION")," (",e.lcZ(132,153,"NEW_VARIABLES.TRANSLATED"),")"),e.xp6(3),e.Q6J("ngModel",t.dataJsonObj.langTransDescription)("config",t.editorConfig),e.xp6(2),e.s9C("label",e.lcZ(136,155,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(138,157,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(145,159,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(146,161,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(151,163,"FACILITY_SPOTLIGHT.SCREEN_NAME")),e.s9C("value",t.screenName),e.xp6(3),e.s9C("label",e.lcZ(154,165,"PREFERENCES.LANGUAGE")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.languageName),e.xp6(3),e.s9C("label",e.lcZ(157,167,"NEW_VARIABLES.TITLE")),e.s9C("value",t.title),e.xp6(3),e.hYB("label","",e.lcZ(160,169,"NEW_VARIABLES.TITLE")," (",e.lcZ(161,171,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.langTransDisplayname),e.xp6(4),e.Q6J("options",t.checkboxOptions)("checked",null==t.dataJsonObj?null:t.dataJsonObj.isLangTransEnabled),e.xp6(3),e.AsE(" ",e.lcZ(167,173,"COMMON_FIELDS.DESCRIPTION")," (",e.lcZ(168,175,"NEW_VARIABLES.TRANSLATED"),")"),e.xp6(3),e.Q6J("ngModel",t.dataJsonObj.langTransDescription)("config",t.languageViewSignature),e.xp6(2),e.s9C("label",e.lcZ(172,177,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(174,179,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[E.sg,E.O5,p.Ie,p.Q$,p.q_,M.r,D.a,P.k,F.b,U.f,V.C,j.q,A.UQ,A.US,N.h4,N.jx,f.iA,f.Ei,L.s6,C.JJ,C.On,O.X$]})}return l})();var w=d(47561),x=d(11735);const Te=["screenNameValid"],Se=["titleValid"],Oe=["translateTitleValid"],Ce=["translateTitleUpdate"],Ae=["languageAdd"],Ee=["displayNameAdd"],fe=["displayNameUpdate"];function ye(l,r){if(1&l){const a=e.EpF();e.TgZ(0,"div",53)(1,"app-dropdown-singleselect",87),e.NdJ("valueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changePositionType(t))}),e.ALo(2,"translate"),e.qZA()()}if(2&l){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,3,"FACILITY_SPOTLIGHT.EXISTING_IMAGES")),e.s9C("defaultValue",a.existingImage),e.Q6J("options",a.facilityImageOptions)}}function Ne(l,r){if(1&l){const a=e.EpF();e.TgZ(0,"div",88)(1,"app-imageupload",89),e.NdJ("valueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changeProfileImage(t))})("imageRemove",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.imageRemove())})("deleteClick",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.deleteImgClick(t))}),e.qZA()()}if(2&l){const a=e.oxw();e.xp6(1),e.s9C("defaultImage",a.imgFilepath),e.s9C("imageName",null==a.animalSpotlightViewData||null==a.animalSpotlightViewData.facility?null:a.animalSpotlightViewData.facility.facility_name),e.Q6J("enableImageDelete",a.enableImageDeleteValue)}}function Le(l,r){if(1&l&&(e.TgZ(0,"div",90),e._UZ(1,"app-imageupload",91),e.qZA()),2&l){const a=e.oxw();e.xp6(1),e.s9C("defaultImage",a.imgpath)}}function ve(l,r){if(1&l&&(e.TgZ(0,"tr",93)(1,"td",94),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const a=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",a[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Ie(l,r){if(1&l&&e.YNc(0,ve,4,4,"tr",92),2&l){const a=e.oxw();e.Q6J("ngIf",a.dataJsonObj.languagesData&&0==a.dataJsonObj.languagesData.length)}}function Je(l,r){if(1&l&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){const a=r.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,a.header)," ")}}function je(l,r){if(1&l&&(e.TgZ(0,"tr"),e.YNc(1,Je,3,3,"th",95),e.qZA()),2&l){const a=r.$implicit;e.xp6(1),e.Q6J("ngForOf",a[0])}}function Ze(l,r){if(1&l){const a=e.EpF();e.TgZ(0,"td",97),e.NdJ("click",function(){e.CHM(a);const t=e.oxw(),n=t.rowIndex,s=t.$implicit,g=e.oxw();return e.KtG(g.editLanguages(n,s))}),e._UZ(1,"span",98),e.qZA()}if(2&l){const a=r.$implicit,i=e.oxw().$implicit;e.Gre("",a.class," "),e.Q6J("pSelectableRow",i),e.xp6(1),e.Q6J("innerHTML",i[a.field],e.oJD)}}function Me(l,r){if(1&l&&(e.TgZ(0,"tr"),e.YNc(1,Ze,2,5,"td",96),e.qZA()),2&l){const a=r.columns;e.xp6(1),e.Q6J("ngForOf",a[0])}}function De(l,r){if(1&l&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",98)(6,"br"),e.qZA()),2&l){const a=r.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,a.header)),e.xp6(3),e.Q6J("innerHTML",i[a.field],e.oJD)}}function Fe(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,De,7,4,"div",99),e.qZA()()()),2&l){const a=r.columns;e.xp6(1),e.uIk("colspan",a[0].length+2),e.xp6(2),e.Q6J("ngForOf",a[1])}}function Ue(l,r){if(1&l){const a=e.EpF();e.TgZ(0,"ion-item",100)(1,"ion-label",101),e.NdJ("click",function(){const t=e.CHM(a),n=t.index,s=t.$implicit,g=e.oxw();return e.KtG(g.editLanguages(n,s))}),e.TgZ(2,"div",102)(3,"span",103),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span"),e._uU(7),e.qZA()(),e.TgZ(8,"div",104)(9,"span",105),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"div",104)(15,"span",105),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"span"),e._uU(19),e.qZA()()()()}if(2&l){const a=r.$implicit;e.xp6(4),e.hij("",e.lcZ(5,6,"PREFERENCES.LANGUAGE"),":"),e.xp6(3),e.Oqu(null==a?null:a.language_name_value),e.xp6(3),e.hij("",e.lcZ(11,8,"COMMON_FIELDS.DISPLAY_NAME"),":"),e.xp6(3),e.Oqu(null==a?null:a.display_name),e.xp6(3),e.hij("",e.lcZ(17,10,"COMMON_FIELDS.ENABLED"),":"),e.xp6(3),e.Oqu(null==a?null:a.is_enabled_value)}}function we(l,r){1&l&&(e.TgZ(0,"p",106),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}let Re=(()=>{class l extends w.O{apiEndPointUrl;facilitySpotlightService;loggerService;navigationService;router;translateService;uiUtils;commonService;route;screenNameValid;titleValid;translateTitleValid;translateTitleUpdate;languageAdd;displayNameAdd;displayNameUpdate;animalSpotlightCheckbox;animalSpotlightViewData;apiEndPoint;checkboxOptions;ckEitorMessage;createdBy;createdDate;description;enterpriseId;error;existingImage;existingImagesObj;facilityImageOptions;facilitySpotlightImageName;facilitySpotlightImagePath;imageCheckbox;imageCheckboxOptions;imageEnableCheckbox;imageError;imagePreview=!1;imgFile;imgFilepath;imgpath;lastUpdatedBy;lastUpdatedDate;recordId;screenName;submitEnabled=!1;title;dataJsonObj={};errorHtml;editorConfig={editable:!0,spellcheck:!0,height:"15rem",minHeight:"5rem",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!1,toolbarPosition:"top",toolbarHiddenButtons:[["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["customClasses","insertImage","insertVideo","removeFormat","backgroundColor"]]};languageViewSignature={editable:!1,spellcheck:!0,height:"15rem",minHeight:"5rem",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!1,showToolbar:!1,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["customClasses","insertImage","insertVideo","removeFormat","backgroundColor"]]};enableImageDeleteValue=!0;constructor(a,i,t,n,s,g,c,u,h){super(h,u),this.apiEndPointUrl=a,this.facilitySpotlightService=i,this.loggerService=t,this.navigationService=n,this.router=s,this.translateService=g,this.uiUtils=c,this.commonService=u,this.route=h,this.route.params.subscribe(m=>{this.recordId=m.id})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=o.hf.FACILITY_SPOTLIGHT_SCREENS,document.getElementsByTagName("body"),this.checkboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.imageCheckboxOptions=[{displayname:this.translateService.instant("FACILITY_SPOTLIGHT.EXISTING_IMAGE")}],this.apiEndPoint=localStorage.getItem(o.BU.S3_URL)?localStorage.getItem(o.BU.S3_URL):this.apiEndPointUrl,this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(o.hf.FACILITY_SPOTLIGHT_SCREENS,o.AM.ACTIONS,o.In.RECORD_HISTORY),this.enterpriseId=localStorage.getItem(o.BU.SELECTED_ENTERPRISE),this.dataJsonObj.languagesFromJson={},this.getLanguagesfromJson(),this.dataJsonObj.facilitySpotlightScreensTlheaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-60"},{headersort:"disableth",field:"screen_display_name",header:"FACILITY_SPOTLIGHT.SCREEN_NAME",class:"w-60"},{headersort:"disableth",field:"title",header:"NEW_VARIABLES.TITLE",class:"w-60"},{headersort:"disableth",field:"display_name",header:this.translateService.instant("NEW_VARIABLES.TITLE")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"description",header:this.translateService.instant("COMMON_FIELDS.DESCRIPTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.dataJsonObj.disableTransAdd=!1,this.dataJsonObj.languagesData=[],this.dataJsonObj.blockDetailsDropdown=[],this.dataJsonObj.deleted_translation_ids=[]}getRecordById(){try{this.facilitySpotlightService.get(this.recordId).subscribe(a=>{if(this.animalSpotlightViewData=a,this.commonService.setCurrentPageTitle(this.animalSpotlightViewData.facility.facility_name,this.recordId),this.animalSpotlightCheckbox=this.animalSpotlightViewData.is_enabled,this.ckEitorMessage=this.animalSpotlightViewData.description,this.lastUpdatedBy=this.animalSpotlightViewData.updated_by,this.createdBy=this.animalSpotlightViewData.created_by,this.dataJsonObj.pageTitle=[{key:"FACILITY_SPOTLIGHT.FACILITY_SPOTLIGHT",value:this.animalSpotlightViewData.facility.facility_name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}],this.facilitySpotlightImageName=this.animalSpotlightViewData.image_name?this.animalSpotlightViewData.image_name:"",this.facilitySpotlightImagePath=this.animalSpotlightViewData.image_path?this.animalSpotlightViewData.image_path:"",this.imgFilepath=this.animalSpotlightViewData.image_path&&this.animalSpotlightViewData.image_name?this.apiEndPoint+this.animalSpotlightViewData.image_path+"/"+this.animalSpotlightViewData.image_name:"",this.animalSpotlightViewData.language_translations){this.dataJsonObj.languagesData=[];for(let i=0;i<this.animalSpotlightViewData.language_translations.length;i++)this.animalSpotlightViewData.language_translations[i].language_name_value=this.dataJsonObj.languagesFromJson[this.animalSpotlightViewData.language_translations[i].language.language_name].language_display_name,this.animalSpotlightViewData.language_translations[i].is_enabled_value=!0===this.animalSpotlightViewData.language_translations[i].is_enabled?"Yes":"No",this.animalSpotlightViewData.language_translations[i].screen_display_name=this.animalSpotlightViewData.screen_display_name,this.animalSpotlightViewData.language_translations[i].languageTitle=this.animalSpotlightViewData.title,this.dataJsonObj.languagesData.push(this.animalSpotlightViewData.language_translations[i])}},a=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",a)}}changeScreenName(a){this.error="",this.screenName=a.value,this.submitEnabled=!1,this.dataJsonObj.disableTransAdd=!this.screenName}changeTitle(a){this.title=a.value}changeCheckoxValue(a){this.animalSpotlightCheckbox=a.value}changeImageCheckoxValue(a){this.imageCheckbox=a.value,!0===this.imageCheckbox?(this.imagePreview=!0,this.getPositionTypeOptions()):(this.imageCheckbox=!1,this.imagePreview=!1,this.existingImage="")}changeDescription(a){this.ckEitorMessage=a.value}changeProfileImage(a){try{""===a.error?(this.imageError="",this.imgFile=a.value):this.imageError=a.error}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeProfileImage",i)}}imageRemove(){this.imgFile="",this.imageError=""}getPositionTypeOptions(){try{this.facilitySpotlightService.getFacilityImages(this.enterpriseId,this.animalSpotlightViewData.facility.facility_id).then(a=>{this.facilityImageOptions=JSON.parse(JSON.stringify(a));for(let i=0;i<this.facilityImageOptions.length;i++)this.facilityImageOptions[i].imageurl=this.apiEndPoint+this.facilityImageOptions[i].imageUrl},a=>{this.loggerService.setLoggerError(this.constructor.name,"getPositionTypeOptions",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getPositionTypeOptions",a)}}changePositionType(a){try{a.value&&(this.existingImage=a.value,this.existingImagesObj=this.facilityImageOptions.find(i=>i.ID===parseInt(this.existingImage,10)),this.imagePreview=!0,this.existingImagesObj.image_path&&this.existingImagesObj.image_name?this.imgpath=this.apiEndPoint+this.existingImagesObj.image_path+"/"+this.existingImagesObj.image_name:(this.imgpath="",this.imagePreview=!1))}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changePositionType",i)}}updateRecord(){try{if(this.screenNameValid.isValid()&&this.titleValid.isValid()){this.submitEnabled=!0;const a={enterprise:this.animalSpotlightViewData.enterprise,screen_display_name:this.screenName,title:this.title,description:this.ckEitorMessage,is_enabled:this.animalSpotlightCheckbox,original_image_name:this.animalSpotlightViewData.image_name,previous_image_path:this.animalSpotlightViewData.image_path,previous_image_name:this.animalSpotlightViewData.image_name,image_path:this.existingImagesObj?this.existingImagesObj.image_path:this.facilitySpotlightImagePath,image_name:this.existingImagesObj?this.existingImagesObj.image_name:this.facilitySpotlightImageName,language_translations:this.dataJsonObj.languagesData,deleted_translation_ids:this.dataJsonObj.deleted_translation_ids};this.imgFile=this.imgFile?this.commonService.dataURItoImgBlob(this.imgFile,"image/jpeg"):"",this.facilitySpotlightService.update(this.recordId,a,this.imgFile).then(i=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),this.commonService.redirectToPreviousUrl()},i=>{this.commonErrorCodes(JSON.parse(i)),this.loggerService.setLoggerError(this.constructor.name,"updateRecord",i)})}}catch(a){this.loggerService.setLoggerError(this.constructor.name,"updateRecord",a)}}commonErrorCodes(a){try{const i=JSON.parse(a[o.BU.STATUS]);409===i&&(this.error="COMMON_STATUS_CODES."+i)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"commonErrorCodes",i)}}cancelBtn(){try{this.commonService.redirectToPreviousUrl()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"cancelBtn",a)}}languagesAdd(a){try{this.dataJsonObj.disableTransAdd||(a.stopPropagation(),this.displayNameAdd.clearmessage(),this.languageAdd.clearmessage(),this.translateTitleValid.clearmessage(),this.languageAdd.clearSelectInput(),this.dataJsonObj.languageTitle=this.animalSpotlightViewData?.title,this.screenName=this.animalSpotlightViewData?.screen_display_name,this.dataJsonObj.languageCode="",this.dataJsonObj.languageName="",this.dataJsonObj.addPopupError="",this.dataJsonObj.langTransDisplayname="",this.dataJsonObj.langTransDescription="",this.dataJsonObj.isLangTransEnabled=!0,this.getLanguagesList(""),$("#exampleModal5").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal5"))}catch(i){this.loggerService.setLoggerError(this.constructor.name,"languagesAdd",i)}}removeLanguages(a,i){try{this.dataJsonObj.deleteRowIndex=a,this.dataJsonObj.languageCode=i.language.language_code,this.dataJsonObj.languageId=i.language.language_id,this.dataJsonObj.languageName=i.language_name_value,this.dataJsonObj.languageTitle=i.title,this.dataJsonObj.langTransDisplayname=i.display_name,this.dataJsonObj.langTransDescription=i.description,this.dataJsonObj.isLangTransEnabled=i.is_enabled,$("#exampleModal7").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal7")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"removeLanguages",t)}}editLanguages(a,i){try{this.dataJsonObj.editRowIndex=a,this.dataJsonObj.languageCode=i.language.language_code,this.dataJsonObj.languageId=i.language.language_id,this.dataJsonObj.language=i.language.language_name,this.dataJsonObj.languageName=i.language_name_value,this.dataJsonObj.languageTitle=i.title,this.screenName=i.screen_display_name,this.dataJsonObj.langTransDisplayname=i.display_name,this.dataJsonObj.langTransDescription=i.description,this.dataJsonObj.isLangTransEnabled=i.is_enabled,this.displayNameUpdate.clearmessage(),$("#exampleModal6").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal6")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"editLanguages",t)}}spotlightScreenTranslationCreate(){try{this.languageAdd.isValid()&&this.translateTitleValid.isValid()&&this.displayNameAdd.isValid()&&(this.dataJsonObj.languageDatavalid=this.dataJsonObj.languagesData.find(a=>a.screen_display_name===this.screenName?this.screenName.toString():this.animalSpotlightViewData?.screen_display_name.toString()&&a.language.language_id===this.dataJsonObj.languageId),this.dataJsonObj.languageDatavalid?this.dataJsonObj.addPopupError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS":(this.dataJsonObj.languagesData.push({language:{language_id:this.dataJsonObj.languageId,language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode},screen_display_name:this.screenName?this.screenName:this.animalSpotlightViewData.screen_display_name,title:this.dataJsonObj.languageTitle?this.dataJsonObj.languageTitle:this.animalSpotlightViewData.languageTitle,language_name_value:this.dataJsonObj.languageName,display_name:this.dataJsonObj.langTransDisplayname,description:this.dataJsonObj.langTransDescription,is_enabled:this.dataJsonObj.isLangTransEnabled,is_enabled_value:this.dataJsonObj.isLangTransEnabled?"Yes":"No"}),$("#exampleModal5").modal("hide")))}catch(a){this.loggerService.setLoggerError(this.constructor.name,"languagesAddSubmit",a)}}getLanguagesfromJson(){var a=this;return(0,b.Z)(function*(){a.dataJsonObj.languagesFromJson=yield a.commonService.getLanguagesListJson(a.enterpriseId),a.getRecordById()})()}getLanguagesList(a){var i=this;return(0,b.Z)(function*(){try{i.facilitySpotlightService.getTranslateLanguages(i.enterpriseId).then(t=>{if(i.dataJsonObj.translateLanguageOptions=t[0].configoption_json.languages,i.dataJsonObj.translateLanguageOptions&&i.dataJsonObj.translateLanguageOptions.length>0){for(let n=0;n<i.dataJsonObj.translateLanguageOptions.length;n++)i.dataJsonObj.translateLanguageOptions[n].ID=i.dataJsonObj.translateLanguageOptions[n].language_id,i.dataJsonObj.translateLanguageOptions[n].NAME=i.dataJsonObj.languagesFromJson[i.dataJsonObj.translateLanguageOptions[n].language_name].language_display_name,i.dataJsonObj.translateLanguageOptions[n].language_code=i.dataJsonObj.translateLanguageOptions[n].language_code,i.dataJsonObj.translateLanguageOptions[n].language_id=i.dataJsonObj.translateLanguageOptions[n].language_id,i.dataJsonObj.translateLanguageOptions[n].language_name=i.dataJsonObj.translateLanguageOptions[n].language_name;if(i.dataJsonObj.translateLanguageOptions&&a){const n=i.dataJsonObj.translateLanguageOptions.filter(function(s){return s.NAME.toLowerCase().includes(a.toLowerCase())});i.dataJsonObj.translateLanguageOptions=n}}},t=>{i.loggerService.setLoggerError(i.constructor.name,"getLanguagesList",t)})}catch(t){i.loggerService.setLoggerError(i.constructor.name,"getLanguagesList",t)}})()}changeLanguage(a){this.dataJsonObj.addPopupError="",a&&(this.dataJsonObj.languageId=a.ID,this.dataJsonObj.languageName=a.NAME,this.dataJsonObj.language=a.language_name,this.dataJsonObj.languageCode=a.language_code)}changeLangTransDisplayname(a){this.dataJsonObj.addPopupError="",a&&(this.dataJsonObj.langTransDisplayname=a.value)}changeLangTransDescription(a){a&&(this.dataJsonObj.langTransDescription=a.value)}languagesEditSubmit(){try{if(this.displayNameUpdate.isValid()&&this.translateTitleUpdate.isValid()){for(let a=0;a<this.dataJsonObj.languagesData.length;a++)a===this.dataJsonObj.editRowIndex&&(this.dataJsonObj.languagesData[a].language={language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode,language_id:this.dataJsonObj.languageId},this.dataJsonObj.languagesData[a].language_name_value=this.dataJsonObj.languageName,this.dataJsonObj.languagesData[a].title=this.dataJsonObj.languageTitle,this.dataJsonObj.languagesData[a].display_name=this.dataJsonObj.langTransDisplayname,this.dataJsonObj.languagesData[a].description=this.dataJsonObj.langTransDescription,this.dataJsonObj.languagesData[a].is_enabled=this.dataJsonObj.isLangTransEnabled,this.dataJsonObj.languagesData[a].is_enabled_value=!0===this.dataJsonObj.isLangTransEnabled?"Yes":"No");$("#exampleModal6").modal("hide")}}catch(a){this.loggerService.setLoggerError(this.constructor.name,"languagesEditSubmit",a)}}changeLangTransCheckBox(a){this.dataJsonObj.addPopupError="",a&&(this.dataJsonObj.isLangTransEnabled=a.value)}languagesDeleteSubmit(){try{for(let a=0;a<this.dataJsonObj.languagesData.length;a++)this.dataJsonObj.deleteRowIndex===a&&this.dataJsonObj.languagesData[a]._id&&this.dataJsonObj.deleted_translation_ids.push(this.dataJsonObj.languagesData[a]._id);this.dataJsonObj.languagesData.splice(this.dataJsonObj.deleteRowIndex,1),$("#exampleModal7").modal("hide")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"languagesDeleteSubmit",a)}}clearMessage(){this.errorHtml=""}cancelPopUpButton(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",a)}}changeLanguageTitle(a){this.dataJsonObj.addPopupError="",a&&(this.dataJsonObj.languageTitle=a.value)}deleteImgClick(a){a.value==o.A0.DELETE&&(this.animalSpotlightViewData.image_path="")}static \u0275fac=function(i){return new(i||l)(e.Y36("apiEndPoint"),e.Y36(S),e.Y36(I.m),e.Y36(Z.f),e.Y36(_.F0),e.Y36(O.sK),e.Y36(J.s),e.Y36(y.v),e.Y36(_.gz))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-facility-spotlight-edit"]],viewQuery:function(i,t){if(1&i&&(e.Gf(Te,5),e.Gf(Se,5),e.Gf(Oe,5),e.Gf(Ce,5),e.Gf(Ae,5),e.Gf(Ee,5),e.Gf(fe,5)),2&i){let n;e.iGM(n=e.CRH())&&(t.screenNameValid=n.first),e.iGM(n=e.CRH())&&(t.titleValid=n.first),e.iGM(n=e.CRH())&&(t.translateTitleValid=n.first),e.iGM(n=e.CRH())&&(t.translateTitleUpdate=n.first),e.iGM(n=e.CRH())&&(t.languageAdd=n.first),e.iGM(n=e.CRH())&&(t.displayNameAdd=n.first),e.iGM(n=e.CRH())&&(t.displayNameUpdate=n.first)}},features:[e._Bn([S,y.v]),e.qOj],decls:178,vars:186,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-3"],["disabled","true","id","animal-spotlight-screen-edit-facility",3,"label","value"],[1,"col-md-6"],["disabled","false","mandatory","true","id","animal-spotlight-screen-edit-screenname",3,"label","value","valueChange"],["screenNameValid",""],[1,"col-md-8"],["disabled","false","autoCaseFlag","false","id","animal-spotlight-screen-edit-title","mandatory","true",3,"label","value","valueChange"],["titleValid",""],[1,"col-md-2","d-flex","align-items-center"],["label","","disabled","false","mandatory","true","id","animal-spotlight-screen-edit-checkboxoptions",3,"options","checked","valueChange"],["label","","disabled","false","mandatory","true","id","animal-spotlight-screen-create-checkboxoptions",3,"options","checked","valueChange"],["class","col-md-4",4,"ngIf"],["class","col-lg-1 col-md-2 order-md-1",4,"ngIf"],["class","col-lg-1 col-md-2 pdl-0 order-md-1",4,"ngIf"],[1,"col-lg-12","col-md-12","order-md-1","order-2"],[1,"fs-12"],["id","animal-spotlight-screen-edit-description",3,"ngModel","config","ngModelChange"],[1,"col-md-12","text-end","mt-2","order-md-1","order-2"],["className","btn btn-primary btn-sm","id","animal-spotlight-screen-edit-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","animal-spotlight-screen-edit-cancel",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"card"],[1,"card-content"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","customscreenstaticcontent-edit-translationsadd",3,"disabled","isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","hidden-md-down","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"hidden-md-up"],["lines","full","class","pdl-0 pdr-0",4,"ngFor","ngForOf"],["class","text-center text-danger mb-0 no-data-txt",4,"ngIf"],[3,"createdBy","lastUpdatedBy","creationDate","showrecordhistory","lastUpdatedDate"],["id","exampleModal5","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"col-md-4"],["disabled","true","id","customscreenstaticcontent-edit-translationsadd-contentpagename",3,"label","value"],["mandatory","true","id","customscreenstaticcontent-create-translationsadd-languagename",3,"label","options","selectedOption","searchValueChange"],["languageAdd",""],["mandatory","true","disabled","true","id","customscreenstaticcontent-create-translations-delete-contentname",3,"label","value","valueChange"],["translateTitleValid",""],["disabled","false","mandatory","true","autoCaseFlag","false","id","customscreenstaticcontent-create-translationsadd-displayname",3,"label","value","maxlength","valueChange"],["displayNameAdd",""],[1,"col-md-4","d-flex","align-items-center"],["label","","mandatory","true","id","customscreenstaticcontent-create-translationsadd-checkboxoptions",3,"options","checked","valueChange"],[1,"col-lg-12","col-md-12"],["id","customscreenstaticcontent-create-translationsadd-description",3,"ngModel","config","ngModelChange","keypress"],[1,"error-msg","col-md-10","text-danger","text-center","mb-0"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","customscreenstaticcontent-create-translationsadd-add-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","customscreenstaticcontent-create-translationsadd-cancel-btn",3,"label","buttonOnClick"],["id","exampleModal6","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","disabled","true","id","customscreenstaticcontent-create-translationsedit-language",3,"label","value"],["disabled","true","mandatory","true","id","customscreenstaticcontent-create-translations-delete-contentname",3,"label","value","valueChange"],["translateTitleUpdate",""],["disabled","true","mandatory","true","autoCaseFlag","false","id","customscreenstaticcontent-create-translationsedit-displayname",3,"label","value","maxlength","valueChange"],["displayNameUpdate",""],["label","","mandatory","true","id","customscreenstaticcontent-create-translationsedit-checkboxoptions",3,"options","checked","valueChange"],["id","customscreenstaticcontent-edit-editpopup-description",3,"ngModel","config","ngModelChange","keypress"],["className","btn btn-primary btn-sm","id","customscreenstaticcontent-create-translationsedit-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","customscreenstaticcontent-create-translationsedit-cancel-btn",3,"label","buttonOnClick"],["id","exampleModal7","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","customscreenstaticcontent-create-translations-delete-contentname",3,"label","value"],["mandatory","false","disabled","true","id","customscreenstaticcontent-create-translations-delete-language",3,"label","value"],["disabled","true","id","customscreenstaticcontent-create-translations-delete-displayname","mandatory","true",3,"label","value"],["label","","mandatory","false","id","customscreenstaticcontent-create-translations-delete-checkboxoption","disabled","true",3,"options","checked"],["ng-disabled","true","id","customscreenstaticcontent-edit-deletepopup-description",3,"ngModel","config","ngModelChange"],["className","btn btn-primary btn-sm","id","customscreenstaticcontent-create-translations-delete-delete-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","customscreenstaticcontent-create-translations-delete-cancel-btn",3,"label","buttonOnClick"],["displayImageForOptions","true","id","animal-spotlight-screen-details-create-addpopup-position",3,"label","options","defaultValue","valueChange"],[1,"col-lg-1","col-md-2","order-md-1"],["type","file","btnHide","true","action","edit","id","animal-spotlight-screen-edit-image",1,"edit-pic",3,"defaultImage","enableImageDelete","imageName","valueChange","imageRemove","deleteClick"],[1,"col-lg-1","col-md-2","pdl-0","order-md-1"],["id","animal-spotlight-screen-view-image",1,"thumbnail-view",3,"defaultImage"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","click"],[3,"innerHTML"],["class","col-md-12",4,"ngFor","ngForOf"],["lines","full",1,"pdl-0","pdr-0"],[1,"mg-0",3,"click"],[1,"mg-0","fs-13"],["color","primary",1,"h3"],[1,"mg-0","fs-11"],[1,"h3"],[1,"text-center","text-danger","mb-0","no-data-txt"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",13)(15,"app-input",14,15),e.NdJ("valueChange",function(s){return t.changeScreenName(s)}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",16)(19,"app-input",17,18),e.NdJ("valueChange",function(s){return t.changeTitle(s)}),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",19)(23,"app-checkbox",20),e.NdJ("valueChange",function(s){return t.changeCheckoxValue(s)}),e.qZA()(),e.TgZ(24,"div",19)(25,"app-checkbox",21),e.NdJ("valueChange",function(s){return t.changeImageCheckoxValue(s)}),e.qZA()(),e.YNc(26,ye,3,5,"div",22),e.qZA()(),e.YNc(27,Ne,2,3,"div",23),e.YNc(28,Le,2,1,"div",24),e.TgZ(29,"div",25)(30,"ion-label",26),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"angular-editor",27),e.NdJ("ngModelChange",function(s){return t.ckEitorMessage=s}),e.qZA()(),e.TgZ(34,"div",28)(35,"app-button",29),e.NdJ("buttonOnClick",function(){return t.updateRecord()}),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"app-button",30),e.NdJ("buttonOnClick",function(){return t.cancelBtn()}),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",31),e._uU(40),e.ALo(41,"translate"),e.qZA()()()()(),e.TgZ(42,"div",3)(43,"div",32)(44,"div",33)(45,"p-accordion",34)(46,"p-accordionTab",35)(47,"p-header",36)(48,"span"),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"app-button",37),e.NdJ("buttonOnClick",function(s){return t.languagesAdd(s)}),e.qZA()(),e.TgZ(52,"p-table",38),e.YNc(53,Ie,1,1,"ng-template",39),e.YNc(54,je,2,1,"ng-template",40),e.YNc(55,Me,2,1,"ng-template",41),e.YNc(56,Fe,4,2,"ng-template",42),e.qZA(),e.TgZ(57,"div",43)(58,"ion-list"),e.YNc(59,Ue,20,12,"ion-item",44),e.qZA(),e.YNc(60,we,3,3,"p",45),e.qZA()(),e._UZ(61,"app-recordhistory",46),e.qZA()()()()()()(),e.TgZ(62,"div",47)(63,"div",48)(64,"div",49)(65,"div",50)(66,"div",51),e._uU(67),e.ALo(68,"translate"),e.ALo(69,"translate"),e.qZA()(),e.TgZ(70,"div",52)(71,"div",8)(72,"div",53),e._UZ(73,"app-input",54),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"div",53)(76,"app-dropdown-search",55,56),e.NdJ("selectedOption",function(s){return t.changeLanguage(s)})("searchValueChange",function(s){return t.getLanguagesList(s)}),e.ALo(78,"translate"),e.qZA()(),e.TgZ(79,"div",53)(80,"app-input",57,58),e.NdJ("valueChange",function(s){return t.changeLanguageTitle(s)}),e.ALo(82,"translate"),e.qZA()(),e.TgZ(83,"div",53)(84,"app-input",59,60),e.NdJ("valueChange",function(s){return t.changeLangTransDisplayname(s)}),e.ALo(86,"translate"),e.ALo(87,"translate"),e.qZA()(),e.TgZ(88,"div",61)(89,"app-checkbox",62),e.NdJ("valueChange",function(s){return t.changeLangTransCheckBox(s)}),e.qZA()(),e.TgZ(90,"div",63)(91,"ion-label",26),e._uU(92),e.ALo(93,"translate"),e.ALo(94,"translate"),e.qZA(),e.TgZ(95,"angular-editor",64),e.NdJ("ngModelChange",function(s){return t.dataJsonObj.langTransDescription=s})("keypress",function(){return t.clearMessage()}),e.qZA()(),e.TgZ(96,"div",65),e._uU(97),e.ALo(98,"translate"),e.qZA(),e.TgZ(99,"div",66)(100,"app-button",67),e.NdJ("buttonOnClick",function(){return t.spotlightScreenTranslationCreate()}),e.ALo(101,"translate"),e.qZA(),e.TgZ(102,"app-button",68),e.NdJ("buttonOnClick",function(){return t.cancelPopUpButton()}),e.ALo(103,"translate"),e.qZA()()()()()()(),e.TgZ(104,"div",69)(105,"div",48)(106,"div",49)(107,"div",50)(108,"div",51),e._uU(109),e.ALo(110,"translate"),e.ALo(111,"translate"),e.qZA()(),e.TgZ(112,"div",52)(113,"div",8)(114,"div",53),e._UZ(115,"app-input",54),e.ALo(116,"translate"),e.qZA(),e.TgZ(117,"div",53),e._UZ(118,"app-input",70),e.ALo(119,"translate"),e.qZA(),e.TgZ(120,"div",53)(121,"app-input",71,72),e.NdJ("valueChange",function(s){return t.changeLanguageTitle(s)}),e.ALo(123,"translate"),e.qZA()(),e.TgZ(124,"div",53)(125,"app-input",73,74),e.NdJ("valueChange",function(s){return t.changeLangTransDisplayname(s)}),e.ALo(127,"translate"),e.ALo(128,"translate"),e.qZA()(),e.TgZ(129,"div",61)(130,"app-checkbox",75),e.NdJ("valueChange",function(s){return t.changeLangTransCheckBox(s)}),e.qZA()(),e.TgZ(131,"div",63)(132,"ion-label",26),e._uU(133),e.ALo(134,"translate"),e.ALo(135,"translate"),e.qZA(),e.TgZ(136,"angular-editor",76),e.NdJ("ngModelChange",function(s){return t.dataJsonObj.langTransDescription=s})("keypress",function(){return t.clearMessage()}),e.qZA()(),e.TgZ(137,"div",66)(138,"app-button",77),e.NdJ("buttonOnClick",function(){return t.languagesEditSubmit()}),e.ALo(139,"translate"),e.qZA(),e.TgZ(140,"app-button",78),e.NdJ("buttonOnClick",function(){return t.cancelPopUpButton()}),e.ALo(141,"translate"),e.qZA()()()()()()(),e.TgZ(142,"div",79)(143,"div",48)(144,"div",49)(145,"div",50)(146,"div",51),e._uU(147),e.ALo(148,"translate"),e.ALo(149,"translate"),e.qZA()(),e.TgZ(150,"div",52)(151,"div",8)(152,"div",53),e._UZ(153,"app-input",80),e.ALo(154,"translate"),e.qZA(),e.TgZ(155,"div",53),e._UZ(156,"app-input",81),e.ALo(157,"translate"),e.qZA(),e.TgZ(158,"div",53),e._UZ(159,"app-input",80),e.ALo(160,"translate"),e.qZA(),e.TgZ(161,"div",53),e._UZ(162,"app-input",82),e.ALo(163,"translate"),e.ALo(164,"translate"),e.qZA(),e.TgZ(165,"div",61),e._UZ(166,"app-checkbox",83),e.qZA(),e.TgZ(167,"div",63)(168,"ion-label",26),e._uU(169),e.ALo(170,"translate"),e.ALo(171,"translate"),e.qZA(),e.TgZ(172,"angular-editor",84),e.NdJ("ngModelChange",function(s){return t.dataJsonObj.langTransDescription=s}),e.qZA()(),e.TgZ(173,"div",66)(174,"app-button",85),e.NdJ("buttonOnClick",function(){return t.languagesDeleteSubmit()}),e.ALo(175,"translate"),e.qZA(),e.TgZ(176,"app-button",86),e.NdJ("buttonOnClick",function(){return t.cancelPopUpButton()}),e.ALo(177,"translate"),e.qZA()()()()()()()),2&i&&(e.xp6(6),e.Q6J("pageName",t.dataJsonObj.pageName)("pageTitle",t.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(6),e.s9C("label",e.lcZ(13,102,"COMMON_PAGE_TITLES.FACILITY")),e.s9C("value",null==t.animalSpotlightViewData||null==t.animalSpotlightViewData.facility?null:t.animalSpotlightViewData.facility.facility_name),e.xp6(3),e.s9C("label",e.lcZ(17,104,"FACILITY_SPOTLIGHT.SCREEN_NAME")),e.s9C("value",null==t.animalSpotlightViewData?null:t.animalSpotlightViewData.screen_display_name),e.xp6(4),e.s9C("label",e.lcZ(21,106,"NEW_VARIABLES.TITLE")),e.s9C("value",null==t.animalSpotlightViewData?null:t.animalSpotlightViewData.title),e.xp6(4),e.Q6J("options",t.checkboxOptions)("checked",t.animalSpotlightCheckbox),e.xp6(2),e.Q6J("options",t.imageCheckboxOptions)("checked",t.imageEnableCheckbox),e.xp6(1),e.Q6J("ngIf",!0===t.imageCheckbox),e.xp6(1),e.Q6J("ngIf",!1===t.imagePreview),e.xp6(1),e.Q6J("ngIf",!0===t.imagePreview),e.xp6(3),e.hij(" ",e.lcZ(32,108,"COMMON_FIELDS.DESCRIPTION")," "),e.xp6(2),e.Q6J("ngModel",t.ckEitorMessage)("config",t.editorConfig),e.xp6(2),e.s9C("label",e.lcZ(36,110,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.Q6J("disabled",t.submitEnabled),e.xp6(2),e.s9C("label",e.lcZ(38,112,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(41,114,t.error)," "),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(50,116,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")),e.xp6(2),e.s9C("disabled",null==t.dataJsonObj?null:t.dataJsonObj.disableTransAdd),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",null==t.dataJsonObj?null:t.dataJsonObj.facilitySpotlightScreensTlheaders)("value",t.dataJsonObj.languagesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(7),e.Q6J("ngForOf",t.dataJsonObj.languagesData),e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.languagesData&&0==t.dataJsonObj.languagesData.length),e.xp6(1),e.Q6J("createdBy",t.createdBy)("lastUpdatedBy",t.lastUpdatedBy)("creationDate",null==t.animalSpotlightViewData?null:t.animalSpotlightViewData.createdAt)("showrecordhistory",t.dataJsonObj.showrecordhistory)("lastUpdatedDate",null==t.animalSpotlightViewData?null:t.animalSpotlightViewData.updatedAt),e.xp6(6),e.AsE("",e.lcZ(68,118,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(69,120,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(74,122,"FACILITY_SPOTLIGHT.SCREEN_NAME")),e.s9C("value",t.screenName),e.xp6(3),e.s9C("label",e.lcZ(78,124,"PREFERENCES.LANGUAGE")),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.translateLanguageOptions),e.xp6(4),e.s9C("label",e.lcZ(82,126,"NEW_VARIABLES.TITLE")),e.s9C("value",t.dataJsonObj.languageTitle),e.xp6(4),e.hYB("label","",e.lcZ(86,128,"NEW_VARIABLES.TITLE")," (",e.lcZ(87,130,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(5),e.Q6J("options",t.checkboxOptions)("checked",null==t.dataJsonObj?null:t.dataJsonObj.isLangTransEnabled),e.xp6(3),e.AsE(" ",e.lcZ(93,132,"COMMON_FIELDS.DESCRIPTION")," (",e.lcZ(94,134,"NEW_VARIABLES.TRANSLATED"),")"),e.xp6(3),e.Q6J("ngModel",t.dataJsonObj.langTransDescription)("config",t.editorConfig),e.xp6(2),e.hij(" ",e.lcZ(98,136,null==t.dataJsonObj?null:t.dataJsonObj.addPopupError)," "),e.xp6(3),e.s9C("label",e.lcZ(101,138,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(103,140,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(110,142,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(111,144,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(116,146,"FACILITY_SPOTLIGHT.SCREEN_NAME")),e.s9C("value",t.screenName),e.xp6(3),e.s9C("label",e.lcZ(119,148,"PREFERENCES.LANGUAGE")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.languageName),e.xp6(3),e.s9C("label",e.lcZ(123,150,"NEW_VARIABLES.TITLE")),e.s9C("value",t.dataJsonObj.languageTitle),e.xp6(4),e.hYB("label","",e.lcZ(127,152,"NEW_VARIABLES.TITLE")," (",e.lcZ(128,154,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(5),e.Q6J("options",t.checkboxOptions)("checked",null==t.dataJsonObj?null:t.dataJsonObj.isLangTransEnabled),e.xp6(3),e.AsE(" ",e.lcZ(134,156,"COMMON_FIELDS.DESCRIPTION")," (",e.lcZ(135,158,"NEW_VARIABLES.TRANSLATED"),")"),e.xp6(3),e.Q6J("ngModel",t.dataJsonObj.langTransDescription)("config",t.editorConfig),e.xp6(2),e.s9C("label",e.lcZ(139,160,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(141,162,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(148,164,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(149,166,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(154,168,"COMMON_PAGE_TITLES.CONTENT_PAGE_NAME")),e.s9C("value",null==t.animalSpotlightViewData?null:t.animalSpotlightViewData.screen_display_name),e.xp6(3),e.s9C("label",e.lcZ(157,170,"PREFERENCES.LANGUAGE")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.languageName),e.xp6(3),e.s9C("label",e.lcZ(160,172,"NEW_VARIABLES.TITLE")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.languageTitle),e.xp6(3),e.hYB("label","",e.lcZ(163,174,"NEW_VARIABLES.TITLE")," (",e.lcZ(164,176,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.langTransDisplayname),e.xp6(4),e.Q6J("options",t.checkboxOptions)("checked",null==t.dataJsonObj?null:t.dataJsonObj.isLangTransEnabled),e.xp6(3),e.AsE(" ",e.lcZ(170,178,"COMMON_FIELDS.DESCRIPTION")," (",e.lcZ(171,180,"NEW_VARIABLES.TRANSLATED"),")"),e.xp6(3),e.Q6J("ngModel",t.dataJsonObj.langTransDescription)("config",t.languageViewSignature),e.xp6(2),e.s9C("label",e.lcZ(175,182,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(177,184,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[E.sg,E.O5,p.Ie,p.Q$,p.q_,M.r,D.a,P.k,F.b,U.f,V.C,x.W,j.q,A.UQ,A.US,N.h4,N.jx,f.iA,f.Ei,L.s6,C.JJ,C.On,O.X$]})}return l})();var k=d(42863),Pe=d(28168),B=d(30578),Ve=d(44393),xe=d(88425);const ke=["datatableComponent"];function qe(l,r){if(1&l&&(e.TgZ(0,"tr",57)(1,"td",58),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const a=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",a[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Ge(l,r){if(1&l&&e.YNc(0,qe,4,4,"tr",56),2&l){const a=e.oxw();e.Q6J("ngIf",(null==a.dataJsonObj?null:a.dataJsonObj.languagesData)&&0==(null==a.dataJsonObj?null:a.dataJsonObj.languagesData.length))}}function Ye(l,r){if(1&l&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l){const a=r.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,a.header)," ")}}function He(l,r){if(1&l&&(e.TgZ(0,"tr"),e.YNc(1,Ye,3,3,"th",59),e.qZA()),2&l){const a=r.$implicit;e.xp6(1),e.Q6J("ngForOf",a[0])}}function Qe(l,r){if(1&l){const a=e.EpF();e.TgZ(0,"td",61),e.NdJ("click",function(){e.CHM(a);const t=e.oxw(),n=t.rowIndex,s=t.$implicit,g=e.oxw();return e.KtG(g.viewLanguageTranslations(n,s))}),e._UZ(1,"span",62),e.qZA()}if(2&l){const a=r.$implicit,i=e.oxw().$implicit;e.Gre("",a.class," cursor-pointer"),e.Q6J("pSelectableRow",i),e.xp6(1),e.Q6J("innerHTML",i[a.field],e.oJD)}}function We(l,r){if(1&l&&(e.TgZ(0,"tr"),e.YNc(1,Qe,2,5,"td",60),e.qZA()),2&l){const a=r.columns;e.xp6(1),e.Q6J("ngForOf",a[0])}}function $e(l,r){if(1&l&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",62)(6,"br"),e.qZA()),2&l){const a=r.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,a.header)),e.xp6(3),e.Q6J("innerHTML",i[a.field],e.oJD)}}function ze(l,r){if(1&l&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,$e,7,4,"div",63),e.qZA()()()),2&l){const a=r.columns;e.xp6(1),e.uIk("colspan",a[0].length+2),e.xp6(2),e.Q6J("ngForOf",a[1])}}function Ke(l,r){if(1&l&&(e.TgZ(0,"ion-item",64),e._UZ(1,"td",65),e.TgZ(2,"ion-label",66)(3,"div",67)(4,"span",68),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"span"),e._uU(8),e.qZA()(),e.TgZ(9,"div",69)(10,"span",70),e._uU(11),e.ALo(12,"translate"),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"div",69)(17,"span",70),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"span"),e._uU(21),e.qZA()()()()),2&l){const a=r.$implicit;e.xp6(5),e.hij("",e.lcZ(6,7,"PREFERENCES.LANGUAGE"),":"),e.xp6(3),e.Oqu(null==a?null:a.language_name_value),e.xp6(3),e.AsE("",e.lcZ(12,9,"COMMON_FIELDS.DISPLAY_NAME")," (",e.lcZ(13,11,"NEW_VARIABLES.TRANSLATED"),"):"),e.xp6(4),e.Oqu(null==a?null:a.display_name),e.xp6(3),e.hij("",e.lcZ(19,13,"COMMON_FIELDS.ENABLED"),":"),e.xp6(3),e.Oqu(null==a?null:a.is_enabled_value)}}function Xe(l,r){1&l&&(e.TgZ(0,"p",71),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&l&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}const aa=[{path:"",data:{title:"Facility Spotlight"},children:[{path:"",redirectTo:"facilityspotlightscreens/list",pathMatch:"full"},{path:"facilityspotlightscreens/list",canActivate:[v.P],component:(()=>{class l extends w.O{ColumnHeader;actionSheetController;facilitySpotlightService;loggerService;router;translateService;uiUtils;commonService;listingVariables;route;datatableComponent;actionBoolean;actionStatus;actions;animalSpotlightMobileList;checkId;enterpriseId;listdata;loginEnterpriseId;mobileroutesArray=[];objectType;searchString;tableColumnheaders;fabMobileactions;dataJsonObj={};constructor(a,i,t,n,s,g,c,u,h,m){super(m,u),this.ColumnHeader=a,this.actionSheetController=i,this.facilitySpotlightService=t,this.loggerService=n,this.router=s,this.translateService=g,this.uiUtils=c,this.commonService=u,this.listingVariables=h,this.route=m,this.route.queryParams.subscribe(T=>{this.dataJsonObj.queryParamsObj={defaultView:T.default_view,selectedMenuId:T.selectedMenuId,selectedSubMenuId:T.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.showSpinner(),this.dataJsonObj.pageName=o.hf.FACILITY_SPOTLIGHT_SCREENS,this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.noDuplicates=void 0,this.objectType=this.route.snapshot.data.object_type,this.tableColumnheaders=this.ColumnHeader.getAnimalSpotlightColumnHeaders(),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString="",this.enterpriseId=localStorage.getItem(o.BU.SELECTED_ENTERPRISE),this.dataJsonObj.selectedUserTypeObj=localStorage.getItem(o.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(o.BU.SELECTED_USER_TYPE_OBJ)):{},this.loginEnterpriseId=localStorage.getItem(o.BU.LOG_IN_ENTERPRISE_ID),this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"FACILITY_SPOTLIGHT.FACILITY_SPOTLIGHTS",value:"",showSubMenuDisplayName:!0}],this.actionBoolean=!(!this.roleRightsValidationByPage(o.hf.FACILITY_SPOTLIGHT_SCREENS,o.AM.ACTIONS,o.In.ACTIVATE)||!this.roleRightsValidationByPage(o.hf.FACILITY_SPOTLIGHT_SCREENS,o.AM.ACTIONS,o.In.INACTIVATE)),this.actions={EDIT:this.roleRightsValidationByPage(o.hf.FACILITY_SPOTLIGHT_SCREENS,o.AM.ACTIONS,o.In.EDIT),VIEW:this.roleRightsValidationByPage(o.hf.FACILITY_SPOTLIGHT_SCREENS,o.AM.ACTIONS,o.In.VIEW),CHECKBOX:this.actionBoolean},this.dataJsonObj.addFiltersList=[],this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(o.hf.FACILITY_SPOTLIGHT_SCREENS,o.AM.ACTIONS,o.In.CREATE)&&this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:o.gL.URL,redirectURL:"screens/facilityspotlight/create",queryParams:"",iconClass:"fas fa-plus"}),this.roleRightsValidationByPage(o.hf.FACILITY_SPOTLIGHT_SCREENS,o.AM.ACTIONS,o.In.IMPORT)&&(this.dataJsonObj.pageActionsList.push({actionName:"IMPORT",displayName:"COMMON_BUTTONS.BUTTON_IMPORT",actionType:o.gL.POPUP,redirectURL:"",queryParams:"",iconClass:"fas fa-file-import mr-1",pageName:"FacilitySpotlightScreens",importAPIUrl:"api/v1/facilityspotlight/importdata"}),[o.ox.SUPER_ADMIN,o.ox.SUB_ADMIN,o.ox.TECH_HELP].includes(this.dataJsonObj.selectedUserTypeObj?.user_type_name)&&0===parseInt(this.enterpriseId,10)&&this.dataJsonObj.pageActionsList.push({actionName:"GENERATE",displayName:"COMMON_BUTTONS.BUTTON_GENERATE_IMPORT_TEMPLATE",actionType:"",redirectURL:"",queryParams:"",iconClass:"fas fas icon-generate-excel",pageName:"FacilitySpotlightScreens"})),this.roleRightsValidation("SCREENS","ANIMAL_SPOTLIGHT_SCREENS","FILTERS")}getSearchResult(a){try{this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString=a,this.getAllRecords(),this.datatableComponent.reset()}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getSearchResult",i)}}getAllRecords(){try{this.showSpinner();const a=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView);this.facilitySpotlightService.getAll(this.enterpriseId,this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.listingVariables.sortOrderColumn,this.searchString,a,this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(t=>{if(this.hideSpinner(),t.rows.length>0){this.animalSpotlightMobileList&&this.animalSpotlightMobileList.length>0||(this.animalSpotlightMobileList=[]);for(let n=0;n<t.rows.length;n++){t.rows[n].display_grid_title=t.rows[n].facility.facility_name,t.rows[n].imageName=t.rows[n].facility.facility_name;const s={url:`screens/facilityspotlight/${t.rows[n]._id}/view`,queryParams:this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:""},g=s.queryParams&&Object.keys(s.queryParams).length>0?`${s.url}?${JSON.stringify(s.queryParams)}`:s.url;t.rows[n].facility.facility_name=`<a class="enable" id="facility.facility_name${t.rows[n]._id}" href=${g}>${t.rows[n].facility.facility_name}`,!0===t.rows[n].is_enabled?t.rows[n].is_enabled="Yes":!1===t.rows[n].is_enabled&&(t.rows[n].is_enabled="No"),t.rows[n].imageDisplay=t.rows[n].image_path&&t.rows[n].image_name?t.rows[n].image_path+"/"+t.rows[n].image_name:null,this.animalSpotlightMobileList=this.animalSpotlightMobileList.filter(c=>c._id!==t.rows[n]._id),this.animalSpotlightMobileList.push(t.rows[n])}t.totalCount&&(this.listingVariables.totalRecords=t.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=t.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.listdata=this.listdata.concat(t.rows)):this.listdata=t.rows}else this.listdata=[],this.animalSpotlightMobileList=[]},t=>{this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)})}catch(a){this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",a)}}loadPageData(a){this.listingVariables.pageNumbers=a.listingVariables.pageNumbers,a.clearMobileData&&(this.animalSpotlightMobileList=this.dataJsonObj.noDuplicates),a.isPaginationChange&&(this.dataJsonObj.selectedFilter=a.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=a.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=a.selectedAdvancedSearchObj),this.getAllRecords()}createAnimalSpotlight(){try{this.router.navigate(["screens/facilityspotlight/create"])}catch(a){this.loggerService.setLoggerError(this.constructor.name,"createAnimalSpotlight",a)}}searchClose(){try{this.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.getAllRecords(),this.datatableComponent.reset()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"searchClose",a)}}onActionClicked(a){try{a.action===o.A0.EDIT?(this.router.navigate(["screens/facilityspotlight/"+a.data._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("screens")):a.action===o.A0.CHECKBOX?this.changeStatus(a.data):a.action===o.A0.VIEW&&this.commonService.redirectToUrl(["screens","facilityspotlight",a.data._id,"view"],!0,!1,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",i)}}mobileEventAction(a){this.mobileroutesArray=[],!0===a.isEnabled&&(this.dataJsonObj.selectedUserTypeObj?.user_type_name===o.ox.ENTERPRISE_ADMIN||"0"===this.loginEnterpriseId)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_DISABLE"),handler:()=>{this.changeStatus(a)}}),this.roleRightsValidationByPage(o.hf.FACILITY_SPOTLIGHT_SCREENS,o.AM.ACTIONS,o.In.EDIT)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/screens/facilityspotlight/"+a._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("screens")}}),!1===a.isEnabled&&(this.dataJsonObj.selectedUserTypeObj?.user_type_name===o.ox.ENTERPRISE_ADMIN||"0"===this.loginEnterpriseId)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ENABLE"),handler:()=>{this.changeStatus(a)}}),this.roleRightsValidationByPage(o.hf.FACILITY_SPOTLIGHT_SCREENS,o.AM.ACTIONS,o.In.VIEW)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{this.commonService.redirectToUrl(["screens","facilityspotlight",a._id,"view"],!0,!1,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}}),this.presentActionSheet(a)}presentActionSheet(a){var i=this;return(0,b.Z)(function*(){try{i.mobileroutesArray.length>0&&(yield(yield i.actionSheetController.create({cssClass:"actionsheet",buttons:i.mobileroutesArray})).present())}catch(t){i.loggerService.setLoggerError(i.constructor.name,"presentActionSheet",t)}})()}getRedirectAnimalSpotlight(a){try{this.commonService.redirectToUrl(["screens","facilityspotlight",a._id,"view"],!0,!1,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getRedirectAnimalSpotlight",i)}}changeStatus(a){this.actionStatus=a.isEnabled,this.checkId=a._id;const i={enterprise:JSON.parse(localStorage.getItem(o.BU.SELECTED_ENTERPRISE_OBJ)),is_enabled:this.actionStatus};this.facilitySpotlightService.editAnimalSpotlightData(this.checkId,i).then(t=>{this.uiUtils.displaytoastMessage(!0===this.actionStatus?"COMMON_TOAST_MESSAGES.TOAST_RECORD_IS_ENABLED":"COMMON_TOAST_MESSAGES.TOAST_RECORD_IS_DISABLED"),this.router.routeReuseStrategy.clearModuleRouteCache("screens"),this.getAllRecords()}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"editHealthElementData",t)})}selectedViewType(a){this.dataJsonObj.selectedDisplayView=a}selectedFilterType(a){a?this.dataJsonObj.selectedFilter=a:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}onPageLevelActionClicked(a){switch(a.actionName){case"IMPORT":this.dataJsonObj.isImportActionClicked=!0,this.dataJsonObj.importDataInputPageName=a.pageName,this.dataJsonObj.importAPIUrl=a.importAPIUrl;break;case"GENERATE":this.commonService.generateImportDataSheets(this.enterpriseId,a.pageName)}}getchangeEvent(a){this.dataJsonObj.isImportActionClicked=!1,this.dataJsonObj.importDataInputPageName="",this.dataJsonObj.importAPIUrl="",a&&"success"===a.value&&this.getAllRecords()}advancedSearchFilterClicked(a){this.dataJsonObj.selectedAdvancedSearchObj=a}onHeaderItemClick(a){switch(a.type){case"search":this.getSearchResult(a.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(a.event);break;case"filters":this.selectedFilterType(a.event);break;case"advanced_search":this.advancedSearchFilterClicked(a.event);break;case"page_actions":this.onPageLevelActionClicked(a.event)}}static \u0275fac=function(i){return new(i||l)(e.Y36(k.Y),e.Y36(p.BX),e.Y36(S),e.Y36(I.m),e.Y36(_.F0),e.Y36(O.sK),e.Y36(J.s),e.Y36(y.v),e.Y36(B.v),e.Y36(_.gz))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-facility-spotlight-list"]],viewQuery:function(i,t){if(1&i&&e.Gf(ke,5),2&i){let n;e.iGM(n=e.CRH())&&(t.datatableComponent=n.first)}},features:[e._Bn([k.Y,B.v,S]),e.qOj],decls:10,vars:30,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],["id","animal-spotlight-screens-list","id","tagid",3,"header","actions","totalRecords","listingVariables","paginator","data","totalPages","mobileListData","expand","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","showSpinner","pageName","selectedMenuId","selectedSubMenuId","actionClicked","loadPageData","itemClickEvent","redirectionEvent"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],[3,"pageName","apiUrl","actionClicked","emitEvent"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(s){return t.onHeaderItemClick(s)}),e.qZA()(),e.TgZ(4,"div",4)(5,"app-datatable",5,6),e.NdJ("actionClicked",function(s){return t.onActionClicked(s)})("loadPageData",function(s){return t.loadPageData(s)})("itemClickEvent",function(s){return t.getRedirectAnimalSpotlight(s)})("redirectionEvent",function(s){return t.mobileEventAction(s)}),e.qZA(),e.TgZ(7,"div",7)(8,"app-page-actions",8),e.NdJ("selectedAction",function(s){return t.onPageLevelActionClicked(s)}),e.qZA()()()()(),e.TgZ(9,"app-importdata",9),e.NdJ("emitEvent",function(s){return t.getchangeEvent(s)}),e.qZA()),2&i&&(e.xp6(3),e.Q6J("pageName",t.dataJsonObj.pageName)("defaultView",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",t.dataJsonObj.pageActionsList)("pageTitle",t.dataJsonObj.pageTitle)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(2),e.Q6J("header",t.tableColumnheaders)("actions",t.actions)("totalRecords",t.listingVariables.totalRecords)("listingVariables",t.listingVariables)("paginator",!0)("data",t.listdata)("totalPages",t.listingVariables.totalpages)("mobileListData",t.animalSpotlightMobileList)("expand",!1)("selectedDisplayViewType",t.dataJsonObj.selectedDisplayView)("selectedFilterType",t.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",t.dataJsonObj.selectedAdvancedSearchObj)("showSpinner",t.dataJsonObj.showSpinner)("pageName",t.dataJsonObj.pageName)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",t.dataJsonObj.pageActionsList),e.xp6(1),e.Q6J("pageName",t.dataJsonObj.importDataInputPageName)("apiUrl",t.dataJsonObj.importAPIUrl)("actionClicked",t.dataJsonObj.isImportActionClicked))},dependencies:[Ve.M,Pe.n,j.q,xe.y]})}return l})(),data:{responsibilityParam:o.bP.MENUS+"."+o.w1.SCREENS+"."+o.bP.SUBMENUS+"."+o.w1.ANIMAL_SPOTLIGHT_SCREENS+"."+o.In.ENABLED,pageName:o.hf.FACILITY_SPOTLIGHT_SCREENS}},{path:"facilityspotlight/create",canActivate:[v.P],component:be,data:{responsibilityParam:o.bP.MENUS+"."+o.w1.SCREENS+"."+o.bP.SUBMENUS+"."+o.w1.ANIMAL_SPOTLIGHT_SCREENS+"."+o.In.CREATE,pageName:o.hf.FACILITY_SPOTLIGHT_SCREENS,pageSetting:o.AM.ACTIONS,settingField:o.In.CREATE}},{path:"facilityspotlight/:id/view",canActivate:[v.P],component:(()=>{class l extends w.O{apiEndPointUrl;actionSheetController;facilitySpotlightService;loggerService;navigationService;router;translateService;uiUtils;commonService;route;animalSpotlightCheckbox;animalSpotlightViewData;apiEndPoint;checkboxOptions;ckEitorMessage;createdBy;createdDate;imgFilepath;lastUpdatedBy;lastUpdatedDate;mobileroutesArray=[];recordId;editorConfig={editable:!1,spellcheck:!0,height:"15rem",minHeight:"5rem",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!1,showToolbar:!1,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["customClasses","insertImage","insertVideo","removeFormat","backgroundColor"]]};languageViewSignature={editable:!1,spellcheck:!0,height:"15rem",minHeight:"5rem",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!1,showToolbar:!1,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["customClasses","insertImage","insertVideo","removeFormat","backgroundColor"]]};dataJsonObj={};constructor(a,i,t,n,s,g,c,u,h,m){super(m,h),this.apiEndPointUrl=a,this.actionSheetController=i,this.facilitySpotlightService=t,this.loggerService=n,this.navigationService=s,this.router=g,this.translateService=c,this.uiUtils=u,this.commonService=h,this.route=m,this.route.params.subscribe(T=>{this.recordId=T.id}),this.route.queryParams.subscribe(T=>{this.dataJsonObj.queryParamsObj={defaultView:T.defaultView,selectedMenuId:T.selectedMenuId,selectedSubMenuId:T.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=o.hf.FACILITY_SPOTLIGHT_SCREENS,this.checkboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.apiEndPoint=localStorage.getItem(o.BU.S3_URL)?localStorage.getItem(o.BU.S3_URL):this.apiEndPointUrl,this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(o.hf.FACILITY_SPOTLIGHT_SCREENS,o.AM.ACTIONS,o.In.RECORD_HISTORY),this.getRecordById(),this.dataJsonObj.spotlightScreensTlheaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-60"},{headersort:"disableth",field:"screen_display_name",header:"FACILITY_SPOTLIGHT.SCREEN_NAME",class:"w-60"},{headersort:"disableth",field:"languageTitle",header:"NEW_VARIABLES.TITLE",class:"w-60"},{headersort:"disableth",field:"display_name",header:this.translateService.instant("NEW_VARIABLES.TITLE")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"description",header:this.translateService.instant("COMMON_FIELDS.DESCRIPTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.dataJsonObj.enterpriseData=JSON.parse(localStorage.getItem(o.BU.ENTERPRISE)),this.dataJsonObj.enterpriseId=this.dataJsonObj.enterpriseData.enterprise_id,this.dataJsonObj.languagesFromJson={},this.getLanguagesfromJson(),this.dataJsonObj.languagesData=[],this.dataJsonObj.selectedPage=o.hf.FACILITY_SPOTLIGHT_SCREENS,this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}])}getDynamicJson(a){var i=this;return(0,b.Z)(function*(){for(let t of a)i.dataJsonObj[t.storingFieldName]=yield i.commonService.getDynamicJson(i.dataJsonObj.enterpriseId,t.folderName,t.jsonType);i.dataJsonObj.selectedObj={},i.dataJsonObj.selectedObj.recordId=i.recordId,i.dataJsonObj.selectedObj.pageObj=i.dataJsonObj.menuDataJson.filter(t=>t.menu_page.page_name===i.dataJsonObj.selectedPage),i.dataJsonObj.selectedObjEnabled=!0})()}getLanguagesfromJson(){var a=this;return(0,b.Z)(function*(){a.dataJsonObj.languagesFromJson=yield a.commonService.getLanguagesListJson(a.dataJsonObj.enterpriseId)})()}getRecordById(){try{let a="";this.commonService.isMobileWindow()&&(a="&mobileview=true"),this.facilitySpotlightService.get(this.recordId,a).subscribe(i=>{if(this.animalSpotlightViewData=i,this.translateService.use(localStorage.getItem(o.BU.LOGIN_USER_LANGUAGE)).subscribe(t=>{this.commonService.setCurrentPageTitle(this.animalSpotlightViewData.facility.facility_name,this.recordId)}),this.dataJsonObj.pageTitle=[{key:"FACILITY_SPOTLIGHT.FACILITY_SPOTLIGHT",value:this.animalSpotlightViewData.facility.facility_name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.animalSpotlightCheckbox=this.animalSpotlightViewData.is_enabled,this.ckEitorMessage=this.animalSpotlightViewData.description,this.lastUpdatedBy=this.animalSpotlightViewData.updated_by,this.createdBy=this.animalSpotlightViewData.created_by,this.imgFilepath=this.animalSpotlightViewData.image_path&&this.animalSpotlightViewData.image_name?this.apiEndPoint+this.animalSpotlightViewData.image_path+"/"+this.animalSpotlightViewData.image_name:"",this.animalSpotlightViewData.language_translations){this.dataJsonObj.languagesData=[];for(let t=0;t<this.animalSpotlightViewData.language_translations.length;t++)this.animalSpotlightViewData.language_translations[t].language_name_value=this.dataJsonObj.languagesFromJson[this.animalSpotlightViewData.language_translations[t].language.language_name].language_display_name,this.animalSpotlightViewData.language_translations[t].is_enabled_value=!0===this.animalSpotlightViewData.language_translations[t].is_enabled?"Yes":"No",this.animalSpotlightViewData.language_translations[t].screen_display_name=this.animalSpotlightViewData.screen_display_name,this.animalSpotlightViewData.language_translations[t].languageTitle=this.animalSpotlightViewData.language_translations[t].title,this.dataJsonObj.languagesData.push(this.animalSpotlightViewData.language_translations[t])}},i=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",i)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",a)}}mobileEventAction(a){this.mobileroutesArray=[],this.roleRightsValidationByPage(o.hf.FACILITY_SPOTLIGHT_SCREENS,o.AM.ACTIONS,o.In.EDIT)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/screens/facilityspotlight/"+a._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("screens")}}),this.presentActionSheet(a)}presentActionSheet(a){var i=this;return(0,b.Z)(function*(){try{i.mobileroutesArray.length>0?yield(yield i.actionSheetController.create({cssClass:"actionsheet",buttons:i.mobileroutesArray})).present():i.uiUtils.displayWarningMessage("COMMON_VALIDATION_MESSAGES.VALID_PERFORM_ACTIONS")}catch(t){i.loggerService.setLoggerError(i.constructor.name,"presentActionSheet",t)}})()}viewLanguageTranslations(a,i){try{this.dataJsonObj.languageName=i.language_name_value,this.dataJsonObj.languageTitle=i.title,this.dataJsonObj.langTransDisplayname=i.display_name,this.dataJsonObj.langTransDescription=i.description,this.dataJsonObj.isLangTransEnabled=i.is_enabled,$("#exampleModal7").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal7")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"viewProjectLeader",t)}}cancelBtn(){try{this.commonService.redirectToPreviousUrl()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"cancelBtn",a)}}cancelPopUpButton(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",a)}}static \u0275fac=function(i){return new(i||l)(e.Y36("apiEndPoint"),e.Y36(p.BX),e.Y36(S),e.Y36(I.m),e.Y36(Z.f),e.Y36(_.F0),e.Y36(O.sK),e.Y36(J.s),e.Y36(y.v),e.Y36(_.gz))};static \u0275cmp=e.Xpm({type:l,selectors:[["app-facility-spotlight-view"]],features:[e._Bn([S,y.v]),e.qOj],decls:85,vars:86,consts:[["id","extraPaddingBottomID",1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-3"],["disabled","true","id","animal-spotlight-screen-view-facility",3,"label","value"],[1,"col-md-6"],["disabled","true","id","animal-spotlight-screen-view-screenname",3,"label","value"],[1,"col-md-8"],["disabled","true","mandatory","false","id","animal-spotlight-screen-view-title",3,"label","value"],[1,"col-md-2","d-flex","align-items-center"],["label","","disabled","true","id","animal-spotlight-screen-view-checkboxoptions",3,"options","checked"],[1,"col-lg-1","col-md-2","order-md-1"],["id","animal-spotlight-screen-view-image",1,"thumbnail-view",3,"defaultImage","imageName"],[1,"col-md-12","order-md-1","order-2"],[1,"fs-12"],["ng-disabled","true","id","animal-spotlight-screen-view-description",3,"ngModel","config","ngModelChange"],[1,"col-md-12","text-end","mt-2","order-md-1","order-2"],["className","btn btn-danger btn-sm","id","animal-spotlight-screen-view-close",3,"label","buttonOnClick"],[1,"card"],[1,"card-content"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["selectionMode","single","dataKey","LineNum",1,"ptable","d-none","d-lg-block","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"d-lg-none"],["lines","full","class","pdl-0 pdr-0",4,"ngFor","ngForOf"],["class","text-center text-danger mb-0 no-data-txt",4,"ngIf"],[3,"createdBy","lastUpdatedBy","creationDate","showrecordhistory","lastUpdatedDate"],["id","exampleModal7","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"col-md-4"],["disabled","true","id","customscreenstaticcontent-create-translations-delete-contentname",3,"label","value"],["mandatory","false","disabled","true","id","customscreenstaticcontent-create-translations-delete-language",3,"label","value"],["disabled","true","id","customscreenstaticcontent-create-translations-delete-displayname","mandatory","true",3,"label","value"],[1,"col-md-4","d-flex","align-items-center"],["label","","mandatory","false","id","customscreenstaticcontent-create-translations-delete-checkboxoption","disabled","true",3,"options","checked"],[1,"col-lg-12","col-md-12"],["ng-disabled","true","id","customscreenstaticcontent-edit-deletepopup-description",3,"ngModel","config","ngModelChange"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","customscreenstaticcontent-view-closebutton-viewpopup",3,"label","buttonOnClick"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal7",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal7",3,"pSelectableRow","click"],[3,"innerHTML"],["class","col-md-12",4,"ngFor","ngForOf"],["lines","full",1,"pdl-0","pdr-0"],[1,"text-center"],[1,"mg-0"],[1,"mg-0","fs-13"],["color","primary",1,"h3"],[1,"mg-0","fs-11"],[1,"h3"],[1,"text-center","text-danger","mb-0","no-data-txt"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",13),e._UZ(15,"app-input",14),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",15),e._UZ(18,"app-input",16),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",17),e._UZ(21,"app-checkbox",18),e.qZA()()(),e.TgZ(22,"div",19),e._UZ(23,"app-imageupload",20),e.qZA(),e.TgZ(24,"div",21)(25,"ion-label",22),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"angular-editor",23),e.NdJ("ngModelChange",function(s){return t.ckEitorMessage=s}),e.qZA()(),e.TgZ(29,"div",24)(30,"app-button",25),e.NdJ("buttonOnClick",function(){return t.cancelBtn()}),e.ALo(31,"translate"),e.qZA()()()()()(),e.TgZ(32,"div",3)(33,"div",26)(34,"div",27)(35,"p-accordion",28)(36,"p-accordionTab",29)(37,"p-header",30)(38,"span"),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"p-table",31),e.YNc(42,Ge,1,1,"ng-template",32),e.YNc(43,He,2,1,"ng-template",33),e.YNc(44,We,2,1,"ng-template",34),e.YNc(45,ze,4,2,"ng-template",35),e.qZA(),e.TgZ(46,"div",36)(47,"ion-list"),e.YNc(48,Ke,22,15,"ion-item",37),e.qZA(),e.YNc(49,Xe,3,3,"p",38),e.qZA()(),e._UZ(50,"app-recordhistory",39),e.qZA()()()()()()(),e.TgZ(51,"div",40)(52,"div",41)(53,"div",42)(54,"div",43)(55,"div",44),e._uU(56),e.ALo(57,"translate"),e.ALo(58,"translate"),e.qZA()(),e.TgZ(59,"div",45)(60,"div",8)(61,"div",46),e._UZ(62,"app-input",47),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"div",46),e._UZ(65,"app-input",48),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"div",46),e._UZ(68,"app-input",47),e.ALo(69,"translate"),e.qZA(),e.TgZ(70,"div",46),e._UZ(71,"app-input",49),e.ALo(72,"translate"),e.ALo(73,"translate"),e.qZA(),e.TgZ(74,"div",50),e._UZ(75,"app-checkbox",51),e.qZA(),e.TgZ(76,"div",52)(77,"ion-label",22),e._uU(78),e.ALo(79,"translate"),e.ALo(80,"translate"),e.qZA(),e.TgZ(81,"angular-editor",53),e.NdJ("ngModelChange",function(s){return t.dataJsonObj.langTransDescription=s}),e.qZA()(),e.TgZ(82,"div",54)(83,"app-button",55),e.NdJ("buttonOnClick",function(){return t.cancelPopUpButton()}),e.ALo(84,"translate"),e.qZA()()()()()()()),2&i&&(e.xp6(6),e.Q6J("pageName",t.dataJsonObj.pageName)("pageTitle",t.dataJsonObj.pageTitle)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(6),e.s9C("label",e.lcZ(13,54,"COMMON_PAGE_TITLES.FACILITY")),e.s9C("value",null==t.animalSpotlightViewData||null==t.animalSpotlightViewData.facility?null:t.animalSpotlightViewData.facility.facility_name),e.xp6(3),e.s9C("label",e.lcZ(16,56,"FACILITY_SPOTLIGHT.SCREEN_NAME")),e.s9C("value",null==t.animalSpotlightViewData?null:t.animalSpotlightViewData.screen_display_name),e.xp6(3),e.s9C("label",e.lcZ(19,58,"NEW_VARIABLES.TITLE")),e.s9C("value",null==t.animalSpotlightViewData?null:t.animalSpotlightViewData.title),e.xp6(3),e.Q6J("options",t.checkboxOptions)("checked",t.animalSpotlightCheckbox),e.xp6(2),e.s9C("defaultImage",t.imgFilepath),e.s9C("imageName",null==t.animalSpotlightViewData||null==t.animalSpotlightViewData.facility?null:t.animalSpotlightViewData.facility.facility_name),e.xp6(3),e.hij(" ",e.lcZ(27,60,"COMMON_FIELDS.DESCRIPTION")," "),e.xp6(2),e.Q6J("ngModel",t.ckEitorMessage)("config",t.editorConfig),e.xp6(2),e.s9C("label",e.lcZ(31,62,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(40,64,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")),e.xp6(2),e.Q6J("columns",null==t.dataJsonObj?null:t.dataJsonObj.spotlightScreensTlheaders)("value",null==t.dataJsonObj?null:t.dataJsonObj.languagesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(7),e.Q6J("ngForOf",t.dataJsonObj.languagesData),e.xp6(1),e.Q6J("ngIf",(null==t.dataJsonObj?null:t.dataJsonObj.languagesData)&&0==(null==t.dataJsonObj?null:t.dataJsonObj.languagesData.length)),e.xp6(1),e.Q6J("createdBy",t.createdBy)("lastUpdatedBy",t.lastUpdatedBy)("creationDate",null==t.animalSpotlightViewData?null:t.animalSpotlightViewData.createdAt)("showrecordhistory",t.dataJsonObj.showrecordhistory)("lastUpdatedDate",null==t.animalSpotlightViewData?null:t.animalSpotlightViewData.updatedAt),e.xp6(6),e.AsE("",e.lcZ(57,66,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(58,68,"COMMON_BUTTONS.BUTTON_VIEW"),""),e.xp6(6),e.s9C("label",e.lcZ(63,70,"FACILITY_SPOTLIGHT.SCREEN_NAME")),e.s9C("value",null==t.animalSpotlightViewData?null:t.animalSpotlightViewData.screen_display_name),e.xp6(3),e.s9C("label",e.lcZ(66,72,"PREFERENCES.LANGUAGE")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.languageName),e.xp6(3),e.s9C("label",e.lcZ(69,74,"NEW_VARIABLES.TITLE")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.languageTitle),e.xp6(3),e.hYB("label","",e.lcZ(72,76,"NEW_VARIABLES.TITLE")," (",e.lcZ(73,78,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.langTransDisplayname),e.xp6(4),e.Q6J("options",t.checkboxOptions)("checked",null==t.dataJsonObj?null:t.dataJsonObj.isLangTransEnabled),e.xp6(3),e.AsE(" ",e.lcZ(79,80,"COMMON_FIELDS.DESCRIPTION")," (",e.lcZ(80,82,"NEW_VARIABLES.TRANSLATED"),")"),e.xp6(3),e.Q6J("ngModel",t.dataJsonObj.langTransDescription)("config",t.languageViewSignature),e.xp6(2),e.s9C("label",e.lcZ(84,84,"COMMON_BUTTONS.BUTTON_CLOSE")))},dependencies:[E.sg,E.O5,p.Ie,p.Q$,p.q_,M.r,D.a,F.b,U.f,x.W,j.q,A.UQ,A.US,N.h4,N.jx,f.iA,f.Ei,L.s6,C.JJ,C.On,O.X$]})}return l})(),data:{responsibilityParam:o.bP.MENUS+"."+o.w1.SCREENS+"."+o.bP.SUBMENUS+"."+o.w1.ANIMAL_SPOTLIGHT_SCREENS+"."+o.In.VIEW,pageName:o.hf.FACILITY_SPOTLIGHT_SCREENS,pageSetting:o.AM.ACTIONS,settingField:o.In.VIEW}},{path:"facilityspotlight/:id/edit",canActivate:[v.P],component:Re,data:{responsibilityParam:o.bP.MENUS+"."+o.w1.SCREENS+"."+o.bP.SUBMENUS+"."+o.w1.ANIMAL_SPOTLIGHT_SCREENS+"."+o.In.EDIT,pageName:o.hf.FACILITY_SPOTLIGHT_SCREENS,pageSetting:o.AM.ACTIONS,settingField:o.In.EDIT}},{path:":parentId/facilityspotlightconfigurations",loadChildren:()=>d.e(7773).then(d.bind(d,7773)).then(l=>l.FacilitySpotlightConfigurationModule)}]}];let ta=(()=>{class l{static \u0275fac=function(i){return new(i||l)};static \u0275mod=e.oAB({type:l});static \u0275inj=e.cJS({imports:[_.Bz.forChild(aa),_.Bz]})}return l})();var ia=d(80529),na=d(65673);let la=(()=>{class l{static \u0275fac=function(i){return new(i||l)};static \u0275mod=e.oAB({type:l});static \u0275inj=e.cJS({imports:[E.ez,p.Pc,na.Q,O.aw,ta,A.fx,f.U$,ia.JF,L.UM,C.UX,C.u5]})}return l})()}}]);