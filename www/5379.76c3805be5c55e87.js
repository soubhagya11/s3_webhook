"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5379],{65379:(Fe,E,o)=>{o.r(E),o.d(E,{TemplateDocumentModule:()=>Be});var D=o(36895),O=o(11210),h=o(62510),n=o(32236),m=o(15861),g=(o(24346),o(8236),o(71568)),_=o(47561),v=o(57936),j=o(42786),N=(o(72244),o(46335)),t=o(94650),b=o(54463),C=o(27601),T=o(70057),A=o(2387),U=o(56368),V=o(17867),S=o(37415);const B=["addressLinesComponent"],k=["attributesComponent"],F=["userAttributesComponent1"],G=["preferencesComponent"],Z=["dateOfBirth"],H=["firstNameInput"],Y=["lastNameInput"],Q=["userAccountInput"],W=["userRoleInput"],q=["defaultUserRole"],$=["emailInput"],K=["parentEmailInput"],z=["phonecountrycodeDropDown"],X=["phoneInput"],x=["athleteSportDropdown"],ee=["coachSportDropdown"];let te=(()=>{class l extends _.O{loggerService;translateService;uiUtils;userService;commonService;enterprisesService;route;toastController;addressLinesComponent;attributesComponent;userAttributesComponent1;preferencesComponent;dateOfBirth;firstNameInput;lastNameInput;userAccountInput;userRoleInput;defaultUserRole;emailInput;parentEmailInput;phonecountrycodeDropDown;phoneInput;athleteSportDropdown;coachSportDropdown;testatorsName="";residenceAndState="";spousesName="";childrensName="";dateOfWillExecution="";witnessName="";witnessAddress="";attributes=[];attributesObj;checkboxOptions;count=0;createUserObj=new ae;dataJsonObj={};defaultEnterprise;defaultStatus;defaultUserName;defaultUserRoleObj;defaultUsertypes;disableSubmitBtn;enabled;enterpriseId;enterpriseName;enterpriseShortName;error;errorUser;expiryDateEditable=!1;firstName;gender;genderDisplayName;headerAction;image;imageError;imgFile;isEnabled;isuserRoleinputledisabled=!1;lastName;loginUserDateFormat;nickName;pageTitle;parentEnterpriseId;preferenceObj;preferObject;primaryFlag;profanityOptions;referenceFieldValueIds=[];selectedOptions=[];statusDisplayName;statusName;statusObj;statusOptions;userDOB;userExpiryDate;userRole;userRolesOptions;usertypeattributesObj;userTypepOptions;constructor(e,r,a,s,i,p,u,c){super(u,i),this.loggerService=e,this.translateService=r,this.uiUtils=a,this.userService=s,this.commonService=i,this.enterprisesService=p,this.route=u,this.toastController=c,this.enterpriseId=JSON.parse(localStorage.getItem(n.BU.SELECTED_ENTERPRISE)),this.route.queryParams.subscribe(d=>{this.dataJsonObj.selectedUserTypeName=d.selectedUserTypeName})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=n.hf.TEMPLATE_DOCUMENT,this.dataJsonObj.pageTitle=[{key:"Template-Document",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.headerAction={BACK:!0};const e=JSON.parse(localStorage.getItem(n.BU.DATE_FORMATE_OBJ));this.loginUserDateFormat=this.lookupLanguageTranslations(e.lookup_id),this.dataJsonObj.isShowMiscellaneousEnabled=this.roleRightsValidationByPage(n.hf.USER,n.AM.ACTIONS,n.In.SHOW_MISCELLANEOUS),this.disableSubmitBtn=!1,this.userExpiryDate=this.commonService.getDateObj(new Date(2099,11,31).toISOString(),this.loginUserDateFormat);const r=localStorage.getItem(n.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(n.BU.SELECTED_USER_TYPE_OBJ)):{};this.expiryDateEditable=r?.user_type_name===n.ox.SUB_ADMIN||r?.user_type_name===n.ox.SUPER_ADMIN,this.checkboxOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}],this.getDynamicJson([{folderName:n.sb.USER_TYPES,jsonType:"list",storingFieldName:"userTypesListJson"}]),this.commonService.getLookupCodesListJson(this.enterpriseId,"list").then(s=>{this.dataJsonObj.lookupCodesListJSON=s,(this.dataJsonObj.selectedUserTypeName==n.hf.ATHLETES||this.dataJsonObj.selectedUserTypeName==n.hf.COACHES)&&(this.isuserRoleinputledisabled=!0)})}changeTestatorsName(e){this.testatorsName=e.value}changeResidenceAndState(e){this.residenceAndState=e.value}changeSpousesName(e){this.spousesName=e.value}changeChildrensName(e){this.childrensName=e.value}changeWitnessName(e){this.witnessName=e.value}changeWitnessAddress(e){this.witnessAddress=e.value}changeDateOfWillExecution(e){this.dataJsonObj.dateOfWillExecution=e}getDynamicJson(e){var r=this;return(0,m.Z)(function*(){for(let a of e)r.dataJsonObj[a.storingFieldName]=yield r.commonService.getDynamicJson(r.enterpriseId,a.folderName,a.jsonType)})()}getAllSportsJson(){var e=this;return(0,m.Z)(function*(){e.dataJsonObj.sportsOptions=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${e.enterpriseId}/sports/`,"sports.json",!0),e.dataJsonObj.sportsDataJSON={};for(let r of e.dataJsonObj.sportsOptions)e.dataJsonObj.sportsDataJSON[r.ID+""]=r})()}getCoachesJson(){var e=this;return(0,m.Z)(function*(){e.dataJsonObj.coachesListJSON=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${e.enterpriseId}/coach_profiles/`,"CoachProfiles.json",!0)})()}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.enterpriseId).subscribe(e=>{this.enterpriseName=e.enterprise_name,this.defaultEnterprise=e._id,this.preferObject=e.preferences,this.enterpriseShortName=e.short_name,this.parentEnterpriseId=e.parent_enterprise_id&&e.parent_enterprise_id._id?e.parent_enterprise_id._id:e.parent_enterprise_id})}catch(e){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",e)}}changeFirstName(e){this.firstName=e.value}changeMiddlename(e){this.dataJsonObj.middleName=e.value}changeLastName(e){this.lastName=e.value}changeNickName(e){this.nickName=e.value}clearErrorMessage(){this.error=""}changeUserDOBDate(e){this.userDOB=e.value,this.dataJsonObj.isAthleteProfileDataUpdated=!0,this.dataJsonObj.athleteProfile.date_of_birth=this.userDOB}commonErrorCodes(e){const r=JSON.parse(e[n.BU.STATUS]);switch(r){case 409:this.error="COMMON_STATUS_CODES."+r;break;case 401:this.error=e.error&&e.error.code?"VALIDATION_MESSAGES."+e.error.code:e.error.message}}cancelBtn(){this.commonService.redirectToPreviousUrl()}pageheadeActionClick(e){"BACK"==e.value&&this.cancelBtn()}stringFilter(e){return!(44==e.keyCode||94==e.keyCode)}onClick(e){e.stopPropagation()}static \u0275fac=function(r){return new(r||l)(t.Y36(j.m),t.Y36(b.sK),t.Y36(C.s),t.Y36(N.K),t.Y36(g.v),t.Y36(v.e),t.Y36(h.gz),t.Y36(T.yF))};static \u0275cmp=t.Xpm({type:l,selectors:[["app-template-document-create"]],viewQuery:function(r,a){if(1&r&&(t.Gf(B,5),t.Gf(k,5),t.Gf(F,5),t.Gf(G,5),t.Gf(Z,5),t.Gf(H,5),t.Gf(Y,5),t.Gf(Q,5),t.Gf(W,5),t.Gf(q,5),t.Gf($,5),t.Gf(K,5),t.Gf(z,5),t.Gf(X,5),t.Gf(x,5),t.Gf(ee,5)),2&r){let s;t.iGM(s=t.CRH())&&(a.addressLinesComponent=s.first),t.iGM(s=t.CRH())&&(a.attributesComponent=s.first),t.iGM(s=t.CRH())&&(a.userAttributesComponent1=s.first),t.iGM(s=t.CRH())&&(a.preferencesComponent=s.first),t.iGM(s=t.CRH())&&(a.dateOfBirth=s.first),t.iGM(s=t.CRH())&&(a.firstNameInput=s.first),t.iGM(s=t.CRH())&&(a.lastNameInput=s.first),t.iGM(s=t.CRH())&&(a.userAccountInput=s.first),t.iGM(s=t.CRH())&&(a.userRoleInput=s.first),t.iGM(s=t.CRH())&&(a.defaultUserRole=s.first),t.iGM(s=t.CRH())&&(a.emailInput=s.first),t.iGM(s=t.CRH())&&(a.parentEmailInput=s.first),t.iGM(s=t.CRH())&&(a.phonecountrycodeDropDown=s.first),t.iGM(s=t.CRH())&&(a.phoneInput=s.first),t.iGM(s=t.CRH())&&(a.athleteSportDropdown=s.first),t.iGM(s=t.CRH())&&(a.coachSportDropdown=s.first)}},features:[t.qOj],decls:38,vars:27,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-4"],["label","Testator's Name","mandatory","true","id","user-create-firstname","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],["label","Residence and State","mandatory","false","id","user-create-middlename","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],["label","Spouse's Name","mandatory","true","id","user-create-spouse-name","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],["label","Children's Name","mandatory","false","id","user-create-children-name","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],["placeholder","Date of Will Execution","mandatory","false","id","user-create-dateofbirth",3,"defaultDate","dateformat","dateChangeValue"],["dateOfBirth",""],["label","Witness Name","mandatory","true","id","user-create-witness-name","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],["label","Witness Address","mandatory","true","id","user-create-witness-address","autoCaseFlag","false",3,"maxlength","value","valueChange","keypress"],[1,"col-md-11","text-end","mt-2","mb-2","order-md-1","order-2"],["id","user-create-submit","className","btn btn-primary btn-sm",1,"mgr-5",3,"label"],["id","user-create-cancel","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"card"],[1,"card-content"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"app-pageheader",6),t.qZA(),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"app-input",12),t.NdJ("valueChange",function(i){return a.changeTestatorsName(i)})("keypress",function(i){return a.stringFilter(i)}),t.qZA()(),t.TgZ(13,"div",11)(14,"app-input",13),t.NdJ("valueChange",function(i){return a.changeResidenceAndState(i)})("keypress",function(i){return a.stringFilter(i)}),t.qZA()(),t.TgZ(15,"div",11)(16,"app-input",14),t.NdJ("valueChange",function(i){return a.changeSpousesName(i)})("keypress",function(i){return a.stringFilter(i)}),t.qZA()(),t.TgZ(17,"div",11)(18,"app-input",15),t.NdJ("valueChange",function(i){return a.changeChildrensName(i)})("keypress",function(i){return a.stringFilter(i)}),t.qZA()(),t.TgZ(19,"div",11)(20,"app-advsearchdatepicker",16,17),t.NdJ("dateChangeValue",function(i){return a.changeUserDOBDate(i)}),t.qZA()(),t.TgZ(22,"div",11)(23,"app-input",18),t.NdJ("valueChange",function(i){return a.changeWitnessName(i)})("keypress",function(i){return a.stringFilter(i)}),t.qZA()(),t.TgZ(24,"div",11)(25,"app-input",19),t.NdJ("valueChange",function(i){return a.changeWitnessAddress(i)})("keypress",function(i){return a.stringFilter(i)}),t.qZA()()()()(),t.TgZ(26,"div",20),t._UZ(27,"app-button",21),t.ALo(28,"translate"),t.TgZ(29,"app-button",22),t.NdJ("buttonOnClick",function(){return a.cancelBtn()}),t.ALo(30,"translate"),t.qZA()()(),t.TgZ(31,"div",23),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"div",10)(35,"div",3)(36,"div",24),t._UZ(37,"div",25),t.qZA()()()()()()()()),2&r&&(t.xp6(6),t.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),t.xp6(6),t.Q6J("maxlength",20)("value",a.testatorsName),t.xp6(2),t.Q6J("maxlength",20)("value",a.residenceAndState),t.xp6(2),t.Q6J("maxlength",20)("value",a.spousesName),t.xp6(2),t.Q6J("maxlength",20)("value",a.childrensName),t.xp6(2),t.s9C("defaultDate",a.userDOB),t.Q6J("dateformat",a.loginUserDateFormat),t.xp6(3),t.Q6J("maxlength",20)("value",a.witnessName),t.xp6(2),t.Q6J("maxlength",20)("value",a.witnessAddress),t.xp6(2),t.s9C("label",t.lcZ(28,21,"COMMON_BUTTONS.BUTTON_SUBMIT")),t.xp6(2),t.s9C("label",t.lcZ(30,23,"COMMON_BUTTONS.BUTTON_CANCEL")),t.xp6(3),t.hij(" ",t.lcZ(33,25,a.error)," "))},dependencies:[A.r,U.a,V.H,S.q,b.X$]})}return l})();class ae{testators_name;residence_and_state;spouses_name;childrens_name;date_of_will_execution;witness_name;witness_address;address;athleteProfile;coachProfile;country;email;parent_email;isChildAccount;enterprise;f_name;l_name;m_name;mobile_country_code;mobile_number;nick_name;notificationObj;preferences;status;summary;user_account;user_expiry_date;user_id;user_image_name;user_image_path;user_role;user_types;default_user_type;user;userAttributes;usertypeAttributes}var f=o(90313);const se=["addressLinesComponent"],re=["attributesComponent"],ne=["userAttributesComponent1"],ie=["preferencesComponent"],oe=["dateOfBirth"],le=["firstNameInput"],de=["lastNameInput"],ce=["userAccountInput"],ue=["userRoleInput"],pe=["defaultUserRole"],me=["emailInput"],he=["parentEmailInput"],be=["phonecountrycodeDropDown"],Oe=["phoneInput"],ge=["athleteSportDropdown"],fe=["coachSportDropdown"];function _e(l,ke){if(1&l){const e=t.EpF();t.TgZ(0,"div",14)(1,"app-input",15),t.NdJ("valueChange",function(a){const i=t.CHM(e).$implicit,p=t.oxw();return t.KtG(p.onValueChange(a,i))})("keypress",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.stringFilter(a))}),t.qZA()()}if(2&l){const e=ke.$implicit;t.xp6(1),t.Q6J("label",e.field_label)("maxlength",20)("mandatory",null==e.field_validation?null:e.field_validation.required)("id","field-"+e.field_id)("autoCaseFlag",!1)}}let je=(()=>{class l extends _.O{loggerService;translateService;uiUtils;userService;commonService;enterprisesService;route;toastController;addressLinesComponent;attributesComponent;userAttributesComponent1;preferencesComponent;dateOfBirth;firstNameInput;lastNameInput;userAccountInput;userRoleInput;defaultUserRole;emailInput;parentEmailInput;phonecountrycodeDropDown;phoneInput;athleteSportDropdown;coachSportDropdown;testatorsName="";residenceAndState="";spousesName="";childrensName="";dateOfWillExecution="";witnessName="";witnessAddress="";attributes=[];attributesObj;checkboxOptions;count=0;createUserObj=new Ce;dataJsonObj={};defaultEnterprise;defaultStatus;defaultUserName;defaultUserRoleObj;defaultUsertypes;disableSubmitBtn;enabled;enterpriseId;enterpriseName;enterpriseShortName;error;errorUser;expiryDateEditable=!1;firstName;gender;genderDisplayName;headerAction;image;imageError;imgFile;isEnabled;isuserRoleinputledisabled=!1;lastName;loginUserDateFormat;nickName;pageTitle;parentEnterpriseId;preferenceObj;preferObject;primaryFlag;profanityOptions;referenceFieldValueIds=[];selectedOptions=[];statusDisplayName;statusName;statusObj;statusOptions;userDOB;userExpiryDate;userRole;userRolesOptions;usertypeattributesObj;userTypepOptions;parameterName;constructor(e,r,a,s,i,p,u,c){super(u,i),this.loggerService=e,this.translateService=r,this.uiUtils=a,this.userService=s,this.commonService=i,this.enterprisesService=p,this.route=u,this.toastController=c,this.route.params.subscribe(d=>{this.parameterName=d.name?d.name.replace("~"," "):"",d.id&&parseInt(d.id,10)&&(this.dataJsonObj.selectedRecordId=parseInt(d.id,10))}),this.route.queryParams.subscribe(d=>{this.dataJsonObj.queryParamsObj={defaultView:d.defaultView,selectedMenuId:d.selectedMenuId,selectedSubMenuId:d.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=n.hf.TEMPLATE_DOCUMENT,this.dataJsonObj.pageTitle=[{key:"Template-Document",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"NEW_VARIABLES.QUESTIONNAIRE",value:"",showSubMenuDisplayName:!1}],this.headerAction={BACK:!0},this.dataJsonObj.inputObj={},this.dataJsonObj.generateButtonLabel="COMMON_BUTTONS.BUTTON_GENERATE",this.dataJsonObj.isButtonClicked=!1;const e=JSON.parse(localStorage.getItem(n.BU.DATE_FORMATE_OBJ));this.loginUserDateFormat=this.lookupLanguageTranslations(e.lookup_id),this.dataJsonObj.isShowMiscellaneousEnabled=this.roleRightsValidationByPage(n.hf.USER,n.AM.ACTIONS,n.In.SHOW_MISCELLANEOUS),this.disableSubmitBtn=!1,this.userExpiryDate=this.commonService.getDateObj(new Date(2099,11,31).toISOString(),this.loginUserDateFormat);const r=localStorage.getItem(n.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(n.BU.SELECTED_USER_TYPE_OBJ)):{};this.expiryDateEditable=r?.user_type_name===n.ox.SUB_ADMIN||r?.user_type_name===n.ox.SUPER_ADMIN,this.checkboxOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}],this.getEnterprisesViewData(),this.dataJsonObj.defaultUserTypeName="",this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(n.BU.SELECTED_ENTERPRISE),this.getDynamicJson([{folderName:"facilities",jsonType:"v2",storingFieldName:"facilitiesListJson"}],!1),this.getSelectedDocumentDetails()}getSelectedDocumentDetails(){var e=this;return(0,m.Z)(function*(){const r=localStorage.getItem(n.BU.LOGIN_USER_LANGUAGE)?localStorage.getItem(n.BU.LOGIN_USER_LANGUAGE):"en";e.dataJsonObj.documentTemplateDetailsJSON=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${e.dataJsonObj.selectedEnterpriseId}/document_templates/details/${e.dataJsonObj.selectedRecordId}/`,`${r}.json`),e.dataJsonObj.fieldsArray=e.dataJsonObj.documentTemplateDetailsJSON.fields})()}onValueChange(e,r){r?.field_code&&(this.dataJsonObj.inputObj[r.field_code]=e.value)}generateMethod(){this.dataJsonObj.isButtonClicked=!0,this.dataJsonObj.generateButtonLabel="Generating"}getDynamicJson(e,r){var a=this;return(0,m.Z)(function*(){for(let s of e)a.dataJsonObj[s.storingFieldName]=yield a.commonService.getDynamicJson(a.enterpriseId,s.folderName,s.jsonType)})()}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.enterpriseId).subscribe(e=>{this.enterpriseName=e.enterprise_name,this.defaultEnterprise=e._id,this.preferObject=e.preferences,this.enterpriseShortName=e.short_name,this.parentEnterpriseId=e.parent_enterprise_id&&e.parent_enterprise_id._id?e.parent_enterprise_id._id:e.parent_enterprise_id})}catch(e){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",e)}}changeUsertypelist(e){try{if(e){this.dataJsonObj.userTypes=[],this.createUserObj.user_types=e.value,this.dataJsonObj.selected_user_types=e.value,this.dataJsonObj.userTypes=this.dataJsonObj.selected_user_types.map(a=>a.user_type_name),this.dataJsonObj.userTypeIds=this.dataJsonObj.selected_user_types.map(a=>a.user_type_id);const r=!!this.createUserObj.default_user_type&&this.dataJsonObj.selected_user_types.find(a=>a.ID==this.createUserObj.default_user_type);this.dataJsonObj.defaultUserTypeName=r?r.NAME:"",this.referenceFieldValueIds=this.createUserObj.user_types.map(a=>a._id),this.dataJsonObj?.userTypes?.includes(n.Wg.ATHLETES)||(this.dataJsonObj.parent_email="",this.dataJsonObj.isChildAccount=!1)}}catch(r){this.loggerService.setLoggerError(this.constructor.name,"changeUsertypelist",r)}}changeDefaultUserType(e){try{e.NAME?(this.createUserObj.default_user_type=e.ID,this.createUserObj.user_role=e.user_role,this.dataJsonObj.defaultUserTypeName=e.NAME):this.dataJsonObj.defaultUserTypeName=""}catch(r){this.loggerService.setLoggerError(this.constructor.name,"changeUserType",r)}}changeInputFieldValue(e,r,a){try{a[r]=e.value,this.error=""}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeInputFieldValue",s)}}createUser(){var e=this;return(0,m.Z)(function*(){try{const r=e.addressLinesComponent.addressDetails();for(let a=0;a<r.length;a++)!0===r[a].primary&&(e.primaryFlag=!0);if(e.firstNameInput.isValid()&&e.lastNameInput.isValid()&&e.userAccountInput.isValid()&&(!e.phonecountrycodeDropDown||e.phonecountrycodeDropDown.isValid())&&e.phoneInput.isValid()&&(e.userRoleInput.isValid()||!e.userRoleInput)&&(e.createUserObj?.user_types?.length>0&&e.defaultUserRole.isValid()||!e.defaultUserRole)&&(!e.dataJsonObj?.userTypes?.includes(n.Wg.ATHLETES)||!e.dataJsonObj.athleteProfile?.date_of_birth||e.dateOfBirth.isValid())&&(e.dataJsonObj.isChildAccount&&!e.emailInput||e.emailInput.isValid())&&(!e.dataJsonObj.isChildAccount||e.parentEmailInput.isValid())&&f.L.isEmpty(e.imageError)&&e.preferencesComponent.isValidPreferences()&&(e.attributes.length>0?e.attributesComponent.isValidAttributes():f.L.isEmpty(e.errorUser))){e.disableSubmitBtn=!0;const a=e.preferencesComponent.preferenceObj();e.createUserObj.user={};const s={enterprise_id:e.defaultEnterprise,enterprise_name:e.enterpriseName,short_name:e.enterpriseShortName,parent_enterprise_id:e.parentEnterpriseId};e.createUserObj.enterprise=s,e.createUserObj.status={lookup_id:e.defaultStatus,lookup_name:e.statusName},e.createUserObj.user_expiry_date=e.commonService.getUTCDateObj(e.userExpiryDate),e.createUserObj.testators_name=e.testatorsName,e.createUserObj.residence_and_state=e.residenceAndState,e.createUserObj.spouses_name=e.spousesName,e.createUserObj.childrens_name=e.childrensName,e.createUserObj.date_of_will_execution=e.userDOB,e.createUserObj.witness_name=e.witnessName,e.createUserObj.witness_address=e.witnessAddress,e.createUserObj.f_name=e.firstName,e.createUserObj.m_name=e.dataJsonObj.middleName,e.createUserObj.l_name=e.lastName,e.createUserObj.mobile_country_code=e.dataJsonObj.countryCode,e.createUserObj.mobile_number=e.dataJsonObj.mobile,e.createUserObj.email=e.dataJsonObj.email,e.createUserObj.parent_email=e.dataJsonObj.parent_email,e.createUserObj.isChildAccount=!!e.dataJsonObj.isChildAccount,e.createUserObj.nick_name=e.nickName,e.createUserObj.summary=e.createUserObj.summary,e.createUserObj.preferences=a,e.createUserObj.address=r;let i="";e.dataJsonObj.attributes&&e.dataJsonObj.attributes.length>0?(e.attributesObj=e.attributesComponent.getAttributeValues(),i=e.attributesObj&&e.attributesObj.error?e.attributesObj.error:"",e.createUserObj.userAttributes=e.attributesObj):(i="",e.createUserObj.userAttributes=[]),f.L.isEmpty(i)&&(e.userTypepOptions&&e.userTypepOptions.length>0&&e.dataJsonObj.userTypeAttributes?.length>0?(e.usertypeattributesObj=e.userAttributesComponent1.getAttributeValues(),e.createUserObj.usertypeAttributes=e.usertypeattributesObj,i=e.usertypeattributesObj&&e.usertypeattributesObj.error?e.usertypeattributesObj.error:""):(i="",e.createUserObj.usertypeAttributes=[])),e.createUserObj.user.user_account=e.createUserObj.user_account,e.createUserObj.user.f_name=e.createUserObj.f_name,e.createUserObj.user.m_name=e.createUserObj.m_name,e.createUserObj.user.l_name=e.createUserObj.l_name,e.createUserObj.user.email=e.createUserObj.email,e.createUserObj.user.parent_email=e.createUserObj.parent_email,e.createUserObj.user.country=e.dataJsonObj.country,e.createUserObj.country=e.dataJsonObj.country;const p={lookup_id:e.dataJsonObj.heightUOMObj?.lookup_id,lookup_name:e.dataJsonObj.heightUOMObj?.lookup_name},u={lookup_id:e.dataJsonObj.weightUOMObj?.lookup_id,lookup_name:e.dataJsonObj.weightUOMObj?.lookup_name};e.dataJsonObj.isAthleteProfileDataUpdated&&(e.createUserObj.athleteProfile={},e.createUserObj.athleteProfile=e.dataJsonObj.athleteProfile,e.createUserObj.athleteProfile.enterprise=s,e.createUserObj.athleteProfile.is_verification_completed=!0,e.createUserObj.athleteProfile.height=parseFloat(e.dataJsonObj.athleteProfile.height),e.createUserObj.athleteProfile.height_unit_of_measure=e.dataJsonObj.athleteProfile.height?p:{},e.createUserObj.athleteProfile.weight_unit_of_measure=e.dataJsonObj.athleteProfile.weight?u:{}),e.dataJsonObj.isCoachProfileDataUpdated&&(e.createUserObj.coachProfile={},e.createUserObj.coachProfile=e.dataJsonObj.coachProfile,e.createUserObj.coachProfile.enterprise=s,e.createUserObj.coachProfile.is_verification_completed=!0);const c=yield e.validateUserUniqueness(e.createUserObj);f.L.isEmpty(i)&&c&&e.userService.create(e.createUserObj,e.imgFile).then(d=>{e.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),e.commonService.redirectToPreviousUrl()},d=>{e.disableSubmitBtn=!1,e.commonErrorCodes(JSON.parse(d))})}}catch(r){e.loggerService.setLoggerError(e.constructor.name,"createUser",r)}})()}validateUserUniqueness(e){var r=this;return(0,m.Z)(function*(){const a=yield r.userService.validateUserUniqueness({email:e.email,user_account:e.user_account,enterprise:{enterprise_id:e.enterprise.enterprise_id}});let s=!0;return a&&(a.userNameExists&&a.emailExists?(r.error="COMMON_VALIDATION_MESSAGES.VALID_USER_NAME_AND_MAIL_ALREADY_EXISTS",s=!1):a.userNameExists?(r.error="VALIDATION_MESSAGES.2030",s=!1):a.emailExists?(r.error="VALIDATION_MESSAGES.2029",s=!1):a.user_profile_id&&(r.error="VALIDATION_MESSAGES.2050",s=!1)),s})()}commonErrorCodes(e){const r=JSON.parse(e[n.BU.STATUS]);switch(r){case 409:this.error="COMMON_STATUS_CODES."+r;break;case 401:this.error=e.error&&e.error.code?"VALIDATION_MESSAGES."+e.error.code:e.error.message}}cancelBtn(){this.commonService.redirectToPreviousUrl()}pageheadeActionClick(e){"BACK"==e.value&&this.cancelBtn()}stringFilter(e){return!(44==e.keyCode||94==e.keyCode)}getSearchFilterDataList(e,r,a,s,i){var p=this;return(0,m.Z)(function*(){a[s]=yield p.commonService.getFilteredDynamicJSONData(r,i,e)})()}getCountriesList(e){this.commonService.getFilteredLookupCodes(this.dataJsonObj?.lookupCodesListJSON[n.ox.COUNTRIES],e).then(r=>{this.dataJsonObj.countryOptions=r})}onClick(e){e.stopPropagation()}static \u0275fac=function(r){return new(r||l)(t.Y36(j.m),t.Y36(b.sK),t.Y36(C.s),t.Y36(N.K),t.Y36(g.v),t.Y36(v.e),t.Y36(h.gz),t.Y36(T.yF))};static \u0275cmp=t.Xpm({type:l,selectors:[["app-template-document-view"]],viewQuery:function(r,a){if(1&r&&(t.Gf(se,5),t.Gf(re,5),t.Gf(ne,5),t.Gf(ie,5),t.Gf(oe,5),t.Gf(le,5),t.Gf(de,5),t.Gf(ce,5),t.Gf(ue,5),t.Gf(pe,5),t.Gf(me,5),t.Gf(he,5),t.Gf(be,5),t.Gf(Oe,5),t.Gf(ge,5),t.Gf(fe,5)),2&r){let s;t.iGM(s=t.CRH())&&(a.addressLinesComponent=s.first),t.iGM(s=t.CRH())&&(a.attributesComponent=s.first),t.iGM(s=t.CRH())&&(a.userAttributesComponent1=s.first),t.iGM(s=t.CRH())&&(a.preferencesComponent=s.first),t.iGM(s=t.CRH())&&(a.dateOfBirth=s.first),t.iGM(s=t.CRH())&&(a.firstNameInput=s.first),t.iGM(s=t.CRH())&&(a.lastNameInput=s.first),t.iGM(s=t.CRH())&&(a.userAccountInput=s.first),t.iGM(s=t.CRH())&&(a.userRoleInput=s.first),t.iGM(s=t.CRH())&&(a.defaultUserRole=s.first),t.iGM(s=t.CRH())&&(a.emailInput=s.first),t.iGM(s=t.CRH())&&(a.parentEmailInput=s.first),t.iGM(s=t.CRH())&&(a.phonecountrycodeDropDown=s.first),t.iGM(s=t.CRH())&&(a.phoneInput=s.first),t.iGM(s=t.CRH())&&(a.athleteSportDropdown=s.first),t.iGM(s=t.CRH())&&(a.coachSportDropdown=s.first)}},features:[t.qOj],decls:15,vars:9,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-11","text-end","mt-2","mb-2","order-md-1","order-2"],["id","user-create-submit","className","btn btn-primary btn-sm",1,"mgr-5",3,"label","disabled","buttonOnClick"],[1,"col-md-4"],[3,"label","value","maxlength","mandatory","id","autoCaseFlag","valueChange","keypress"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"app-pageheader",6),t.qZA(),t.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),t.YNc(11,_e,2,5,"div",11),t.TgZ(12,"div",12)(13,"app-button",13),t.NdJ("buttonOnClick",function(){return a.generateMethod()}),t.ALo(14,"translate"),t.qZA()()()()()()()()()()()),2&r&&(t.xp6(6),t.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),t.xp6(5),t.Q6J("ngForOf",a.dataJsonObj.fieldsArray),t.xp6(2),t.s9C("label",t.lcZ(14,7,null==a.dataJsonObj?null:a.dataJsonObj.generateButtonLabel)),t.Q6J("disabled",null==a.dataJsonObj?null:a.dataJsonObj.isButtonClicked))},dependencies:[D.sg,A.r,U.a,S.q,b.X$]})}return l})();class Ce{testators_name;residence_and_state;spouses_name;childrens_name;date_of_will_execution;witness_name;witness_address;address;athleteProfile;coachProfile;country;email;parent_email;isChildAccount;enterprise;f_name;l_name;m_name;mobile_country_code;mobile_number;nick_name;notificationObj;preferences;status;summary;user_account;user_expiry_date;user_id;user_image_name;user_image_path;user_role;user_types;default_user_type;user;userAttributes;usertypeAttributes}let Te=(()=>{class l{constructor(){}ngOnInit(){}static \u0275fac=function(r){return new(r||l)};static \u0275cmp=t.Xpm({type:l,selectors:[["app-template-document-edit"]],decls:2,vars:0,template:function(r,a){1&r&&(t.TgZ(0,"h1"),t._uU(1," template-document-edit works!\n"),t.qZA())}})}return l})();var I=o(42863),Se=o(28168),M=o(30578),L=o(34942),R=o(91420),ye=o(46448),Je=o(44393),Ee=o(88425);const De=["datatableComponent"];let ve=(()=>{class l extends _.O{translateService;teamsService;ColumnHeader;listingVariables;uiUtils;router;commonService;loggerService;navigationService;actionSheetController;route;datatableComponent;searchValueChange=new t.vpe;dataJsonObj={};errorObj={};constructor(e,r,a,s,i,p,u,c,d,y,w){super(w,u),this.translateService=e,this.teamsService=r,this.ColumnHeader=a,this.listingVariables=s,this.uiUtils=i,this.router=p,this.commonService=u,this.loggerService=c,this.navigationService=d,this.actionSheetController=y,this.route=w,this.getSportsJSONData(),this.route.queryParams.subscribe(J=>{this.dataJsonObj.queryParamsObj={defaultView:J.default_view,selectedMenuId:J.selectedMenuId,selectedSubMenuId:J.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.showSpinner(),this.dataJsonObj.pageName=n.hf.TEMPLATE_DOCUMENT,this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.htmlPageRolesEnumValuesJson={pageEnum:n.hf,pageSettingEnum:n.AM,pageSettingFieldsEnum:n.In},this.dataJsonObj.isAdvancedSearchFilter=!1,this.dataJsonObj.noDuplicates=void 0,this.dataJsonObj.defaultPageName="teams",this.commonService.trackView(n.sn.TEAM_LIST),this.dataJsonObj.selectedUserTypeObj=localStorage.getItem(n.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(n.BU.SELECTED_USER_TYPE_OBJ)):{},this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(n.BU.SELECTED_ENTERPRISE),this.dataJsonObj.selectedEnterpriseCategory=localStorage.getItem(n.BU.ENTERPRISE_CATEGORY),this.dataJsonObj.selectedMenu=JSON.parse(localStorage.getItem(n.BU.SELECTED_MENU)),this.dataJsonObj.selectedSubMenu=JSON.parse(localStorage.getItem(n.BU.MENU_CLICK_ITEM)),this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.TEAMS",value:"",showSubMenuDisplayName:!0}],this.dataJsonObj.isIncludedEnterpriseCategory=[n.ox.INDIVIDUAL].includes(this.dataJsonObj.selectedEnterpriseCategory),this.getDynamicJson([{folderName:"document_template_types",jsonType:"list",storingFieldName:"documentTemplatesJson"}]),this.dataJsonObj.tableColumnheaders=this.ColumnHeader.getTemplateDocumetColumnHeaders(),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchTerm="",this.dataJsonObj.statsObj={isFilterClicked:!1,eventClickData:""},this.dataJsonObj.statsObj.dataList=L.h.getTeamsListStats(this.dataJsonObj.statsObj.isFilterClicked,this.dataJsonObj.statsObj.eventClickData),this.dataJsonObj.forceRefresh=!1,this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.actionsList={EDIT:this.roleRightsValidationByPage(n.hf.TEAM,n.AM.ACTIONS,n.In.EDIT),VIEW:this.roleRightsValidationByPage(n.hf.TEMPLATE_DOCUMENT,n.AM.ACTIONS,n.In.VIEW)},this.dataJsonObj.currentPageUrl=this.navigationService.getCurrentUrl(),this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(n.hf.TEAM,n.AM.ACTIONS,n.In.CREATE)&&this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:n.gL.URL,redirectURL:`${this.dataJsonObj.currentPageUrl}/create`,queryParams:this.dataJsonObj.queryParamsObj,iconClass:"fas fa-plus"}),this.dataJsonObj.statsObj.displayStats=!0,this.commonService.currentEvent.subscribe(a=>{"teams"===a&&(this.dataJsonObj.forceRefresh=!0)})}getDynamicJson(e){var r=this;return(0,m.Z)(function*(){for(let a of e)try{r.dataJsonObj[a.storingFieldName]=yield r.commonService.getDynamicJson(r.dataJsonObj.selectedEnterpriseId,a.folderName,a.jsonType)}catch{r.dataJsonObj[a.storingFieldName]={}}r.dataJsonObj.documentTemplatesJson=r.dataJsonObj.documentTemplatesJson.filter(a=>!a.parent_document_type_id)})()}getSportsJSONData(){var e=this;return(0,m.Z)(function*(){const r=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${localStorage.getItem(n.BU.SELECTED_ENTERPRISE)}/sports/`,"sports.json");e.dataJsonObj.sportsJson=e.commonService.getFormattedSportsJSONBySport(r),e.dataJsonObj.sportsJsonList=r,e.dataJsonObj.sportsJsonList.sort((a,s)=>a.NAME.localeCompare(s.NAME))})()}ionViewWillEnter(){}getSearchResult(e){try{this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchTerm=e,this.dataJsonObj.mobileListData=[],this.getAllRecords(),this.datatableComponent.reset(),this.searchValueChange.emit(e)}catch(r){this.loggerService.setLoggerError(this.constructor.name,"getSearchResult",r)}}searchClose(){try{this.dataJsonObj.searchTerm="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.mobileListData=[],this.getAllRecords(),this.datatableComponent.reset(),this.searchValueChange.emit("")}catch(e){this.loggerService.setLoggerError(this.constructor.name,"searchClose",e)}}getAllRecords(){var e=this;return(0,m.Z)(function*(){try{e.commonService.getMobileViewCondition(e.dataJsonObj.selectedDisplayView),e.showSpinner();const i=e.listingVariables.rowsPerPage,p=yield e.commonService.getFilteredDynamicJSONDataWithPagination(e.dataJsonObj.documentTemplatesJson,["name","document_type.lookup_display_name","is_enabled"],e.dataJsonObj.searchTerm,e.listingVariables.sortOrderColumn,e.listingVariables.pageNumbers,i),u=p.totalRecordsCount,c=p.data;if(e.listingVariables.totalRecords=u,e.listingVariables.totalpages=Math.ceil(u/i),e.hideSpinner(),e.dataJsonObj.forceRefresh&&(e.dataJsonObj.mobileListData=[],e.dataJsonObj.mobileListDataIDs=[]),c?.length>0){e.dataJsonObj.mobileListData&&e.dataJsonObj.mobileListData.length>0||(e.dataJsonObj.mobileListData=[],e.dataJsonObj.mobileListDataIDs=[]);for(let d=0;d<c.length;d++)c[d].display_grid_title=c[d].document_type_display_name,c[d].isEnabledValue=c[d].is_enabled?"Yes":"No",c[d].mobile_display_data=[c[d].document_type_display_name],c[d].imageName=c[d].document_type_display_name,e.dataJsonObj.mobileListData=e.dataJsonObj.mobileListData.filter(y=>y._id!==c[d]._id),e.dataJsonObj.mobileListData.push(c[d]);e.dataJsonObj.isLoadMoreClicked?(e.dataJsonObj.isLoadMoreClicked=!1,e.dataJsonObj.dataList=e.dataJsonObj.dataList.concat(c)):e.dataJsonObj.dataList=c}else e.listingVariables.totalRecords=1,e.dataJsonObj.dataList=[],e.dataJsonObj.mobileListData=[]}catch(r){e.hideSpinner(),e.loggerService.setLoggerError(e.constructor.name,"getTeamsList",r)}})()}toggle(){try{this.dataJsonObj.statsObj.displayStats=!this.dataJsonObj.statsObj.displayStats}catch(e){this.loggerService.setLoggerError(this.constructor.name,"toggle",e)}}loadPageData(e){this.dataJsonObj.forceRefresh=e.forceRefresh,this.listingVariables.pageNumbers=e.listingVariables.pageNumbers,e.clearMobileData&&(this.dataJsonObj.mobileListData=this.dataJsonObj.noDuplicates),e.isPaginationChange&&(this.dataJsonObj.selectedFilter=e.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=e.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=e.selectedAdvancedSearchObj),setTimeout(()=>{this.getAllRecords()},500)}changeDropDownFieldValue(e,r,a,s,i,p){try{if(e.value){this.errorObj.error="";const u=s.find(c=>c.ID===parseInt(e.value,10));r[a]={};for(let c of i)r[a][c]=u[c]}this.errorObj.error=""}catch(u){this.loggerService.setLoggerError(this.constructor.name,"changeDropDownFieldValue",u)}}mobileEventAction(e){try{switch(this.dataJsonObj.mobileButtonsList=[],this.getMobileButtonFormatData("COMMON_BUTTONS.BUTTON_EDIT",`${this.dataJsonObj.currentPageUrl}/${e._id}/edit`,"EDIT"),this.getMobileButtonFormatData("COMMON_BUTTONS.BUTTON_VIEW",e.sport_id&&this.dataJsonObj.sportsJson[e.sport_id._id+""]?"teamview/view/"+e._id+"/"+this.dataJsonObj.sportsJson[e.sport_id._id+""].sport.sport_name:"teams/teams/"+e._id+"/view","VIEW"),e.status.lookup_name){case n.t3.ACTIVE:this.getMobileButtonFormatData("COMMON_BUTTONS.BUTTON_INACTIVATE",`${this.dataJsonObj.currentPageUrl}/${e._id}/status`,"INACTIVATE");break;case n.t3.INACTIVE:this.getMobileButtonFormatData("COMMON_BUTTONS.BUTTON_ACTIVATE",`${this.dataJsonObj.currentPageUrl}/${e._id}/status`,"ACTIVATE")}this.dataJsonObj.mobileButtonsList.sort((a,s)=>a.text>s.text?1:-1),this.presentActionSheet(e)}catch(r){this.loggerService.setLoggerError(this.constructor.name,"mobileEventAction",r)}}getMobileButtonFormatData(e,r,a){var s=this;return(0,m.Z)(function*(){s.roleRightsValidationByPage(n.hf.TEAM,n.AM.ACTIONS,n.In[a])&&s.dataJsonObj.mobileButtonsList.push({text:s.translateService.instant(e),handler:()=>{s.commonService.redirectToUrl([r],!0,!1,s.dataJsonObj.queryParamsObj?s.dataJsonObj.queryParamsObj:"",s.route)}})})()}presentActionSheet(e){var r=this;return(0,m.Z)(function*(){try{yield(yield r.actionSheetController.create({cssClass:"actionsheet",buttons:r.dataJsonObj.mobileButtonsList})).present()}catch(a){r.loggerService.setLoggerError(r.constructor.name,"presentActionSheet",a)}})()}getActionFormattedData(e){var r=this;return(0,m.Z)(function*(){r.commonService.redirectToUrl([e],!0,!1,r.dataJsonObj.queryParamsObj?r.dataJsonObj.queryParamsObj:"",r.route)})()}onActionClicked(e){try{e.action===n.A0.EDIT?this.router.navigate(["/templatedocument/templatedocument/"+e.data._id+"/edit"]):e.action===n.A0.VIEW&&this.commonService.redirectToUrl(["..",e.data._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}catch(r){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",r)}}onItemClicked(e){this.commonService.redirectToUrl(["..",e._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}createTeam(){try{this.router.navigate([`${this.dataJsonObj.currentPageUrl}/create`])}catch(e){this.loggerService.setLoggerError(this.constructor.name,"createTeam",e)}}statsDisabled(){try{const e=Object.keys(this.dataJsonObj.statsObj.dataObj),r=e.length,a=[];for(let s=0;s<r;s++){const i={};i["value"+s]=this.dataJsonObj.statsObj.dataObj[e[s]]?e[s]:"",a.push(i)}this.dataJsonObj.statsObj.dataList=L.h.getTeamsListStatsDisabled(this.dataJsonObj.statsObj.isFilterClicked,"",a)}catch(e){this.loggerService.setLoggerError(this.constructor.name,"statsDisabled",e)}}statusData(e){try{this.dataJsonObj.statusObj=e.value,this.dataJsonObj.forceRefresh=!0,this.listingVariables.pageNumbers=1,this.datatableComponent.reset(),this.dataJsonObj.mobileListData=[],this.getAllRecords()}catch(r){this.loggerService.setLoggerError(this.constructor.name,"statusData",r)}}c;afterClickOnLoadMore(e){this.dataJsonObj.forceRefresh=!1,this.listingVariables.pageNumbers=e,this.getAllRecords()}selectedViewType(e){this.dataJsonObj.selectedDisplayView=e}selectedFilterType(e){e?this.dataJsonObj.selectedFilter=e:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}onPageLevelActionClicked(e){switch(e.actionName){case"IMPORT":this.dataJsonObj.isImportActionClicked=!0,this.dataJsonObj.importDataInputPageName=e.pageName,this.dataJsonObj.importAPIUrl=e.importAPIUrl;break;case"GENERATE":this.commonService.generateImportDataSheets(this.dataJsonObj.selectedEnterpriseId,e.pageName)}}getchangeEvent(e){this.dataJsonObj.isImportActionClicked=!1,this.dataJsonObj.importDataInputPageName="",this.dataJsonObj.importAPIUrl="",e&&"success"===e.value&&this.getAllRecords()}advancedSearchFilterClicked(e){this.dataJsonObj.selectedAdvancedSearchObj=e}onHeaderItemClick(e){switch(e.type){case"search":this.getSearchResult(e.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(e.event);break;case"filters":this.selectedFilterType(e.event);break;case"advanced_search":this.advancedSearchFilterClicked(e.event);break;case"page_actions":this.onPageLevelActionClicked(e.event)}}static \u0275fac=function(r){return new(r||l)(t.Y36(b.sK),t.Y36(R.U),t.Y36(I.Y),t.Y36(M.v),t.Y36(C.s),t.Y36(h.F0),t.Y36(g.v),t.Y36(j.m),t.Y36(ye.f),t.Y36(T.BX),t.Y36(h.gz))};static \u0275cmp=t.Xpm({type:l,selectors:[["app-template-document-list"]],viewQuery:function(r,a){if(1&r&&t.Gf(De,5),2&r){let s;t.iGM(s=t.CRH())&&(a.datatableComponent=s.first)}},outputs:{searchValueChange:"searchValueChange"},features:[t._Bn([R.U,I.Y,M.v,g.v]),t.qOj],decls:10,vars:36,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],["id","tagid",3,"header","actions","listingVariables","totalPages","totalRecords","mobileListData","data","expand","paginator","statsDisplay","statData","statusDisplay","statsShow","showRights","statsSearch","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","showSpinner","selectedSubMenuId","actionClicked","redirectionEvent","itemClickEvent","changeStats","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],[3,"pageName","apiUrl","actionClicked","emitEvent"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),t.NdJ("headerItemClick",function(i){return a.onHeaderItemClick(i)}),t.qZA()(),t.TgZ(4,"div",4)(5,"app-datatable",5,6),t.NdJ("actionClicked",function(i){return a.onActionClicked(i)})("redirectionEvent",function(i){return a.mobileEventAction(i)})("itemClickEvent",function(i){return a.onItemClicked(i)})("changeStats",function(i){return a.statusData(i)})("loadPageData",function(i){return a.loadPageData(i)}),t.qZA(),t.TgZ(7,"div",7)(8,"app-page-actions",8),t.NdJ("selectedAction",function(i){return a.onPageLevelActionClicked(i)}),t.qZA()()()()(),t.TgZ(9,"app-importdata",9),t.NdJ("emitEvent",function(i){return a.getchangeEvent(i)}),t.qZA()),2&r&&(t.xp6(3),t.Q6J("pageName",a.dataJsonObj.pageName)("defaultView",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",a.dataJsonObj.pageActionsList)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),t.xp6(2),t.Q6J("header",a.dataJsonObj.tableColumnheaders)("actions",a.dataJsonObj.actionsList)("listingVariables",a.listingVariables)("totalPages",a.listingVariables.totalpages)("totalRecords",a.listingVariables.totalRecords)("mobileListData",a.dataJsonObj.mobileListData)("data",a.dataJsonObj.dataList)("expand",!1)("paginator",!0)("statsDisplay",null==a.dataJsonObj.statsObj?null:a.dataJsonObj.statsObj.dataList)("statData",null==a.dataJsonObj.statsObj?null:a.dataJsonObj.statsObj.dataObj)("statusDisplay",a.dataJsonObj.statusObj)("statsShow",null==a.dataJsonObj.statsObj?null:a.dataJsonObj.statsObj.displayStats)("showRights",a.roleRightsValidationByPage(a.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.TEAM,a.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,a.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.STATS))("statsSearch",a.dataJsonObj.searchTerm)("selectedDisplayViewType",a.dataJsonObj.selectedDisplayView)("selectedFilterType",a.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",a.dataJsonObj.selectedAdvancedSearchObj)("pageName",a.dataJsonObj.pageName)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("showSpinner",a.dataJsonObj.showSpinner)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId),t.xp6(3),t.Q6J("isFabDisplay",!0)("actionsList",a.dataJsonObj.pageActionsList),t.xp6(1),t.Q6J("pageName",a.dataJsonObj.importDataInputPageName)("apiUrl",a.dataJsonObj.importAPIUrl)("actionClicked",a.dataJsonObj.isImportActionClicked))},dependencies:[Je.M,Se.n,S.q,Ee.y]})}return l})();const Ne=[{path:"",data:{title:"templatedocument"},children:[{path:"templatedocument/create",component:te,canActivate:[O.P],data:{object_type:n.hf.TEMPLATE_DOCUMENT,title:"TEMPLATE DOCUMENT Create",pageName:n.hf.TEMPLATE_DOCUMENT,pageSetting:n.AM.ACTIONS,settingField:n.In.CREATE}},{path:"templatedocument/list",component:ve,canActivate:[O.P],data:{object_type:n.hf.TEMPLATE_DOCUMENT,title:"TEMPLATE DOCUMENT List",pageName:n.hf.TEMPLATE_DOCUMENT}},{path:"templatedocument/:id/edit",component:Te,canActivate:[O.P],data:{object_type:n.hf.TEMPLATE_DOCUMENT,title:"TEMPLATE DOCUMENT Edit",pageName:n.hf.TEMPLATE_DOCUMENT,pageSetting:n.AM.ACTIONS,settingField:n.In.EDIT}},{path:"templatedocument/:id/view",component:je,canActivate:[O.P],data:{object_type:n.hf.TEMPLATE_DOCUMENT,title:"TEMPLATE DOCUMENT View",pageName:n.hf.TEMPLATE_DOCUMENT,pageSetting:n.AM.ACTIONS,settingField:n.In.VIEW}}]}];let Ae=(()=>{class l{static \u0275fac=function(r){return new(r||l)};static \u0275mod=t.oAB({type:l});static \u0275inj=t.cJS({imports:[h.Bz.forChild(Ne),h.Bz]})}return l})();var Ue=o(65673),Ie=o(32174),P=o(24006),Me=o(93144),Le=o(3848),Re=o(73162),Pe=o(89038),we=o(75896),Ve=o(83748);let Be=(()=>{class l{static \u0275fac=function(r){return new(r||l)};static \u0275mod=t.oAB({type:l});static \u0275inj=t.cJS({imports:[D.ez,b.aw,P.u5,P.UX,Me.U$,Ie.fx,Ue.Q,Re.Cv,Pe.X,we.ActivitiesModule,Ve.v,Le.Nh,Ae]})}return l})()}}]);