"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3073],{13073:(ge,y,d)=>{d.r(y),d.d(y,{CoachViewModule:()=>be});var O=d(36895),V=d(65673),f=d(54463),h=d(15861),w=d(71568),S=d(15439),T=d(46335),D=d(42786),r=d(32236),M=d(47561),v=d(30578),N=d(24655),A=d(85099),C=d(42863),E=d(90313),L=d(63556),t=d(94650),J=d(62510),x=d(70057),P=d(9851),Z=d(28168),R=d(42919),U=d(37415),k=d(91749),F=d(65305),B=d(1029),j=d(3848);const G=["content"];function H(n,p){if(1&n&&(t.TgZ(0,"div",26),t._UZ(1,"img",27),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.s9C("src",null==e.dataJsonObj||null==e.dataJsonObj.recordObj?null:e.dataJsonObj.recordObj.imgFilepath,t.LSH)}}function Y(n,p){if(1&n&&(t.TgZ(0,"div",28)(1,"span",29),t._uU(2),t.qZA()()),2&n){const e=t.oxw(3);t.MGl("id","iotEventThumb",e.i,""),t.xp6(2),t.AsE("",null==e.dataJsonObj.recordObj||null==e.dataJsonObj.recordObj.imageName?null:e.dataJsonObj.recordObj.imageName.charAt(0).toUpperCase(),"",e.getSecondChar(null==e.dataJsonObj.recordObj?null:e.dataJsonObj.recordObj.imageName),"")}}function K(n,p){if(1&n&&(t.TgZ(0,"div",16)(1,"div",17)(2,"div",18),t.YNc(3,H,2,1,"div",19),t.YNc(4,Y,3,3,"div",20),t.TgZ(5,"div",21)(6,"div",22)(7,"h4",23),t._uU(8),t.qZA(),t.TgZ(9,"p",24),t._uU(10),t.qZA()()()()(),t._UZ(11,"div",25),t.qZA()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",(null==e.dataJsonObj||null==e.dataJsonObj.recordObj?null:e.dataJsonObj.recordObj.imgFilepath)&&null!==(null==e.dataJsonObj||null==e.dataJsonObj.recordObj?null:e.dataJsonObj.recordObj.imgFilepath)),t.xp6(1),t.Q6J("ngIf",null===(null==e.dataJsonObj||null==e.dataJsonObj.recordObj?null:e.dataJsonObj.recordObj.imgFilepath)&&!(null!=e.dataJsonObj&&null!=e.dataJsonObj.recordObj&&e.dataJsonObj.recordObj.imgFilepath)),t.xp6(4),t.Oqu(null==e.dataJsonObj.recordObj?null:e.dataJsonObj.recordObj.playerName),t.xp6(2),t.Oqu(e.dataJsonObj.sportNameStr)}}function Q(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"span",39),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.getTournamentEventslist())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"COMMON_PAGE_TITLES.TOURNAMENT_EVENTS")," "))}function q(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab"),t.YNc(1,Q,4,3,"ng-template",30),t.TgZ(2,"div",31)(3,"div",32)(4,"h4",33),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div",34)(8,"app-dropdown-singleselect",35,36),t.NdJ("valueChange",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.changeYear(s))}),t.qZA()(),t.TgZ(10,"app-datatable",37,38),t.NdJ("actionClicked",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onActionClicked(s))})("itemClickEvent",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.viewAction(s))})("redirectionEvent",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.mobileEventAction(s))})("loadPageData",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.loadPageData(s))}),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,14,"COMMON_PAGE_TITLES.TOURNAMENT_EVENTS")),t.xp6(3),t.s9C("defaultValue",e.dataJsonObj.selectedYear),t.Q6J("options",e.dataJsonObj.yearsObj),t.xp6(2),t.Q6J("header",e.dataJsonObj.header1)("listingVariables",e.listingVariables)("paginator",!0)("data",e.dataJsonObj.tournamentListEventsData)("expand",!1)("actions",e.dataJsonObj.actions)("mobileListData",e.dataJsonObj.tournamentEventMobileListData)("totalRecords",e.listingVariables.totalRecords)("totalPages",e.listingVariables.totalpages)("ignoreDisplayView",!0)("showSpinner",e.dataJsonObj.showSpinner)}}function W(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"span",39),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.getTeams(!0))}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"COMMON_PAGE_TITLES.TEAMS"),""))}function $(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab"),t.YNc(1,W,4,3,"ng-template",30),t.TgZ(2,"div",31)(3,"div",32)(4,"h4",33),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"app-datatable",40,38),t.NdJ("actionClicked",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onActionClicked(s))})("itemClickEvent",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.navigateToTeamPath(s))})("redirectionEvent",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.mobileEventAction(s))})("loadPageData",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.loadPageData(s))}),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,12,"COMMON_PAGE_TITLES.TEAMS")),t.xp6(2),t.Q6J("header",e.dataJsonObj.teamsTabColumnheaders)("listingVariables",e.listingVariables)("paginator",!0)("data",e.dataJsonObj.teamsList)("expand",!1)("actions",e.dataJsonObj.actions)("mobileListData",e.dataJsonObj.teamsList)("totalRecords",e.listingVariables.totalRecords)("totalPages",e.listingVariables.totalpages)("isGridDisplayView",!0)("showSpinner",e.dataJsonObj.showSpinner)}}function X(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"span",39),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.getUsersByType(s.dataJsonObj.usertypeNamesJSON.ATHLETES,"athletes",!0))}),t.TgZ(1,"span"),t._uU(2),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(2),t.Oqu(e.dataJsonObj.tabName)}}function z(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab"),t.YNc(1,X,3,1,"ng-template",30),t.TgZ(2,"div",31)(3,"div",32)(4,"h4",33),t._uU(5),t.qZA()(),t.TgZ(6,"div",41)(7,"div",42)(8,"div",34)(9,"app-dropdown-search",43),t.NdJ("selectedOption",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.changeSearchDropDownFieldValue(s,o.dataJsonObj,"selectedSportObj","","onSportSelect"))})("searchValueChange",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.getSearchFilterDataList(s,o.dataJsonObj.sportsJsonList,o.dataJsonObj,"sportsSearchList","NAME"))}),t.ALo(10,"translate"),t.qZA()()()(),t.TgZ(11,"app-datatable",44,38),t.NdJ("actionClicked",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onActionClicked(s))})("itemClickEvent",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onItemClickedAthelets(s))})("redirectionEvent",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.mobileEventAction(s))})("loadPageData",function(s){t.CHM(e);const o=t.oxw(2);return t.KtG(o.loadPageData(s))}),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(e.dataJsonObj.tabName),t.xp6(4),t.s9C("label",t.lcZ(10,15,"COMMON_PAGE_TITLES.SPORTS")),t.s9C("defaultValue",null==e.dataJsonObj||null==e.dataJsonObj.selectedSportObj?null:e.dataJsonObj.selectedSportObj.NAME),t.Q6J("options",null==e.dataJsonObj?null:e.dataJsonObj.sportsSearchList),t.xp6(2),t.Q6J("header",e.dataJsonObj.atheletsColumnHeaders)("listingVariables",e.listingVariables)("data",null==e.dataJsonObj?null:e.dataJsonObj.usersDataJson[null==e.dataJsonObj||null==e.dataJsonObj.usertypeNamesJSON?null:e.dataJsonObj.usertypeNamesJSON.ATHLETES])("expand",!1)("actions",e.dataJsonObj.actions)("paginator",!0)("mobileListData",null==e.dataJsonObj?null:e.dataJsonObj.usersDataJson[null==e.dataJsonObj||null==e.dataJsonObj.usertypeNamesJSON?null:e.dataJsonObj.usertypeNamesJSON.ATHLETES])("totalRecords",e.listingVariables.totalRecords)("totalPages",e.listingVariables.totalpages)("isGridDisplayView",!0)("showSpinner",e.dataJsonObj.showSpinner)}}function ee(n,p){1&n&&(t.TgZ(0,"span",47)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"NEW_VARIABLES.COACHING_DETAILS")))}function te(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"ion-item",52)(2,"ion-label",53),t.NdJ("click",function(){const s=t.CHM(e),o=s.$implicit,i=s.index,l=t.oxw(4);return t.KtG(l.itemClicked(o,i))}),t.TgZ(3,"span",54),t._uU(4),t.qZA(),t.TgZ(5,"span",54),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"span",54),t._uU(9),t.ALo(10,"translate"),t.qZA()()()()}if(2&n){const e=p.$implicit,a=p.index;t.xp6(1),t.Q6J("ngClass",a%2==0?"odd-list":"even-list"),t.xp6(3),t.hij("",null==e||null==e.sportObj?null:e.sportObj.NAME," "),t.xp6(2),t.AsE("",t.lcZ(7,6,(null==e||null==e.coaching_level?null:e.coaching_level.length)>1?"NEW_VARIABLES.LEVELS":"NEW_VARIABLES.LEVEL"),": ",null==e?null:e.levelsDisplayName," "),t.xp6(3),t.AsE("",t.lcZ(10,8,"NEW_VARIABLES.COACHED_FOR"),": ",null==e?null:e.coachedForDisplayName," ")}}function ae(n,p){if(1&n&&(t.TgZ(0,"div",48)(1,"div",49)(2,"ion-list",50),t.YNc(3,te,11,10,"div",51),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(3),t.Q6J("ngForOf",e.dataJsonObj.coachingDetailsList)}}function se(n,p){1&n&&(t.TgZ(0,"ion-grid",55)(1,"ion-row")(2,"ion-col",56)(3,"ion-text",57),t._uU(4),t.ALo(5,"translate"),t.qZA()()()()),2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}function oe(n,p){if(1&n&&(t.TgZ(0,"mat-tab"),t.YNc(1,ee,4,3,"ng-template",30),t.TgZ(2,"div",31)(3,"div",32)(4,"h4",33),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.YNc(7,ae,4,1,"div",45),t.YNc(8,se,6,3,"ion-grid",46),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(5),t.Oqu(t.lcZ(6,3,"NEW_VARIABLES.COACHING_DETAILS")),t.xp6(2),t.Q6J("ngIf",e.dataJsonObj.coachingDetailsList&&e.dataJsonObj.coachingDetailsList.length>0),t.xp6(1),t.Q6J("ngIf",e.dataJsonObj.coachingDetailsList&&0===e.dataJsonObj.coachingDetailsList.length)}}function ie(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"span",39),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(3);return t.KtG(s.getMediaData())}),t.TgZ(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"NEW_VARIABLES.MEDIA")))}function ne(n,p){if(1&n&&t._UZ(0,"app-gallery",59),2&n){const e=t.oxw(3);t.Q6J("pageName",e.dataJsonObj.pageName)("relatedTypeName",e.dataJsonObj.relatedTypeName)("relatedTypeRecordObj",e.dataJsonObj.relatedTypeRecordObj)}}function re(n,p){if(1&n&&(t.TgZ(0,"mat-tab"),t.YNc(1,ie,4,3,"ng-template",30),t.YNc(2,ne,1,3,"app-gallery",58),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.dataJsonObj.relatedTypeRecordObj)}}function le(n,p){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"div",5)(5,"span",6),t._UZ(6,"app-pageheader",7),t.qZA()(),t.YNc(7,K,12,4,"div",8),t.TgZ(8,"div",9),t._UZ(9,"app-body-ads",10),t.qZA(),t.TgZ(10,"div",11)(11,"div",12)(12,"mat-tab-group",13),t.YNc(13,q,12,16,"mat-tab",14),t.YNc(14,$,9,14,"mat-tab",14),t.YNc(15,z,13,17,"mat-tab",14),t.YNc(16,oe,9,5,"mat-tab",14),t.YNc(17,re,3,1,"mat-tab",14),t.qZA()()()()(),t.TgZ(18,"app-mobile-fab-button",15),t.NdJ("selectedAction",function(s){t.CHM(e);const o=t.oxw();return t.KtG(o.selectedFabAction(s))}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("pageName",e.dataJsonObj.pageName)("pageTitle",e.dataJsonObj.pageTitle)("selectedMenuId",null==e.dataJsonObj.queryParamsObj?null:e.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==e.dataJsonObj.queryParamsObj?null:e.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),t.xp6(1),t.Q6J("ngIf",null==e.dataJsonObj?null:e.dataJsonObj.recordObj),t.xp6(2),t.Q6J("selectedPage",e.dataJsonObj.selectedPage),t.xp6(4),t.Q6J("ngIf",e.dataJsonObj.enabledTabsJSON.EVENTS),t.xp6(1),t.Q6J("ngIf",e.dataJsonObj.enabledTabsJSON.TEAMS),t.xp6(1),t.Q6J("ngIf",e.dataJsonObj.enabledTabsJSON.ATHLETES),t.xp6(1),t.Q6J("ngIf",e.dataJsonObj.enabledTabsJSON.COACHING_DETAILS),t.xp6(1),t.Q6J("ngIf",e.dataJsonObj.enabledTabsJSON.MEDIA),t.xp6(1),t.Q6J("actionData",null==e.dataJsonObj?null:e.dataJsonObj.fabMobileactionsOptions)}}let de=(()=>{class n extends M.O{apiEndPointUrl;router;commonService;userService;translateService;loggerService;route;listingVariables;ColumnHeader;sportsService;digitalAssetsService;actionSheetController;imageTransformPipe;dataJsonObj={};listingVariablesObj;today;userTimeZoneObj={};mobileViewCond="";startDate;endDate;mobileroutesArray;actionSheet;colourRowData={};noDuplicates=void 0;show=!0;content;constructor(e,a,s,o,i,l,c,g,b,m,I,u,me){super(c,s),this.apiEndPointUrl=e,this.router=a,this.commonService=s,this.userService=o,this.translateService=i,this.loggerService=l,this.route=c,this.listingVariables=g,this.ColumnHeader=b,this.sportsService=m,this.digitalAssetsService=I,this.actionSheetController=u,this.imageTransformPipe=me,this.route.params.subscribe(_=>{this.dataJsonObj.recordId=_.id,this.dataJsonObj.sportName=_.sportName}),this.route.queryParams.subscribe(_=>{this.dataJsonObj.queryParamsObj={defaultView:_.defaultView,selectedMenuId:_.selectedMenuId,selectedSubMenuId:_.selectedSubMenuId}})}ngOnInit(){this.dataJsonObj.shareExternal=!1,this.dataJsonObj.shareExternalEnable=!!this.commonService.roleRightsValidationByPage(r.hf.COACHES,r.AM.ACTIONS,r.In.SHARE_EXTERNAL)&&this.commonService.roleRightsValidationByPage(r.hf.COACHES,r.AM.ACTIONS,r.In.SHARE_EXTERNAL),this.dataJsonObj.shareExternalEnable&&!this.commonService.isBrowserApp()&&(this.dataJsonObj.fabMobileactionsOptions=[{iconClass:"fas fa-share-alt",redirectUrl:"",actionType:r.gL.POPUP,actionName:"SocialShare"}]),this.dataJsonObj.dynamicColorJSON={},this.showSpinner(),this.dataJsonObj.pageName=r.hf.COACHES,this.dataJsonObj.actions={VIEW:this.roleRightsValidationByPage(r.hf.COACHES,r.AM.ACTIONS,r.In.VIEW)},this.listingVariablesObj=[],this.dataJsonObj.tournamentEventMobileListData=[],this.dataJsonObj.tournamentListEventsData=[],this.listingVariables.totalpages=1,this.listingVariables.totalRecords=1,this.dataJsonObj.header1=this.ColumnHeader.getiotEventsColumnHeaders(),this.dataJsonObj.header1[0]=this.roleRightsValidationByPage(r.hf.TOURNAMENTS)?this.dataJsonObj.header1[0]:this.dataJsonObj.header1[0].filter(i=>"tournament.tournament_name"!==i.field),this.today=this.commonService.dbTimezoneFormatWithHours(new Date),this.dataJsonObj.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl,this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE);const e=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.loginUserDateFormat=e.dateFormat,this.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(e.timeZoneDescription),this.userTimeZoneObj.timeZoneCode=e.timeZoneCode,this.dataJsonObj.sportAthletesList=[],this.dataJsonObj.tabName="",this.dataJsonObj.selectedMenuDetails={},this.getDynamicJson([{folderName:r.sb.USER_TYPES,jsonType:"list",storingFieldName:"userTypesListJson"},{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"},{folderName:"lookup_codes",jsonType:"view",storingFieldName:"lookupCodesViewJson"},{folderName:"event_categories",jsonType:"view",storingFieldName:"eventCategoriesViewJson"}]),this.getDynamicJsonByPath([{folderName:"sports",fileName:"sports",storingFieldName:"sportsDataJson"},{folderName:"athlete_profiles",fileName:"AthleteProfiles",storingFieldName:"athleteProfilesListJson"},{folderName:"coach_profiles",fileName:"CoachProfiles",storingFieldName:"coachProfilesListJson"}]),this.dataJsonObj.paginationSettings={teams:{skip:1,limit:r.rV.TEAMS_PAGINATION_PER_PAGE_COUNT,totalRecordsCount:0,showLoadMore:!1},athletes:{skip:1,limit:r.rV.ATHLETES_PAGINATION_PER_PAGE_COUNT,totalRecordsCount:0,showLoadMore:!1},events:{skip:1,limit:r.rV.EVENTS_PAGINATION_PER_PAGE_COUNT,totalRecordsCount:0,showLoadMore:!1},videos:{skip:1,limit:r.rV.DIGI_TAB_PAGINATION_PER_PAGE_COUNT,totalRecordsCount:0,showLoadMore:!1}},this.dataJsonObj.usertypeNamesJSON=r.Wg,this.dataJsonObj.digitalAssetsJSON=r.Cv,this.dataJsonObj.usersDataJson={};const o=Object.keys(this.dataJsonObj.usertypeNamesJSON);for(let i of o)this.dataJsonObj.usersDataJson[i]=[];this.commonService.isMobileWindow()&&(this.mobileViewCond="&mobileview=true"),this.dataJsonObj.enabledTabsJSON={ATHLETES:this.roleRightsValidationByPage(r.hf.ATHLETES),EVENTS:this.roleRightsValidationByPage(r.hf.TOURNAMENT_EVENTS),TEAMS:this.roleRightsValidationByPage(r.hf.TEAM),VIDEOS:this.roleRightsValidationByPage(r.hf.DIGITAL_ASEETS),IMAGES:this.roleRightsValidationByPage(r.hf.DIGITAL_ASEETS),AUDIOS:this.roleRightsValidationByPage(r.hf.DIGITAL_ASEETS),COACHING_DETAILS:this.roleRightsValidationByPage(r.hf.COACHES),MEDIA:this.roleRightsValidationByPage(r.hf.COACHES,r.AM.ACTIONS,r.In.MEDIA_GALLERY)},this.dataJsonObj.yearsObj=[],this.dataJsonObj.forcerefresh=!1,this.dataJsonObj.selectedYear=(new Date).getFullYear(),this.dataJsonObj.yearsObj=this.commonService.getYearsObj(),this.dataJsonObj.userSportsArray=[],this.dataJsonObj.sportNameArray=[],this.dataJsonObj.sportNameStr="",this.dataJsonObj.selectedPage=r.hf.COACHES,this.dataJsonObj.backGroundImageDisplay=this.commonService.getBackGroundImage()}toggle(){this.show=!this.show}getSportsJSONData(){var e=this;return(0,h.Z)(function*(){const a=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${localStorage.getItem(r.BU.SELECTED_ENTERPRISE)}/sports/`,"sports.json");e.dataJsonObj.selectedSportObj=a.find(s=>s.sport.sport_name===e.dataJsonObj.sportName),e.dataJsonObj.sportsJsonList=a,e.dataJsonObj.sportsJsonList.sort((s,o)=>s.NAME.localeCompare(o.NAME)),e.dataJsonObj.sportsSearchList=JSON.parse(JSON.stringify(e.dataJsonObj.sportsJsonList)),e.dataJsonObj.sportsJson=e.commonService.getFormattedSportsJSONBySport(a),e.getRecordById(e.dataJsonObj.recordId),e.getCoachingDetailsBySport(),e.onSportSelect()})()}changeYear(e){try{this.dataJsonObj.tournamentEventMobileListData=[],e.value&&(this.dataJsonObj.selectedYear=e.value,this.getTournamentEventslist())}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeYear",a)}}getDynamicJson(e){var a=this;return(0,h.Z)(function*(){for(let s of e)try{a.dataJsonObj[s.storingFieldName]=yield a.commonService.getDynamicJson(a.dataJsonObj.selectedEnterpriseId,s.folderName,s.jsonType)}catch{a.dataJsonObj[s.storingFieldName]={}}a.getTournamentEventslist(),a.formatUserTypesJSON(),a.dataJsonObj.selectedObj={},a.dataJsonObj.selectedObj.recordId=a.dataJsonObj.recordId,a.dataJsonObj.selectedObj.pageObj=a.dataJsonObj.menuDataJson.filter(s=>s.menu_page.page_name===a.dataJsonObj.selectedPage),a.dataJsonObj.selectedObjEnabled=!0,a.dataJsonObj.selectedMenuDetails=yield a.commonService.getSelectedMenuDetails(r.hf.ATHLETES,a.dataJsonObj.selectedEnterpriseId),a.dataJsonObj.tabName=a.dataJsonObj?.selectedMenuDetails&&a.dataJsonObj.selectedMenuDetails?.submenu_display_name?a.dataJsonObj.selectedMenuDetails.submenu_display_name:""})()}getDynamicJsonByPath(e){var a=this;return(0,h.Z)(function*(){for(let s of e)try{a.dataJsonObj[s.storingFieldName]=yield a.commonService.getDynamicJsonByPath(`assets/enterprises/${a.dataJsonObj.selectedEnterpriseId}/${s.folderName}/`,`${s.fileName}.json`)}catch{a.dataJsonObj[s.storingFieldName]={}}a.getSportsJSONData(),a.getSportIdsByCocahProfile()})()}getSportIdsByCocahProfile(){var e=this;return(0,h.Z)(function*(){try{const a={};if(e.dataJsonObj.coachProfilesListJson){const s=Object.keys(e.dataJsonObj.coachProfilesListJson);for(let o of s)for(let i of e.dataJsonObj.coachProfilesListJson[o])a[i.user_profile_id+""]||(a[i.user_profile_id+""]=[]),a[i.user_profile_id+""].push({sport_id:parseInt(o,10)})}e.dataJsonObj.coachSportsJSON=a}catch{e.dataJsonObj.coachSportsJSON={}}})()}getCoachingDetailsBySport(){try{const e=[];if(this.dataJsonObj.coachProfilesListJson){const a=JSON.parse(JSON.stringify(this.dataJsonObj.coachProfilesListJson)),s=Object.keys(a);for(let o of s)for(let i of a[o])if(i.user_profile_id+""==this.dataJsonObj.recordId+""){if(i.sportObj=this.dataJsonObj.sportsJson[o],i.coachedForDisplayName="",i.levelsDisplayName="",i.coach_for){for(let l of i.coach_for)l.lookup_id&&this.dataJsonObj.lookupCodesViewJson&&this.dataJsonObj.lookupCodesViewJson[l.lookup_id+""]&&(i.coachedForDisplayName=`${i.coachedForDisplayName}, ${this.dataJsonObj.lookupCodesViewJson[l.lookup_id+""].lookup_display_name}`);i.coachedForDisplayName&&(i.coachedForDisplayName=i.coachedForDisplayName.substring(1).trim())}if(i.coaching_level){for(let l of i.coaching_level)l.lookup_id&&this.dataJsonObj.lookupCodesViewJson&&this.dataJsonObj.lookupCodesViewJson[l.lookup_id+""]&&(i.levelsDisplayName=`${i.levelsDisplayName}, ${this.dataJsonObj.lookupCodesViewJson[l.lookup_id+""].lookup_display_name}`);i.levelsDisplayName&&(i.levelsDisplayName=i.levelsDisplayName.substring(1).trim())}e.push(i)}}this.dataJsonObj.coachingDetailsList=e}catch{this.dataJsonObj.coachingDetailsList=[]}}formatUserTypesJSON(){var e=this;return(0,h.Z)(function*(){e.dataJsonObj.userTypesJSON={},e.dataJsonObj.userTypepOptions=[];for(let a of e.dataJsonObj.userTypesListJson)e.dataJsonObj.userTypesJSON[a.user_type_name]=a})()}getRecordById(e){var a=this;try{this.userService.get(e).subscribe(function(){var s=(0,h.Z)(function*(o){a.dataJsonObj.recordObj=o,a.getMediaData(),a.dataJsonObj.recordObj.age=S().diff(a.dataJsonObj.recordObj.user_id.date_of_birth,"years"),a.dataJsonObj.recordObj.playerName=a.commonService.changeUserNameFormat(a.dataJsonObj.recordObj),a.dataJsonObj.pageTitle=a.dataJsonObj?.queryParamsObj?.selectedMenuId&&a.dataJsonObj?.queryParamsObj?.selectedSubMenuId?[{key:"COMMON_FIELDS.COACH",value:"",showSubMenuDisplayName:!0},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}]:[{key:a.dataJsonObj.recordObj.playerName,value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],a.commonService.setCurrentPageTitle(a.dataJsonObj.recordObj.l_name+", "+a.dataJsonObj.recordObj.f_name,a.dataJsonObj.recordId),a.dataJsonObj.recordObj.imageName=a.dataJsonObj.recordObj.f_name+" "+a.dataJsonObj.recordObj.l_name,a.dataJsonObj.recordObj.imgFilepath=a.dataJsonObj.recordObj.user_image_path&&a.dataJsonObj.recordObj.user_image_name?yield a.imageTransformPipe.transformAsync(a.dataJsonObj.recordObj.user_image_path,a.dataJsonObj.recordObj.user_image_name,!1,a.dataJsonObj.shareExternal):null,a.dataJsonObj.recordObj.sports=a.dataJsonObj.coachSportsJSON&&a.dataJsonObj.coachSportsJSON[a.dataJsonObj.recordObj._id+""]?a.dataJsonObj.coachSportsJSON[a.dataJsonObj.recordObj._id+""]:[],a.dataJsonObj.userSportsArray=a.dataJsonObj.recordObj.sports,a.dataJsonObj.sportNameArray=[],a.dataJsonObj.sportNameStr="";for(let i of a.dataJsonObj.userSportsArray)a.dataJsonObj.sportsJson[i.sport_id]&&(a.dataJsonObj.sportNameArray.push({sport_id:i.sport_id,sport_name:a.dataJsonObj.sportsJson[i.sport_id].sport.sport_name,sport_display_name:a.dataJsonObj.sportsJson[i.sport_id].sport.display_name}),a.dataJsonObj.sportNameStr=a.dataJsonObj.sportNameStr+(a.dataJsonObj.sportNameStr?", ":"")+a.dataJsonObj.sportsJson[i.sport_id].sport.display_name)});return function(o){return s.apply(this,arguments)}}(),s=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",s)}}changeSelectedSport(e,a){this.dataJsonObj.sport_display_name=a,this.dataJsonObj.sportName=e}getSearchFilterDataList(e,a,s,o,i){var l=this;return(0,h.Z)(function*(){s[o]=yield l.commonService.getFilteredDynamicJSONData(a,i,e)})()}changeSearchDropDownFieldValue(e,a,s,o,i){try{if(e){const l=e;if(a[s]={},o)for(let c of o)a[s][c]=l[c];else a[s]=l;i&&this.dependencyFunction(i)}}catch(l){this.loggerService.setLoggerError(this.constructor.name,"changeSearchDropDownFieldValue",l)}}dependencyFunction(e){"onSportSelect"===e&&this.onSportSelect()}onSportSelect(){this.getAthletesListFromJSON(this.dataJsonObj.selectedSportObj?.sport?._id),this.dataJsonObj.paginationSettings.athletes.skip=1,this.dataJsonObj.paginationSettings.athletes.totalRecordsCount=0,this.getUsersByType(this.dataJsonObj.usertypeNamesJSON.ATHLETES,"athletes",!1)}getAthletesListFromJSON(e){if(e){const a=[],o=JSON.parse(JSON.stringify(this.dataJsonObj.athleteProfilesListJson&&this.dataJsonObj.athleteProfilesListJson[e+""]?this.dataJsonObj.athleteProfilesListJson[e+""]:[]));for(let i of o)i.coaches.find(c=>c.user_profile_id+""==this.dataJsonObj.recordId+"")&&(i.userProfile.sports?.length||(i.userProfile.sports=[{sport_id:e}]),a.push(i.userProfile));this.dataJsonObj.sportAthletesList=a;for(let i=0;i<a.length;i++)a[i].display_grid_title=this.commonService.changeUserNameFormat(a[i]),a[i].imageName=a[i].f_name+" "+a[i].l_name,a[i].imageDisplay=a[i].user_image_path&&a[i].user_image_name?a[i].user_image_path+"/"+a[i].user_image_name:null}}getEvents(e){try{const a=this.dataJsonObj.paginationSettings.events;(!e||!a.totalRecordsCount)&&this.sportsService.getEvents("",this.dataJsonObj.selectedEnterpriseId,a.skip,a.limit,this.dataJsonObj.forcerefresh,"",this.dataJsonObj.recordId).subscribe(s=>{this.dataJsonObj.enabledSpinner=!1,this.formatForLoadMore("events",this.dataJsonObj,"eventsList",s.totalCount,s.rows)})}catch{this.dataJsonObj.enabledSpinner=!1}}getTeams(e){var a=this;return(0,h.Z)(function*(){a.hideSpinner();const s=a.dataJsonObj.paginationSettings.teams;(!e||!s.totalRecordsCount)&&(a.showSpinner(),yield a.sportsService.getTeams("",a.dataJsonObj.selectedEnterpriseId,s.skip,s.limit,a.dataJsonObj.forcerefresh,"",a.dataJsonObj.recordId).then(o=>{if(a.hideSpinner(),a.dataJsonObj.enabledSpinner=!1,o.rows.length>0)for(let i=0;i<o.rows.length;i++)o.rows[i].imageDisplay=o.rows[i].team_image_path&&o.rows[i].team_image_name?o.rows[i].team_image_path+"/"+o.rows[i].team_image_name:null,o.rows[i].display_grid_title=o.rows[i].team_name,o.rows[i].imageName=o.rows[i].team_name;o.totalCount&&(a.listingVariables.totalRecords=o.totalCount),1===a.listingVariables.pageNumbers&&(a.listingVariables.totalpages=o.pages),a.dataJsonObj.isLoadMoreClicked?(a.dataJsonObj.isLoadMoreClicked=!1,a.dataJsonObj.teamsData=a.dataJsonObj.teamsData.concat(o.rows)):a.dataJsonObj.teamsData=o.rows,a.formatForLoadMore("teams",a.dataJsonObj,"teamsList",o.totalCount,o.rows)}))})()}getDynamicColor(e){const a=new Date;return this.colourRowData||(this.colourRowData={}),this.colourRowData[e+""]||(this.colourRowData[e+""]={}),(!this.colourRowData[e+""].date||a.getMinutes()>this.colourRowData[e+""].date.getMinutes()+5)&&(this.colourRowData[e+""].date=a,this.colourRowData[e+""].data=this.commonService.getDynamicColor1("0")),this.colourRowData[e+""].data?this.colourRowData[e+""].data:this.commonService.getDynamicColor1("0")}getGradientDynamicColor(e,a,s,o){this.dataJsonObj.dynamicColorJSON[s]||(this.dataJsonObj.dynamicColorJSON[s]={});const i=this.commonService.getDynamicColor(e,a,this.dataJsonObj.dynamicColorJSON[s]),l=this.commonService.lightenRGBColor(i,150),c=this.commonService.darkenRGBColor(i,5),g=this.commonService.lightenRGBColor(i,180),b=this.commonService.darkenRGBColor(i,50);return"text"===s?l:"text"===o?g:"border"===o?b:"avatar"===o?`linear-gradient(135deg, ${l}, ${c})`:`linear-gradient(to bottom, ${c}, ${l})`}getSecondChar(e){if(e){const a=e.split(" ")[1];return E.L.isEmpty(a)?"":a.charAt(0).toUpperCase()}}getTournamentEventslist(){try{this.listingVariables.rowsPerPage=E.L.isEmpty(localStorage.getItem(r.BU.DEFAULT_ROWS_PER_PAGE))?"10":localStorage.getItem(r.BU.DEFAULT_ROWS_PER_PAGE),this.showSpinner(),this.sportsService.getEvents("",this.dataJsonObj.selectedEnterpriseId,this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.dataJsonObj.forcerefresh,this.listingVariables.sortOrderColumn,this.mobileViewCond,this.dataJsonObj.recordId,"",this.dataJsonObj.selectedYear).subscribe(e=>{if(this.hideSpinner(),e.rows.length>0){this.dataJsonObj.tournamentListEventsData&&this.dataJsonObj?.tournamentEventMobileListData?.length>0||(this.dataJsonObj.tournamentEventMobileListData=[]),this.dataJsonObj.isGridView&&!(this.dataJsonObj.tournamentListEventsData&&this.dataJsonObj?.tournamentListEventsData?.length>0)&&(this.dataJsonObj.tournamentListEventsData=[]),this.dataJsonObj.forcerefresh&&(this.dataJsonObj.tournamentEventMobileListData=[]);for(let a=0;a<e.rows.length;a++){e.rows[a].display_grid_title=e.rows[a].iot_event_name,e.rows[a].imageName=e.rows[a].iot_event_name,e.rows[a].imageDisplay=e.rows[a].iot_event_image_path&&e.rows[a].iot_event_image_name?e.rows[a].iot_event_image_path+"/"+e.rows[a].iot_event_image_name:null,e.rows[a].event_category&&(e.rows[a].event_category.category_name=this.dataJsonObj.eventCategoriesViewJson&&this.dataJsonObj.eventCategoriesViewJson[e.rows[a].event_category.category_id+""]?this.dataJsonObj.eventCategoriesViewJson[e.rows[a].event_category.category_id+""].category_display_name:""),e.rows[a].iot_event_display_name=e.rows[a].iot_event_name,e.rows[a].iot_event_name=`<a class="enable" id="iot_event_name' + tournamentEventsData['rows'][i]._id + '" href=${"sports/sporttournamenteventview/view/"+e.rows[a]._id} >`+e.rows[a].iot_event_name,e.rows[a].page_name="Iotevents",e.rows[a].display_grid_title=e.rows[a].iot_event_name,e.rows[a].sport_name=e.rows[a].sport_id.display_name;const o=this.displayDateFormatter(e.rows[a].start_datetime,!1,!0);this.startDate=o.startDate;const i=this.displayDateFormatter(e.rows[a].end_datetime,!1,!0);this.endDate=i.startDate;const c=this.displayDateFormatter((new Date).toISOString(),!1,!0).startDate,g=this.commonService.getUTCDateObj(this.startDate),b=this.commonService.getUTCDateObj(this.endDate),m=this.commonService.getUTCDateObj(c);e.rows[a].start_datetime=this.startDate+" "+this.userTimeZoneObj.timeZoneCode,e.rows[a].end_datetime=this.endDate+" "+this.userTimeZoneObj.timeZoneCode,e.rows[a].is_canceled?e.rows[a].statusDisplay=r.hf.CANCELED:g<=m&&m<b?e.rows[a].statusDisplay=r.hf.IN_PROGRESS:m>=b?e.rows[a].statusDisplay=r.hf.CLOSED:g>m&&(e.rows[a].statusDisplay=r.hf.YET_TO_START),e.rows[a].is_recordDisableClass=new Date(e.rows[a].start_datetime)<=new Date(this.today)?"f-events":"l-events",e.rows[a].privacy_type=this.translateService.instant(e.rows[a].is_private?"NEW_VARIABLES.PRIVATE":"NEW_VARIABLES.PUBLIC"),this.dataJsonObj.tournamentEventMobileListData.find(u=>u._id===parseInt(e.rows[a]._id,10))||(this.dataJsonObj.tournamentEventMobileListData=this.dataJsonObj.tournamentEventMobileListData.filter(u=>u._id!==e.rows[a]._id),this.dataJsonObj.tournamentEventMobileListData.push(e.rows[a]))}e.totalCount&&(this.listingVariables.totalRecords=e.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=e.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.dataJsonObj.tournamentListEventsData=this.dataJsonObj.tournamentListEventsData.concat(e.rows)):this.dataJsonObj.tournamentListEventsData=e.rows}else this.dataJsonObj.tournamentListEventsData=[],this.dataJsonObj.tournamentEventMobileListData=[]})}catch(e){this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",e)}}getUsersByType(e,a,s){var o=this;return(0,h.Z)(function*(){o.hideSpinner();const i=o.dataJsonObj.paginationSettings[a];if(!s||!i.totalRecordsCount){const l=(i.skip-1)*i.limit,c=i.skip*i.limit,b=JSON.parse(JSON.stringify(o.dataJsonObj.sportAthletesList)).slice(l,c);o.dataJsonObj.enabledSpinner=!1,o.formatForLoadMore(a,o.dataJsonObj.usersDataJson,e,o.dataJsonObj.sportAthletesList.length,b)}})()}getVideos(){var e=this;return(0,h.Z)(function*(){e.hideSpinner();try{const a=e.dataJsonObj.paginationSettings.videos,s=e.dataJsonObj.recordId?"&related_type.coach.id="+e.dataJsonObj.recordId:"";e.showSpinner(),e.digitalAssetsService.getAll(a.skip,a.limit,e.listingVariables.sortOrderColumn,"",e.dataJsonObj.selectedEnterpriseId,"VIDEO","","",e.dataJsonObj.forcerefresh,"",s,"").then(function(){var o=(0,h.Z)(function*(i){e.hideSpinner(),e.dataJsonObj.videosList=i&&i.rows&&i.rows.length>0?i.rows:[]});return function(i){return o.apply(this,arguments)}}(),o=>{})}catch(a){e.loggerService.setLoggerError(e.constructor.name,"getVideos",a)}})()}getImages(){var e=this;return(0,h.Z)(function*(){e.hideSpinner();try{const a=e.dataJsonObj.paginationSettings.videos,s=e.dataJsonObj.recordId?"&related_type.coach.id="+e.dataJsonObj.recordId:"";e.showSpinner(),yield e.digitalAssetsService.getAll(a.skip,a.limit,e.listingVariables.sortOrderColumn,"",e.dataJsonObj.selectedEnterpriseId,"IMAGE","","",e.dataJsonObj.forcerefresh,"",s,"").then(function(){var o=(0,h.Z)(function*(i){e.hideSpinner(),e.dataJsonObj.imagesList=i&&i.rows&&i.rows.length>0?i.rows:[]});return function(i){return o.apply(this,arguments)}}(),o=>{e.hideSpinner()})}catch(a){e.hideSpinner(),e.loggerService.setLoggerError(e.constructor.name,"getImages",a)}})()}getAudios(){var e=this;return(0,h.Z)(function*(){e.hideSpinner();try{const a=e.dataJsonObj.paginationSettings.videos,s=e.dataJsonObj.recordId?"&related_type.coach.id="+e.dataJsonObj.recordId:"";e.showSpinner(),yield e.digitalAssetsService.getAll(a.skip,a.limit,e.listingVariables.sortOrderColumn,"",e.dataJsonObj.selectedEnterpriseId,"AUDIO","","",e.dataJsonObj.forcerefresh,"",s,"").then(function(){var o=(0,h.Z)(function*(i){e.hideSpinner(),e.dataJsonObj.audiosList=i&&i.rows&&i.rows.length>0?i.rows:[]});return function(i){return o.apply(this,arguments)}}(),o=>{e.hideSpinner()})}catch(a){e.hideSpinner(),e.loggerService.setLoggerError(e.constructor.name,"getAudios",a)}})()}formatForLoadMore(e,a,s,o,i){const l=i?JSON.parse(JSON.stringify(i)):[],c=this.dataJsonObj.paginationSettings[e];(!a[s]||1===c.skip)&&(a[s]=[]),l.length>0?(a[s]=a[s].concat(l),c.skip=c.skip+1,o&&(c.totalRecordsCount=o),c.showLoadMore=a[s].length<c.totalRecordsCount):c.showLoadMore=!1}digitalAssetsView(e){this.router.navigate(["/digitalassets/digitalassets/digitalasset-view2/"+e._id])}digitalAssetsViewAll(e){this.router.navigate(["/digitalassets/digitalassets/digitalasset-view-all/"],{queryParams:{assettype:e,starprofileid:this.dataJsonObj.recordId}})}navigateToTeamView(e){this.router.navigate(["/sports/basketballteamview/view/"+e])}getDateObj(e,a){return S.utc(e).format(a)}displayDateFormatter(e,a,s){try{const o=s?this.commonService.convertDateToUserTimeZone(e,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign):e,i={startDate:"",endDate:""};if(i.startDate=this.commonService.convertDateToUserFormat(o,r.eZ.HOURS_MINS,!0,"",!1),a){const l=s?this.commonService.convertDateToUserTimeZone(e,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign):e,c=S.utc(l).add(2,"hours");i.endDate=this.commonService.convertDateToUserFormat(c,r.eZ.HOURS_MINS,!0,"",!1)}return i}catch(o){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",o)}}goBack(e){e.stopPropagation()}navigateToTeamPath(e){this.router.navigate([`teamview/view/${e._id}/${this.dataJsonObj.sportsJson[e.sport_id._id+""].sport.sport_name}`])}navigateToAthleteViewPath(e){const a={};a.selectedMenuId=this.dataJsonObj.selectedMenuDetails?.selected_menu_id,a.selectedSubMenuId=this.dataJsonObj.selectedMenuDetails?.submenu_id,this.commonService.redirectToUrl(e?.sports&&e?.sports?.length>0&&this.dataJsonObj.sportsJson[e?.sports[0]?.sport_id+""]?["playerview","view",e?._id,this.dataJsonObj.sportsJson[e.sports[0]?.sport_id+""].sport?.sport_name]:["playerview","view",e?._id,""],!0,!1,a,this.route)}onItemClickedAthelets(e){try{this.router.navigate(["playerview","view",e._id,this.dataJsonObj.sportsJson[e.sports[0].sport_id+""].sport.sport_name]),this.router.routeReuseStrategy.clearModuleRouteCache("event")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"onItemClickedAthelets",a)}}sportsPresentActionSheet(e){var a=this;return(0,h.Z)(function*(){yield(yield a.actionSheetController.create({cssClass:"actionsheet",buttons:e})).present()})()}cancel(){this.router.routeReuseStrategy.clearModuleRouteCache("fans"),this.commonService.redirectToPreviousUrl()}onActionClicked(e){e.action===r.A0.VIEW&&(this.router.navigate(["sports/sporttournamenteventview/view/"+e.data._id]),this.router.routeReuseStrategy.clearModuleRouteCache("event"))}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}mobileEventAction(e){this.mobileroutesArray=[],this.roleRightsValidationByPage(r.hf.COACHES,r.AM.ACTIONS,r.In.VIEW)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{this.router.navigate(["sports/sporttournamenteventview/view/"+e._id]),this.router.routeReuseStrategy.clearModuleRouteCache("event")}}),this.presentActionSheet(e)}presentActionSheet(e){var a=this;return(0,h.Z)(function*(){try{a.mobileroutesArray.length>0&&(a.actionSheet=yield a.actionSheetController.create({cssClass:"actionsheet",buttons:a.mobileroutesArray}),yield a.actionSheet.present())}catch(s){a.loggerService.setLoggerError(a.constructor.name,"presentActionSheet",s)}})()}loadPageData(e){this.dataJsonObj.forcerefresh=e.forceRefresh,this.listingVariables.pageNumbers=e.listingVariables.pageNumbers,e.clearMobileData&&(this.dataJsonObj.tournamentEventMobileListData=this.noDuplicates),e.isPaginationChange&&(this.dataJsonObj.selectedFilter=e.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=e.isLoadMoreClicked),this.getTournamentEventslist()}viewAction(e){this.router.navigate(["sports/sporttournamenteventview/view/"+e._id]),this.router.routeReuseStrategy.clearModuleRouteCache("event")}getEventCategoriesJSON(){this.commonService.getJsonData(`assets/enterprises/${this.dataJsonObj.selectedEnterpriseId}/`,"event_categories.json").then(e=>{this.dataJsonObj.eventCategoriesData=e})}selectedFabAction(e){var a=this;return(0,h.Z)(function*(){e&&"SocialShare"===e.actionName&&a.commonService.socialShare(a.content)})()}getMediaData(){this.dataJsonObj.relatedTypeName=r.w1.COACH,this.dataJsonObj.relatedTypeRecordObj={id:this.dataJsonObj.recordObj._id,name:this.dataJsonObj.recordObj.user_id.user_account},this.dataJsonObj.pageName=r.hf.COACHES,this.dataJsonObj.isMediaEnble=!0}static \u0275fac=function(a){return new(a||n)(t.Y36("apiEndPoint"),t.Y36(J.F0),t.Y36(w.v),t.Y36(T.K),t.Y36(f.sK),t.Y36(D.m),t.Y36(J.gz),t.Y36(v.v),t.Y36(C.Y),t.Y36(N.V),t.Y36(A.r),t.Y36(x.BX),t.Y36(L.D))};static \u0275cmp=t.Xpm({type:n,selectors:[["app-coach-view"]],viewQuery:function(a,s){if(1&a&&t.Gf(G,5),2&a){let o;t.iGM(o=t.CRH())&&(s.content=o.first)}},features:[t._Bn([T.K,N.V,v.v,w.v,A.r,C.Y,L.D]),t.qOj],decls:1,vars:1,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],[1,"card","bd-0"],["content",""],["id","extraPaddingBottomID",1,"card-body","pdt-0","pdl-0","pdr-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"d-flex","align-items-center","w-100"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],["class","player-view",4,"ngIf"],[1,"position-relative"],[3,"selectedPage"],[1,"row"],[1,"col-md-12","mgt-5"],["mat-align-tabs","start",1,"fanguage-tabs"],[4,"ngIf"],[3,"actionData","selectedAction"],[1,"player-view"],[1,"banner-wrapper","pdb-0"],[1,"d-flex","mgb-10"],["class","player-image",4,"ngIf"],["class","player-image",3,"id",4,"ngIf"],[1,"sport-info"],[1,"tag"],[1,"mainblock-title","mgt-5","mgb-5"],[1,"mainblock-sub-title","mgt-5","mgb-5"],[1,"main-block-background"],[1,"player-image"],["id","player-imagepath","onerror","this.onerror=null;this.src='assets/img/image_placeholder.jpg';",3,"src"],[1,"player-image",3,"id"],[1,"initials"],["mat-tab-label",""],[1,"post-card-bg"],[1,"d-flex","align-items-center","justify-content-between","subsection-title-bg"],[1,"main-title","mg-0","fs-14","mgl-5"],[1,"d-flex","align-items-center","justify-content-center","mgt-5"],["mandatory","false","id","years-dropdown",3,"options","defaultValue","valueChange"],["yearsDropdown",""],["id","tagid",3,"header","listingVariables","paginator","data","expand","actions","mobileListData","totalRecords","totalPages","ignoreDisplayView","showSpinner","actionClicked","itemClickEvent","redirectionEvent","loadPageData"],["datatableComponent",""],[1,"fs-13","mg-0","tab-label","d-flex","align-items-center","justify-content-center","parent-tab",3,"click"],["id","tagid",3,"header","listingVariables","paginator","data","expand","actions","mobileListData","totalRecords","totalPages","isGridDisplayView","showSpinner","actionClicked","itemClickEvent","redirectionEvent","loadPageData"],[1,"row","g-0"],[1,"col-md-12"],["mandatory","true","id","coach-view-sports",3,"label","options","defaultValue","selectedOption","searchValueChange"],["id","tagid",3,"header","listingVariables","data","expand","actions","paginator","mobileListData","totalRecords","totalPages","isGridDisplayView","showSpinner","actionClicked","itemClickEvent","redirectionEvent","loadPageData"],["class","row g-0 justify-content-center",4,"ngIf"],["class","ion-no-padding",4,"ngIf"],[1,"fs-13","mg-0","tab-label","d-flex","align-items-center","justify-content-center","parent-tab"],[1,"row","g-0","justify-content-center"],[1,"col-md-8"],[1,"mgt-0","mobile-list-view","pd-0","mgb-10"],["class","position-relative",4,"ngFor","ngForOf"],["lines","none",3,"ngClass"],[1,"mgt-0","mgb-0",3,"click"],["color","primary",1,"mg-0","d-flex","justify-content-between"],[1,"ion-no-padding"],["size","12",1,"ion-text-center","ion-no-padding"],[1,"fs-13","text-danger"],[3,"pageName","relatedTypeName","relatedTypeRecordObj",4,"ngIf"],[3,"pageName","relatedTypeName","relatedTypeRecordObj"]],template:function(a,s){1&a&&t.YNc(0,le,19,14,"div",0),2&a&&t.Q6J("ngIf",!0)},dependencies:[O.mk,O.sg,O.O5,P.k,Z.n,R.C,U.q,k.J,F.j,B.v,j.uD,j.uX,j.SP,f.X$]})}return n})();const pe=[{path:"",data:{title:"coachview"},children:[{path:"",redirectTo:"view/:id/:sportName",pathMatch:"full"},{path:"view/:id/:sportName",canActivate:[d(11210).P],component:de,data:{object_type:r.w1.COACHES,title:"Player View",responsibilityParam:r.bP.MENUS+"."+r.w1.COACHES+"."+r.bP.SUBMENUS+"."+r.w1.COACHES+"."+r.Iu.ENABLED,pageName:r.hf.COACHES,pageSetting:r.AM.ACTIONS,settingField:r.In.VIEW}}]}];let he=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=t.oAB({type:n});static \u0275inj=t.cJS({imports:[J.Bz.forChild(pe),J.Bz]})}return n})(),be=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=t.oAB({type:n});static \u0275inj=t.cJS({providers:[C.Y,v.v],imports:[O.ez,he,V.Q,f.aw,j.Nh]})}return n})()}}]);