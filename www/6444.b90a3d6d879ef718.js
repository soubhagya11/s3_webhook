"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6444],{46444:(_e,S,l)=>{l.r(S),l.d(S,{MyTripModule:()=>me});var C=l(36895),f=l(54463),_=l(71568),N=l(65063),O=l(62510),u=l(15861),e=l(94650),T=l(57530),v=l(47561),J=l(42786),s=l(32236),I=l(85623),L=l(80529);let A=(()=>{class r{http;commonServices;constructor(t,a){this.http=t,this.commonServices=a}getEnterpriseConfigData(t){return this.commonServices.getStaticApiCall("assets/enterprises/"+t+"/default_ui_settings/defaultUI.json")}static \u0275fac=function(a){return new(a||r)(e.LFG(L.eN),e.LFG(_.v))};static \u0275prov=e.Yz7({token:r,factory:r.\u0275fac})}return r})();var R=l(29443),E=l(27601),P=l(42863),M=l(28168),U=l(30958),h=l(70057),D=l(15965),B=l(30578),w=l(2387),V=l(56368),F=l(24929),Z=l(37415);const k=["tripNameInput"],Y=["datatableComponent"];function x(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"app-button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.showPredefinedPage())}),e.ALo(1,"translate"),e.qZA()}2&r&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_SHOW_PREDEFINED_PATHS"))}function G(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"app-button",39),e.NdJ("buttonOnClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.showUpdateModal())}),e.ALo(1,"translate"),e.qZA()}2&r&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_UPDATE"))}function q(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"app-button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.cartAddedAssetsLocateOffline("","PATH_BY_SEQUENCE"))}),e.ALo(1,"translate"),e.qZA()}2&r&&e.s9C("label",e.lcZ(1,1,"NEW_VARIABLES.PATH_BY_SEQUENCE"))}function H(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"app-button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.cartAddedAssetsLocateOffline(i.grouploateData,"PATH_BY_SHORTEST_ROUTE"))}),e.ALo(1,"translate"),e.qZA()}2&r&&e.s9C("label",e.lcZ(1,1,"NEW_VARIABLES.PATH_BY_SHORTEST_ROUTE"))}function W(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"app-button",41),e.NdJ("buttonOnClick",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.save())}),e.ALo(1,"translate"),e.qZA()}2&r&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_SAVE"))}function Q(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"app-button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.goBackToPreviousPage())}),e.ALo(1,"translate"),e.qZA()}2&r&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_CLOSE"))}function K(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"app-button",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.clearSelectedAssetsList())}),e.ALo(1,"translate"),e.qZA()}2&r&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_CLEAR_ALL"))}function z(r,p){if(1&r&&e._UZ(0,"p",43),2&r){const t=e.oxw(2);e.Q6J("innerHTML",null==t.dataJsonObj?null:t.dataJsonObj.tripDescription,e.oJD)}}function X(r,p){if(1&r&&(e.TgZ(0,"div",6)(1,"ion-row",7)(2,"ion-col",33),e.YNc(3,G,2,3,"app-button",34),e.YNc(4,q,2,3,"app-button",35),e.YNc(5,H,2,3,"app-button",35),e.YNc(6,W,2,3,"app-button",36),e.YNc(7,Q,2,3,"app-button",9),e.YNc(8,K,2,3,"app-button",37),e.qZA(),e.YNc(9,z,1,1,"p",38),e.qZA()()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!(null!=t.dataJsonObj&&t.dataJsonObj.isViewScreen)&&t.dataJsonObj.showUpdateTripPlannerRoute&&t.dataJsonObj.selectedAssetsFromPredefinedTrips),e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.pathBySequence),e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.isLocate),e.xp6(1),e.Q6J("ngIf",!(null!=t.dataJsonObj&&t.dataJsonObj.isViewScreen)&&!t.dataJsonObj.showUpdateTripPlannerRoute&&t.dataJsonObj.showSaveTripPlannerRoute&&t.dataJsonObj.selectedAssetsFromPredefinedTrips),e.xp6(1),e.Q6J("ngIf",!(null!=t.dataJsonObj&&t.dataJsonObj.isViewScreen)),e.xp6(1),e.Q6J("ngIf",!(null!=t.dataJsonObj&&t.dataJsonObj.isViewScreen)),e.xp6(1),e.Q6J("ngIf",(null==t.dataJsonObj?null:t.dataJsonObj.isViewScreen)||(null==t.dataJsonObj?null:t.dataJsonObj.isEdit))}}function ee(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"ion-fab",44)(1,"ion-fab-button",45),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.displayAssetsList())}),e._UZ(2,"i",46),e.qZA()()}}function te(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"app-button",47),e.NdJ("buttonOnClick",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createRecord())}),e.ALo(1,"translate"),e.qZA()}2&r&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_SUBMIT"))}function ae(r,p){if(1&r){const t=e.EpF();e.TgZ(0,"app-button",48),e.NdJ("buttonOnClick",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateRecord())}),e.ALo(1,"translate"),e.qZA()}2&r&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_UPDATE"))}let ie=(()=>{class r extends v.O{translateService;platform;commonServices;events;router;activatedRoute;navigationService;toastCtrl;modalCtrl;loggerService;facilitiesui;myTripService;predefinedTripsService;uiUtils;columnsheaders;listingVariables;apiEndPointUrl;tripNameInput;datatableComponent;searchValueChange=new e.vpe;isSaveMode;predefinedCreateObj=new se;nodata=!1;selectedAssetsArray;count=0;addedToCartarr=[];enterpriseId;buttonTextColor;buttonBackgroundColor;removeattherate;langcode;grouploateData;selectAllAssets;listType;floorsenable;recordsCount=20;showFleetName=!0;showGridName=!1;showCheckbox=!1;apiEndPoint;countLimit;dataJsonObj={};messagelist=[];fleetlistdata=[];constructor(t,a,i,n,o,d,c,b,g,y,he,ue,be,ge,fe,Oe,Te){super(d,i),this.translateService=t,this.platform=a,this.commonServices=i,this.events=n,this.router=o,this.activatedRoute=d,this.navigationService=c,this.toastCtrl=b,this.modalCtrl=g,this.loggerService=y,this.facilitiesui=he,this.myTripService=ue,this.predefinedTripsService=be,this.uiUtils=ge,this.columnsheaders=fe,this.listingVariables=Oe,this.apiEndPointUrl=Te,this.route.queryParams.subscribe(m=>{this.dataJsonObj.queryParamsObj={defaultView:m.default_view?m.default_view:m.defaultView,selectedMenuId:m.selectedMenuId,selectedSubMenuId:m.selectedSubMenuId,selectedSubmenuDisplayName:m.selectedSubmenuDisplayName,predefinedPathId:m.predefinedPathId,action:m.action}})}ngOnInit(){this.showSpinner(),this.initializeComponent()}ionViewWillEnter(){}initializeComponent(){this.dataJsonObj.noDuplicates=void 0,this.dataJsonObj.isAdvancedSearchFilter=!1,this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.tableColumnHeaders=this.columnsheaders.getMytripsColumnHeaders(),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchString="",this.dataJsonObj.pageName=s.hf.TRIP_PLANNER,this.dataJsonObj.dynamicColorJSON={},this.dataJsonObj.facilitiesArray=[],this.dataJsonObj.buildingCode=localStorage.getItem(s.BU.SELECTED_ENTERPRISE)?localStorage.getItem(s.BU.BUILDING_CODE):localStorage.getItem(s.BU.PARENT_BUILDING_CODE),this.dataJsonObj.isEdit=this.dataJsonObj.queryParamsObj?.action===s.A0.EDIT,this.dataJsonObj.isViewScreen=this.dataJsonObj.queryParamsObj?.action===s.A0.VIEW,this.dataJsonObj.isLocate=this.roleRightsValidationByPage(s.hf.TRIP_PLANNER,s.AM.ACTIONS,s.In.PATH_BY_SHORTEST_ROUTE),this.dataJsonObj.pathBySequence=this.roleRightsValidationByPage(s.hf.TRIP_PLANNER,s.AM.ACTIONS,s.In.PATH_BY_SEQUENCE),this.dataJsonObj.actions={VIEW:this.roleRightsValidationByPage(s.hf.TRIP_PLANNER,s.AM.ACTIONS,s.In.VIEW),LOCATE:this.roleRightsValidationByPage(s.hf.TRIP_PLANNER,s.AM.ACTIONS,s.In.LOCATE),DIRECTION:this.roleRightsValidationByPage(s.hf.TRIP_PLANNER,s.AM.ACTIONS,s.In.DIRECTIONS)},this.apiEndPoint=localStorage.getItem(s.BU.S3_URL)?localStorage.getItem(s.BU.S3_URL):this.apiEndPointUrl,this.dataJsonObj.showSaveTripPlannerRoute=this.roleRightsValidationByPage(s.hf.TRIPPLANNERROUTES,s.AM.ACTIONS,s.In.SAVE),this.dataJsonObj.showUpdateTripPlannerRoute=!!this.dataJsonObj.queryParamsObj.predefinedPathId,this.dataJsonObj.queryParamsObj?.selectedSubmenuDisplayName==s.hf.TRIPPLANNERROUTES&&(this.dataJsonObj.selectedAssetsFromPredefinedTrips=!0),this.dataJsonObj.showPredefinedPath=this.roleRightsValidationByPage(s.hf.TRIPPLANNERROUTES,s.AM.ACTIONS,s.In.SHOW_PREDEFINED_PATH);const t=localStorage.getItem(s.BU.SELECTED_ASSETS);this.grouploateData=t&&"[]"!=t?JSON.parse(localStorage.getItem(s.BU.TRIP_PLANNER_LOCATE_FACILITY)):"",this.showFleetName=!0,this.showGridName=!1,this.nodata=!1,this.langcode=localStorage.getItem(s.BU.LOGIN_USER_LANGUAGE),this.enterpriseId=localStorage.getItem(s.BU.SELECTED_ENTERPRISE)?localStorage.getItem(s.BU.SELECTED_ENTERPRISE):localStorage.getItem(s.BU.PARENT_ENTERPRISE_ID),this.getDynamicJson([{folderName:"facilities",jsonType:"v2",storingFieldName:"facilitiesJson"}]),this.getEnterpriseData(this.enterpriseId),this.dataJsonObj?.queryParamsObj?.predefinedPathId?this.getTripPlannerRoutesRecordById():(this.dataJsonObj.pageName=s.hf.TRIP_PLANNER,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.TRIP_PLANNER",value:"",showSubMenuDisplayName:!1}]),this.commonServices.getDynamicHeight()}getGradientDynamicColor(t,a,i,n){this.dataJsonObj.dynamicColorJSON[i]||(this.dataJsonObj.dynamicColorJSON[i]={});const o=this.commonServices.getDynamicColor(t,a,this.dataJsonObj.dynamicColorJSON[i]),d=this.commonServices.lightenRGBColor(o,150),c=this.commonServices.darkenRGBColor(o,5),b=this.commonServices.lightenRGBColor(o,180),g=this.commonServices.darkenRGBColor(o,50);return"text"===i?d:"text"===n?b:"border"===n?g:"avatar"===n?`linear-gradient(135deg, ${d}, ${c})`:`linear-gradient(to bottom, ${c}, ${d})`}ionViewDidLoad(){}ionViewWillLeave(){}getEnterpriseData(t){try{this.myTripService.getEnterpriseConfigData(t).then(a=>{this.dataJsonObj.enterpriseName=a.enterprise.enterprise_name,this.dataJsonObj.enterpriseShortName=a.enterprise.short_name,this.buttonBackgroundColor=a.application_color,this.buttonTextColor=a.button_text_color,this.removeattherate=!1,a.general_settings?(this.removeattherate=a.general_settings.is_city_enabled,this.showFleetName=a.general_settings.show_facility_name,this.showGridName=a.general_settings.show_grid_name,this.listType=T.L.isEmpty(a.general_settings.facility_list_type)?"GRID_VIEW":a.general_settings.facility_list_type.lookup_name,localStorage.setItem(s.BU.SELECT_LIMIT,a.general_settings.group_locate_selection_limit)):this.listType="GRID_VIEW",this.floorsenable=a.mapSettings?a.mapSettings.is_floor_details_enabled:" ",localStorage.setItem(s.BU.FLOORS_ENABLE,this.floorsenable),this.recordsCount=20,this.platform.ready().then(i=>{const n=this.platform.width(),o=this.platform.height();(this.listType="GRID_VIEW")?n<1201?this.recordsCount=Math.floor(n/103)*Math.floor(o/96):n<1441&&(this.recordsCount=Math.floor(n/111)*Math.floor(o/96)):this.recordsCount=Math.floor(o/44)}),a.mapSettings&&a.mapSettings.radius_meters&&localStorage.setItem(s.BU.RADIUS_METERS,a.mapSettings.radius_meters),a.mapSettings&&a.mapSettings.show_facilities&&localStorage.setItem(s.BU.SHOW_FLEETS,a.mapSettings.show_facilities)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getEnterpriseHome",a)}}getDynamicJson(t){var a=this;return(0,u.Z)(function*(){for(let i of t)try{a.dataJsonObj[i.storingFieldName]=yield a.commonService.getDynamicJson(a.enterpriseId,i.folderName,i.jsonType,!0)}catch{a.dataJsonObj[i.storingFieldName]=[]}if(a.hideSpinner(),a.dataJsonObj.queryParamsObj?.action===s.A0.VIEW){const i=a.dataJsonObj.queryParamsObj?.predefinedPathId;yield a.getRedirectToView(i)}a.getmytripList(),a.getAllRecords()})()}getmytripList(){this.selectedAssetsArray=[];const t=localStorage.getItem(s.BU.SELECTED_ASSETS),a={};for(let i of this.dataJsonObj.facilitiesJson)a[i._id]={_id:i._id,mobile_display_data:i.mobile_display_data};if(!T.L.isEmpty(t)&&t&&JSON.parse(t).length>0){this.selectedAssetsArray=JSON.parse(t),this.count=this.selectedAssetsArray.length;for(let i=0;i<this.selectedAssetsArray.length;i++)this.selectedAssetsArray[i].facilityName=T.L.isEmpty(this.selectedAssetsArray[i].name)||null==this.selectedAssetsArray[i].name[this.langcode]||""===this.selectedAssetsArray[i].name[this.langcode]?this.selectedAssetsArray[i].properties.facilityName:this.selectedAssetsArray[i].name[this.langcode],this.selectedAssetsArray[i]._id==a[this.selectedAssetsArray[i]._id]._id&&(this.selectedAssetsArray[i].mobile_display_data=a[this.selectedAssetsArray[i]._id].mobile_display_data)}else this.count=0,this.nodata=!0}cartAddedAssetsLocateOffline(t,a){localStorage.removeItem(s.BU.SELECTED_FLEET),localStorage.setItem(s.BU.MY_TRIP,"mytrip"),localStorage.setItem(s.BU.DISPLAY_TRIP_PLAN_BUTTON_ON_MAP,"true"),localStorage.getItem(s.BU.TRIP_PLANNER_LOCATE_FACILITY)&&this.facilitiesui.cartAddedAssetsLocateOffline(JSON.parse(localStorage.getItem(s.BU.TRIP_PLANNER_LOCATE_FACILITY)),a)}showPredefinedPage(){var t=this;return(0,u.Z)(function*(){t.dataJsonObj.selectedMenuDetails=yield t.commonService.getSelectedMenuDetails(s.hf.TRIPPLANNERROUTES,t.enterpriseId),t.dataJsonObj.queryParamsObj={selectedMenuId:t.dataJsonObj.selectedMenuDetails.selected_menu_id,selectedSubMenuId:t.dataJsonObj.selectedMenuDetails.submenu_id},t.commonService.redirectToUrl(["tripplannerroutes","tripplannerroutes","list"],!0,!1,t.dataJsonObj.queryParamsObj?t.dataJsonObj.queryParamsObj:"",t.route)})()}locateReserve(t){localStorage.setItem(s.BU.SELECTED_FLEET,JSON.stringify(t)),this.router.navigate(["/maps/maps/list"])}deleteAssetToCart(t,a){this.selectedAssetsArray.splice(a,1),this.count--,delete t.addedToCart,localStorage.setItem(s.BU.SELECTED_ASSETS,JSON.stringify(this.selectedAssetsArray)),0===this.selectedAssetsArray.length&&(this.count=0),this.events.publish(s.xY.TRIP_FACILITIES_COUNT,this.count),localStorage.setItem(s.BU.TRIP_PLANNER_LOCATE_FACILITY,JSON.stringify(this.selectedAssetsArray[0]))}goBackToPreviousPage(){this.commonServices.redirectToPreviousUrl()}save(t){this.isSaveMode=!0,document.getElementsByTagName("body")[0].classList.add("modale-popup-open"),$("#tripPlannerRoutesModal").modal("show"),$(".modal-backdrop").insertAfter("#tripPlannerRoutesModal")}closeSaveLabelPopup(){$("#tripPlannerRoutesModal").modal("hide")}showUpdateModal(){this.isSaveMode=!1,document.getElementsByTagName("body")[0].classList.add("modale-popup-open"),$("#tripPlannerRoutesModal").modal("show"),$(".modal-backdrop").insertAfter("#tripPlannerRoutesModal")}updateRecord(){try{if(this.tripNameInput.isValid()){for(let a of this.selectedAssetsArray)this.dataJsonObj.facilitiesArray.push({facility_id:a.facilityId,display_sequence:a.displaySequence});const t={enterprise_id:this.enterpriseId,enterprise_name:this.dataJsonObj.enterpriseName,short_name:this.dataJsonObj.enterpriseShortName};this.predefinedCreateObj.trip_name=this.dataJsonObj.tripLabel,this.predefinedCreateObj.description=this.dataJsonObj.tripDescription,this.predefinedCreateObj.enterprise=t,this.predefinedCreateObj.facilities=this.dataJsonObj.facilitiesArray,this.predefinedCreateObj.device_id=localStorage.getItem(s.BU.DEVICE_ID),this.predefinedTripsService.updateSelectedAssets(this.predefinedCreateObj,this.dataJsonObj.queryParamsObj.predefinedPathId).then(a=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),$("#tripPlannerRoutesModal").modal("hide"),localStorage.removeItem(s.BU.SELECTED_ASSETS),this.commonServices.redirectToUrl(["tripplannerroutes","tripplannerroutes","list"],!0,!1,{selectedMenuId:this.dataJsonObj.queryParamsObj?.selectedMenuId,selectedSubMenuId:this.dataJsonObj.queryParamsObj?.selectedSubMenuId},this.route)},a=>{this.commonErrorCodes(JSON.parse(a))})}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"updateRecord",t)}}createRecord(){try{if(this.tripNameInput.isValid()){for(let a of this.selectedAssetsArray)this.dataJsonObj.facilitiesArray.push({facility_id:a.facilityId,display_sequence:a.displaySequence});this.predefinedCreateObj.enterprise={enterprise_id:this.enterpriseId,enterprise_name:this.dataJsonObj.enterpriseName,short_name:this.dataJsonObj.enterpriseShortName},this.predefinedCreateObj.facilities=this.dataJsonObj.facilitiesArray,this.predefinedCreateObj.trip_name=this.dataJsonObj.tripLabel,this.predefinedCreateObj.description=this.dataJsonObj.tripDescription,this.predefinedCreateObj.device_id=localStorage.getItem(s.BU.DEVICE_ID),this.predefinedTripsService.saveSelectedAssets(this.predefinedCreateObj).then(a=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),$("#tripPlannerRoutesModal").modal("hide"),localStorage.removeItem(s.BU.SELECTED_ASSETS);const i={};i.selectedMenuId=this.dataJsonObj.queryParamsObj?.selectedMenuId,i.selectedSubMenuId=this.dataJsonObj.queryParamsObj?.selectedSubMenuId,this.commonServices.redirectToUrl(["tripplannerroutes","tripplannerroutes","list"],!0,!1,i,this.route),this.events.publish(s.xY.TRIP_FACILITIES_COUNT,0)},a=>{this.commonErrorCodes(JSON.parse(a))})}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"createRecord",t)}}changeTripName(t){this.dataJsonObj.error="",this.dataJsonObj.tripLabel=t.value}changeDescription(t){this.dataJsonObj.error="",this.dataJsonObj.tripDescription=t.value}clearSelectedAssetsList(){this.count=0,this.nodata=!0,this.addedToCartarr=[],this.selectedAssetsArray=[],localStorage.removeItem(s.BU.SELECTED_ASSETS),localStorage.removeItem(s.BU.GROUP_LOCATE),localStorage.removeItem(s.BU.GROUP_LOC_LENGTH),localStorage.removeItem(s.BU.GROUP_LOCATE_LENGTH),localStorage.removeItem(s.BU.MAP_URL),this.events.publish(s.xY.TRIP_FACILITIES_COUNT,this.count),localStorage.setItem(s.BU.TRIP_PLANNER_LOCATE_FACILITY,this.selectedAssetsArray[0]),this.getAllRecords()}displayAssetsList(){const t={};t.default_view=this.dataJsonObj.queryParamsObj?.defaultView,t.selectedMenuId=this.dataJsonObj.queryParamsObj?.selectedMenuId,t.selectedSubMenuId=this.dataJsonObj.queryParamsObj?.selectedSubMenuId,t.selectedSubmenuDisplayName=this.dataJsonObj.queryParamsObj?.selectedSubmenuDisplayName,t.predefinedPathId=this.dataJsonObj.queryParamsObj?.predefinedPathId,this.commonService.redirectToUrl(["mytripfacilitiesselection","mytripfacilitiesselection","list"],!0,!1,t,this.route)}addToCart(t){this.showCheckbox=!0,t.addedToCart||this.addAssetToCart(t)}assetDetailsPage(t){this.router.navigate([`facilitiesui/facilitiesui/${t.properties.facilityTypeDisplayName.replace(/\s+/g,"~")}/${t.facilityId}/view`])}addAssetToCart(t){if(this.showCheckbox=!0,0===this.count&&(this.addedToCartarr=[]),t.facilityId&&"number"==typeof t.facilityId&&(t._id=t.facilityId),0===this.addedToCartarr.length)t.addedToCart=!0,this.addedToCartarr.push(t),this.count++,this.showToastMessage(this.translateService.instant("TRIP_PLANNER.ADDED_TO_TRIP_PLANNER"));else if(t.properties.level===this.addedToCartarr[0].properties.level){const a=localStorage.getItem(s.BU.SELECT_LIMIT)?parseInt(localStorage.getItem(s.BU.SELECT_LIMIT),10):100;this.count<a?(t.addedToCart=!0,this.addedToCartarr.push(t),localStorage.setItem(s.BU.SELECTED_ASSETS,JSON.stringify(this.addedToCartarr)),this.count++,this.showToastMessage(this.translateService.instant("TRIP_PLANNER.ADDED_TO_TRIP_PLANNER"))):(t.addedToCart=!1,this.showToastMessage(this.translateService.instant("TRIP_PLANNER.YOU_CAN_SELECT_ONLY")+" "+localStorage.getItem(s.BU.SELECT_LIMIT)))}else{const a=localStorage.getItem(s.BU.SELECT_LIMIT)?parseInt(localStorage.getItem(s.BU.SELECT_LIMIT),10):100;this.count<a?(t.addedToCart=!0,this.addedToCartarr.push(t),localStorage.setItem(s.BU.SELECTED_ASSETS,JSON.stringify(this.addedToCartarr)),this.count++,this.showToastMessage(this.translateService.instant("TRIP_PLANNER.ADDED_TO_TRIP_PLANNER"))):(t.addedToCart=!1,this.showToastMessage(this.translateService.instant("TRIP_PLANNER.YOU_CAN_SELECT_ONLY")+" "+localStorage.getItem(s.BU.SELECT_LIMIT)))}this.events.publish(s.xY.TRIP_FACILITIES_COUNT,this.count),localStorage.setItem(s.BU.TRIP_PLANNER_LOCATE_FACILITY,JSON.stringify(this.addedToCartarr[0]))}showToastMessage(t){var a=this;return(0,u.Z)(function*(){(yield a.toastCtrl.create({message:t,duration:2e3,position:"bottom",cssClass:"customToast"})).present()})()}viewAsset(t){this.router.navigate([`facilitiesui/facilitiesui/${t.properties.facilityTypeDisplayName.replace(/\s+/g,"~")}/${t.facilityId}/view`])}cancelBtn(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelBtn",t)}}commonErrorCodes(t){const a=JSON.parse(t[s.BU.STATUS]);409===a&&(this.dataJsonObj.error="COMMON_STATUS_CODES."+a)}getTripPlannerRoutesRecordById(){try{this.predefinedTripsService.get(this.dataJsonObj.queryParamsObj.predefinedPathId).subscribe(t=>{this.dataJsonObj.tripPlanName=t.trip_name,this.dataJsonObj.tripDescription=t.description,this.dataJsonObj.pageTitleKey=this.dataJsonObj.isViewScreen?"COMMON_BUTTONS.BUTTON_VIEW":"COMMON_BUTTONS.BUTTON_EDIT",this.dataJsonObj.pageTitle=[{key:this.dataJsonObj.tripPlanName,value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:this.dataJsonObj.pageTitleKey,value:"",showSubMenuDisplayName:!1}]})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)}}redirectToTripPlanner(){this.commonServices.redirectToUrl(["tripplannerroutes","tripplannerroutes","list"],!0,!1,this.dataJsonObj.queryParamsObj,this.route)}getSearchResult(t){try{this.datatableComponent.reset(),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchString=t,this.dataJsonObj.facilitiesMobileList=[],this.getAllRecords(),this.searchValueChange.emit(t)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getSearchResult",a)}}loadPageData(t){this.dataJsonObj.forceRefresh=t.forceRefresh,this.listingVariables.pageNumbers=t.listingVariables.pageNumbers,t.clearMobileData&&(this.dataJsonObj.facilitiesMobileList=this.dataJsonObj.noDuplicates),t.isPaginationChange&&(this.dataJsonObj.selectedFilter=t.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=t.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=t.selectedAdvancedSearchObj),this.getAllRecords()}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}searchClose(){try{this.dataJsonObj.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.getAllRecords(),this.datatableComponent.reset(),this.searchValueChange.emit("")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"searchClose",t)}}onActionClicked(t){var a=this;return(0,u.Z)(function*(){if(t.action==s.A0.VIEW){const i=t.data;a.router.navigate([`facilitiesui/facilitiesui/${i.properties.facilityTypeDisplayName.replace(/\s+/g,"~")}/${i.facilityId}/view`])}else t.action===s.A0.LOCATE?(localStorage.setItem(s.BU.DISPLAY_TRIP_PLAN_BUTTON_ON_MAP,"true"),a.facilityLocate(t.data)):t.action===s.A0.DIRECTION&&(localStorage.setItem(s.BU.DISPLAY_TRIP_PLAN_BUTTON_ON_MAP,"true"),a.facilityDirection(t.data))})()}facilityLocate(t){localStorage.removeItem(s.BU.TO_ASSET),localStorage.removeItem(s.BU.MAP_URL),localStorage.setItem(s.BU.SELECTED_FLEET,JSON.stringify({facilityId:t._id,geometry:{type:"Point",coordinates:t.address.geoCoordinates?[t.address.geoCoordinates[1],t.address.geoCoordinates[0]]:["",""]}})),this.commonService.redirectToUrl(["maps","maps","list"],!0,!1,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}facilityDirection(t){try{localStorage.removeItem(s.BU.SELECTED_FLEET),localStorage.setItem(s.BU.TO_LOCATE_FLEET_NAME,t.facility_display_name);const a=JSON.parse(JSON.stringify(t));a.geometry={type:"Point",coordinates:t.address.geoCoordinates?[t.address.geoCoordinates[1],t.address.geoCoordinates[0]]:["",""]},a.properties||(a.properties={level:t?.levelDetails?.level,levelDisplay:t?.levelDetails?.levelDisplay}),localStorage.setItem(s.BU.TO_ASSET,JSON.stringify(a));const i=this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"";i.fId=t._id,this.commonService.redirectToUrl(["facilities","facilities","locate"],!0,!1,i,this.route)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"facilityDirection",a)}}getRedirectWidgets(t){try{if(this.roleRightsValidationByPage(s.hf.TRIP_PLANNER,s.AM.ACTIONS,s.In.VIEW)){const a=t;this.router.navigate([`facilitiesui/facilitiesui/${a.properties.facilityTypeDisplayName.replace(/\s+/g,"~")}/${a.facilityId}/view`])}}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getRedirectWidgets",a)}}statusData(t){try{this.dataJsonObj.statsObj=t.value,this.datatableComponent.reset(),this.listingVariables.pageNumbers=1,this.dataJsonObj.facilitiesMobileList=this.dataJsonObj.noDublicates,this.getAllRecords()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"statusData",a)}}onPageLevelActionClicked(t){}advancedSearchFilterClicked(t){this.dataJsonObj.selectedAdvancedSearchObj=t}selectedViewType(t){this.dataJsonObj.selectedDisplayView=t}selectedFilterType(t){t?this.dataJsonObj.selectedFilter=t:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}onHeaderItemClick(t){switch(t.type){case"search":this.getSearchResult(t.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(t.event);break;case"filters":this.selectedFilterType(t.event);break;case"advanced_search":this.advancedSearchFilterClicked(t.event);break;case"page_actions":this.onPageLevelActionClicked(t.event)}}getRedirectToView(t){var a=this;return(0,u.Z)(function*(){try{const i=t;a.showSpinner();const n=yield a.predefinedTripsService.getPredefinedTrips(i,a.dataJsonObj.buildingCode);a.hideSpinner(),a.dataJsonObj.faciilityData=n,a.dataJsonObj.faciilityData?.facilityArray[0]?.facilityId&&typeof a.dataJsonObj.faciilityData?.facilityArray[0]?.facilityId==typeof Number&&(a.dataJsonObj.faciilityData.facilityArray[0]._id=a.dataJsonObj.faciilityData?.facilityArray[0].facilityId),localStorage.setItem(s.BU.TRIP_PLANNER_LOCATE_FACILITY,JSON.stringify(a.dataJsonObj.faciilityData?.facilityArray[0])),a.getmessagelist(a.dataJsonObj.faciilityData?.facilityArray)}catch(i){a.hideSpinner(),a.loggerService.setLoggerError(a.constructor.name,"getRedirectToView",i)}})()}getmessagelist(t){if(t.length>0){for(let a of t)a.properties.iconName&&this.messagelist.push(a);for(let a=0;a<this.messagelist.length;a++)this.messagelist[a].facilityName=this.messagelist[a].properties.facilityName;if(this.messagelist.sort((a,i)=>a.properties.facilityName.toLowerCase()>i.properties.facilityName.toLowerCase()?1:i.properties.facilityName.toLowerCase()>a.properties.facilityName.toLowerCase()?-1:0),this.messagelist.length>0){const a=[];let i=this.messagelist.length;this.messagelist.length>this.recordsCount&&(i=this.recordsCount);for(let n=0;n<i;n++)a.push(this.messagelist[n]);this.fleetlistdata=a;for(let n=0;n<this.fleetlistdata.length;n++)this.fleetlistdata[n].facilityName=void 0!==this.fleetlistdata[n].name&&T.L.isEmpty(this.fleetlistdata[n].name[this.langcode])?this.fleetlistdata[n].name[this.langcode]:this.fleetlistdata[n].facilityName}else this.fleetlistdata=[];for(let a of this.fleetlistdata)a._id=a.facilityId;localStorage.setItem(s.BU.SELECTED_ASSETS,JSON.stringify(this.fleetlistdata)),this.nodata=!1}}getAllRecords(){var t=this;return(0,u.Z)(function*(){const a=t.listingVariables.rowsPerPage,i=yield t.commonService.getFilteredDynamicJSONDataWithPagination(t.selectedAssetsArray,["facilityName","properties.facility_name","properties.branchName","properties.facilityCode","properties.parentFacilityHierarchy"],t.dataJsonObj.searchString,t.listingVariables.sortOrderColumn,t.listingVariables.pageNumbers,a),n=i.totalRecordsCount,o=i.data.sort((d,c)=>d.displaySequence-c.displaySequence);if(t.hideSpinner(),t.listingVariables.totalRecords=n,t.listingVariables.totalpages=Math.ceil(n/a),o?.length>0){t.dataJsonObj.facilitiesMobileList&&t.dataJsonObj.facilitiesMobileList?.length>0||(t.dataJsonObj.facilitiesMobileList=[]);for(let d=0;d<o.length;d++){o[d]._id=o[d]._id,o[d].display_grid_title=o[d].facilityName,o[d].page_name=s.hf.TRIP_PLANNER,o[d].imageName=o[d].properties.facility_name,o[d].facility_display_name=o[d].properties.facility_name;const c={url:`facilitiesui/facilitiesui/${o[d].properties.facilityTypeDisplayName.replace(/\s+/g,"~")}/${o[d]._id}/view`,queryParams:t.dataJsonObj.queryParamsObj?t.dataJsonObj.queryParamsObj:""},b=c.queryParams&&Object.keys(c.queryParams).length>0?`${c.url}?${JSON.stringify(c.queryParams)}`:c.url;o[d].facilityName=`<a class="enable" id="facilityName${o[d]._id}" href=${b}>${o[d].facilityName}`,o[d].imageDisplay=o[d].properties.facilityImageFilePath&&o[d].properties.facilityImageFileName?o[d].properties.facilityImageFilePath+"/"+o[d].properties.facilityImageFileName:null,t.dataJsonObj.facilitiesMobileList=t.dataJsonObj.facilitiesMobileList.filter(g=>g._id!==o[d]._id),t.dataJsonObj.facilitiesMobileList.push(o[d])}o.totalCount&&(t.listingVariables.totalRecords=o.totalCount),1===t.listingVariables.pageNumbers&&(t.listingVariables.totalpages=o.pages),t.dataJsonObj.isLoadMoreClicked?(t.dataJsonObj.isLoadMoreClicked=!1,t.dataJsonObj.listData=t.dataJsonObj.listData.concat(o)):t.dataJsonObj.listData=o}else t.dataJsonObj.listData=[],t.dataJsonObj.facilitiesMobileList=[],t.listingVariables.totalRecords=1})()}catch(t){this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)}static \u0275fac=function(a){return new(a||r)(e.Y36(f.sK),e.Y36(U.t4),e.Y36(_.v),e.Y36(D.z),e.Y36(O.F0),e.Y36(O.gz),e.Y36(N.f),e.Y36(h.yF),e.Y36(h.IN),e.Y36(J.m),e.Y36(I.G),e.Y36(A),e.Y36(R.l),e.Y36(E.s),e.Y36(P.Y),e.Y36(B.v),e.Y36("apiEndPoint"))};static \u0275cmp=e.Xpm({type:r,selectors:[["app-mytrip"]],viewQuery:function(a,i){if(1&a&&(e.Gf(k,5),e.Gf(Y,5)),2&a){let n;e.iGM(n=e.CRH())&&(i.tripNameInput=n.first),e.iGM(n=e.CRH())&&(i.datatableComponent=n.first)}},outputs:{searchValueChange:"searchValueChange"},features:[e._Bn([I.G,E.s,P.Y]),e.qOj],decls:40,vars:48,consts:[[1,"container-fluid"],[1,"card","bd-0"],[1,"card-body","pdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","isFabDisplay","defaultView","pageTitle","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","headerActionButtons"],[1,""],[1,"justify-content-center"],["size","12",1,"ion-text-center"],["className","btn btn-primary btn-sm","class","mgr-5","id","mytrip-closebutton",3,"label","click",4,"ngIf"],["class","",4,"ngIf"],["id","extraPaddingBottomID"],["id","tagid",1,"card-body","pdt-0",3,"header","actions","totalRecords","paginator","listingVariables","totalPages","data","mobileListData","expand","statsShow","statsSearch","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","showSpinner","selectedSubMenuId","actionClicked","itemClickEvent","changeStats","loadPageData"],["datatableComponent",""],["class","mytrip-fab-button","horizontal","end","vertical","bottom","slot","fixed",4,"ngIf"],["id","tripPlannerRoutesModal","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["role","document",1,"modal-dialog","modal-sm","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"forms-wrapper","mgb-10"],[1,"row","form-bs"],[1,"col-md-12"],["mandatory","true","autoCaseFlag","false","disabled","false","id","mytrip-save-tripname",3,"label","minlength","maxlength","value","valueChange"],["tripNameInput",""],["mandatory","false","disabled","false","id","mytrip-save-tripdescription",3,"label","defaultvalue","valueChange"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","class","mgr-5","id","mytrip-save-submitbutton",3,"label","buttonOnClick",4,"ngIf"],["className","btn btn-primary btn-sm","class","mgr-5","id","mytrip-update-submitbutton",3,"label","buttonOnClick",4,"ngIf"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","mytrip-save-cancelbutton",3,"label","buttonOnClick"],["className","btn btn-primary btn-sm","id","mytrip-closebutton",1,"mgr-5",3,"label","click"],["size","12",1,"ion-text-center","row-gap"],["className","btn btn-primary btn-sm","class","mgr-5","id","enterprise-update",3,"label","buttonOnClick",4,"ngIf"],["className","btn btn-primary btn-sm","class","mgr-5","id","mytrip-locatebutton",3,"label","click",4,"ngIf"],["className","btn btn-primary btn-sm","class","mgr-5","id","enterprise-create-submit",3,"label","buttonOnClick",4,"ngIf"],["className","btn btn-primary btn-sm","class","mgr-5","id","mytrip-clearallbutton",3,"label","click",4,"ngIf"],["class","pdl-10 pdr-10 fs-13 text-center mgb-0 mgt-5","id","mytrip-description",3,"innerHTML",4,"ngIf"],["className","btn btn-primary btn-sm","id","enterprise-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-primary btn-sm","id","mytrip-locatebutton",1,"mgr-5",3,"label","click"],["className","btn btn-primary btn-sm","id","enterprise-create-submit",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-primary btn-sm","id","mytrip-clearallbutton",1,"mgr-5",3,"label","click"],["id","mytrip-description",1,"pdl-10","pdr-10","fs-13","text-center","mgb-0","mgt-5",3,"innerHTML"],["horizontal","end","vertical","bottom","slot","fixed",1,"mytrip-fab-button"],["size","small",3,"click"],[1,"fas","fa-plus"],["className","btn btn-primary btn-sm","id","mytrip-save-submitbutton",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-primary btn-sm","id","mytrip-update-submitbutton",1,"mgr-5",3,"label","buttonOnClick"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"app-pageheader",4),e.NdJ("headerItemClick",function(o){return i.onHeaderItemClick(o)}),e.qZA()(),e.TgZ(5,"div",5)(6,"div",6)(7,"ion-row",7)(8,"ion-col",8),e.YNc(9,x,2,3,"app-button",9),e.qZA()()(),e.YNc(10,X,10,7,"div",10),e.qZA(),e.TgZ(11,"div",11)(12,"app-datatable",12,13),e.NdJ("actionClicked",function(o){return i.onActionClicked(o)})("itemClickEvent",function(o){return i.getRedirectWidgets(o)})("changeStats",function(o){return i.statusData(o)})("loadPageData",function(o){return i.loadPageData(o)}),e.qZA()(),e.YNc(14,ee,3,0,"ion-fab",14),e.qZA()()(),e.TgZ(15,"div",15)(16,"div",16)(17,"div",17)(18,"div",18)(19,"div",19),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",20)(23,"div",21)(24,"div",22)(25,"div",23)(26,"app-input",24,25),e.NdJ("valueChange",function(o){return i.changeTripName(o)}),e.ALo(28,"translate"),e.qZA()(),e.TgZ(29,"div",23)(30,"app-textarea",26),e.NdJ("valueChange",function(o){return i.changeDescription(o)}),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",27),e._uU(33),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"div",28),e.YNc(36,te,2,3,"app-button",29),e.YNc(37,ae,2,3,"app-button",30),e.TgZ(38,"app-button",31),e.NdJ("buttonOnClick",function(){return i.cancelBtn()}),e.ALo(39,"translate"),e.qZA()()()()()()()()),2&a&&(e.xp6(4),e.Q6J("pageName",i.dataJsonObj.pageName)("isFabDisplay",!1)("defaultView",null==i.dataJsonObj.queryParamsObj?null:i.dataJsonObj.queryParamsObj.defaultView)("pageTitle",i.dataJsonObj.pageTitle)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(5),e.Q6J("ngIf",!(null!=i.dataJsonObj&&i.dataJsonObj.isViewScreen)&&i.dataJsonObj.showPredefinedPath),e.xp6(1),e.Q6J("ngIf",0!==i.count),e.xp6(2),e.Q6J("header",i.dataJsonObj.tableColumnHeaders)("actions",null==i.dataJsonObj?null:i.dataJsonObj.actions)("totalRecords",i.listingVariables.totalRecords)("paginator",!0)("listingVariables",i.listingVariables)("totalPages",i.listingVariables.totalpages)("data",i.dataJsonObj.listData)("mobileListData",null==i.dataJsonObj?null:i.dataJsonObj.facilitiesMobileList)("expand",!1)("statsShow",!1)("statsSearch",null==i.dataJsonObj?null:i.dataJsonObj.searchString)("selectedDisplayViewType",null==i.dataJsonObj?null:i.dataJsonObj.selectedDisplayView)("selectedFilterType",i.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",i.dataJsonObj.selectedAdvancedSearchObj)("pageName",i.dataJsonObj.pageName)("selectedMenuId",null==i.dataJsonObj.queryParamsObj?null:i.dataJsonObj.queryParamsObj.selectedMenuId)("showSpinner",i.dataJsonObj.showSpinner)("selectedSubMenuId",null==i.dataJsonObj.queryParamsObj?null:i.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(2),e.Q6J("ngIf",!(null!=i.dataJsonObj&&i.dataJsonObj.isViewScreen)),e.xp6(6),e.Oqu(e.lcZ(21,38,"TRIP_PLANNER.TRIP_NAME")),e.xp6(6),e.s9C("label",e.lcZ(28,40,"TRIP_PLANNER.TRIP_NAME")),e.s9C("value",i.isSaveMode?"":i.dataJsonObj.tripPlanName),e.Q6J("minlength",3)("maxlength",50),e.xp6(4),e.s9C("label",e.lcZ(31,42,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",i.isSaveMode?"":i.dataJsonObj.tripDescription),e.xp6(3),e.hij(" ",e.lcZ(34,44,i.dataJsonObj.error)," "),e.xp6(3),e.Q6J("ngIf",i.isSaveMode),e.xp6(1),e.Q6J("ngIf",!i.isSaveMode),e.xp6(1),e.s9C("label",e.lcZ(39,46,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[C.O5,h.wI,h.IJ,h.W4,h.Nd,w.r,V.a,F.R,M.n,Z.q,f.X$]})}return r})();class se{enterprise;facilities;trip_name;description;device_id}const re=[{path:"tripplanner/list",component:ie,data:{object_type:s.hf.TRIP_PLANNER,title:"trip planner",responsibilityParam:s.bP.MENUS+"."+s.w1.TRIP_PLANNER+"."+s.bP.SUBMENUS+"."+s.w1.TRIP_PLANNER+"."+s.In.ENABLED,pageName:s.hf.TRIP_PLANNER}}];let oe=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({imports:[O.Bz.forChild(re),O.Bz]})}return r})();var ne=l(73078),le=l(65673),de=l(32174),j=l(24006),ce=l(93144),pe=l(3848);let me=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({providers:[N.f,_.v,ne.e,A],imports:[C.ez,de.fx,f.aw,j.u5,h.Pc,j.UX,pe.Nh,ce.U$,oe,f.aw,le.Q]})}return r})()}}]);