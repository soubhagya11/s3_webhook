"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3752],{13752:(it,F,l)=>{l.r(F),l.d(F,{BranchesModule:()=>st});var w=l(36895),b=l(62510),f=l(15861),$=l(75875),r=l(32236),_=l(90313),e=l(94650);let m=(()=>{class o{authService;constructor(a){this.authService=a}getAll(a,n,t,s,i,c,u,g){const p=u||"",h=_.L.isEmpty(g)?"":"&advSearchString="+JSON.stringify(g);return this.authService.getApiCall("api/v1/branches?skip="+a+"&limit="+n+"&type=list&sort="+t+"&search="+s+"&enterprise.enterprise_id="+i+c+h+p)}create(a,n){return new Promise((t,s)=>{const i=new FormData;n&&i.append("branchIcon",n,"branchIcon"),i.append("BranchesData",JSON.stringify(a)),this.authService.postApiCall("api/v1/branches/",i).subscribe(c=>{t(c)},c=>{s(c)})})}get(a,n){let t;return t=n?"api/v1/branches/"+a+"?enterprise.enterprise_id="+localStorage.getItem(r.BU.SELECTED_ENTERPRISE)+n:"api/v1/branches/"+a,this.authService.getApiCall(t,!0)}statusUpdate(a,n){return new Promise((t,s)=>{this.authService.patchApiCall("api/v1/branches/"+n,a).subscribe(i=>{t(i)},i=>{s(i)})})}update(a,n,t){return new Promise((s,i)=>{const c=new FormData;t&&c.append("branchIcon",t,"branchIcon"),c.append("BranchesData",JSON.stringify(a)),this.authService.putApiCall("api/v1/branches/"+n,c).subscribe(u=>{s(u)},u=>{i(u)})})}static \u0275fac=function(n){return new(n||o)(e.LFG($.e))};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var V=l(42863),y=l(47561),x=l(28168),N=l(30578),A=l(42786),v=l(71568),M=l(70057),C=l(54463),I=l(37415),ee=l(88425);const te=["datatableComponent"];let q=(()=>{class o extends y.O{loggerService;branchesService;route;ColumnHeader;actionSheetController;router;translateService;listingVariables;commonService;datatableComponent;actionStatus;actions;branchesMobileList;enterpriseId;fabMobileactions;listdata;mobileroutesArray=[];noDuplicates=void 0;objectType;searchString;tableColumnheaders;pageTitle;dataJsonObj={};constructor(a,n,t,s,i,c,u,g,p){super(t,p),this.loggerService=a,this.branchesService=n,this.route=t,this.ColumnHeader=s,this.actionSheetController=i,this.router=c,this.translateService=u,this.listingVariables=g,this.commonService=p,this.route.queryParams.subscribe(h=>{this.dataJsonObj.queryParamsObj={defaultView:h.defaultView,selectedMenuId:h.selectedMenuId,selectedSubMenuId:h.selectedSubMenuId}}),this.route.params.subscribe(h=>{this.enterpriseId=_.L.isEmpty(h.parentId)?localStorage.getItem(r.BU.SELECTED_ENTERPRISE):h.parentId})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.showSpinner(),this.dataJsonObj.pageName=r.hf.BRANCHES,this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.BRANCHES",value:"",showSubMenuDisplayName:!0}],this.objectType=this.route.snapshot.data.object_type,document.getElementsByTagName("body"),this.tableColumnheaders=this.ColumnHeader.getBranchesColumnHeaders(),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString="",this.dataJsonObj.advancedSearchObj={},this.actions={EDIT:this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.EDIT),VIEW:this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.VIEW),ACTIVATE:this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.ACTIVATE),INACTIVATE:this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.INACTIVATE)},this.dataJsonObj.addFiltersList=[],this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.CREATE)&&(this.route.params.subscribe(n=>{this.enterpriseId=n.parentId}),this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:r.gL.URL,redirectURL:"enterprises/"+this.enterpriseId+"/branches/create",queryParams:"",iconClass:"fas fa-plus"})),this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.FILTERS)}ionViewWillEnter(){}getBranchesListing(){try{const a=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView),n=this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"";this.showSpinner(),this.branchesService.getAll(this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.listingVariables.sortOrderColumn,this.searchString,this.enterpriseId,a,n,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(t=>{if(this.hideSpinner(),t.rows.length>0){this.branchesMobileList&&this.branchesMobileList.length>0||(this.branchesMobileList=[]);for(let s=0;s<t.rows.length;s++){if(t.rows[s].display_grid_title=t.rows[s].branch_name,t.rows[s].imageName=t.rows[s].branch_name,t.rows[s].shortName=t.rows[s].branch_short_name,t.rows[s].branch_short_name='<a class="enable" id="branch_short_name'+t.rows[s]._id+'" href="enterprises/'+t.rows[s]._id+'/branches/view" >'+t.rows[s].branch_short_name,t.rows[s].enterprise.short_name='<a class="enable" id="enterprise.short_name'+t.rows[s]._id+'" href="enterprises/enterprises/'+t.rows[s].enterprise.enterprise_id+'/view" >'+t.rows[s].enterprise.short_name,t.rows[s].address)for(let i=0;i<t.rows[s].address.length;i++)!0===t.rows[s].address[i].primary&&(t.rows[s].address.country=t.rows[s].address[i].country?this.lookupLanguageTranslations(t.rows[s].address[i].country.lookup_id):"",t.rows[s].address.state=t.rows[s].address[i].state.state_name,t.rows[s].address.city=t.rows[s].address[i].city);t.rows[s].imageDisplay=t.rows[s].branch_icon_file_path&&t.rows[s].branch_icon?t.rows[s].branch_icon_file_path+"/"+t.rows[s].branch_icon:null,t.rows[s].isEnabledText=t.rows[s].status?this.lookupLanguageTranslations(t.rows[s].status.lookup_id):"",this.branchesMobileList=this.branchesMobileList.filter(i=>i._id!==t.rows[s]._id),this.branchesMobileList.push(t.rows[s])}t.totalCount&&(this.listingVariables.totalRecords=t.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=t.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.listdata=this.listdata.concat(t.rows)):this.listdata=t.rows}else this.listdata=[],this.branchesMobileList=[]},t=>{this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getBranchesListing",t)})}catch(a){this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getBranchesListing",a)}}getSearchResult(a){try{this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString=a,this.getBranchesListing(),this.datatableComponent.reset()}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getSearchResult",n)}}searchClose(){try{this.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.getBranchesListing(),this.datatableComponent.reset()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"searchClose",a)}}loadPageData(a){this.listingVariables.pageNumbers=a.listingVariables.pageNumbers,a.clearMobileData&&(this.branchesMobileList=this.noDuplicates),a.isPaginationChange&&(this.dataJsonObj.selectedFilter=a.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=a.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=a.selectedAdvancedSearchObj),this.getBranchesListing()}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}createBranch(){try{this.route.params.subscribe(a=>{this.enterpriseId=a.parentId}),this.router.navigate(["enterprises/"+this.enterpriseId+"/branches/create"])}catch(a){this.loggerService.setLoggerError(this.constructor.name,"createBranch",a)}}onActionClicked(a){try{a.action===r.A0.EDIT?(this.router.navigate(["/enterprises/"+a.data._id+"/branches/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")):a.action===r.A0.VIEW?this.commonService.redirectToUrl(["enterprises",a.data._id,"branches","view"],!0,!1,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route):(a.action===r.A0.ACTIVATE||a.action===r.A0.INACTIVATE)&&(this.router.navigate(["/enterprises/"+a.data._id+"/branches/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches"))}catch(n){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",n)}}mobileEventAction(a){try{this.mobileroutesArray=[],this.objectType===r.hf.ENTERPRISES&&this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.ACTIVATE)?(a.status.lookup_name===r.oP.INACTIVE&&this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.ACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ACTIVATE"),handler:()=>{this.router.navigate(["enterprises/"+a._id+"/branches/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}}),this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.EDIT)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["enterprises/"+a._id+"/branches/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}}),a.status.lookup_name===r.oP.ACTIVE&&this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.INACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_INACTIVATE"),handler:()=>{this.router.navigate(["enterprises/"+a._id+"/branches/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}}),this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.VIEW)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{this.commonService.redirectToUrl(["..",a._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}})):(this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.ACTIVATE)&&a.status.lookup_name===r.oP.INACTIVE&&this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.INACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ACTIVATE"),handler:()=>{this.router.navigate(["enterprises/"+a._id+"/branches/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}}),this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.EDIT)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/enterprises/"+a._id+"/branches/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}}),a.status.lookup_name===r.oP.ACTIVE&&this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.INACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_INACTIVATE"),handler:()=>{this.router.navigate(["enterprises/"+a._id+"/branches/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}}),this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.VIEW)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{this.commonService.redirectToUrl(["..",a._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}})),this.presentActionSheet(a)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"presentActionSheet",n)}}presentActionSheet(a){var n=this;return(0,f.Z)(function*(){try{yield(yield n.actionSheetController.create({cssClass:"actionsheet",buttons:n.mobileroutesArray})).present()}catch(t){n.loggerService.setLoggerError(n.constructor.name,"mobileEventAction",t)}})()}getRedirectWidgets(a){try{this.objectType===r.hf.ENTERPRISES&&this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.VIEW)?(this.router.navigate(["enterprises/"+a._id+"/branches/enterprise-view"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")):this.commonService.redirectToUrl(["..",a._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getRedirectWidgets",n)}}selectedViewType(a){this.dataJsonObj.selectedDisplayView=a}selectedFilterType(a){a||(this.dataJsonObj.selectedFilter="")}onPageLevelActionClicked(a){}advancedSearchFilterClicked(a){this.dataJsonObj.selectedAdvancedSearchObj=a}onHeaderItemClick(a){switch(a.type){case"search":this.getSearchResult(a.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(a.event);break;case"filters":this.selectedFilterType(a.event);break;case"advanced_search":this.advancedSearchFilterClicked(a.event);break;case"page_actions":this.onPageLevelActionClicked(a.event)}}static \u0275fac=function(n){return new(n||o)(e.Y36(A.m),e.Y36(m),e.Y36(b.gz),e.Y36(V.Y),e.Y36(M.BX),e.Y36(b.F0),e.Y36(C.sK),e.Y36(N.v),e.Y36(v.v))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-branches-list"]],viewQuery:function(n,t){if(1&n&&e.Gf(te,5),2&n){let s;e.iGM(s=e.CRH())&&(t.datatableComponent=s.first)}},features:[e._Bn([V.Y,N.v,m]),e.qOj],decls:9,vars:27,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],["id","tagid",3,"header","actions","totalPages","totalRecords","paginator","data","mobileListData","expand","listingVariables","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","showSpinner","pageName","selectedMenuId","selectedSubMenuId","actionClicked","itemClickEvent","redirectionEvent","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(i){return t.onHeaderItemClick(i)}),e.qZA()(),e.TgZ(4,"div",4)(5,"app-datatable",5,6),e.NdJ("actionClicked",function(i){return t.onActionClicked(i)})("itemClickEvent",function(i){return t.getRedirectWidgets(i)})("redirectionEvent",function(i){return t.mobileEventAction(i)})("loadPageData",function(i){return t.loadPageData(i)}),e.qZA(),e.TgZ(7,"div",7)(8,"app-page-actions",8),e.NdJ("selectedAction",function(i){return t.onPageLevelActionClicked(i)}),e.qZA()()()()()),2&n&&(e.xp6(3),e.Q6J("pageName",t.dataJsonObj.pageName)("defaultView",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",t.dataJsonObj.pageActionsList)("pageTitle",t.dataJsonObj.pageTitle)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(2),e.Q6J("header",t.tableColumnheaders)("actions",t.actions)("totalPages",t.listingVariables.totalpages)("totalRecords",t.listingVariables.totalRecords)("paginator",!0)("data",t.listdata)("mobileListData",t.branchesMobileList)("expand",!1)("listingVariables",t.listingVariables)("selectedDisplayViewType",t.dataJsonObj.selectedDisplayView)("selectedFilterType",t.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",t.dataJsonObj.selectedAdvancedSearchObj)("showSpinner",t.dataJsonObj.showSpinner)("pageName",t.dataJsonObj.pageName)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",t.dataJsonObj.pageActionsList))},dependencies:[x.n,I.q,ee.y]})}return o})();var O=l(57936),G=l(72244),B=l(46448),D=l(27601),Z=l(2387),R=l(56368),J=l(9851),j=l(24929),U=l(92634),P=l(68653),Q=l(42919),S=l(32174),k=l(10805);const ae=["addEmailInput"],ne=["addressline1Input"],se=["branchNamevalid"],re=["cityInput"],ie=["contactsphonecountrycodeDropDown"],oe=["countryInput"],le=["descriptionvalid"],ce=["emailInputValid"],he=["contactTypeInput"],ue=["firstnameInput"],de=["lastnameInput"],pe=["mobileInput"],be=["phoneExt"],ge=["phoneInput"],me=["phonecountrycodeDropDown"],Ce=["preferencesComponent"],_e=["shortNameInput"],ve=["stateInput"],Se=["zipInput"];let Oe=(()=>{class o extends y.O{branchesService;commonservice;navigationService;enterprisesService;loggerService;router;translateService;uiUtils;route;addEmailInput;addressline1Input;branchNamevalid;cityInput;contactsphonecountrycodeDropDown;countryInput;descriptionvalid;emailInputValid;contactTypeInput;firstnameInput;lastnameInput;mobileInput;phoneExt;phoneInput;phonecountrycodeDropDown;preferencesComponent;shortNameInput;stateInput;zipInput;addressCountrycodeOptions;addressLine1;addressLine2;branchName;branchShortName;branchSubTypeName;branchSubTypeObj;branchSubTypeOptions;branchSubTypedisplayname;branchTypeOptions;city;contactCountryCodeOptions;contactEmail;contactTypeDisplayname;contactTypeName;contactTypeObj;contactTypeOptions;countryCodeObj;countryId;countryObj;countryOptions;data;defaultBranchSubType;defaultBranchType;defaultBranchTypeDisplayname;defaultBranchTypeName;defaultBranchTypeObj;defaultContactType;defaultCountryCode;defaultCountryCodeObj;defaultCountryId;defaultCountryName;defaultEmail;defaultEnterprise;defaultStateId;defaultStateName;defaultStatus;description;disableSubmitBtn=!1;email;enterpriseId;enterpriseName;enterpriseShortName;error2;error;firstName;imageError;imgFile;label;lastName;mobile;object_type;pageTitle;phoneNumber;phoneNumberExtension;preferObject;stateObj;stateOptions;statusOptions;statusdisplayname;statusname;statusobj;zipcode;enterpriseData;headerAction;phoneCountryCode;dataJsonObj={};constructor(a,n,t,s,i,c,u,g,p){super(p,n),this.branchesService=a,this.commonservice=n,this.navigationService=t,this.enterprisesService=s,this.loggerService=i,this.router=c,this.translateService=u,this.uiUtils=g,this.route=p,this.route.params.subscribe(h=>{this.enterpriseId=h.parentId})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.BRANCHES,this.headerAction={BACK:!0},this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.BRANCHES",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.object_type=this.route.snapshot.data.object_type,document.getElementsByTagName("body"),this.getEnterprisesViewData(),this.dataJsonObj.enterpriseObj=localStorage.getItem(r.BU.SELECTED_ENTERPRISE_OBJ),this.dataJsonObj.parentEnterpriseId=this.dataJsonObj.enterpriseObj.parent_enterprise_id?this.dataJsonObj.enterpriseObj.parent_enterprise_id:localStorage.getItem(r.BU.LOG_IN_ENTERPRISE_ID),this.commonService.getLookupCodesListJson(this.dataJsonObj.parentEnterpriseId,"list").then(n=>{this.dataJsonObj.lookupCodesListJSON=n,this.getBranchType(""),this.getBranchSubType(""),this.getStatusOptions(""),this.getContactTypeOptions(),this.getCountriesList(""),this.getphoneCountryCode(""),this.getCountryCodeOpt("")})}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.enterpriseId).subscribe(a=>{if(this.enterpriseData=a,this.enterpriseData.enterprise_id=a._id,this.enterpriseName=a.enterprise_name,this.defaultEnterprise=a._id,this.preferObject=a.preferences,this.enterpriseShortName=a.short_name,a.address)for(let n=0;n<a.address.length;n++)if(!0===a.address[n].primary){this.data=a.address[n],this.addressLine1=this.data.address_line1,this.addressLine2=this.data.address_line2,this.city=this.data.city,this.countryObj=this.data.country,this.defaultCountryCode=this.data.phone_country_code?this.lookupLanguageTranslations(this.data.phone_country_code.lookup_id):"",this.defaultCountryCodeObj=this.data.phone_country_code,this.defaultCountryName=this.data.country?this.lookupLanguageTranslations(this.data.country.lookup_id):"",this.defaultEmail=this.data.email,this.defaultStateId=this.data.state.state_id,this.defaultStateName=this.data.state.state_name,this.label=this.data.address_label,this.mobile=this.data.phone,this.zipcode=this.data.ZIP;break}a.contact_details&&(this.defaultContactType=a.contact_details.contact_type.lookup_id,this.firstName=a.contact_details.fname,this.lastName=a.contact_details.lname,this.contactEmail=a.contact_details.email,this.phoneCountryCode=a.contact_details.phone_country_code?this.lookupLanguageTranslations(a.contact_details.phone_country_code.lookup_id):"",this.countryCodeObj=a.contact_details.phone_country_code,this.phoneNumber=a.contact_details.phone,this.phoneNumberExtension=a.contact_details.phone_extn)},a=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",a)}}getphoneCountryCode(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRY_CODES],a).then(n=>{this.addressCountrycodeOptions=n},n=>{this.loggerService.setLoggerError(this.constructor.name,"getphoneCountryCode",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getphoneCountryCode",n)}}getStateOptions(a){try{this.commonservice.getStatesList(this.countryId,a,this.enterpriseId).then(n=>{this.stateOptions=n.rows},n=>{this.loggerService.setLoggerError(this.constructor.name,"getStateOptions",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getStateOptions",n)}}getBranchType(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.BRANCH_TYPES],"").then(n=>{this.branchTypeOptions=n,this.defaultBranchType=n[0].ID,this.defaultBranchTypeName=n[0].lookup_name,this.defaultBranchTypeDisplayname=this.lookupLanguageTranslations(n[0].lookup_id)},n=>{this.loggerService.setLoggerError(this.constructor.name,"getBranchType",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getBranchType",n)}}getBranchSubType(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.BRANCH_SUB_TYPES],"").then(n=>{this.branchSubTypeOptions=n,this.defaultBranchSubType=n[0].ID,this.branchSubTypeName=n[0].lookup_name,this.branchSubTypedisplayname=this.lookupLanguageTranslations(n[0].lookup_id)},n=>{this.loggerService.setLoggerError(this.constructor.name,"getBranchSubType",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getBranchSubType",n)}}getStatusOptions(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.BRANCH_STATUSES],a).then(n=>{this.statusOptions=n,this.defaultStatus=n[0].ID,this.statusname=n[0].lookup_name,this.statusdisplayname=this.lookupLanguageTranslations(n[0].lookup_id)},n=>{this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",n)}}getContactTypeOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CONTACT_TYPES],"").then(a=>{this.contactTypeOptions=a,this.contactTypeObj=this.contactTypeOptions.find(n=>"OTHER"===n.lookup_name),this.defaultContactType=this.contactTypeObj.ID},a=>{this.loggerService.setLoggerError(this.constructor.name,"getContactTypeOptions",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getContactTypeOptions",a)}}getCountryCodeOpt(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRY_CODES],a).then(n=>{this.contactCountryCodeOptions=n},n=>{this.loggerService.setLoggerError(this.constructor.name,"getCountryCodeOpt",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getCountryCodeOpt",n)}}getCountriesList(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRIES],a).then(n=>{this.countryOptions=n},n=>{this.loggerService.setLoggerError(this.constructor.name,"getCountriesList",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getCountriesList",n)}}changeProfileImage(a){try{""===a.error?(this.imageError="",this.imgFile=a.value):this.imageError=a.error}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeProfileImage",n)}}changeBranchShortName(a){try{this.error="",this.disableSubmitBtn=!1,this.branchShortName=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeBranchShortName",n)}}changeBranchName(a){try{this.error="",this.error2="",this.disableSubmitBtn=!1,this.branchName=a.value,this.description=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeBranchName",n)}}changeDiscriptionName(a){try{this.description=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeDiscriptionName",n)}}changeBranchSubType(a){try{this.defaultBranchSubType=a.value,this.branchSubTypeObj=this.branchSubTypeOptions.find(n=>n.ID===parseInt(this.defaultBranchSubType,10)),this.branchSubTypeName=this.branchSubTypeObj.lookup_name,this.branchSubTypedisplayname=this.lookupLanguageTranslations(this.branchSubTypeObj.lookup_id)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeBranchSubType",n)}}changeBranchType(a){try{a.value&&(this.defaultBranchType=a.value,this.defaultBranchTypeObj=this.branchTypeOptions.find(n=>n.ID===parseInt(this.defaultBranchType,10)),this.defaultBranchTypeName=this.defaultBranchTypeObj.lookup_name,this.defaultBranchTypeDisplayname=this.lookupLanguageTranslations(this.defaultBranchTypeObj.lookup_id))}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeBranchType",n)}}changeStatus(a){try{this.defaultStatus=a.value,this.statusobj=this.statusOptions.find(n=>n.ID===parseInt(this.defaultStatus,10)),this.statusname=this.statusobj.lookup_name,this.statusdisplayname=this.lookupLanguageTranslations(this.statusobj.lookup_id)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeStatus",n)}}changeContactType(a){try{a.value&&(this.defaultContactType=a.value,this.contactTypeObj=this.contactTypeOptions.find(n=>n.ID===parseInt(this.defaultContactType,10)))}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeContactType",n)}}changeFirstName(a){try{this.firstName=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeFirstName",n)}}changeLastName(a){try{this.lastName=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeLastName",n)}}changeContactEmail(a){try{this.contactEmail=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeContactEmail",n)}}changeContactCountryCode(a){try{a.ID&&(this.dataJsonObj.countryCode=a.NAME,this.countryCodeObj=a)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeContactCountryCode",n)}}changePhoneNo(a){try{this.phoneNumber=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changePhoneNo",n)}}changeExternalPhoneNo(a){try{this.phoneNumberExtension=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeExternalPhoneNo",n)}}changeAddressLine1(a){try{this.addressLine1=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAddressLine1",n)}}changeAddressLine2(a){try{this.addressLine2=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAddressLine2",n)}}changeLabel(a){try{this.label=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeLabel",n)}}changeCity(a){try{this.city=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeCity",n)}}changeZipcode(a){try{this.zipcode=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeZipcode",n)}}changeMobile(a){try{this.mobile=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeMobile",n)}}changeEmail(a){try{this.defaultEmail=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeEmail",n)}}changeCountry(a){try{a.NAME?(this.defaultCountryId=a.ID,this.countryObj=a,this.defaultCountryId=a.ID,this.defaultCountryName=this.countryObj.NAME,this.countryId=this.defaultCountryId,this.stateObj="",this.defaultStateId="",this.defaultStateName="",this.getStateOptions("")):(this.defaultCountryName="",this.defaultCountryId="")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeCountry",n)}}changeCountryCode(a){try{a.NAME&&(this.defaultCountryCode=a.NAME,this.defaultCountryCodeObj=a)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeCountryCode",n)}}changeState(a){try{a.NAME?(this.defaultStateId=a.ID,this.stateObj=this.stateOptions.find(n=>n.ID===parseInt(this.defaultStateId,10)),this.defaultStateName=this.stateObj.NAME):(this.defaultStateName="",this.defaultStateId="")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeState",n)}}createRecord(){try{if(this.branchName&&this.branchName.length<3)this.error2=this.translateService.instant("COMMON_PAGE_TITLES.BRANCH")+" "+this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_MINIMUM_THREE_CHARACTERS");else if(this.branchNamevalid.isValid()&&this.shortNameInput.isValid()&&this.descriptionvalid.isValid()&&_.L.isEmpty(this.error)&&_.L.isEmpty(this.imageError)&&this.addressline1Input.isValid()&&this.countryInput.isValid()&&this.stateInput.isValid()&&this.cityInput.isValid()&&this.zipInput.isValid()&&this.addEmailInput.isValid()&&this.phonecountrycodeDropDown.isValid()&&this.mobileInput.isValid()&&this.contactTypeInput.isValid()&&this.firstnameInput.isValid()&&this.lastnameInput.isValid()&&this.emailInputValid.isValid()&&this.contactsphonecountrycodeDropDown.isValid()&&this.phoneInput.isValid()&&_.L.isEmpty(this.error2)&&this.preferencesComponent.isValidPreferences()){this.disableSubmitBtn=!0;const a=this.preferencesComponent.preferenceObj(),n={enterprise:{enterprise_id:this.defaultEnterprise,enterprise_name:this.enterpriseName,short_name:this.enterpriseShortName},branch_type:{lookup_id:this.defaultBranchType,lookup_name:this.defaultBranchTypeName},branch_subtype:{lookup_id:this.defaultBranchSubType,lookup_name:this.branchSubTypeName},status:{lookup_id:this.defaultStatus,lookup_name:this.statusname},preferences:a,branch_name:this.branchName,branch_short_name:this.branchShortName,description:this.description,address:{address_label:this.label,address_line1:this.addressLine1,address_line2:this.addressLine2,city:this.city,state:{state_id:this.defaultStateId,state_name:this.defaultStateName},ZIP:this.zipcode,country:{lookup_id:this.countryObj.lookup_id,lookup_name:this.countryObj.lookup_name},geo_coordinates:"",email:this.defaultEmail,phone_country_code:{lookup_id:this.defaultCountryCodeObj.lookup_id,lookup_name:this.defaultCountryCodeObj.lookup_name},phone:this.mobile},contact_details:{fname:this.firstName,lname:this.lastName,contact_type:this.contactTypeObj,email:this.contactEmail,phone_country_code:this.countryCodeObj,phone:this.phoneNumber,phone_extn:this.phoneNumberExtension}};this.imgFile=this.imgFile?this.commonService.dataURItoImgBlob(this.imgFile,"image/jpeg"):"",this.branchesService.create(n,this.imgFile).then(t=>{this.disableSubmitBtn=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),this.commonService.redirectToPreviousUrl()},t=>{this.commonErrorCodes(JSON.parse(t))})}}catch(a){this.loggerService.setLoggerError(this.constructor.name,"createRecord",a)}}commonErrorCodes(a){409===JSON.parse(a[r.BU.STATUS])&&(this.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"cancel",a)}}pageheadeActionClick(a){"BACK"==a.value&&this.cancel()}static \u0275fac=function(n){return new(n||o)(e.Y36(m),e.Y36(v.v),e.Y36(B.f),e.Y36(O.e),e.Y36(A.m),e.Y36(b.F0),e.Y36(C.sK),e.Y36(D.s),e.Y36(b.gz))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-branches-create"]],viewQuery:function(n,t){if(1&n&&(e.Gf(ae,5),e.Gf(ne,5),e.Gf(se,5),e.Gf(re,5),e.Gf(ie,5),e.Gf(oe,5),e.Gf(le,5),e.Gf(ce,5),e.Gf(he,5),e.Gf(ue,5),e.Gf(de,5),e.Gf(pe,5),e.Gf(be,5),e.Gf(ge,5),e.Gf(me,5),e.Gf(Ce,5),e.Gf(_e,5),e.Gf(ve,5),e.Gf(Se,5)),2&n){let s;e.iGM(s=e.CRH())&&(t.addEmailInput=s.first),e.iGM(s=e.CRH())&&(t.addressline1Input=s.first),e.iGM(s=e.CRH())&&(t.branchNamevalid=s.first),e.iGM(s=e.CRH())&&(t.cityInput=s.first),e.iGM(s=e.CRH())&&(t.contactsphonecountrycodeDropDown=s.first),e.iGM(s=e.CRH())&&(t.countryInput=s.first),e.iGM(s=e.CRH())&&(t.descriptionvalid=s.first),e.iGM(s=e.CRH())&&(t.emailInputValid=s.first),e.iGM(s=e.CRH())&&(t.contactTypeInput=s.first),e.iGM(s=e.CRH())&&(t.firstnameInput=s.first),e.iGM(s=e.CRH())&&(t.lastnameInput=s.first),e.iGM(s=e.CRH())&&(t.mobileInput=s.first),e.iGM(s=e.CRH())&&(t.phoneExt=s.first),e.iGM(s=e.CRH())&&(t.phoneInput=s.first),e.iGM(s=e.CRH())&&(t.phonecountrycodeDropDown=s.first),e.iGM(s=e.CRH())&&(t.preferencesComponent=s.first),e.iGM(s=e.CRH())&&(t.shortNameInput=s.first),e.iGM(s=e.CRH())&&(t.stateInput=s.first),e.iGM(s=e.CRH())&&(t.zipInput=s.first)}},features:[e._Bn([O.e,v.v,m]),e.qOj],decls:141,vars:150,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-4"],["disabled","true","id","branches-create-enterprisename",3,"label","value"],["autoCaseFlag","false","mandatory","true","id","branches-create-branchname","disabled","false",3,"minlength","maxlength","label","value","valueChange"],["branchNamevalid",""],[1,"error-msg","col-md-10","text-danger","text-center","mb-0"],["autoCaseFlag","false","mandatory","true","id","branches-create-branchshortname","disabled","false",3,"maxlength","label","value","valueChange"],["shortNameInput",""],["mandatory","true","id","branches-create-branchtype",3,"label","options","defaultValue","valueChange"],["enterpriseTypeDropDown",""],["mandatory","true","id","branches-create-branchsubtype",3,"label","options","defaultValue","valueChange"],["mandatory","true","id","branches-create-status",3,"label","options","maxlength","defaultValue","valueChange"],["statusDropDown",""],[1,"col-lg-1","col-md-2","pdl-0","order-md-1"],["type","file","btnHide","true","action","create",1,"edit-pic",3,"valueChange"],[1,"col-md-12","order-md-1","order-2"],["mandatory","true","disabled","false","id","branches-create-description",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalid",""],[1,"col-md-12","text-end","mt-2","mb-2","btns-group","order-md-1","order-2"],["className","btn btn-primary btn-sm","id","enterprise-create-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","enterprise-create-cancel",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"card"],[1,"card-content"],[3,"multiple"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","false","id","branches-create-label",3,"label","value","valueChange"],["id","branches-create-addressline1","mandatory","true","disabled","false",3,"label","value","valueChange"],["addressline1Input",""],["disabled","false","id","branches-create-addressline2",3,"label","value","valueChange"],["mandatory","true","id","branches-create-country",3,"label","options","defaultValue","selectedOption","searchValueChange"],["countryInput",""],["mandatory","true","id","branches-create-state",3,"label","options","defaultValue","selectedOption","searchValueChange"],["stateInput",""],["mandatory","true","id","branches-create-city","disabled","false",3,"label","value","valueChange"],["cityInput",""],["mandatory","true","id","branches-create-zip","disabled","false","autoCaseFlag","false",3,"label","value","maxlength","valueChange"],["zipInput",""],["type","email","id","branches-create-email","mandatory","true","disabled","false",3,"label","value","maxlength","valueChange"],["addEmailInput",""],["mandatory","true","id","branches-create-phonecountrycode",3,"label","options","defaultValue","selectedOption","searchValueChange"],["phonecountrycodeDropDown",""],["type","mobile","mandatory","true","disabled","false","d","branches-create-mobile",3,"label","maxlength","value","valueChange"],["mobileInput",""],["mandatory","true","id","branches-create-contactType",3,"label","options","defaultValue","valueChange"],["contactTypeInput",""],["mandatory","true","id","branches-create-firstname","disabled","false",3,"label","value","maxlength","valueChange"],["firstnameInput",""],["mandatory","true","id","branches-create-lastname","disabled","false",3,"label","value","maxlength","valueChange"],["lastnameInput",""],["mandatory","true","id","branches-create-email","disabled","false","type","email",3,"label","value","maxlength","valueChange"],["emailInputValid",""],["contactsphonecountrycodeDropDown",""],["mandatory","true","disabled","false","id","branches-create-phonenumber",3,"label","value","minlength","maxlength","valueChange"],["phoneInput",""],["disabled","false","mandatory","false","id","branches-create-phonenumberext",3,"label","value","maxlength","valueChange"],["phoneExt",""],["id","createpreferencesId1",3,"enterpriseValue","selected"],[3,"defaultValue"],["preferencesComponent",""]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",11)(15,"app-input",13,14),e.NdJ("valueChange",function(i){return t.changeBranchName(i)}),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",15),e._uU(19),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",11)(22,"app-input",16,17),e.NdJ("valueChange",function(i){return t.changeBranchShortName(i)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",11)(26,"app-dropdown-singleselect",18,19),e.NdJ("valueChange",function(i){return t.changeBranchType(i)}),e.ALo(28,"translate"),e.qZA()(),e.TgZ(29,"div",11)(30,"app-dropdown-singleselect",20,19),e.NdJ("valueChange",function(i){return t.changeBranchSubType(i)}),e.ALo(32,"translate"),e.qZA()(),e.TgZ(33,"div",11)(34,"app-dropdown-singleselect",21,22),e.NdJ("valueChange",function(i){return t.changeStatus(i)}),e.ALo(36,"translate"),e.qZA()()()(),e.TgZ(37,"div",23)(38,"app-imageupload",24),e.NdJ("valueChange",function(i){return t.changeProfileImage(i)}),e.qZA()(),e.TgZ(39,"div",25)(40,"app-textarea",26,27),e.NdJ("valueChange",function(i){return t.changeDiscriptionName(i)}),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",28)(44,"app-button",29),e.NdJ("buttonOnClick",function(){return t.createRecord()}),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"app-button",30),e.NdJ("buttonOnClick",function(){return t.cancel()}),e.ALo(47,"translate"),e.qZA()(),e.TgZ(48,"div",31),e._uU(49),e.ALo(50,"translate"),e.qZA()(),e.TgZ(51,"div",10)(52,"div",3)(53,"div",32)(54,"div",33)(55,"p-accordion",34)(56,"p-accordionTab",35)(57,"p-header",36)(58,"span"),e._uU(59),e.ALo(60,"translate"),e.qZA()(),e.TgZ(61,"div",8)(62,"div",11)(63,"app-input",37),e.NdJ("valueChange",function(i){return t.changeLabel(i)}),e.ALo(64,"translate"),e.qZA()(),e.TgZ(65,"div",11)(66,"app-input",38,39),e.NdJ("valueChange",function(i){return t.changeAddressLine1(i)}),e.ALo(68,"translate"),e.qZA()(),e.TgZ(69,"div",11)(70,"app-input",40),e.NdJ("valueChange",function(i){return t.changeAddressLine2(i)}),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"div",11)(73,"app-dropdown-search",41,42),e.NdJ("selectedOption",function(i){return t.changeCountry(i)})("searchValueChange",function(i){return t.getCountriesList(i)}),e.ALo(75,"translate"),e.qZA()(),e.TgZ(76,"div",11)(77,"app-dropdown-search",43,44),e.NdJ("selectedOption",function(i){return t.changeState(i)})("searchValueChange",function(i){return t.getStateOptions(i)}),e.ALo(79,"translate"),e.qZA()(),e.TgZ(80,"div",11)(81,"app-input",45,46),e.NdJ("valueChange",function(i){return t.changeCity(i)}),e.ALo(83,"translate"),e.qZA()(),e.TgZ(84,"div",11)(85,"app-input",47,48),e.NdJ("valueChange",function(i){return t.changeZipcode(i)}),e.ALo(87,"translate"),e.qZA()(),e.TgZ(88,"div",11)(89,"app-input",49,50),e.NdJ("valueChange",function(i){return t.changeEmail(i)}),e.ALo(91,"translate"),e.qZA()(),e.TgZ(92,"div",11)(93,"app-dropdown-search",51,52),e.NdJ("selectedOption",function(i){return t.changeCountryCode(i)})("searchValueChange",function(i){return t.getphoneCountryCode(i)}),e.ALo(95,"translate"),e.qZA()(),e.TgZ(96,"div",11)(97,"app-inputnumber",53,54),e.NdJ("valueChange",function(i){return t.changeMobile(i)}),e.ALo(99,"translate"),e.qZA()()()(),e.TgZ(100,"p-accordionTab",35)(101,"p-header",36)(102,"span"),e._uU(103),e.ALo(104,"translate"),e.qZA()(),e.TgZ(105,"div",8)(106,"div",11)(107,"app-dropdown-singleselect",55,56),e.NdJ("valueChange",function(i){return t.changeContactType(i)}),e.ALo(109,"translate"),e.qZA()(),e.TgZ(110,"div",11)(111,"app-input",57,58),e.NdJ("valueChange",function(i){return t.changeFirstName(i)}),e.ALo(113,"translate"),e.qZA()(),e.TgZ(114,"div",11)(115,"app-input",59,60),e.NdJ("valueChange",function(i){return t.changeLastName(i)}),e.ALo(117,"translate"),e.qZA()(),e.TgZ(118,"div",11)(119,"app-input",61,62),e.NdJ("valueChange",function(i){return t.changeContactEmail(i)}),e.ALo(121,"translate"),e.qZA()(),e.TgZ(122,"div",11)(123,"app-dropdown-search",51,63),e.NdJ("selectedOption",function(i){return t.changeContactCountryCode(i)})("searchValueChange",function(i){return t.getCountryCodeOpt(i)}),e.ALo(125,"translate"),e.qZA()(),e.TgZ(126,"div",11)(127,"app-inputnumber",64,65),e.NdJ("valueChange",function(i){return t.changePhoneNo(i)}),e.ALo(129,"translate"),e.qZA()(),e.TgZ(130,"div",11)(131,"app-inputnumber",66,67),e.NdJ("valueChange",function(i){return t.changeExternalPhoneNo(i)}),e.ALo(133,"translate"),e.qZA()()()(),e.TgZ(134,"p-accordionTab",68)(135,"p-header",36)(136,"span"),e._uU(137),e.ALo(138,"translate"),e.qZA()(),e._UZ(139,"app-preferences",69,70),e.qZA()()()()()()()()()()()()),2&n&&(e.xp6(6),e.Q6J("pageName",t.dataJsonObj.pageName)("pageTitle",t.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(6),e.s9C("label",e.lcZ(13,88,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",t.enterpriseShortName),e.xp6(3),e.s9C("label",e.lcZ(17,90,"COMMON_PAGE_TITLES.BRANCH")),e.s9C("value",t.branchName),e.Q6J("minlength",3)("maxlength",120),e.xp6(4),e.hij(" ",e.lcZ(20,92,t.error2)," "),e.xp6(3),e.s9C("label",e.lcZ(24,94,"BRANCHES.BRANCH_SHORT_NAME")),e.s9C("value",t.branchShortName),e.Q6J("maxlength",15),e.xp6(4),e.s9C("label",e.lcZ(28,96,"BRANCHES.BRANCH_TYPE")),e.s9C("defaultValue",t.defaultBranchType),e.Q6J("options",t.branchTypeOptions),e.xp6(4),e.s9C("label",e.lcZ(32,98,"BRANCHES.BRANCH_SUBTYPE")),e.s9C("defaultValue",t.defaultBranchSubType),e.Q6J("options",t.branchSubTypeOptions),e.xp6(4),e.s9C("label",e.lcZ(36,100,"COMMON_FIELDS.STATUS")),e.s9C("defaultValue",t.defaultStatus),e.Q6J("options",t.statusOptions)("maxlength",40),e.xp6(6),e.s9C("label",e.lcZ(42,102,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",t.description),e.Q6J("maxlength",2e3),e.xp6(4),e.s9C("label",e.lcZ(45,104,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.s9C("disabled",t.disableSubmitBtn),e.xp6(2),e.s9C("label",e.lcZ(47,106,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(50,108,t.error)," "),e.xp6(6),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(60,110,"COMMON_BLOCK_TITLES.ADDRESS_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(64,112,"ENTERPRISES.LABEL")),e.s9C("value",t.label),e.xp6(3),e.s9C("label",e.lcZ(68,114,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE1")),e.s9C("value",t.addressLine1),e.xp6(4),e.s9C("label",e.lcZ(71,116,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE2")),e.s9C("value",t.addressLine2),e.xp6(3),e.s9C("label",e.lcZ(75,118,"COMMON_ADDRESS_BLOCK.COUNTRY")),e.s9C("defaultValue",t.defaultCountryName),e.Q6J("options",t.countryOptions),e.xp6(4),e.s9C("label",e.lcZ(79,120,"COMMON_ADDRESS_BLOCK.STATE")),e.s9C("defaultValue",t.defaultStateName),e.Q6J("options",t.stateOptions),e.xp6(4),e.s9C("label",e.lcZ(83,122,"COMMON_ADDRESS_BLOCK.CITY")),e.s9C("value",t.city),e.xp6(4),e.s9C("label",e.lcZ(87,124,"COMMON_ADDRESS_BLOCK.ZIP_CODE")),e.s9C("value",t.zipcode),e.Q6J("maxlength",6),e.xp6(4),e.s9C("label",e.lcZ(91,126,"COMMON_FIELDS.EMAIL")),e.s9C("value",t.defaultEmail),e.Q6J("maxlength",60),e.xp6(4),e.s9C("label",e.lcZ(95,128,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("defaultValue",t.defaultCountryCode),e.Q6J("options",t.addressCountrycodeOptions),e.xp6(4),e.s9C("label",e.lcZ(99,130,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",t.mobile),e.Q6J("maxlength",10),e.xp6(3),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(104,132,"COMMON_BLOCK_TITLES.CONTACT_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(109,134,"COMMON_ADDRESS_BLOCK.CONTACT_TYPE")),e.s9C("defaultValue",t.defaultContactType),e.Q6J("options",t.contactTypeOptions),e.xp6(4),e.s9C("label",e.lcZ(113,136,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",t.firstName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(117,138,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",t.lastName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(121,140,"COMMON_FIELDS.EMAIL")),e.s9C("value",t.contactEmail),e.Q6J("maxlength",60),e.xp6(4),e.s9C("label",e.lcZ(125,142,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("defaultValue",t.dataJsonObj.countryCode),e.Q6J("options",t.contactCountryCodeOptions),e.xp6(4),e.s9C("label",e.lcZ(129,144,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",t.phoneNumber),e.Q6J("minlength",10)("maxlength",10),e.xp6(4),e.s9C("label",e.lcZ(133,146,"COMMON_FIELDS.EXTENSION")),e.s9C("value",t.phoneNumberExtension),e.Q6J("maxlength",4),e.xp6(3),e.Q6J("enterpriseValue",t.enterpriseData)("selected",!0),e.xp6(3),e.Oqu(e.lcZ(138,148,"COMMON_BLOCK_TITLES.PREFERENCES")),e.xp6(2),e.Q6J("defaultValue",t.preferObject))},dependencies:[Z.r,R.a,J.k,j.R,U.K,P.f,Q.C,G.h,I.q,S.UQ,S.US,k.h4,C.X$]})}return o})();var Y=l(65597),K=l(11735);const Te=["addEmailInput"],Ee=["addressline1Input"],fe=["cityInput"],ye=["contactTypeValid"],Ne=["contactsphonecountrycodeDropDown"],Ae=["countryInput"],Ie=["descriptionvalid"],De=["emailInputValid"],Le=["firstnameInput"],we=["lastnameInput"],Ve=["mobileInput"],Me=["phoneExt"],Be=["phoneInput"],Ze=["phonecountrycodeDropDown"],Re=["preferencesComponent"],Je=["stateInput"],je=["zipInput"];function Ue(o,d){if(1&o&&(e.TgZ(0,"div",15),e._UZ(1,"app-input",71),e.ALo(2,"translate"),e.qZA()),2&o){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.REASON_ACTIVATE")),e.s9C("value",a.reasonEnabled)}}function Pe(o,d){if(1&o&&(e.TgZ(0,"div",15),e._UZ(1,"app-input",72),e.ALo(2,"translate"),e.qZA()),2&o){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.REASON_INACTIVATE")),e.s9C("value",a.defaultReasonDisabled)}}let ke=(()=>{class o extends y.O{apiEndPointUrl;branchesService;commonservice;loggerService;navigationService;router;translateService;uiUtils;enterprisesService;route;tournamentsService;addEmailInput;addressline1Input;cityInput;contactTypeValid;contactsphonecountrycodeDropDown;countryInput;descriptionvalid;emailInputValid;firstnameInput;lastnameInput;mobileInput;phoneExt;phoneInput;phonecountrycodeDropDown;preferencesComponent;stateInput;zipInput;addressLine1;addressLine2;apiEndPoint;branchesViewData;city;contactCountryCodeObj;contactCountrycodeDisplayname;contactEmail;contactTypeObj;contactTypeOptions;countryCodeOptions;countryId;countryObj;countryOptions;createdUser;creationDate;data;defaultContactType;defaultCountryCode;defaultCountryCodeObj;defaultCountryId;defaultCountryName;defaultEnterprise;defaultReasonDisabled;defaultStateId;defaultStateName;defaultStatus;description;disableSubmitBtn=!1;email;enterpriseData;enterpriseId;enterpriseName;enterpriseShortName;error;firstName;imageError;imgFile;imgFilepath;label;lastName;lastUpdateDate;lastUpdatedUser;mobile;object_type;pageTitle;phoneNumber;phoneNumberExtension;preferObject;reasonEnabled;recordId;stateObj;stateOptions;statusFlag=!0;zipCode;headerAction;dataJsonObj={};enableImageDeleteValue=!0;constructor(a,n,t,s,i,c,u,g,p,h,L){super(h,t),this.apiEndPointUrl=a,this.branchesService=n,this.commonservice=t,this.loggerService=s,this.navigationService=i,this.router=c,this.translateService=u,this.uiUtils=g,this.enterprisesService=p,this.route=h,this.tournamentsService=L,this.route.params.subscribe(H=>{this.recordId=H.parentId})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.BRANCHES,this.headerAction={BACK:!0},this.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl,this.object_type=this.route.snapshot.data.object_type,document.getElementsByTagName("body"),this.dataJsonObj.enterpriseObj=localStorage.getItem(r.BU.SELECTED_ENTERPRISE_OBJ),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.dataJsonObj.parentEnterpriseId=this.dataJsonObj.enterpriseObj.parent_enterprise_id?this.dataJsonObj.enterpriseObj.parent_enterprise_id:localStorage.getItem(r.BU.LOG_IN_ENTERPRISE_ID),this.commonService.getLookupCodesListJson(this.dataJsonObj.parentEnterpriseId,"list").then(n=>{this.dataJsonObj.lookupCodesListJSON=n,this.getCountriesList(""),this.getContactTypeOptions()}),this.getBranchesViewData()}getBranchesViewData(){try{this.branchesService.get(this.recordId).subscribe(a=>{this.branchesViewData=a,this.enterpriseId=this.branchesViewData.enterprise.enterprise_id,this.enterpriseName=this.branchesViewData.enterprise.enterprise_name,this.enterpriseShortName=this.branchesViewData.enterprise.short_name,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.BRANCHES",value:this.enterpriseName,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}],this.addressLine1=this.branchesViewData.address.address_line1,this.defaultCountryName=this.branchesViewData.address.country?this.lookupLanguageTranslations(this.branchesViewData.address.country.lookup_id):"",this.countryObj=this.branchesViewData.address.country,this.defaultStateName=this.branchesViewData.address.state.state_name,this.defaultStateId=this.branchesViewData.address.state.state_id,this.city=this.branchesViewData.address.city,this.zipCode=this.branchesViewData.address.ZIP,this.email=this.branchesViewData.address.email,this.defaultContactType=this.branchesViewData.contact_details.contact_type.lookup_id,this.contactTypeObj=this.branchesViewData.contact_details.contact_type,this.firstName=this.branchesViewData.contact_details.fname,this.lastName=this.branchesViewData.contact_details.lname,this.contactEmail=this.branchesViewData.contact_details.email,this.contactCountrycodeDisplayname=this.branchesViewData.contact_details.phone_country_code?this.lookupLanguageTranslations(this.branchesViewData.contact_details.phone_country_code.lookup_id):"",this.contactCountryCodeObj=this.branchesViewData.contact_details.phone_country_code,this.phoneNumber=this.branchesViewData.contact_details.phone,this.phoneNumberExtension=this.branchesViewData.contact_details.phone_extn,this.defaultCountryCode=this.branchesViewData.contact_details.phone_country_code?this.lookupLanguageTranslations(this.branchesViewData.address.phone_country_code.lookup_id):"",this.defaultCountryCodeObj=this.branchesViewData.address.phone_country_code,this.mobile=this.branchesViewData.address.phone,this.description=this.branchesViewData.description,this.createdUser=this.branchesViewData.created_by,this.lastUpdatedUser=this.branchesViewData.updated_by,this.preferObject=a.preferences,this.branchesViewData.status.lookup_name===r.oP.ACTIVE?(this.statusFlag=!0,this.reasonEnabled=this.branchesViewData.reason_activate?this.lookupLanguageTranslations(this.branchesViewData.reason_activate.lookup_id):""):(this.statusFlag=!1,this.defaultReasonDisabled=this.branchesViewData.reason_inactivate?this.lookupLanguageTranslations(this.branchesViewData.reason_inactivate.lookup_id):""),this.imgFilepath=this.branchesViewData.branch_icon_file_path&&this.branchesViewData.branch_icon?this.apiEndPoint+this.branchesViewData.branch_icon_file_path+"/"+this.branchesViewData.branch_icon:"",this.label=this.branchesViewData.address.address_label,this.addressLine2=this.branchesViewData.address.address_line2},a=>{this.loggerService.setLoggerError(this.constructor.name,"getbranchesViewData",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getbranchesViewData",a)}}getContactTypeOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CONTACT_TYPES],"").then(a=>{this.contactTypeOptions=a},a=>{this.loggerService.setLoggerError(this.constructor.name,"getContactTypeOptions",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getContactTypeOptions",a)}}getCountriesList(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRIES],a).then(n=>{this.countryOptions=n},n=>{this.loggerService.setLoggerError(this.constructor.name,"getCountriesList",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getCountriesList",n)}}getphoneCountryCode(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRY_CODES],a).then(n=>{this.countryCodeOptions=n},n=>{this.loggerService.setLoggerError(this.constructor.name,"getphoneCountryCode",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getphoneCountryCode",n)}}getStateOptions(a){try{this.commonservice.getStatesList(this.countryId,a,this.enterpriseId).then(n=>{this.stateOptions=n.rows},n=>{this.loggerService.setLoggerError(this.constructor.name,"getStateOptions",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getStateOptions",n)}}getContactsCountryCodeOpt(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRY_CODES],a).then(n=>{this.countryCodeOptions=n},n=>{this.loggerService.setLoggerError(this.constructor.name,"getContactsCountryCodeOpt",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getContactsCountryCodeOpt",n)}}changeContactType(a){try{a.value&&(this.defaultContactType=a.value,this.contactTypeObj=this.contactTypeOptions.find(n=>n.ID===parseInt(this.defaultContactType,10)))}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeContactType",n)}}changeContactCountryCode(a){try{a&&(this.contactCountryCodeObj=a)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeContactCountryCode",n)}}changeFirstName(a){try{this.firstName=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeFirstName",n)}}changeLastName(a){try{this.lastName=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeLastName",n)}}changeContactEmail(a){try{this.contactEmail=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeContactEmail",n)}}changePhoneNo(a){try{this.phoneNumber=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changePhoneNo",n)}}changeExternalPhoneNo(a){try{this.phoneNumberExtension=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeExternalPhoneNo",n)}}changeProfileImage(a){try{""===a.error?(this.imageError="",this.imgFile=a.value):this.imageError=a.error}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeProfileImage",n)}}imageRemove(){try{this.imgFile="",this.imageError=""}catch(a){this.loggerService.setLoggerError(this.constructor.name,"imageRemove",a)}}changeDiscriptionName(a){try{this.description=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeDiscriptionName",n)}}changeAddressLine1(a){try{this.addressLine1=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAddressLine1",n)}}changeAddressLine2(a){try{this.addressLine2=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAddressLine2",n)}}changeLabel(a){try{this.label=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeLabel",n)}}changeCity(a){try{this.city=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeCity",n)}}changeZipcode(a){try{this.zipCode=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeZipcode",n)}}changeMobile(a){try{this.mobile=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeMobile",n)}}changeEmail(a){try{this.email=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeEmail",n)}}changeCountry(a){try{a.NAME?(this.defaultCountryId=a.ID,this.countryObj=a,this.defaultCountryId=a.ID,this.defaultCountryName=this.countryObj.NAME,this.countryId=this.defaultCountryId,this.stateObj="",this.defaultStateId="",this.defaultStateName="",this.getStateOptions("")):(this.defaultCountryName="",this.defaultCountryId="")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeCountry",n)}}changeCountryCode(a){try{a.NAME&&(this.defaultCountryCode=a.NAME,this.defaultCountryCodeObj=a)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeCountryCode",n)}}changeState(a){try{a.NAME?(this.defaultStateId=a.ID,this.stateObj=this.stateOptions.find(n=>n.ID===parseInt(this.defaultStateId,10)),this.defaultStateName=this.stateObj.NAME):(this.defaultStateName="",this.defaultStateId="")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeState",n)}}updateRecord(){try{if(this.descriptionvalid.isValid()&&_.L.isEmpty(this.error)&&_.L.isEmpty(this.imageError)&&this.addressline1Input.isValid()&&this.countryInput.isValid()&&this.stateInput.isValid()&&this.cityInput.isValid()&&this.zipInput.isValid()&&this.addEmailInput.isValid()&&this.phonecountrycodeDropDown.isValid()&&this.mobileInput.isValid()&&this.contactTypeValid.isValid()&&this.firstnameInput.isValid()&&this.lastnameInput.isValid()&&this.emailInputValid.isValid()&&this.contactsphonecountrycodeDropDown.isValid()&&this.phoneInput.isValid()&&this.preferencesComponent.isValidPreferences()){this.disableSubmitBtn=!0;const a=this.preferencesComponent.preferenceObj(),n={enterprise:this.branchesViewData.enterprise,preferences:a,description:this.description,address:{address_label:this.label,address_line1:this.addressLine1,address_line2:this.addressLine2,city:this.city,state:{state_id:this.defaultStateId,state_name:this.defaultStateName},ZIP:this.zipCode,country:{lookup_id:this.countryObj.lookup_id,lookup_name:this.countryObj.lookup_name},geo_coordinates:"",email:this.email,phone_country_code:{lookup_id:this.defaultCountryCodeObj.lookup_id,lookup_name:this.defaultCountryCodeObj.lookup_name},phone:this.mobile},contact_details:{fname:this.firstName,lname:this.lastName,contact_type:this.contactTypeObj,email:this.contactEmail,phone_country_code:this.contactCountryCodeObj,phone:this.phoneNumber,phone_extn:this.phoneNumberExtension},original_branch_icon:this.branchesViewData.branch_icon,branch_icon:this.branchesViewData.branch_icon,branch_icon_file_path:this.branchesViewData.branch_icon_file_path};this.imgFile=this.imgFile?this.commonService.dataURItoImgBlob(this.imgFile,"image/jpeg"):"",this.branchesService.update(n,this.recordId,this.imgFile).then(t=>{this.disableSubmitBtn=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),this.commonService.redirectToPreviousUrl()},t=>{this.commonErrorCodes(JSON.parse(t)),this.loggerService.setLoggerError(this.constructor.name,"updateRecord",t)})}}catch(a){this.loggerService.setLoggerError(this.constructor.name,"updateRecord",a)}}commonErrorCodes(a){409===JSON.parse(a[r.BU.STATUS])&&(this.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"cancel",a)}}pageheadeActionClick(a){"BACK"==a.value&&this.cancel()}deleteImgClick(a){a.value==r.A0.DELETE&&(this.branchesViewData.branch_icon_file_path="")}static \u0275fac=function(n){return new(n||o)(e.Y36("apiEndPoint"),e.Y36(m),e.Y36(v.v),e.Y36(A.m),e.Y36(B.f),e.Y36(b.F0),e.Y36(C.sK),e.Y36(D.s),e.Y36(O.e),e.Y36(b.gz),e.Y36(Y.o))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-branches-edit"]],viewQuery:function(n,t){if(1&n&&(e.Gf(Te,5),e.Gf(Ee,5),e.Gf(fe,5),e.Gf(ye,5),e.Gf(Ne,5),e.Gf(Ae,5),e.Gf(Ie,5),e.Gf(De,5),e.Gf(Le,5),e.Gf(we,5),e.Gf(Ve,5),e.Gf(Me,5),e.Gf(Be,5),e.Gf(Ze,5),e.Gf(Re,5),e.Gf(Je,5),e.Gf(je,5)),2&n){let s;e.iGM(s=e.CRH())&&(t.addEmailInput=s.first),e.iGM(s=e.CRH())&&(t.addressline1Input=s.first),e.iGM(s=e.CRH())&&(t.cityInput=s.first),e.iGM(s=e.CRH())&&(t.contactTypeValid=s.first),e.iGM(s=e.CRH())&&(t.contactsphonecountrycodeDropDown=s.first),e.iGM(s=e.CRH())&&(t.countryInput=s.first),e.iGM(s=e.CRH())&&(t.descriptionvalid=s.first),e.iGM(s=e.CRH())&&(t.emailInputValid=s.first),e.iGM(s=e.CRH())&&(t.firstnameInput=s.first),e.iGM(s=e.CRH())&&(t.lastnameInput=s.first),e.iGM(s=e.CRH())&&(t.mobileInput=s.first),e.iGM(s=e.CRH())&&(t.phoneExt=s.first),e.iGM(s=e.CRH())&&(t.phoneInput=s.first),e.iGM(s=e.CRH())&&(t.phonecountrycodeDropDown=s.first),e.iGM(s=e.CRH())&&(t.preferencesComponent=s.first),e.iGM(s=e.CRH())&&(t.stateInput=s.first),e.iGM(s=e.CRH())&&(t.zipInput=s.first)}},features:[e._Bn([O.e,v.v,m,Y.o]),e.qOj],decls:137,vars:150,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-4"],["disabled","true","id","branches-edit-enterprise",3,"label","value"],["mandatory","true","disabled","true","id","branches-edit-branchname",3,"label","value"],["mandatory","true","disabled","true","id","branches-edit-branchshortname",3,"label","value"],[1,"col-md-3"],["mandatory","true","disabled","true","id","branches-edit-branchtype",3,"label","value"],["mandatory","true","disabled","true","id","branches-edit-subtypes",3,"label","value"],["mandatory","true","disabled","true","id","branches-edit-status",3,"label","value"],["statusDropDown",""],["class","col-md-3",4,"ngIf"],[1,"col-lg-1","col-md-2","pdl-0","order-md-1"],["type","file","btnHide","true","action","edit",1,"edit-pic",3,"defaultImage","enableImageDelete","imageName","valueChange","imageRemove","deleteClick"],[1,"col-md-12","order-md-1","order-2"],["mandatory","true","disabled","false","id","branches-edit-description",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalid",""],[1,"col-md-12","text-end","mt-2","mb-2","btns-group","order-md-1","order-2"],["className","btn btn-primary btn-sm","id","enterprise-edit-submitbutton",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","enterprise-edit-cancelbutton",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"card"],[1,"card-content"],[3,"multiple"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","false","id","branches-edit-address-label",3,"label","value","valueChange"],["id","branches-edit-address-addressline1","mandatory","true","disabled","false",3,"label","value","valueChange"],["addressline1Input",""],["disabled","false","id","branches-edit-address-addressline2",3,"label","value","valueChange"],["mandatory","true","id","branches-edit-address-country",3,"label","options","defaultValue","selectedOption","searchValueChange"],["countryInput",""],["mandatory","true","id","branches-edit-address-state",3,"label","options","defaultValue","selectedOption","searchValueChange"],["stateInput",""],["mandatory","true","id","branches-edit-address-city","disabled","false",3,"label","value","valueChange"],["cityInput",""],["mandatory","true","id","branches-edit-address-zipcode","disabled","false","autoCaseFlag","false",3,"label","value","maxlength","valueChange"],["zipInput",""],["type","email","mandatory","true","id","branches-edit-address-email","disabled","false",3,"label","value","maxlength","valueChange"],["addEmailInput",""],["mandatory","true","id","branches-edit-address-countrycode",3,"label","options","defaultValue","selectedOption","searchValueChange"],["phonecountrycodeDropDown",""],["type","mobile","mandatory","true","disabled","false","id","branches-edit-address-phonenumber",3,"label","maxlength","value","valueChange"],["mobileInput",""],["mandatory","true","id","branches-edit-contacttype",3,"label","options","defaultValue","valueChange"],["contactTypeValid",""],["mandatory","true","id","branches-edit-firstname","disabled","false","id","branches-edit-contact-firstname",3,"label","value","maxlength","valueChange"],["firstnameInput",""],["mandatory","true","id","branches-edit-lastname","disabled","false","id","branches-edit-contact-lastname",3,"label","value","maxlength","valueChange"],["lastnameInput",""],["mandatory","true","id","branches-edit-email","disabled","false","id","branches-edit-contact-email","type","email",3,"label","value","maxlength","valueChange"],["emailInputValid",""],["mandatory","true","id","branches-edit-contact-countrycode","id","enterprises-create-contactType",3,"label","options","defaultValue","selectedOption","searchValueChange"],["contactsphonecountrycodeDropDown",""],["mandatory","true","disabled","false","id","branches-edit-contact-phonenumber",3,"label","value","minlength","maxlength","valueChange"],["phoneInput",""],["disabled","false","id","branches-edit-contact-phoneext","mandatory","false",3,"label","value","maxlength","valueChange"],["phoneExt",""],["id","createpreferencesId1",3,"selected"],[3,"enterpriseValue","defaultValue"],["preferencesComponent",""],[3,"createdBy","lastUpdatedBy","showrecordhistory","creationDate","lastUpdatedDate"],["disabled","true","id","branches-edit-reasonactive",3,"label","value"],["disabled","true","id","branches-edit-reasoninactive",3,"label","value"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",11),e._UZ(15,"app-input",13),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"app-input",14),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",15),e._UZ(21,"app-input",16),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",15),e._UZ(24,"app-input",17),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",15),e._UZ(27,"app-input",18,19),e.ALo(29,"translate"),e.qZA(),e.YNc(30,Ue,3,4,"div",20),e.YNc(31,Pe,3,4,"div",20),e.qZA()(),e.TgZ(32,"div",21)(33,"app-imageupload",22),e.NdJ("valueChange",function(i){return t.changeProfileImage(i)})("imageRemove",function(){return t.imageRemove()})("deleteClick",function(i){return t.deleteImgClick(i)}),e.qZA()(),e.TgZ(34,"div",23)(35,"app-textarea",24,25),e.NdJ("valueChange",function(i){return t.changeDiscriptionName(i)}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",26)(39,"app-button",27),e.NdJ("buttonOnClick",function(){return t.updateRecord()}),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"app-button",28),e.NdJ("buttonOnClick",function(){return t.cancel()}),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",29),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",10)(47,"div",3)(48,"div",30)(49,"div",31)(50,"p-accordion",32)(51,"p-accordionTab",33)(52,"p-header",34)(53,"span"),e._uU(54),e.ALo(55,"translate"),e.qZA()(),e.TgZ(56,"div",8)(57,"div",11)(58,"app-input",35),e.NdJ("valueChange",function(i){return t.changeLabel(i)}),e.ALo(59,"translate"),e.qZA()(),e.TgZ(60,"div",11)(61,"app-input",36,37),e.NdJ("valueChange",function(i){return t.changeAddressLine1(i)}),e.ALo(63,"translate"),e.qZA()(),e.TgZ(64,"div",11)(65,"app-input",38),e.NdJ("valueChange",function(i){return t.changeAddressLine2(i)}),e.ALo(66,"translate"),e.qZA()(),e.TgZ(67,"div",11)(68,"app-dropdown-search",39,40),e.NdJ("selectedOption",function(i){return t.changeCountry(i)})("searchValueChange",function(i){return t.getCountriesList(i)}),e.ALo(70,"translate"),e.qZA()(),e.TgZ(71,"div",11)(72,"app-dropdown-search",41,42),e.NdJ("selectedOption",function(i){return t.changeState(i)})("searchValueChange",function(i){return t.getStateOptions(i)}),e.ALo(74,"translate"),e.qZA()(),e.TgZ(75,"div",11)(76,"app-input",43,44),e.NdJ("valueChange",function(i){return t.changeCity(i)}),e.ALo(78,"translate"),e.qZA()(),e.TgZ(79,"div",11)(80,"app-input",45,46),e.NdJ("valueChange",function(i){return t.changeZipcode(i)}),e.ALo(82,"translate"),e.qZA()(),e.TgZ(83,"div",11)(84,"app-input",47,48),e.NdJ("valueChange",function(i){return t.changeEmail(i)}),e.ALo(86,"translate"),e.qZA()(),e.TgZ(87,"div",11)(88,"app-dropdown-search",49,50),e.NdJ("selectedOption",function(i){return t.changeCountryCode(i)})("searchValueChange",function(i){return t.getphoneCountryCode(i)}),e.ALo(90,"translate"),e.qZA()(),e.TgZ(91,"div",11)(92,"app-inputnumber",51,52),e.NdJ("valueChange",function(i){return t.changeMobile(i)}),e.ALo(94,"translate"),e.qZA()()()(),e.TgZ(95,"p-accordionTab",33)(96,"p-header",34)(97,"span"),e._uU(98),e.ALo(99,"translate"),e.qZA()(),e.TgZ(100,"div",8)(101,"div",11)(102,"app-dropdown-singleselect",53,54),e.NdJ("valueChange",function(i){return t.changeContactType(i)}),e.ALo(104,"translate"),e.qZA()(),e.TgZ(105,"div",11)(106,"app-input",55,56),e.NdJ("valueChange",function(i){return t.changeFirstName(i)}),e.ALo(108,"translate"),e.qZA()(),e.TgZ(109,"div",11)(110,"app-input",57,58),e.NdJ("valueChange",function(i){return t.changeLastName(i)}),e.ALo(112,"translate"),e.qZA()(),e.TgZ(113,"div",11)(114,"app-input",59,60),e.NdJ("valueChange",function(i){return t.changeContactEmail(i)}),e.ALo(116,"translate"),e.qZA()(),e.TgZ(117,"div",11)(118,"app-dropdown-search",61,62),e.NdJ("selectedOption",function(i){return t.changeContactCountryCode(i)})("searchValueChange",function(i){return t.getphoneCountryCode(i)}),e.ALo(120,"translate"),e.qZA()(),e.TgZ(121,"div",11)(122,"app-inputnumber",63,64),e.NdJ("valueChange",function(i){return t.changePhoneNo(i)}),e.ALo(124,"translate"),e.qZA()(),e.TgZ(125,"div",11)(126,"app-inputnumber",65,66),e.NdJ("valueChange",function(i){return t.changeExternalPhoneNo(i)}),e.ALo(128,"translate"),e.qZA()()()(),e.TgZ(129,"p-accordionTab",67)(130,"p-header",34)(131,"span"),e._uU(132),e.ALo(133,"translate"),e.qZA()(),e._UZ(134,"app-preferences",68,69),e.qZA(),e._UZ(136,"app-recordhistory",70),e.qZA()()()()()()()()()()()),2&n&&(e.xp6(6),e.Q6J("pageName",t.dataJsonObj.pageName)("pageTitle",t.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(6),e.s9C("label",e.lcZ(13,90,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.enterprise?null:t.branchesViewData.enterprise.short_name),e.xp6(3),e.s9C("label",e.lcZ(16,92,"COMMON_PAGE_TITLES.BRANCH")),e.s9C("value",null==t.branchesViewData?null:t.branchesViewData.branch_name),e.xp6(3),e.s9C("label",e.lcZ(19,94,"BRANCHES.BRANCH_SHORT_NAME")),e.s9C("value",null==t.branchesViewData?null:t.branchesViewData.branch_short_name),e.xp6(3),e.s9C("label",e.lcZ(22,96,"BRANCHES.BRANCH_TYPE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.branch_type?null:t.branchesViewData.branch_type.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(25,98,"BRANCHES.BRANCH_SUBTYPE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.branch_subtype?null:t.branchesViewData.branch_subtype.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(29,100,"COMMON_FIELDS.STATUS")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.status?null:t.branchesViewData.status.lookup_id)),e.xp6(3),e.Q6J("ngIf",!0===t.statusFlag),e.xp6(1),e.Q6J("ngIf",!1===t.statusFlag),e.xp6(2),e.s9C("defaultImage",t.imgFilepath),e.s9C("imageName",null==t.branchesViewData?null:t.branchesViewData.branch_short_name),e.Q6J("enableImageDelete",t.enableImageDeleteValue),e.xp6(2),e.s9C("label",e.lcZ(37,102,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",t.description),e.Q6J("maxlength",2e3),e.xp6(4),e.s9C("label",e.lcZ(40,104,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.s9C("disabled",t.disableSubmitBtn),e.xp6(2),e.s9C("label",e.lcZ(42,106,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(45,108,t.error)," "),e.xp6(6),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(55,110,"COMMON_BLOCK_TITLES.ADDRESS_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(59,112,"ENTERPRISES.LABEL")),e.s9C("value",t.label),e.xp6(3),e.s9C("label",e.lcZ(63,114,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE1")),e.s9C("value",t.addressLine1),e.xp6(4),e.s9C("label",e.lcZ(66,116,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE2")),e.s9C("value",t.addressLine2),e.xp6(3),e.s9C("label",e.lcZ(70,118,"COMMON_ADDRESS_BLOCK.COUNTRY")),e.s9C("defaultValue",t.defaultCountryName),e.Q6J("options",t.countryOptions),e.xp6(4),e.s9C("label",e.lcZ(74,120,"COMMON_ADDRESS_BLOCK.STATE")),e.s9C("defaultValue",t.defaultStateName),e.Q6J("options",t.stateOptions),e.xp6(4),e.s9C("label",e.lcZ(78,122,"COMMON_ADDRESS_BLOCK.CITY")),e.s9C("value",t.city),e.xp6(4),e.s9C("label",e.lcZ(82,124,"COMMON_ADDRESS_BLOCK.ZIP_CODE")),e.s9C("value",t.zipCode),e.Q6J("maxlength",6),e.xp6(4),e.s9C("label",e.lcZ(86,126,"COMMON_FIELDS.EMAIL")),e.s9C("value",t.email),e.Q6J("maxlength",60),e.xp6(4),e.s9C("label",e.lcZ(90,128,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("defaultValue",t.defaultCountryCode),e.Q6J("options",t.countryCodeOptions),e.xp6(4),e.s9C("label",e.lcZ(94,130,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",t.mobile),e.Q6J("maxlength",10),e.xp6(3),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(99,132,"COMMON_BLOCK_TITLES.CONTACT_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(104,134,"COMMON_ADDRESS_BLOCK.CONTACT_TYPE")),e.s9C("defaultValue",t.defaultContactType),e.Q6J("options",t.contactTypeOptions),e.xp6(4),e.s9C("label",e.lcZ(108,136,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",t.firstName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(112,138,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",t.lastName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(116,140,"COMMON_FIELDS.EMAIL")),e.s9C("value",t.contactEmail),e.Q6J("maxlength",60),e.xp6(4),e.s9C("label",e.lcZ(120,142,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("defaultValue",t.contactCountrycodeDisplayname),e.Q6J("options",t.countryCodeOptions),e.xp6(4),e.s9C("label",e.lcZ(124,144,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",t.phoneNumber),e.Q6J("minlength",10)("maxlength",10),e.xp6(4),e.s9C("label",e.lcZ(128,146,"COMMON_FIELDS.EXTENSION")),e.s9C("value",t.phoneNumberExtension),e.Q6J("maxlength",4),e.xp6(3),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(133,148,"COMMON_BLOCK_TITLES.PREFERENCES")),e.xp6(2),e.Q6J("enterpriseValue",null==t.branchesViewData?null:t.branchesViewData.enterprise)("defaultValue",t.preferObject),e.xp6(2),e.Q6J("createdBy",t.createdUser)("lastUpdatedBy",t.lastUpdatedUser)("showrecordhistory",t.dataJsonObj.showrecordhistory)("creationDate",null==t.branchesViewData?null:t.branchesViewData.createdAt)("lastUpdatedDate",null==t.branchesViewData?null:t.branchesViewData.updatedAt))},dependencies:[w.O5,Z.r,R.a,J.k,j.R,U.K,P.f,Q.C,K.W,G.h,I.q,S.UQ,S.US,k.h4,C.X$]})}return o})();var z=l(46335),He=l(8236);const Fe=["activedropdown"];function qe(o,d){if(1&o&&(e.TgZ(0,"div",60),e._UZ(1,"app-input",61),e.ALo(2,"translate"),e.qZA()),2&o){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.REASON_ACTIVATE")),e.s9C("value",a.reasonActiveInput)}}function Ge(o,d){if(1&o){const a=e.EpF();e.TgZ(0,"div",60)(1,"app-dropdown-singleselect",62,63),e.NdJ("valueChange",function(t){e.CHM(a);const s=e.oxw();return e.KtG(s.getReasonActive(t))}),e.ALo(3,"translate"),e.qZA()()}if(2&o){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"COMMON_FIELDS.REASON_ACTIVATE")),e.s9C("defaultValue",a.reasonActiveDrop),e.Q6J("options",a.reasonActiveOptions)}}function Qe(o,d){if(1&o){const a=e.EpF();e.TgZ(0,"div",60)(1,"app-dropdown-singleselect",64,63),e.NdJ("valueChange",function(t){e.CHM(a);const s=e.oxw();return e.KtG(s.getReasonInactive(t))}),e.ALo(3,"translate"),e.qZA()()}if(2&o){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"COMMON_FIELDS.REASON_INACTIVATE")),e.s9C("defaultValue",a.reasonInactiveDrop),e.Q6J("options",a.reasonInactiveOptions)}}function Ye(o,d){if(1&o&&(e.TgZ(0,"div",60),e._UZ(1,"app-input",65),e.ALo(2,"translate"),e.qZA()),2&o){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.REASON_INACTIVATE")),e.s9C("value",a.reasonInactiveInput)}}function Ke(o,d){if(1&o){const a=e.EpF();e.TgZ(0,"app-button",70),e.NdJ("buttonOnClick",function(){e.CHM(a);const t=e.oxw(2);return e.KtG(t.updateRecord())}),e.ALo(1,"translate"),e.qZA()}2&o&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_ACTIVATE"))}function ze(o,d){if(1&o){const a=e.EpF();e.TgZ(0,"app-button",71),e.NdJ("buttonOnClick",function(){e.CHM(a);const t=e.oxw(2);return e.KtG(t.updateRecord())}),e.ALo(1,"translate"),e.qZA()}2&o&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_INACTIVATE"))}function We(o,d){if(1&o){const a=e.EpF();e.TgZ(0,"app-button",72),e.NdJ("buttonOnClick",function(){e.CHM(a);const t=e.oxw(2);return e.KtG(t.Close())}),e.ALo(1,"translate"),e.qZA()}2&o&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_CANCEL"))}function Xe(o,d){if(1&o&&(e.TgZ(0,"div",66),e.YNc(1,Ke,2,3,"app-button",67),e.YNc(2,ze,2,3,"app-button",68),e.YNc(3,We,2,3,"app-button",69),e.qZA()),2&o){const a=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===a.reasonActiveDisable&&!1===a.reasonViewEnable),e.xp6(1),e.Q6J("ngIf",!1===a.reasonInactiveDisable&&!0===a.reasonViewEnable),e.xp6(1),e.Q6J("ngIf",!1===a.reasonActiveDisable||!1===a.reasonInactiveDisable)}}function $e(o,d){if(1&o){const a=e.EpF();e.TgZ(0,"div",73)(1,"app-button",74),e.NdJ("buttonOnClick",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.Close())}),e.ALo(2,"translate"),e.qZA()()}2&o&&(e.xp6(1),e.s9C("label",e.lcZ(2,1,"COMMON_BUTTONS.BUTTON_CLOSE")))}function xe(o,d){if(1&o&&(e.TgZ(0,"p-accordionTab",75)(1,"p-header",30)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()(),e._UZ(5,"app-attribute-values",76,77),e.qZA()),2&o){const a=e.oxw();e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(4,4,"COMMON_PAGE_TITLES.ATTRIBUTES")),e.xp6(2),e.Q6J("viewAttributes",a.viewattributes)("attributes",a.attributes)}}let W=(()=>{class o extends y.O{apiEndPointUrl;branchesService;commonService;loggerService;navigationService;router;translateService;uiUtils;enterprisesService;listingVariables;route;userService;actionSheetController;activedropdown;apiEndPoint;attributes=[];branchEditObj=new et;branchStatusName;branchesViewData;createdUser;creationDate;defaultStatus;enterpriseData;enterpriseId;error;imgFilepath;lastUpdateDate;lastUpdatedUser;mobileroutesArray=[];objectType;pageTitle;reasonActiveDisable=!0;reasonActiveDrop;reasonActiveInput;reasonActiveObj;reasonActiveOptions;reasonInactiveDisable=!0;reasonInactiveDrop;reasonInactiveInput;reasonInactiveObj;reasonInactiveOptions;reasonViewEnable;recordId;status;statusObj;statusOptions;statusPagetitle=!1;url;dataJsonObj={};constructor(a,n,t,s,i,c,u,g,p,h,L,H,rt){super(L,t),this.apiEndPointUrl=a,this.branchesService=n,this.commonService=t,this.loggerService=s,this.navigationService=i,this.router=c,this.translateService=u,this.uiUtils=g,this.enterprisesService=p,this.listingVariables=h,this.route=L,this.userService=H,this.actionSheetController=rt,this.route.queryParams.subscribe(E=>{this.dataJsonObj.queryParamsObj={defaultView:E.defaultView,selectedMenuId:E.selectedMenuId,selectedSubMenuId:E.selectedSubMenuId}}),this.route.params.subscribe(E=>{this.recordId=E.parentId})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.BRANCHES,this.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl,this.commonService.trackView(r.sn.ENTERPRISE_VIEW),this.objectType=this.route.snapshot.data.object_type,this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.url=this.router.url.split("/")[4]?this.router.url.split("/")[4]:this.router.url.split("/")[3],this.enterpriseData=JSON.parse(localStorage.getItem(r.BU.ENTERPRISE)),this.enterpriseId=this.enterpriseData.enterprise_id,this.dataJsonObj.langConfJSON={},this.getLanguageJSONData(),this.getBranchesViewData(this.recordId),this.commonService.getLookupCodesListJson(this.enterpriseId,"list").then(n=>{this.dataJsonObj.lookupCodesListJSON=n,this.getReasonActiveOptions(this.enterpriseId),this.getReasonInactiveOptions(this.enterpriseId)}),this.dataJsonObj.selectedPage=r.hf.BRANCHES,this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}])}getDynamicJson(a){var n=this;return(0,f.Z)(function*(){for(let t of a)n.dataJsonObj[t.storingFieldName]=yield n.commonService.getDynamicJson(n.enterpriseId,t.folderName,t.jsonType);n.dataJsonObj.selectedObj={},n.dataJsonObj.selectedObj.recordId=n.recordId,n.dataJsonObj.selectedObj.pageObj=n.dataJsonObj.menuDataJson.filter(t=>t.menu_page.page_name===n.dataJsonObj.selectedPage),n.dataJsonObj.selectedObjEnabled=!0})()}getBranchesViewData(a){try{this.branchesService.get(this.recordId,"").subscribe(t=>{this.branchesViewData=t,this.createdUser=this.branchesViewData.created_by,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.BRANCHES",value:this.branchesViewData?.enterprise?.short_name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.lastUpdatedUser=this.branchesViewData.updated_by,this.imgFilepath=this.branchesViewData.branch_icon_file_path&&this.branchesViewData.branch_icon?this.apiEndPoint+this.branchesViewData.branch_icon_file_path+"/"+this.branchesViewData.branch_icon:"",this.status=this.branchesViewData.status?this.lookupLanguageTranslations(this.branchesViewData.status.lookup_id):"",this.branchesViewData.status.lookup_name===r.oP.ACTIVE?this.reasonViewEnable=!0:this.branchesViewData.status.lookup_name===r.oP.INACTIVE&&(this.reasonViewEnable=!1),("status"===this.url||"enterprise-branch-status"===this.url)&&this.branchesViewData.status.lookup_name===r.oP.ACTIVE&&(this.reasonInactiveDisable=!1,this.statusPagetitle=!0,this.reasonViewEnable=!0,this.pageTitle=this.branchesViewData.branch_short_name+" - "+this.translateService.instant("COMMON_BUTTONS.BUTTON_INACTIVATE"),this.reasonActiveInput=this.branchesViewData.reason_activate?this.lookupLanguageTranslations(this.branchesViewData.reason_activate.lookup_id):""),this.dataJsonObj.defaultLanguage=this.dataJsonObj.langConfJSON[this.branchesViewData?.preferences?.default_language?.language_id]?this.dataJsonObj.langConfJSON[this.branchesViewData?.preferences?.default_language?.language_id].language_display_name:"",("status"===this.url||"enterprise-branch-status"===this.url)&&this.branchesViewData.status.lookup_name===r.oP.INACTIVE&&(this.reasonActiveDisable=!1,this.statusPagetitle=!0,this.reasonViewEnable=!1,this.pageTitle=this.branchesViewData.branch_short_name+" - "+this.translateService.instant("COMMON_BUTTONS.BUTTON_ACTIVATE"),this.reasonInactiveInput=this.branchesViewData.reason_inactivate?this.lookupLanguageTranslations(this.branchesViewData.reason_inactivate.lookup_id):""),this.branchesViewData.status.lookup_name===r.oP.ACTIVE?this.reasonActiveInput=this.branchesViewData.reason_activate?this.lookupLanguageTranslations(this.branchesViewData.reason_activate.lookup_id):"":this.reasonInactiveInput=this.branchesViewData.reason_inactivate?this.lookupLanguageTranslations(this.branchesViewData.reason_inactivate.lookup_id):""},t=>{this.loggerService.setLoggerError(this.constructor.name,"getBranchesViewData",t)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getBranchesViewData",n)}}attributesList(a){try{this.userService.AttributesList(a,r.ox.ENTERPRISES).then(n=>{this.attributes=n},n=>{this.loggerService.setLoggerError(this.constructor.name,"attributesList",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"attributesList",n)}}getReasonActive(a){try{this.reasonActiveDrop=a.value,this.reasonActiveObj=this.reasonActiveOptions.find(n=>n.ID===parseInt(this.reasonActiveDrop,10)),this.branchStatusName=r.oP.ACTIVE,this.getStatusOptions()}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getReasonActive",n)}}getReasonInactive(a){try{this.reasonInactiveDrop=a.value,this.reasonInactiveObj=this.reasonInactiveOptions.find(n=>n.ID===parseInt(this.reasonInactiveDrop,10)),this.branchStatusName=r.oP.INACTIVE,this.getStatusOptions()}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getReasonInactive",n)}}getReasonActiveOptions(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.REASONS_ENTERPRISE_ACTIVATE],"").then(n=>{this.reasonActiveOptions=n},n=>{this.loggerService.setLoggerError(this.constructor.name,"getReasonActiveOptions",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getReasonActiveOptions",n)}}getReasonInactiveOptions(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.REASONS_ENTERPRISE_INACTIVATE],"").then(n=>{this.reasonInactiveOptions=n},n=>{this.loggerService.setLoggerError(this.constructor.name,"getReasonInactiveOptions",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getReasonInactiveOptions",n)}}getStatusOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.BRANCH_STATUSES],"").then(a=>{this.statusOptions=a,this.statusObj=this.statusOptions.find(n=>n.lookup_name===this.branchStatusName)},a=>{this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",a)}}changeStatus(a){try{this.defaultStatus=a.value,this.statusObj=this.statusOptions.find(n=>n.ID===parseInt(this.defaultStatus,10))}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeStatus",n)}}mobileEventAction(a){try{this.mobileroutesArray=[],this.objectType===r.hf.ENTERPRISES?(a.status.lookup_name===r.oP.INACTIVE&&this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.ACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ACTIVATE"),handler:()=>{this.router.navigate(["enterprises/"+a._id+"/branches/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}}),this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.EDIT)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["enterprises/"+a._id+"/branches/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}}),a.status.lookup_name===r.oP.ACTIVE&&this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.INACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_INACTIVATE"),handler:()=>{this.router.navigate(["enterprises/"+a._id+"/branches/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}})):(this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.ACTIVATE)&&(a.status.lookup_name===r.oP.INACTIVE&&this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.ACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ACTIVATE"),handler:()=>{this.router.navigate(["enterprises/"+a._id+"/branches/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}}),this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/enterprises/"+a._id+"/branches/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}})),a.status.lookup_name===r.oP.ACTIVE&&this.roleRightsValidationByPage(r.hf.BRANCHES,r.AM.ACTIONS,r.In.INACTIVATE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_INACTIVATE"),handler:()=>{this.router.navigate(["enterprises/"+a._id+"/branches/status"]),this.router.routeReuseStrategy.clearModuleRouteCache("branches")}})),this.presentActionSheet(a)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"presentActionSheet",n)}}presentActionSheet(a){var n=this;return(0,f.Z)(function*(){try{yield(yield n.actionSheetController.create({cssClass:"actionsheet",buttons:n.mobileroutesArray})).present()}catch(t){n.loggerService.setLoggerError(n.constructor.name,"mobileEventAction",t)}})()}updateRecord(){try{!1===this.reasonActiveDisable&&!1===this.reasonViewEnable?this.activedropdown.isValid()&&(this.branchEditObj.reason_activate=this.reasonActiveObj,this.branchEditObj.reason_inactivate=this.reasonInactiveObj,this.branchEditObj.status=this.statusObj,this.branchesService.statusUpdate(this.branchEditObj,this.recordId).then(a=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_ACTIVATE"),this.commonService.redirectToPreviousUrl()},a=>{this.loggerService.setLoggerError(this.constructor.name,"editRecord",a),this.commonErrorCodes(JSON.parse(a))})):this.activedropdown.isValid()&&(this.branchEditObj.reason_activate=this.reasonActiveObj,this.branchEditObj.reason_inactivate=this.reasonInactiveObj,this.branchEditObj.status=this.statusObj,this.branchesService.statusUpdate(this.branchEditObj,this.recordId).then(a=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_INACTIVATE"),this.commonService.redirectToPreviousUrl()},a=>{this.loggerService.setLoggerError(this.constructor.name,"editRecord",a),this.commonErrorCodes(JSON.parse(a))}))}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editRecord",a)}}getLanguageJSONData(){var a=this;return(0,f.Z)(function*(){a.dataJsonObj.langConfJSON=yield a.commonService.getLanguagesJsonData(a.enterpriseId)})()}commonErrorCodes(a){const n=JSON.parse(a[r.BU.STATUS]);switch(n){case 500:case 404:default:break;case 409:this.error="COMMON_STATUS_CODES."+n}}Close(){try{this.commonService.redirectToPreviousUrl()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"Close",a)}}static \u0275fac=function(n){return new(n||o)(e.Y36("apiEndPoint"),e.Y36(m),e.Y36(v.v),e.Y36(A.m),e.Y36(B.f),e.Y36(b.F0),e.Y36(C.sK),e.Y36(D.s),e.Y36(O.e),e.Y36(N.v),e.Y36(b.gz),e.Y36(z.K),e.Y36(M.BX))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-branches-view"]],viewQuery:function(n,t){if(1&n&&e.Gf(Fe,5),2&n){let s;e.iGM(s=e.CRH())&&(t.activedropdown=s.first)}},features:[e._Bn([N.v,O.e,m,v.v,V.Y,D.s,z.K]),e.qOj],decls:144,vars:166,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-4"],["disabled","true","id","branches-view-enterprisename",3,"label","value"],["disabled","true","id","branches-view-branchname",3,"label","value"],["disabled","true","id","branches-view-branchshortname",3,"label","value"],["disabled","true","id","branches-view-branchtype",3,"label","value"],["disabled","true","id","branches-view-branchsubtype",3,"label","value"],[1,"col-md-2"],["mandatory","false","disabled","true","id","branches-view-status",3,"label","value"],["class","col-md-3 order-md-1 order-2",4,"ngIf"],[1,"col-lg-1","col-md-2","pdl-0","order-md-1"],["id","branches-view-brancheimage",1,"thumbnail-view",3,"defaultImage","imageName"],[1,"col-md-12","order-md-1","order-2"],["mandatory","true","disabled","true","id","branches-view-description",3,"label","defaultvalue"],["class","col-md-12 text-end mt-2 order-md-1 order-2",4,"ngIf"],["class","col-md-12 text-end mt-2 mb-2 order-md-1 order-2",4,"ngIf"],[1,"card"],[1,"card-content"],[3,"multiple"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","true","id","branches-view-addresslabel",3,"label","value"],["disabled","true","id","branches-view-addressline1",3,"label","value"],["disabled","true","id","branches-view-addressline2",3,"label","value"],["disabled","true","id","branches-view-address-country",3,"label","value"],["disabled","true","id","branches-view-address-state",3,"label","value"],["mandatory","true","disabled","true","id","branches-view-address-city",3,"label","value"],["mandatory","true","disabled","true","id","branches-view-address-zipcode",3,"label","value"],["type","email","disabled","true","id","branches-view-address-email",3,"label","value"],["mandatory","false","disabled","true","id","branches-view-address-countrycode",3,"label","value"],["type","mobile","mandatory","true","disabled","true","id","branches-view-address-mobilenumber",3,"label","maxlength","value"],["disabled","true","id","branches-view-contact-contacttype",3,"label","value"],["disabled","true","id","branches-view-contact-firstname",3,"label","value"],["disabled","true","id","branches-view-contact-lastname",3,"label","value"],["disabled","true","id","branches-view-contact-email",3,"label","value"],["disabled","true","id","branches-view-contact-countrycode",3,"label","value"],["disabled","true","id","branches-view-contact-phonenumber",3,"label","value"],["disabled","true","id","branches-view-contact-phonenumberext",3,"label","value"],["id","viewContactPointsId",3,"selected"],["disabled","true","id","branches-view-preferences-default_timezone",3,"label","value"],["disabled","true","id","branches-view-preferences-default_theme",3,"label","value"],["disabled","true","id","branches-view-preferences-default_font",3,"label","value"],["disabled","true","id","branches-view-preferences-default_font_size",3,"label","value"],["disabled","true","id","branches-view-preferences-default_language",3,"label","value"],["disabled","true","id","branches-view-preferences-default_currency",3,"label","value"],["disabled","true","id","branches-view-preferences-default_currency_format",3,"label","value"],["disabled","true","id","branches-view-preferences-default_date_format",3,"label","value"],["disabled","true","id","branches-view-preferences-default_rows_per_page",3,"label","value"],["id","branches-view-attributes",3,"selected",4,"ngIf"],[3,"createdBy","lastUpdatedBy","showrecordhistory","creationDate","lastUpdatedDate"],[1,"col-md-3","order-md-1","order-2"],["disabled","true","id","branch-view-reasonactive",3,"label","value"],["disabled","false","mandatory","true","id","branches-view-reasonactive",3,"label","defaultValue","options","valueChange"],["activedropdown",""],["disabled","false","mandatory","true","id","branches-view-reasoninactive",3,"label","defaultValue","options","valueChange"],["disabled","true","id","branches-view-reasoninactive",3,"label","value"],[1,"col-md-12","text-end","mt-2","order-md-1","order-2"],["id","branches-view-activatebutton","className","btn btn-primary btn-sm","class","mgr-5",3,"label","buttonOnClick",4,"ngIf"],["id","branches-view-inactivatebutton","className","btn btn-primary btn-sm","class","mgr-5",3,"label","buttonOnClick",4,"ngIf"],["id","branches-view-cancelbutton","className","btn btn-danger btn-sm",3,"label","buttonOnClick",4,"ngIf"],["id","branches-view-activatebutton","className","btn btn-primary btn-sm",1,"mgr-5",3,"label","buttonOnClick"],["id","branches-view-inactivatebutton","className","btn btn-primary btn-sm",1,"mgr-5",3,"label","buttonOnClick"],["id","branches-view-cancelbutton","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],[1,"col-md-12","text-end","mt-2","mb-2","order-md-1","order-2"],["id","branches-view-closebutton","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],["id","branches-view-attributes",3,"selected"],["action","View","disabled","true",3,"viewAttributes","attributes"],["attributesComponent",""]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",11),e._UZ(15,"app-input",13),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"app-input",14),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",11),e._UZ(21,"app-input",15),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",11),e._UZ(24,"app-input",16),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"div",17),e._UZ(27,"app-input",18),e.ALo(28,"translate"),e.qZA(),e.YNc(29,qe,3,4,"div",19),e.YNc(30,Ge,4,5,"div",19),e.YNc(31,Qe,4,5,"div",19),e.YNc(32,Ye,3,4,"div",19),e.qZA()(),e.TgZ(33,"div",20)(34,"div"),e._UZ(35,"app-imageupload",21),e.qZA()(),e.TgZ(36,"div",22),e._UZ(37,"app-textarea",23),e.ALo(38,"translate"),e.qZA(),e.YNc(39,Xe,4,3,"div",24),e.YNc(40,$e,3,3,"div",25),e.qZA(),e.TgZ(41,"div",10)(42,"div",3)(43,"div",26)(44,"div",27)(45,"p-accordion",28)(46,"p-accordionTab",29)(47,"p-header",30)(48,"span"),e._uU(49),e.ALo(50,"translate"),e.qZA()(),e.TgZ(51,"div",8)(52,"div",11),e._UZ(53,"app-input",31),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"div",11),e._UZ(56,"app-input",32),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"div",11),e._UZ(59,"app-input",33),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"div",11),e._UZ(62,"app-input",34),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"div",11),e._UZ(65,"app-input",35),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"div",11),e._UZ(68,"app-input",36),e.ALo(69,"translate"),e.qZA(),e.TgZ(70,"div",11),e._UZ(71,"app-input",37),e.ALo(72,"translate"),e.qZA(),e.TgZ(73,"div",11),e._UZ(74,"app-input",38),e.ALo(75,"translate"),e.qZA(),e.TgZ(76,"div",11),e._UZ(77,"app-input",39),e.ALo(78,"translate"),e.qZA(),e.TgZ(79,"div",11),e._UZ(80,"app-inputnumber",40),e.ALo(81,"translate"),e.qZA()()(),e.TgZ(82,"p-accordionTab",29)(83,"p-header",30)(84,"span"),e._uU(85),e.ALo(86,"translate"),e.qZA()(),e.TgZ(87,"div",8)(88,"div",11),e._UZ(89,"app-input",41),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"div",11),e._UZ(92,"app-input",42),e.ALo(93,"translate"),e.qZA(),e.TgZ(94,"div",11),e._UZ(95,"app-input",43),e.ALo(96,"translate"),e.qZA(),e.TgZ(97,"div",11),e._UZ(98,"app-input",44),e.ALo(99,"translate"),e.qZA(),e.TgZ(100,"div",11),e._UZ(101,"app-input",45),e.ALo(102,"translate"),e.qZA(),e.TgZ(103,"div",11),e._UZ(104,"app-inputnumber",46),e.ALo(105,"translate"),e.qZA(),e.TgZ(106,"div",11),e._UZ(107,"app-input",47),e.ALo(108,"translate"),e.qZA()()(),e.TgZ(109,"p-accordionTab",48)(110,"p-header",30)(111,"span"),e._uU(112),e.ALo(113,"translate"),e.qZA()(),e.TgZ(114,"div",8)(115,"div",11),e._UZ(116,"app-input",49),e.ALo(117,"translate"),e.qZA(),e.TgZ(118,"div",11),e._UZ(119,"app-input",50),e.ALo(120,"translate"),e.qZA(),e.TgZ(121,"div",11),e._UZ(122,"app-input",51),e.ALo(123,"translate"),e.qZA(),e.TgZ(124,"div",11),e._UZ(125,"app-input",52),e.ALo(126,"translate"),e.qZA(),e.TgZ(127,"div",11),e._UZ(128,"app-input",53),e.ALo(129,"translate"),e.qZA(),e.TgZ(130,"div",11),e._UZ(131,"app-input",54),e.ALo(132,"translate"),e.qZA(),e.TgZ(133,"div",11),e._UZ(134,"app-input",55),e.ALo(135,"translate"),e.qZA(),e.TgZ(136,"div",11),e._UZ(137,"app-input",56),e.ALo(138,"translate"),e.qZA(),e.TgZ(139,"div",11),e._UZ(140,"app-input",57),e.ALo(141,"translate"),e.qZA()()(),e.YNc(142,xe,7,6,"p-accordionTab",58),e._UZ(143,"app-recordhistory",59),e.qZA()()()()()()()()()()()),2&n&&(e.xp6(6),e.Q6J("pageName",t.dataJsonObj.pageName)("pageTitle",t.dataJsonObj.pageTitle)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(6),e.s9C("label",e.lcZ(13,94,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.enterprise?null:t.branchesViewData.enterprise.short_name),e.xp6(3),e.s9C("label",e.lcZ(16,96,"COMMON_PAGE_TITLES.BRANCH")),e.s9C("value",null==t.branchesViewData?null:t.branchesViewData.branch_name),e.xp6(3),e.s9C("label",e.lcZ(19,98,"BRANCHES.BRANCH_SHORT_NAME")),e.s9C("value",null==t.branchesViewData?null:t.branchesViewData.branch_short_name),e.xp6(3),e.s9C("label",e.lcZ(22,100,"BRANCHES.BRANCH_TYPE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.branch_type?null:t.branchesViewData.branch_type.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(25,102,"BRANCHES.BRANCH_SUBTYPE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.branch_subtype?null:t.branchesViewData.branch_subtype.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(28,104,"COMMON_FIELDS.STATUS")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.status?null:t.branchesViewData.status.lookup_id)),e.xp6(2),e.Q6J("ngIf",!0===t.reasonViewEnable),e.xp6(1),e.Q6J("ngIf",!1===t.reasonActiveDisable&&!1===t.reasonViewEnable),e.xp6(1),e.Q6J("ngIf",!1===t.reasonInactiveDisable&&!0===t.reasonViewEnable),e.xp6(1),e.Q6J("ngIf",!1===t.reasonViewEnable),e.xp6(3),e.s9C("defaultImage",t.imgFilepath),e.s9C("imageName",null==t.branchesViewData?null:t.branchesViewData.branch_short_name),e.xp6(2),e.s9C("label",e.lcZ(38,106,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==t.branchesViewData?null:t.branchesViewData.description),e.xp6(2),e.Q6J("ngIf",!1===t.reasonActiveDisable||!1===t.reasonInactiveDisable),e.xp6(1),e.Q6J("ngIf",!0===t.reasonActiveDisable&&!0===t.reasonInactiveDisable),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(50,108,"COMMON_BLOCK_TITLES.ADDRESS_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(54,110,"ENTERPRISES.LABEL")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.address?null:t.branchesViewData.address.address_label),e.xp6(3),e.s9C("label",e.lcZ(57,112,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE1")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.address?null:t.branchesViewData.address.address_line1),e.xp6(3),e.s9C("label",e.lcZ(60,114,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE2")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.address?null:t.branchesViewData.address.address_line2),e.xp6(3),e.s9C("label",e.lcZ(63,116,"COMMON_ADDRESS_BLOCK.COUNTRY")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.address||null==t.branchesViewData.address.country?null:t.branchesViewData.address.country.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(66,118,"COMMON_ADDRESS_BLOCK.STATE")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.address||null==t.branchesViewData.address.state?null:t.branchesViewData.address.state.state_name),e.xp6(3),e.s9C("label",e.lcZ(69,120,"COMMON_ADDRESS_BLOCK.CITY")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.address?null:t.branchesViewData.address.city),e.xp6(3),e.s9C("label",e.lcZ(72,122,"COMMON_ADDRESS_BLOCK.ZIP_CODE")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.address?null:t.branchesViewData.address.ZIP),e.xp6(3),e.s9C("label",e.lcZ(75,124,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.address?null:t.branchesViewData.address.email),e.xp6(3),e.s9C("label",e.lcZ(78,126,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.address||null==t.branchesViewData.address.phone_country_code?null:t.branchesViewData.address.phone_country_code.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(81,128,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.address?null:t.branchesViewData.address.phone),e.Q6J("maxlength",10),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(86,130,"COMMON_BLOCK_TITLES.CONTACT_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(90,132,"COMMON_ADDRESS_BLOCK.CONTACT_TYPE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.contact_details||null==t.branchesViewData.contact_details.contact_type?null:t.branchesViewData.contact_details.contact_type.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(93,134,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.contact_details?null:t.branchesViewData.contact_details.fname),e.xp6(3),e.s9C("label",e.lcZ(96,136,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.contact_details?null:t.branchesViewData.contact_details.lname),e.xp6(3),e.s9C("label",e.lcZ(99,138,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.contact_details?null:t.branchesViewData.contact_details.email),e.xp6(3),e.s9C("label",e.lcZ(102,140,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.contact_details||null==t.branchesViewData.contact_details.phone_country_code?null:t.branchesViewData.contact_details.phone_country_code.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(105,142,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.contact_details?null:t.branchesViewData.contact_details.phone),e.xp6(3),e.s9C("label",e.lcZ(108,144,"COMMON_FIELDS.EXTENSION")),e.s9C("value",null==t.branchesViewData||null==t.branchesViewData.contact_details?null:t.branchesViewData.contact_details.phone_extn),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(113,146,"COMMON_BLOCK_TITLES.PREFERENCES")),e.xp6(4),e.s9C("label",e.lcZ(117,148,"PREFERENCES.TIMEZONE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.preferences||null==t.branchesViewData.preferences.default_timezone?null:t.branchesViewData.preferences.default_timezone.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(120,150,"PREFERENCES.THEME")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.preferences||null==t.branchesViewData.preferences.default_theme?null:t.branchesViewData.preferences.default_theme.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(123,152,"PREFERENCES.FONT_FAMILY")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.preferences||null==t.branchesViewData.preferences.default_font?null:t.branchesViewData.preferences.default_font.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(126,154,"PREFERENCES.FONT_SIZE")),e.Q6J("value",null==t.branchesViewData||null==t.branchesViewData.preferences?null:t.branchesViewData.preferences.default_font_size),e.xp6(3),e.s9C("label",e.lcZ(129,156,"PREFERENCES.LANGUAGE")),e.Q6J("value",t.dataJsonObj.defaultLanguage),e.xp6(3),e.s9C("label",e.lcZ(132,158,"COMMON_FIELDS.CURRENCY")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.preferences||null==t.branchesViewData.preferences.default_currency?null:t.branchesViewData.preferences.default_currency.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(135,160,"PREFERENCES.CURRENCY_FORMAT")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.preferences||null==t.branchesViewData.preferences.default_currency_format?null:t.branchesViewData.preferences.default_currency_format.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(138,162,"PREFERENCES.DATE_FORMAT")),e.Q6J("value",t.lookupLanguageTranslations(null==t.branchesViewData||null==t.branchesViewData.preferences||null==t.branchesViewData.preferences.default_date_format?null:t.branchesViewData.preferences.default_date_format.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(141,164,"PREFERENCES.ROWS_PER_PAGE")),e.Q6J("value",null==t.branchesViewData||null==t.branchesViewData.preferences?null:t.branchesViewData.preferences.default_rows_per_page),e.xp6(2),e.Q6J("ngIf",t.attributes.length>0),e.xp6(1),e.Q6J("createdBy",t.createdUser)("lastUpdatedBy",t.lastUpdatedUser)("showrecordhistory",t.dataJsonObj.showrecordhistory)("creationDate",null==t.branchesViewData?null:t.branchesViewData.createdAt)("lastUpdatedDate",null==t.branchesViewData?null:t.branchesViewData.updatedAt))},dependencies:[w.O5,Z.r,R.a,J.k,j.R,U.K,P.f,K.W,He.$,I.q,S.UQ,S.US,k.h4,C.X$]})}return o})();class et{status;reason_inactivate;reason_activate}var T=l(11210);const tt=[{path:"",data:{title:"Branches"},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",canActivate:[T.P],component:q,data:{responsibilityParam:r.bP.MENUS+"."+r.w1.ENTERPRISES+"."+r.bP.SUBMENUS+"."+r.w1.BRANCHES+"."+r.In.ENABLED,pageName:r.hf.BRANCHES}},{path:"create",canActivate:[T.P],component:Oe,data:{responsibilityParam:r.bP.MENUS+"."+r.w1.ENTERPRISES+"."+r.bP.SUBMENUS+"."+r.w1.BRANCHES+"."+r.In.CREATE,pageName:r.hf.BRANCHES,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}},{path:"view",canActivate:[T.P],component:W,data:{responsibilityParam:r.bP.MENUS+"."+r.w1.ENTERPRISES+"."+r.bP.SUBMENUS+"."+r.w1.BRANCHES+"."+r.In.VIEW,pageName:r.hf.BRANCHES,pageSetting:r.AM.ACTIONS,settingField:r.In.VIEW}},{path:"edit",canActivate:[T.P],component:ke,data:{responsibilityParam:r.bP.MENUS+"."+r.w1.ENTERPRISES+"."+r.bP.SUBMENUS+"."+r.w1.BRANCHES+"."+r.In.EDIT,pageName:r.hf.BRANCHES,pageSetting:r.AM.ACTIONS,settingField:r.In.EDIT}},{path:"status",canActivate:[T.P],component:W,data:{responsibilityParam:r.bP.MENUS+"."+r.w1.ENTERPRISES+"."+r.bP.SUBMENUS+"."+r.w1.BRANCHES+"."+r.In.ACTIVATE,pageName:r.hf.BRANCHES,pageSetting:r.AM.ACTIONS,settingField:r.In.ACTIVATE}},{path:"enterprisesbranches-list",canActivate:[T.P],component:q,data:{responsibilityParam:r.bP.MENUS+"."+r.w1.ENTERPRISES+"."+r.bP.SUBMENUS+"."+r.w1.BRANCHES+"."+r.In.ENABLED,pageName:r.hf.BRANCHES}}]}];let at=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[b.Bz.forChild(tt),b.Bz]})}return o})();var nt=l(65673),X=l(24006);let st=(()=>{class o{static \u0275fac=function(n){return new(n||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[w.ez,at,M.Pc,nt.Q,C.aw,S.fx,X.UX,X.u5]})}return o})()}}]);