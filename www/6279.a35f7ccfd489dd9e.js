"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6279],{76279:(je,T,o)=>{o.r(T),o.d(T,{BuildManagerModule:()=>Le});var D=o(32174),O=o(11210),N=o(15861),V=o(75875),r=o(32236),U=o(90313),e=o(94650),F=o(80529);let b=(()=>{class s{authService;http;userToken=localStorage.getItem(r.BU.TOKEN);constructor(a,i){this.authService=a,this.http=i}getAll(a,i,t,n,l,p,u,c,g,h){const I=p?"&condition="+p:"",M=g||"",C=U.L.isEmpty(h)?"":"&advSearchString="+JSON.stringify(h);return this.authService.getApiCall("api/v1/buildmanager?&skip="+l+"&limit="+n+"&sort="+t+"&search="+a+c+I+M+C,u)}create(a){return new Promise((i,t)=>{this.authService.postApiCall("api/v1/buildmanager/",a).subscribe(n=>{i(n)},n=>{t(n)})})}update(a,i){return new Promise((t,n)=>{this.authService.putApiCall("api/v1/buildmanager/"+a,i).subscribe(l=>{t(l)},l=>{n(l)})})}get(a){return this.authService.getApiCall("api/v1/buildmanager/"+a,!0)}delete(a,i){return new Promise((t,n)=>{this.authService.deleteApiCall("api/v1/buildmanager/id?").subscribe(l=>{t(l)},l=>{n(l)})})}patch(a,i){return new Promise((t,n)=>{this.authService.patchApiCall("api/v1/buildmanager/"+a,i).subscribe(l=>{t(l)},l=>{n(l)})})}downloadEnterpriseData(a){return new Promise((i,t)=>{this.authService.getApiCall("api/v1/buildmanager?enterprise.enterprise_id="+a+"&downloaddata=true",!0).subscribe(n=>{i(n)},n=>{t(n)})})}static \u0275fac=function(i){return new(i||s)(e.LFG(V.e),e.LFG(F.eN))};static \u0275prov=e.Yz7({token:s,factory:s.\u0275fac})}return s})();var w=o(42863),S=o(71568),B=o(47561),G=o(28168),L=o(30578),y=o(42786),Y=o(34942),A=o(70057),m=o(62510),_=o(54463),f=o(27601),E=o(37415),x=o(88425);const W=["datatableComponent"];let q=(()=>{class s extends B.O{apiEndPointUrl;actionSheetController;columnheaders;loggerService;router;translateService;buildManagerService;commonService;listingVariables;route;toastController;uiUtils;datatableComponent;actionStatus;actions;apiEndPoint;buildManagerListData;buildManagerMobileListData;buildmanagerSubscriptionObj;checkId;enabledStatus;enterpriseId;error;eventClickData;fabMobileactions;forceRefresh;headers;isFilterClicked=!1;mobileroutesArray;noDuplicates=void 0;pageTitle;show=!0;searchString;stats;statsBuildManagerListData;statsComparisonObj;statsObj;statsObjs;dataJsonObj={};constructor(a,i,t,n,l,p,u,c,g,h,I,M){super(h,c),this.apiEndPointUrl=a,this.actionSheetController=i,this.columnheaders=t,this.loggerService=n,this.router=l,this.translateService=p,this.buildManagerService=u,this.commonService=c,this.listingVariables=g,this.route=h,this.toastController=I,this.uiUtils=M,this.route.queryParams.subscribe(C=>{this.dataJsonObj.queryParamsObj={defaultView:C.defaultView,selectedMenuId:C.selectedMenuId,selectedSubMenuId:C.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.BUILD_MANAGER,this.dataJsonObj.htmlPageRolesEnumValuesJson={pageEnum:r.hf,pageSettingEnum:r.AM,pageSettingFieldsEnum:r.In},this.commonService.trackView(r.sn.BUILDMANAGER_LIST),this.apiEndPoint=this.apiEndPointUrl,this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.BUILD_MANAGER",value:"",showSubMenuDisplayName:!0}],this.headers=this.columnheaders.getBuildManagerColumnHeaders(),this.searchString="",this.actions={VIEW:this.roleRightsValidationByPage(r.hf.BUILD_MANAGER,r.AM.ACTIONS,r.In.VIEW),DOWNLOAD:this.roleRightsValidationByPage(r.hf.BUILD_MANAGER,r.AM.ACTIONS,r.In.DOWNLOAD)},this.statsBuildManagerListData=Y.h.getBuildManagerListStats(this.isFilterClicked,this.eventClickData),this.forceRefresh=!1,this.commonService.currentEvent.subscribe(a=>{"buildmanager"===a&&(this.forceRefresh=!0)}),this.dataJsonObj.addFiltersList=[],this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(r.hf.BUILD_MANAGER,r.AM.ACTIONS,r.In.CREATE)&&this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:r.gL.URL,redirectURL:"/admin/buildmanager/create",queryParams:"",iconClass:"fas fa-plus"}),this.roleRightsValidationByPage(r.hf.BUILD_MANAGER,r.AM.ACTIONS,r.In.FILTERS)}ionViewWillEnter(){this.actions={VIEW:this.roleRightsValidationByPage(r.hf.BUILD_MANAGER,r.AM.ACTIONS,r.In.VIEW),DOWNLOAD:this.roleRightsValidationByPage(r.hf.BUILD_MANAGER,r.AM.ACTIONS,r.In.DOWNLOAD)}}getSearchResult(a){this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString=a,this.getAllRecords(),this.datatableComponent.reset()}searchClose(){this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString="",this.getAllRecords(),this.datatableComponent.reset()}getAllRecords(){try{this.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.buildmanagerSubscriptionObj&&(this.buildmanagerSubscriptionObj.unsubscribe(),this.buildmanagerSubscriptionObj=void 0);const a=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView);this.buildmanagerSubscriptionObj=this.buildManagerService.getAll(this.searchString,this.enterpriseId,this.listingVariables.sortOrderColumn,this.listingVariables.rowsPerPage,this.listingVariables.pageNumbers,this.statsObj,this.forceRefresh,a,this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(t=>{if(this.forceRefresh||(this.buildmanagerSubscriptionObj.unsubscribe(),this.buildmanagerSubscriptionObj=void 0),t.rows.length>0){this.buildManagerMobileListData&&this.buildManagerMobileListData.length>0||(this.buildManagerMobileListData=[]);for(let n=0;n<t.rows.length;n++){const l=t.rows[n].enterprises;let p="";for(let u=0;u<l.length;u++)p=p+", "+l[u].short_name;p=p.substring(1).trim(),t.rows[n].enterprises_short_name=p,this.buildManagerMobileListData=this.buildManagerMobileListData.filter(u=>u._id!==t.rows[n]._id),this.buildManagerMobileListData.push(t.rows[n])}t.totalCount&&(this.listingVariables.totalRecords=t.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=t.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.buildManagerListData=this.buildManagerListData.concat(t.rows)):this.buildManagerListData=t.rows}else this.buildManagerListData=[],this.buildManagerMobileListData=[]},t=>{this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",a)}}loadPageData(a){this.listingVariables.pageNumbers=a.listingVariables.pageNumbers,a.clearMobileData&&(this.buildManagerMobileListData=this.noDuplicates),a.isPaginationChange&&(this.dataJsonObj.selectedFilter=a.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=a.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=a.selectedAdvancedSearchObj),this.getAllRecords()}toggle(){this.show=!this.show}createBuildManager(){try{this.router.navigate(["admin/buildmanager/create"])}catch(a){this.loggerService.setLoggerError(this.constructor.name,"createBuildManager",a)}}onItemClicked(a){this.roleRightsValidationByPage(r.hf.BUILD_MANAGER,r.AM.ACTIONS,r.In.VIEW)&&this.commonService.redirectToUrl(["..",a._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}mobileEventAction(a){try{this.mobileroutesArray=[],this.roleRightsValidationByPage(r.hf.BUILD_MANAGER,r.AM.ACTIONS,r.In.EDIT)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["admin/buildmanager/"+a._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("buildmanager")}}),this.presentActionSheet(a)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"mobileeventAction",i)}}presentActionSheet(a){var i=this;return(0,N.Z)(function*(){yield(yield i.actionSheetController.create({cssClass:"actionsheet",buttons:i.mobileroutesArray})).present()})()}onActionClicked(a){a.action===r.A0.VIEW?this.commonService.redirectToUrl(["..",a.data._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route):a.action===r.A0.CHECKBOX?(this.actionStatus=a.data.isEnabled,this.checkId=a.data._id,this.buildManagerService.patch(this.checkId,{is_enabled:this.actionStatus}).then(t=>{this.uiUtils.displaytoastMessage(!0===this.actionStatus?"COMMON_TOAST_MESSAGES.TOAST_SUCCESS_ACTIVATE":"COMMON_TOAST_MESSAGES.TOAST_SUCCESS_INACTIVATE"),this.router.routeReuseStrategy.clearModuleRouteCache("buildmanager"),this.router.navigateByUrl("admin/buildmanager"),this.getAllRecords()})):a.action===r.A0.DOWNLOAD&&this.downLoadFile(a.data.build_path)}downLoadFile(a){const i=document.createElement("a");i.href=this.apiEndPoint+a;const t=a.split("/").pop();i.download=t,document.body.appendChild(i),i.click()}statusData(a){try{this.statsObj=a.value,this.forceRefresh=!0,this.listingVariables.pageNumbers=1,this.datatableComponent.reset(),this.getAllRecords()}catch(i){this.loggerService.setLoggerError(this.constructor.name,"statusData",i)}}downloadEnterpriseData(){this.buildManagerService.downloadEnterpriseData(this.enterpriseId).then(a=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_DOWNLOAD")},a=>{this.loggerService.setLoggerError(this.constructor.name,"downloadEnterpriseData",a)})}selectedViewType(a){this.dataJsonObj.selectedDisplayView=a}selectedFilterType(a){a||(this.dataJsonObj.selectedFilter="")}onPageLevelActionClicked(a){}advancedSearchFilterClicked(a){this.dataJsonObj.selectedAdvancedSearchObj=a}onHeaderItemClick(a){switch(a.type){case"search":this.getSearchResult(a.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(a.event);break;case"filters":this.selectedFilterType(a.event);break;case"advanced_search":this.advancedSearchFilterClicked(a.event);break;case"page_actions":this.onPageLevelActionClicked(a.event)}}static \u0275fac=function(i){return new(i||s)(e.Y36("apiEndPoint"),e.Y36(A.BX),e.Y36(w.Y),e.Y36(y.m),e.Y36(m.F0),e.Y36(_.sK),e.Y36(b),e.Y36(S.v),e.Y36(L.v),e.Y36(m.gz),e.Y36(A.yF),e.Y36(f.s))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-buildmanager"]],viewQuery:function(i,t){if(1&i&&e.Gf(W,5),2&i){let n;e.iGM(n=e.CRH())&&(t.datatableComponent=n.first)}},features:[e._Bn([b,L.v,w.Y]),e.qOj],decls:9,vars:28,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],[3,"header","actions","data","totalRecords","paginator","totalPages","mobileListData","expand","showRights","statsSearch","listingVariables","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","selectedSubMenuId","actionClicked","itemClickEvent","redirectionEvent","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(l){return t.onHeaderItemClick(l)}),e.qZA()(),e.TgZ(4,"div",4)(5,"app-datatable",5,6),e.NdJ("actionClicked",function(l){return t.onActionClicked(l)})("itemClickEvent",function(l){return t.onItemClicked(l)})("redirectionEvent",function(l){return t.mobileEventAction(l)})("loadPageData",function(l){return t.loadPageData(l)}),e.qZA(),e.TgZ(7,"div",7)(8,"app-page-actions",8),e.NdJ("selectedAction",function(l){return t.onPageLevelActionClicked(l)}),e.qZA()()()()()),2&i&&(e.xp6(3),e.Q6J("pageName",t.dataJsonObj.pageName)("defaultView",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",t.dataJsonObj.pageActionsList)("pageTitle",t.dataJsonObj.pageTitle)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(2),e.Q6J("header",t.headers)("actions",t.actions)("data",t.buildManagerListData)("totalRecords",t.listingVariables.totalRecords)("paginator",!0)("totalPages",t.listingVariables.totalpages)("mobileListData",t.buildManagerMobileListData)("expand",!1)("showRights",t.roleRightsValidationByPage(t.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.BUILD_MANAGER,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.STATS))("statsSearch",t.searchString)("listingVariables",t.listingVariables)("selectedDisplayViewType",t.dataJsonObj.selectedDisplayView)("selectedFilterType",t.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",t.dataJsonObj.selectedAdvancedSearchObj)("pageName",t.dataJsonObj.pageName)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",t.dataJsonObj.pageActionsList))},dependencies:[G.n,E.q,x.y]})}return s})();var j=o(57936),R=o(46448),v=o(36895),J=o(2387),Z=o(56368),Q=o(47178),k=o(93837),H=o(42919);const K=["aliasNameInput"],z=["appIdInput"],X=["expiryInDaysInput"],$=["gitProjectNameInput"],ee=["headerTitleInput"],te=["keyPasswordInput"],ae=["keyStorePasswordInput"],ie=["multiSelectEnterprisesValidation"],ne=["platformTypeDropdown"];function se(s,d){if(1&s&&(e.TgZ(0,"ion-col")(1,"ion-item",29)(2,"ion-label",30),e._uU(3),e.qZA(),e._UZ(4,"ion-radio",31),e.qZA()()),2&s){const a=d.$implicit;e.xp6(3),e.Oqu(a.name),e.xp6(1),e.s9C("name",a.name),e.s9C("value",a.id),e.s9C("checked",a.checked)}}function re(s,d){if(1&s&&(e.TgZ(0,"div",12),e._UZ(1,"app-input",32),e.ALo(2,"translate"),e.qZA()),2&s){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",a.dataObj.selected_enterprise.short_name)}}function le(s,d){if(1&s){const a=e.EpF();e.TgZ(0,"div",12)(1,"app-dropdown-multiselect-v2",33,34),e.NdJ("valueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changeSelectedEnterprises(t))})("searchValueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.getEnterprisesList(t))}),e.ALo(3,"translate"),e.qZA()()}if(2&s){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"COMMON_PAGE_TITLES.ENTERPRISES")),e.Q6J("options",a.dataObj.enterprisesList)("selectedOptions",a.dataObj.selectedOptions)}}function oe(s,d){if(1&s){const a=e.EpF();e.TgZ(0,"div",12)(1,"app-input",35),e.NdJ("valueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changeInputField(t,"analytics_tracker_id"))})("keypress",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.clearmessage())}),e.ALo(2,"translate"),e.qZA()()}2&s&&(e.xp6(1),e.s9C("label",e.lcZ(2,2,"NEW_VARIABLES.ANALYTICS_TRACKER_ID")),e.Q6J("maxlength",80))}function de(s,d){if(1&s){const a=e.EpF();e.TgZ(0,"div",12)(1,"app-input",36,37),e.NdJ("valueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changeInputField(t,"expiry_in_days"))})("keypress",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.clearmessage())}),e.ALo(3,"translate"),e.qZA()()}2&s&&(e.xp6(1),e.s9C("label",e.lcZ(3,2,"NEW_VARIABLES.EXPIRY_IN_DAYS")),e.Q6J("maxlength",80))}function pe(s,d){if(1&s){const a=e.EpF();e.TgZ(0,"div",12)(1,"app-input",38,39),e.NdJ("valueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changeInputField(t,"key_value"))})("keypress",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.clearmessage())}),e.ALo(3,"translate"),e.qZA()()}2&s&&(e.xp6(1),e.s9C("label",e.lcZ(3,2,"NEW_VARIABLES.KEY_STORE_PASSWORD")),e.Q6J("maxlength",80))}function ue(s,d){if(1&s){const a=e.EpF();e.TgZ(0,"div",12)(1,"app-input",40,41),e.NdJ("valueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changeInputField(t,"alias_name"))})("keypress",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.clearmessage())}),e.ALo(3,"translate"),e.qZA()()}2&s&&(e.xp6(1),e.s9C("label",e.lcZ(3,2,"NEW_VARIABLES.ALIAS_NAME")),e.Q6J("maxlength",80))}function ce(s,d){if(1&s){const a=e.EpF();e.TgZ(0,"div",12)(1,"app-input",42,43),e.NdJ("valueChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changeInputField(t,"alias_password"))})("keypress",function(){e.CHM(a);const t=e.oxw();return e.KtG(t.clearmessage())}),e.ALo(3,"translate"),e.qZA()()}2&s&&(e.xp6(1),e.s9C("label",e.lcZ(3,2,"NEW_VARIABLES.KEY_PASSWORD")),e.Q6J("maxlength",80))}function he(s,d){if(1&s){const a=e.EpF();e.TgZ(0,"div",12)(1,"div",44)(2,"input",45),e.NdJ("change",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changeInputFile(t,"signatureFile"))}),e.qZA(),e._UZ(3,"label",46),e.qZA()()}}let ge=(()=>{class s{buildManagerService;loggerService;navigationService;router;translateService;uiUtils;commonService;enterprisesService;toastController;aliasNameInput;appIdInput;expiryInDaysInput;gitProjectNameInput;headerTitleInput;keyPasswordInput;keyStorePasswordInput;multiSelectEnterprisesValidation;platformTypeDropdown;dataObj;disableSubmitBtn=!1;enableAnalyticsOptions;error;headerAction;isSyncEnabledOptions;showIndustriesOptions;dataJsonObj={};constructor(a,i,t,n,l,p,u,c,g){this.buildManagerService=a,this.loggerService=i,this.navigationService=t,this.router=n,this.translateService=l,this.uiUtils=p,this.commonService=u,this.enterprisesService=c,this.toastController=g}ngOnInit(){this.headerAction={BACK:!0},this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.BUILD_MANAGER,this.dataObj={},this.dataObj.data={},this.dataObj.enterprisesList=[],this.dataObj.selectedOptions=[],this.dataObj.platformTypes={},this.commonService.trackView(r.sn.BUILDMANAGER_CREATE),this.dataObj.selected_enterprise={},this.dataObj.selected_enterprise.enterprise_id=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),document.getElementsByTagName("body"),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.BUILD_MANAGER",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.getEnterprisesViewData(),this.getEnterprisesDropdown(""),this.isSyncEnabledOptions=[{value:"",displayname:this.translateService.instant("NEW_VARIABLES.IS_SYNC_ENABLED"),key:"checkbox1"}],this.enableAnalyticsOptions=[{value:"",displayname:this.translateService.instant("NEW_VARIABLES.ENABLE_ANALYTICS"),key:"checkbox2"}],this.dataObj.buildTypesList=[{id:"Demo",name:"Demo",checked:!0},{id:"Release",name:"Release",checked:!1}],this.showIndustriesOptions=[{value:"",displayname:this.translateService.instant("NEW_VARIABLES.SHOW_INDUSTRIES"),key:"checkbox3"}],this.commonService.getLookupCodesListJson(this.dataObj.selected_enterprise.enterprise_id,"list").then(i=>{this.dataJsonObj.lookupCodesListJSON=i})}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.dataObj.selected_enterprise.enterprise_id).subscribe(a=>{this.dataObj.selected_enterprise.enterprise_name=a.enterprise_name,this.dataObj.selected_enterprise.enterprise_id=a._id,this.dataObj.selected_enterprise.short_name=a.short_name},a=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",a)}}getEnterprisesDropdown(a){try{this.enterprisesService.getEnterprisesData(a).then(i=>{this.dataObj.enterprisesList=i,this.dataObj.enterprisesIdsList=[];for(let t=0;t<i.length;t++)this.dataObj.enterprisesIdsList.push(i[t].ID)},i=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesDropdown",i)})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesDropdown",i)}}getPlatformTypesList(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.BUILD_PLATFORM_TYPES],a).then(i=>{this.dataObj.platformTypes.options=i})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getStatusList",i)}}changeLookupCode(a,i){this.dataObj.data[i]={lookup_id:a._id,lookup_name:a.lookup_name}}changeSelectedEnterprises(a){try{if(this.dataObj.data.enterprises=[],a.value.length>0)for(let i=0;i<a.value.length;i++){const t=this.dataObj.enterprisesIdsList.indexOf(a.value[i].ID);if(-1!==t){const n=this.dataObj.enterprisesList[t];this.dataObj.data.enterprises.push({enterprise_id:n.ID,enterprise_name:n.NAME,short_name:n.short_name})}}}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeSelectedEnterprises",i)}}changeBuildType(a){const i=a.detail.value;this.dataObj.data.build_type=i,this.dataObj.data.enterprises=[],"Release"==i?(this.dataObj.data.enterprises.push(this.dataObj.selected_enterprise),this.dataObj.data.header_title=this.dataObj.selected_enterprise.short_name,this.dataObj.data.app_id="com.pigeontech."+this.dataObj.data.header_title.toLowerCase()):(this.dataObj.data.header_title="",this.dataObj.data.app_id="",this.getEnterprisesDropdown(""))}changeCheckBox(a,i){a&&(this.dataObj.data[i]=a.value)}changeInputField(a,i){this.dataObj.data[i]=a.value,"header_title"===i&&(this.dataObj.data.app_id="com.pigeontech."+a.value.toLowerCase())}changeInputFile(a,i){if(a){this.error="";const t=a.target.files,n=document.getElementById("importFile");this.dataObj.inputFiles||(this.dataObj.inputFilesObj={}),t.length>0?(this.dataObj.inputFilesObj[i]=t[0],this.displayFileNameMetaData(t[0].name)):(this.dataObj.inputFilesObj[i]="",n.innerHTML=this.translateService.instant("NEW_VARIABLES.BUILD_SIGNATURE"))}}displayFileNameMetaData(a){const i=document.getElementById("importFile");let t=a;null!=t&&""!==t&&t.split(".")[0].length>25&&(t=t.split(".")[0].substring(0,25)+".."+t.split(".")[1]),i.innerHTML=t}radioFocus(){}radioSelect(a){}radioBlur(){}createRecord(){try{(!this.multiSelectEnterprisesValidation||this.multiSelectEnterprisesValidation.isValid())&&this.platformTypeDropdown.isValid()&&this.gitProjectNameInput.isValid()&&this.headerTitleInput.isValid()&&this.appIdInput.isValid()&&(!this.expiryInDaysInput||this.expiryInDaysInput.isValid())&&(!this.keyStorePasswordInput||this.keyStorePasswordInput.isValid())&&(!this.aliasNameInput||this.aliasNameInput.isValid())&&(!this.keyPasswordInput||this.keyPasswordInput.isValid())&&(this.disableSubmitBtn=!0,!0===this.disableSubmitBtn&&""===this.error&&(this.disableSubmitBtn=!1,this.buildManagerService.create(this.dataObj.data).then(a=>{this.disableSubmitBtn=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),this.router.routeReuseStrategy.clearModuleRouteCache("buildmanager"),this.router.navigateByUrl("admin/buildmanager")},a=>{this.commonErrorCodes(JSON.parse(a))})))}catch(a){this.loggerService.setLoggerError(this.constructor.name,"createRecord",a)}}commonErrorCodes(a){switch(JSON.parse(a[r.BU.STATUS])){case 409:this.error=this.translateService.instant("COMMON_STATUS_CODES.409");break;case 400:this.error=this.translateService.instant("VALIDATION_MESSAGES.2018")}}cancelBtn(){this.commonService.redirectToPreviousUrl()}clearmessage(){this.error=""}pageheadeActionClick(a){"BACK"==a.value&&this.cancelBtn()}static \u0275fac=function(i){return new(i||s)(e.Y36(b),e.Y36(y.m),e.Y36(R.f),e.Y36(m.F0),e.Y36(_.sK),e.Y36(f.s),e.Y36(S.v),e.Y36(j.e),e.Y36(A.yF))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-buildmanager-create"]],viewQuery:function(i,t){if(1&i&&(e.Gf(K,5),e.Gf(z,5),e.Gf(X,5),e.Gf($,5),e.Gf(ee,5),e.Gf(te,5),e.Gf(ae,5),e.Gf(ie,5),e.Gf(ne,5)),2&i){let n;e.iGM(n=e.CRH())&&(t.aliasNameInput=n.first),e.iGM(n=e.CRH())&&(t.appIdInput=n.first),e.iGM(n=e.CRH())&&(t.expiryInDaysInput=n.first),e.iGM(n=e.CRH())&&(t.gitProjectNameInput=n.first),e.iGM(n=e.CRH())&&(t.headerTitleInput=n.first),e.iGM(n=e.CRH())&&(t.keyPasswordInput=n.first),e.iGM(n=e.CRH())&&(t.keyStorePasswordInput=n.first),e.iGM(n=e.CRH())&&(t.multiSelectEnterprisesValidation=n.first),e.iGM(n=e.CRH())&&(t.platformTypeDropdown=n.first)}},features:[e._Bn([b,f.s])],decls:55,vars:47,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],["name","radio-group",3,"ionChange"],[4,"ngFor","ngForOf"],["class","col-md-4",4,"ngIf"],[1,"col-md-4"],["disabled","false","defaultValue","","mandatory","true","id","buildmanager-create-platformtype",3,"label","options","selectedOption","searchValueChange"],["platformTypeDropdown",""],["autoCaseFlag","false","mandatory","true","disabled","false","id","buildmanager-create-gitprojectname",3,"label","maxlength","valueChange","keypress"],["gitProjectNameInput",""],["autoCaseFlag","true","mandatory","true","disabled","false","id","buildmanager-create-headertitle",3,"label","maxlength","value","valueChange","keypress"],["headerTitleInput",""],[1,"col-md-2","d-flex","align-items-center"],["label","","mandatory","true","id","buildmanager-create-issyncenabled",3,"options","checked","valueChange"],["label","","mandatory","true","id","buildmanager-create-enableanalytics",3,"options","checked","valueChange"],["label","","mandatory","true","id","buildmanager-create-showindustries",3,"options","checked","valueChange"],["autoCaseFlag","false","mandatory","true","disabled","true","id","buildmanager-create-appid",3,"label","maxlength","value","keypress"],["appIdInput",""],[1,"col-lg-12","text-end","mt-2","mb-3","btns-group","pdl-0"],["className","btn btn-primary btn-sm","id","buildmanager-create-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","buildmanager-create-cancel",3,"label","buttonOnClick"],[1,"text-danger","text-center"],["lines","none"],[1,"fs-13"],["slot","start",1,"mgt-0","mgb-0","mgr-5",3,"name","value","checked"],["disabled","true","id","buildmanager-create-enterprise",3,"label","value"],["disabled","false","mandatory","true","id","build-manager-create-enterprises",3,"label","options","selectedOptions","valueChange","searchValueChange"],["multiSelectEnterprisesValidation",""],["autoCaseFlag","true","mandatory","false","disabled","false","id","buildmanager-create-analyticstrackerid",3,"label","maxlength","valueChange","keypress"],["autoCaseFlag","true","mandatory","true","disabled","false","id","buildmanager-create-expiryindays",3,"label","maxlength","valueChange","keypress"],["expiryInDaysInput",""],["autoCaseFlag","true","mandatory","true","disabled","false","id","buildmanager-create-keystorepassword",3,"label","maxlength","valueChange","keypress"],["keyStorePasswordInput",""],["autoCaseFlag","true","mandatory","true","disabled","false","id","buildmanager-create-aliasname",3,"label","maxlength","valueChange","keypress"],["aliasNameInput",""],["autoCaseFlag","true","mandatory","true","disabled","false","id","buildmanager-create-keypassword",3,"label","maxlength","valueChange","keypress"],["keyPasswordInput",""],[1,"position-relative"],["type","file","id","inputfile","accept","application/vnd.ms-excel|image/*|video/*|audio/*","name","file-input",1,"form-control",3,"change"],["id","importFile","for","customFile",1,"custom-file-label","input-margin"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"ion-radio-group",9),e.NdJ("ionChange",function(l){return t.changeBuildType(l)}),e.TgZ(10,"ion-row"),e.YNc(11,se,5,4,"ion-col",10),e.qZA()()(),e.TgZ(12,"div",8),e.YNc(13,re,3,4,"div",11),e.YNc(14,le,4,5,"div",11),e.TgZ(15,"div",12)(16,"app-dropdown-search",13,14),e.NdJ("selectedOption",function(l){return t.changeLookupCode(l,"platform_type")})("searchValueChange",function(l){return t.getPlatformTypesList(l)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",12)(20,"app-input",15,16),e.NdJ("valueChange",function(l){return t.changeInputField(l,"git_Project_name")})("keypress",function(){return t.clearmessage()}),e.ALo(22,"translate"),e.qZA()()(),e.TgZ(23,"div",8)(24,"div",12)(25,"app-input",17,18),e.NdJ("valueChange",function(l){return t.changeInputField(l,"header_title")})("keypress",function(){return t.clearmessage()}),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",19)(29,"app-checkbox",20),e.NdJ("valueChange",function(l){return t.changeCheckBox(l,"is_sync_enabled")}),e.qZA()(),e.TgZ(30,"div",19)(31,"app-checkbox",21),e.NdJ("valueChange",function(l){return t.changeCheckBox(l,"enable_analytics")}),e.qZA()(),e.YNc(32,oe,3,4,"div",11),e.qZA(),e.TgZ(33,"div",8)(34,"div",19)(35,"app-checkbox",22),e.NdJ("valueChange",function(l){return t.changeCheckBox(l,"show_industries")}),e.qZA()(),e.TgZ(36,"div",12)(37,"app-input",23,24),e.NdJ("keypress",function(){return t.clearmessage()}),e.ALo(39,"translate"),e.qZA()(),e.YNc(40,de,4,4,"div",11),e.YNc(41,pe,4,4,"div",11),e.qZA(),e.TgZ(42,"div",8),e.YNc(43,ue,4,4,"div",11),e.YNc(44,ce,4,4,"div",11),e.YNc(45,he,4,0,"div",11),e.qZA(),e.TgZ(46,"div",8)(47,"div",25)(48,"app-button",26),e.NdJ("buttonOnClick",function(){return t.createRecord()}),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"app-button",27),e.NdJ("buttonOnClick",function(){return t.cancelBtn()}),e.ALo(51,"translate"),e.qZA()()(),e.TgZ(52,"div",28),e._uU(53),e.ALo(54,"translate"),e.qZA()()()()()()()),2&i&&(e.xp6(6),e.Q6J("pageName",t.dataJsonObj.pageName)("pageTitle",t.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(5),e.Q6J("ngForOf",t.dataObj.buildTypesList),e.xp6(2),e.Q6J("ngIf","Release"===t.dataObj.data.build_type),e.xp6(1),e.Q6J("ngIf","Demo"===t.dataObj.data.build_type),e.xp6(2),e.s9C("label",e.lcZ(18,33,"NEW_VARIABLES.PLATFORM_TYPE")),e.Q6J("options",t.dataObj.platformTypes.options),e.xp6(4),e.s9C("label",e.lcZ(22,35,"NEW_VARIABLES.GIT_PROJECT_NAME")),e.Q6J("maxlength",80),e.xp6(5),e.s9C("label",e.lcZ(27,37,"NEW_VARIABLES.HEADER_TITLE")),e.s9C("value",t.dataObj.data.header_title),e.Q6J("maxlength",80),e.xp6(4),e.Q6J("options",t.isSyncEnabledOptions)("checked",t.dataObj.data.is_sync_enabled),e.xp6(2),e.Q6J("options",t.enableAnalyticsOptions)("checked",t.dataObj.data.enable_analytics),e.xp6(1),e.Q6J("ngIf",!0===t.dataObj.data.enable_analytics),e.xp6(3),e.Q6J("options",t.showIndustriesOptions)("checked",t.dataObj.data.show_industries),e.xp6(2),e.s9C("label",e.lcZ(39,39,"NEW_VARIABLES.APP_ID")),e.s9C("value",t.dataObj.data.app_id),e.Q6J("maxlength",80),e.xp6(3),e.Q6J("ngIf","Demo"===t.dataObj.data.build_type),e.xp6(1),e.Q6J("ngIf","Release"===t.dataObj.data.build_type),e.xp6(2),e.Q6J("ngIf","Release"===t.dataObj.data.build_type),e.xp6(1),e.Q6J("ngIf","Release"===t.dataObj.data.build_type),e.xp6(1),e.Q6J("ngIf","Release"===t.dataObj.data.build_type),e.xp6(3),e.s9C("label",e.lcZ(49,41,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.s9C("disabled",t.disableSubmitBtn),e.xp6(2),e.s9C("label",e.lcZ(51,43,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(54,45,t.error)," "))},dependencies:[v.sg,v.O5,J.r,Z.a,Q.E,k.b,H.C,E.q,_.X$]})}return s})();var me=o(98621),be=o(11735);function _e(s,d){if(1&s&&(e.TgZ(0,"ion-col")(1,"ion-item")(2,"ion-label"),e._uU(3),e.qZA(),e._UZ(4,"ion-radio",27),e.qZA()()),2&s){const a=d.$implicit;e.xp6(3),e.Oqu(a.name),e.xp6(1),e.s9C("name",a.name),e.s9C("value",a.id),e.s9C("checked",a.checked)}}function ve(s,d){if(1&s&&(e.TgZ(0,"div",12),e._UZ(1,"app-input",28),e.ALo(2,"translate"),e.qZA()),2&s){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",null==a.viewData?null:a.viewData.enterprise.short_name)}}function Ce(s,d){if(1&s&&(e.TgZ(0,"div",12),e._UZ(1,"app-dropdown-multiselect",29),e.ALo(2,"translate"),e.qZA()),2&s){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,3,"COMMON_PAGE_TITLES.ENTERPRISES")),e.Q6J("options",a.enterprisesOptions)("defaultValue",a.selectedEnterprises)}}function Ae(s,d){if(1&s&&(e.TgZ(0,"div",12),e._UZ(1,"app-input",30),e.ALo(2,"translate"),e.qZA()),2&s){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"NEW_VARIABLES.ANALYTICS_TRACKER_ID")),e.s9C("value",null==a.viewData?null:a.viewData.analytics_tracker_id)}}function Oe(s,d){if(1&s&&(e.TgZ(0,"div",12),e._UZ(1,"app-input",31),e.ALo(2,"translate"),e.qZA()),2&s){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"NEW_VARIABLES.EXPIRY_IN_DAYS")),e.s9C("value",null==a.viewData?null:a.viewData.expiry_in_days)}}function Se(s,d){if(1&s&&(e.TgZ(0,"div",12),e._UZ(1,"app-input",32),e.ALo(2,"translate"),e.qZA()),2&s){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"NEW_VARIABLES.KEY_STORE_PASSWORD")),e.s9C("value",null==a.viewData?null:a.viewData.key_value)}}function ye(s,d){if(1&s&&(e.TgZ(0,"div",12),e._UZ(1,"app-input",33),e.ALo(2,"translate"),e.qZA()),2&s){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"NEW_VARIABLES.ALIAS_NAME")),e.s9C("value",null==a.viewData?null:a.viewData.alias_name)}}function fe(s,d){if(1&s&&(e.TgZ(0,"div",12),e._UZ(1,"app-input",34),e.ALo(2,"translate"),e.qZA()),2&s){const a=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"NEW_VARIABLES.KEY_PASSWORD")),e.s9C("value",null==a.viewData?null:a.viewData.alias_password)}}function Ee(s,d){if(1&s){const a=e.EpF();e.TgZ(0,"div",12)(1,"div",35)(2,"input",36),e.NdJ("change",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.changeInputFile(t,"signatureFile"))}),e.qZA(),e._UZ(3,"label",37),e.qZA()()}}const Me=[{path:"",data:{title:"Build Manager"},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",canActivate:[O.P],component:q,data:{object_type:r.hf.BUILD_MANAGER,title:"Build Manager list",responsibilityParam:r.bP.MENUS+"."+r.w1.ADMIN+"."+r.bP.SUBMENUS+"."+r.w1.BUILD_MANAGER+"."+r.Iu.ENABLED,pageName:r.hf.BUILD_MANAGER}},{path:"create",canActivate:[O.P],component:ge,data:{object_type:r.hf.BUILD_MANAGER,title:"Build Manager Create",responsibilityParam:r.bP.MENUS+"."+r.w1.ADMIN+"."+r.bP.SUBMENUS+"."+r.w1.BUILD_MANAGER+"."+r.In.CREATE,pageName:r.hf.BUILD_MANAGER,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}},{path:":id/view",canActivate:[O.P],component:(()=>{class s extends B.O{loggerService;navigationService;router;translateService;buildManagerService;commonService;enterprisesService;route;toastController;buildTypesList=[];createdBy;creationDate;enableAnalyticsOptions;enterprisesOptions=[];dataJsonObj={};isSyncEnabledOptions;lastUpdatedBy;lastUpdatedDate;pageTitle;recordId;selectedEnterprises=[];showIndustriesOptions;viewData;constructor(a,i,t,n,l,p,u,c,g){super(c,p),this.loggerService=a,this.navigationService=i,this.router=t,this.translateService=n,this.buildManagerService=l,this.commonService=p,this.enterprisesService=u,this.route=c,this.toastController=g,this.route.queryParams.subscribe(h=>{this.dataJsonObj.queryParamsObj={defaultView:h.defaultView,selectedMenuId:h.selectedMenuId,selectedSubMenuId:h.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.BUILD_MANAGER,this.commonService.trackView(r.sn.BUILDMANAGER_VIEW),this.route.params.subscribe(t=>{this.recordId=t.id,this.getRecordById()}),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.BUILD_MANAGER,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.dataJsonObj.enterpriseData=JSON.parse(localStorage.getItem(r.BU.ENTERPRISE)),this.dataJsonObj.enterpriseId=this.dataJsonObj.enterpriseData.enterprise_id,document.getElementsByTagName("body"),this.isSyncEnabledOptions=[{value:"",displayname:this.translateService.instant("NEW_VARIABLES.IS_SYNC_ENABLED"),key:"checkbox1"}],this.enableAnalyticsOptions=[{value:"",displayname:this.translateService.instant("NEW_VARIABLES.ENABLE_ANALYTICS"),key:"checkbox2"}],this.showIndustriesOptions=[{value:"",displayname:this.translateService.instant("NEW_VARIABLES.SHOW_INDUSTRIES"),key:"checkbox3"}],this.dataJsonObj.selectedPage=r.hf.BUILD_MANAGER,this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}])}getDynamicJson(a){var i=this;return(0,N.Z)(function*(){for(let t of a)i.dataJsonObj[t.storingFieldName]=yield i.commonService.getDynamicJson(i.dataJsonObj.enterpriseId,t.folderName,t.jsonType);i.dataJsonObj.selectedObj={},i.dataJsonObj.selectedObj.recordId=i.recordId,i.dataJsonObj.selectedObj.pageObj=i.dataJsonObj.menuDataJson.filter(t=>t.menu_page.page_name===i.dataJsonObj.selectedPage),i.dataJsonObj.selectedObjEnabled=!0})()}getRecordById(){try{this.buildManagerService.get(this.recordId).subscribe(a=>{this.viewData=a,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.BUILD_MANAGER",value:this.viewData?.git_Project_name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.selectedEnterprises=[],this.buildTypesList=[{id:"Demo",name:"Demo",checked:!1},{id:"Release",name:"Release",checked:!1}];for(let i=0;i<this.buildTypesList.length;i++)if(this.buildTypesList[i].name===this.viewData.build_type){this.buildTypesList[i].checked=!0;break}for(let i=0;i<this.viewData.enterprises.length;i++)this.selectedEnterprises.push(this.viewData.enterprises[i].enterprise_id);1==this.viewData.enterprises.length&&(this.viewData.enterprise={enterprise_id:this.viewData.enterprises[0].enterprise_id,enterprise_name:this.viewData.enterprises[0].enterprise_name,short_name:this.viewData.enterprises[0].short_name})},a=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",a)}}getEnterprisesDropdown(a){try{this.enterprisesService.getEnterprisesData(a).then(i=>{this.enterprisesOptions=[];for(let t=0;t<i.length;t++)-1!==this.selectedEnterprises.indexOf(i[t].ID)&&this.enterprisesOptions.push(i[t])},i=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesDropdown",i)})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesDropdown",i)}}cancelBtn(){this.commonService.redirectToPreviousUrl()}static \u0275fac=function(i){return new(i||s)(e.Y36(y.m),e.Y36(R.f),e.Y36(m.F0),e.Y36(_.sK),e.Y36(b),e.Y36(S.v),e.Y36(j.e),e.Y36(m.gz),e.Y36(A.yF))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-buildmanager-view"]],features:[e._Bn([b]),e.qOj],decls:52,vars:45,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],["name","radio-group"],[4,"ngFor","ngForOf"],["class","col-md-4",4,"ngIf"],[1,"col-md-4"],["disabled","true","id","buildmanager-view-platformtype",3,"label","value"],["disabled","true","id","buildmanager-view-gitProjectname",3,"label","value"],["mandatory","false","disabled","true","id","buildmanager-view-headertitle",3,"label","value"],[1,"col-md-2","d-flex","align-items-center"],["label","","disabled","true","mandatory","true","id","buildmanager-view-issyncenabled",3,"options","checked"],["label","","disabled","true","mandatory","true","id","buildmanager-view-enableanalytics",3,"options","checked"],["label","","disabled","true","mandatory","true","id","buildmanager-view-showindustries",3,"options","checked"],["mandatory","false","disabled","true","id","buildmanager-view-appid",3,"label","value"],[1,"col-md-12","text-end","mt-2","mb-2"],["className","btn btn-danger btn-sm","id","buildmanager-view-close",3,"label","buttonOnClick"],[1,"row"],[1,"card"],[1,"card-content"],[3,"createdBy","lastUpdatedBy","showrecordhistory","creationDate","lastUpdatedDate"],["slot","start","disabled","",1,"mgt-0","mgb-0","mgr-5",3,"name","value","checked"],["disabled","true","id","buildmanager-view-enterprise",3,"label","value"],["disabled","true",3,"label","options","defaultValue"],["mandatory","false","disabled","true","id","buildmanager-view-analyticstrackerid",3,"label","value"],["mandatory","false","disabled","true","id","buildmanager-view-expiryindays",3,"label","value"],["mandatory","false","disabled","true","id","buildmanager-view-keystorepassword",3,"label","value"],["mandatory","false","disabled","true","id","buildmanager-view-aliasname",3,"label","value"],["mandatory","false","disabled","true","id","buildmanager-view-aliaspassword",3,"label","value"],[1,"position-relative"],["type","file","id","inputfile","disabled","true","accept","application/vnd.ms-excel|image/*|video/*|audio/*","name","file-input",1,"form-control",3,"change"],["id","importFile","for","customFile",1,"custom-file-label","input-margin"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"ion-radio-group",9)(10,"ion-row"),e.YNc(11,_e,5,4,"ion-col",10),e.qZA()()(),e.TgZ(12,"div",8),e.YNc(13,ve,3,4,"div",11),e.YNc(14,Ce,3,5,"div",11),e.TgZ(15,"div",12),e._UZ(16,"app-input",13),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",12),e._UZ(19,"app-input",14),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",8)(22,"div",12),e._UZ(23,"app-input",15),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",16),e._UZ(26,"app-checkbox",17),e.qZA(),e.TgZ(27,"div",16),e._UZ(28,"app-checkbox",18),e.qZA(),e.YNc(29,Ae,3,4,"div",11),e.qZA(),e.TgZ(30,"div",8)(31,"div",16),e._UZ(32,"app-checkbox",19),e.qZA(),e.TgZ(33,"div",12),e._UZ(34,"app-input",20),e.ALo(35,"translate"),e.qZA(),e.YNc(36,Oe,3,4,"div",11),e.YNc(37,Se,3,4,"div",11),e.qZA(),e.TgZ(38,"div",8),e.YNc(39,ye,3,4,"div",11),e.YNc(40,fe,3,4,"div",11),e.YNc(41,Ee,4,0,"div",11),e.qZA(),e.TgZ(42,"div",8)(43,"div",21)(44,"app-button",22),e.NdJ("buttonOnClick",function(){return t.cancelBtn()}),e.ALo(45,"translate"),e.qZA()()(),e.TgZ(46,"div",23)(47,"div",3)(48,"div",24)(49,"div",25)(50,"p-accordion"),e._UZ(51,"app-recordhistory",26),e.qZA()()()()()()()()()()()),2&i&&(e.xp6(6),e.Q6J("pageName",t.dataJsonObj.pageName)("pageTitle",t.dataJsonObj.pageTitle)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(5),e.Q6J("ngForOf",t.buildTypesList),e.xp6(2),e.Q6J("ngIf","Release"===(null==t.viewData?null:t.viewData.build_type)),e.xp6(1),e.Q6J("ngIf","Demo"===(null==t.viewData?null:t.viewData.build_type)),e.xp6(2),e.s9C("label",e.lcZ(17,35,"NEW_VARIABLES.PLATFORM_TYPE")),e.s9C("value",t.lookupLanguageTranslations(null==t.viewData?null:t.viewData.platform_type.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(20,37,"NEW_VARIABLES.GIT_PROJECT_NAME")),e.s9C("value",null==t.viewData?null:t.viewData.git_Project_name),e.xp6(4),e.s9C("label",e.lcZ(24,39,"NEW_VARIABLES.HEADER_TITLE")),e.s9C("value",null==t.viewData?null:t.viewData.header_title),e.xp6(3),e.Q6J("options",t.isSyncEnabledOptions)("checked",null==t.viewData?null:t.viewData.is_sync_enabled),e.xp6(2),e.Q6J("options",t.enableAnalyticsOptions)("checked",null==t.viewData?null:t.viewData.enable_analytics),e.xp6(1),e.Q6J("ngIf",!0===(null==t.viewData?null:t.viewData.enable_analytics)),e.xp6(3),e.Q6J("options",t.showIndustriesOptions)("checked",null==t.viewData?null:t.viewData.show_industries),e.xp6(2),e.s9C("label",e.lcZ(35,41,"NEW_VARIABLES.APP_ID")),e.s9C("value",null==t.viewData?null:t.viewData.app_id),e.xp6(2),e.Q6J("ngIf","Demo"===(null==t.viewData?null:t.viewData.build_type)),e.xp6(1),e.Q6J("ngIf","Release"===(null==t.viewData?null:t.viewData.build_type)),e.xp6(2),e.Q6J("ngIf","Release"===(null==t.viewData?null:t.viewData.build_type)),e.xp6(1),e.Q6J("ngIf","Release"===(null==t.viewData?null:t.viewData.build_type)),e.xp6(1),e.Q6J("ngIf","Release"===(null==t.viewData?null:t.viewData.build_type)),e.xp6(3),e.s9C("label",e.lcZ(45,43,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(7),e.Q6J("createdBy",null==t.viewData?null:t.viewData.created_by)("lastUpdatedBy",null==t.viewData?null:t.viewData.updated_by)("showrecordhistory",t.dataJsonObj.showrecordhistory)("creationDate",null==t.viewData?null:t.viewData.createdAt)("lastUpdatedDate",null==t.viewData?null:t.viewData.updatedAt))},dependencies:[v.sg,v.O5,D.UQ,J.r,Z.a,me.c,k.b,be.W,E.q,_.X$]})}return s})(),data:{object_type:r.hf.BUILD_MANAGER,title:"Build Manager View",responsibilityParam:r.bP.MENUS+"."+r.w1.ADMIN+"."+r.bP.SUBMENUS+"."+r.w1.BUILD_MANAGER+"."+r.In.VIEW,pageName:r.hf.BUILD_MANAGER,pageSetting:r.AM.ACTIONS,settingField:r.In.VIEW}}]}];let Te=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({imports:[m.Bz.forChild(Me),m.Bz]})}return s})();var De=o(32137),P=o(24006),Ne=o(83748),we=o(93144),Be=o(65673);let Le=(()=>{class s{static \u0275fac=function(i){return new(i||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({imports:[Te,v.ez,_.aw,P.u5,P.UX,we.U$,D.fx,Be.Q,De.D,Ne.v]})}return s})()}}]);