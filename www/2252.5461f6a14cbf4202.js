"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2252],{2252:(j,m,i)=>{i.r(m),i.d(m,{ChangealiasModule:()=>B});var h=i(36895),u=i(24006),d=i(65673),g=i(93144),c=i(54463),v=i(32174),A=i(73162),p=i(62510),C=i(75875),e=i(94650);let f=(()=>{class t{authService;constructor(a){this.authService=a}patch(a,n){return new Promise((r,s)=>{this.authService.patchApiCall(`api/v1/users/${a}?action=ChangeAliasName`,n).subscribe(l=>{r(l)},l=>{s(l)})})}static \u0275fac=function(n){return new(n||t)(e.LFG(C.e))};static \u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var S=i(42786),o=i(32236),N=i(71568),O=i(46448),b=i(2387),I=i(56368),y=i(19623),T=i(37415);const w=["newAliasInput"],M=["confirmAliasInput"];function E(t,G){if(1&t&&(e.TgZ(0,"div",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&t){const a=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,1,a.error)," ")}}let x=(()=>{class t{navigationService;router;translateService;changeAliasService;loggerService;commonservice;newAliasInput;confirmAliasInput;changeAliasObj=new L;confirmAlias;currentAliasName;enterpriseName;dataJsonObj={};enterpriseObj;error;newAlias;userId;userName;userObj;constructor(a,n,r,s,l,J){this.navigationService=a,this.router=n,this.translateService=r,this.changeAliasService=s,this.loggerService=l,this.commonservice=J}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=o.hf.CHANGE_ALIAS,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CHANGE_ALIAS",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}],this.enterpriseName=JSON.parse(localStorage.getItem(o.BU.ENTERPRISE)),this.enterpriseName=this.enterpriseName.enterprise_name,this.userName=JSON.parse(localStorage.getItem(o.BU.USER)),this.currentAliasName=this.userName.user_alias_name,this.userName=this.userName.user_account,this.userId=localStorage.getItem(o.BU.USER_ID)}changeAlias(a){try{a.value&&(this.error="",this.newAlias=a.value)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAlias",n)}}changeconfirmAlias(a){try{this.error="",this.confirmAlias=a.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAlias",n)}}update(){try{this.newAliasInput.isValid()&&this.confirmAliasInput.isValid()&&(this.newAlias!==this.confirmAlias?this.error=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_ALIAS"):(this.changeAliasObj.user_alias_name=this.newAlias,this.changeAliasService.patch(this.userId,this.changeAliasObj).then(a=>{this.router.navigate(["/login"]),this.newAlias="",this.confirmAlias=""},a=>{this.commonErrorCodes(JSON.parse(a)),this.loggerService.setLoggerError(this.constructor.name,"update",a)})))}catch(a){this.loggerService.setLoggerError(this.constructor.name,"update",a)}}commonErrorCodes(a){try{409===JSON.parse(a[o.BU.STATUS])&&(this.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}catch(n){this.loggerService.setLoggerError(this.constructor.name,"commonErrorCodes",n)}}clearmessage(){this.error=""}cancelButton(){this.commonservice.redirectToPreviousUrl()}static \u0275fac=function(n){return new(n||t)(e.Y36(O.f),e.Y36(p.F0),e.Y36(c.sK),e.Y36(f),e.Y36(S.m),e.Y36(N.v))};static \u0275cmp=e.Xpm({type:t,selectors:[["app-changealias"]],viewQuery:function(n,r){if(1&n&&(e.Gf(w,5),e.Gf(M,5)),2&n){let s;e.iGM(s=e.CRH())&&(r.newAliasInput=s.first),e.iGM(s=e.CRH())&&(r.confirmAliasInput=s.first)}},decls:32,vars:27,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"register-wrapper"],[1,"register-fields-wrapper","w-100"],[1,"register-container","pd-0"],[1,"card","bd-0","mgt-10"],[1,"card-body","p-3","pdb-10"],[1,"row","form-bs"],["disabled","true",3,"label","value"],["disabled","false","mandatory","true","id","events-create-event-name",3,"label","maxlength","value","allowSpace","valueChange","keypress"],["newAliasInput",""],["confirmAliasInput",""],["class","error-msg col-md-12 text-danger text-center mb-0",4,"ngIf"],[1,"col-md-12","text-end","mt-2"],["id","events-view-close","className","btn btn-primary btn-sm",1,"mgr-5",3,"label","buttonOnClick"],["id","events-view-close","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"]],template:function(n,r){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",3),e._UZ(15,"app-input",14),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",3)(18,"app-input-alphanumeric",15,16),e.NdJ("valueChange",function(l){return r.changeAlias(l)})("keypress",function(){return r.clearmessage()}),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",3)(22,"app-input-alphanumeric",15,17),e.NdJ("valueChange",function(l){return r.changeconfirmAlias(l)})("keypress",function(){return r.clearmessage()}),e.ALo(24,"translate"),e.qZA()(),e.YNc(25,E,3,3,"div",18),e.TgZ(26,"div",19)(27,"app-button",20),e.NdJ("buttonOnClick",function(){return r.update()}),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"app-button",21),e.NdJ("buttonOnClick",function(){return r.cancelButton()}),e.ALo(30,"translate"),e.qZA()()()()()()()()(),e._UZ(31,"div"),e.qZA()()()()()),2&n&&(e.xp6(6),e.Q6J("pageName",r.dataJsonObj.pageName)("pageTitle",r.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(9),e.s9C("label",e.lcZ(16,17,"CHANGE_ALIAS.CURRENT_ALIAS")),e.s9C("value",r.currentAliasName),e.xp6(3),e.s9C("label",e.lcZ(20,19,"CHANGE_ALIAS.NEW_ALIAS")),e.s9C("value",r.newAlias),e.Q6J("maxlength",40)("allowSpace",!0),e.xp6(4),e.s9C("label",e.lcZ(24,21,"CHANGE_ALIAS.CONFIRM_ALIAS")),e.s9C("value",r.confirmAlias),e.Q6J("maxlength",40)("allowSpace",!0),e.xp6(3),e.Q6J("ngIf",r.error),e.xp6(2),e.s9C("label",e.lcZ(28,23,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.xp6(2),e.s9C("label",e.lcZ(30,25,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[h.O5,b.r,I.a,y.I,T.q,c.X$],styles:[".register-wrapper[_ngcontent-%COMP%]{margin:0 auto;width:100%;height:100%;display:flex;justify-content:center}.register-fields-wrapper[_ngcontent-%COMP%]{position:relative;margin:0 auto;height:100%;overflow-y:auto;display:flex;align-items:center;justify-content:center;z-index:1}.register-container[_ngcontent-%COMP%]{height:100%;width:30%;position:relative;z-index:1;display:grid;place-items:center}.register-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{position:relative;padding:0;display:flex;flex-direction:column;align-items:center;animation-name:card;animation-duration:.6s;animation-fill-mode:forwards;border:0px;box-shadow:0 2px 15px -3px #00000012,0 10px 20px -2px #0000000a;border-radius:30px}.register-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background-color:var(--form-bg-color);width:100%;border:1px solid rgba(0,0,0,.125);border-radius:30px}@media (max-width: 430px){.register-container[_ngcontent-%COMP%]{width:96%}}@media only screen and (min-width: 431px) and (max-width: 767px){.register-container[_ngcontent-%COMP%]{width:70%}}@media (min-width: 768px){.register-container[_ngcontent-%COMP%]{width:60%}}@media (min-width: 1200px){.register-container[_ngcontent-%COMP%]{width:30%}}"]})}return t})();class L{user_alias_name}const Z=[{path:"",data:{title:"Change Alias"},children:[{path:"",canActivate:[i(11210).P],component:x,data:{object_type:o.hf.CHANGE_ALIAS,title:"Change Alias",responsibilityParam:o.bP.MENUS+"."+o.w1.PROFILE_MENU+"."+o.bP.SUBMENUS+"."+o.w1.CHANGE_ALIAS+"."+o.In.ENABLED,pageName:o.hf.CHANGE_ALIAS_NAME}}]}];let P=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=e.oAB({type:t});static \u0275inj=e.cJS({imports:[p.Bz.forChild(Z),p.Bz]})}return t})(),B=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=e.oAB({type:t});static \u0275inj=e.cJS({imports:[P,h.ez,c.aw,u.u5,u.UX,g.U$,v.fx,d.Q,A.Cv]})}return t})()}}]);