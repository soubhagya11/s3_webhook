"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8097],{28097:(Mr,te,O)=>{O.r(te),O.d(te,{QuizModule:()=>qr});var j=O(36895),q=O(11210),I=O(62510),T=O(15861),y=O(42786),H=O(57936),N=O(71568),r=O(32236),ae=O(90313),de=O(75875),e=O(94650);let S=(()=>{class i{authService;commonService;constructor(t,n){this.authService=t,this.commonService=n}getAll(t,n,a,s,o,u,d,c,_,J,b,h,m,p){var g=this;return(0,T.Z)(function*(){const Z=b?"&isActive="+b:"",ee=_?"&condition="+_:"",Lr=J?"&statusType="+J:"",Dr=p||"",xr=ae.L.isEmpty(m)?"":"&advSearchString="+JSON.stringify(m);return yield g.authService.getApiCallAsync(`api/v1/quiz?skip=${t}&limit=${n}&type=list&sort=${a}&search=${s}&enterprise.enterprise_id=${o}${ee}${Lr}${Z}${h}${xr}${Dr}`,c,"",d)})()}createQuizUserNavigation(t){return new Promise((n,a)=>{this.authService.postApiCall("api/v1/userquizresponses/",t).subscribe(s=>{n(s)},s=>{a(s)})})}getQuizUserNavigation(t){let n;return n="api/v1/userquizresponses/"+t,this.authService.getApiCall(n,!0)}patchQuizUserNavigation(t,n){return new Promise((a,s)=>{this.authService.patchApiCall("api/v1/userquizresponses/"+t,n).subscribe(o=>{a(o)},o=>{s(o)})})}getQuizNavigation(t,n){let s;return s="api/v1/userquizresponses?type=drop&quiz_id="+t+(n?"&user_profile_id="+n:""),this.authService.getApiCall(s,!0)}getResources(t,n){return new Promise((a,s)=>{this.authService.getApiCall("api/v1/userprofiles?type=drop&enterprise.enterprise_id="+t+"&search="+n).subscribe(o=>{a(o)},o=>{s(o)})})}getFacilities(t,n){return new Promise((a,s)=>{this.authService.getApiCall("api/v1/facilities?type=drop&enterprise.enterprise_id="+t+" &search="+n).subscribe(o=>{a(o)},o=>{s(o)})})}update(t,n,a,s,o,u,d,c,_){return new Promise((J,b)=>{const h=new FormData;let m=[];const p=[];if(o.length)for(let g=0;g<o.length;g++)m.push(o[g]);if(u.length)for(let g=0;g<u.length;g++)m.push(u[g]);if(d.length)for(let g=0;g<d.length;g++)m.push(d[g]);if(c.length)for(let g=0;g<c.length;g++)m.push(c[g]);if(s?.length>0)for(let g=0;g<s.length;g++)h.append("quizFiles",s[g].file,s[g].imagename);if(_.length)for(let g=0;g<_.length;g++)p.push(_[g]);if(a.welcomeImage&&h.append("welcomeImgFile",a.welcomeImage,"welcomeImgFile"),a.successImage&&h.append("successImgFile",a.successImage,"succesImgFile"),a.failureImage&&h.append("failureImgFile",a.failureImage,"failureImgFile"),a.congratulationImage&&h.append("congratulationImgFile",a.congratulationImage,"congratulationImgFile"),m.length)for(let g=0;g<m.length;g++)h.append("languageTranslationArray",m[g].file);if(p.length)for(let g=0;g<p.length;g++)h.append("questionTranslationsArray",p[g].file);h.append("quizData",JSON.stringify(t)),this.authService.putApiCall("api/v1/quiz/"+n,h).subscribe(g=>{J(g)},g=>{b(g)})})}updateQuestions(t,n,a){return new Promise((s,o)=>{const u=new FormData;if(a?.length>0)for(let d=0;d<a.length;d++)u.append("quizFiles",a[d].file,a[d].imagename);u.append("quizQuestionData",JSON.stringify(t)),this.authService.putApiCall("api/v1/quizquestions/"+n,u).subscribe(d=>{s(d)},d=>{o(d)})})}get(t){let n;return n="api/v1/quiz/"+t,this.authService.getApiCall(n,!0)}patch(t,n){return new Promise((a,s)=>{this.authService.patchApiCall("api/v1/quiz/"+t,n).subscribe(o=>{a(o)},o=>{s(o)})})}create(t,n,a,s,o,u,d,c){return new Promise((_,J)=>{const b=new FormData;let h=[];const m=[];if(s.length)for(let p=0;p<s.length;p++)h.push(s[p]);if(o.length)for(let p=0;p<o.length;p++)h.push(o[p]);if(u.length)for(let p=0;p<u.length;p++)h.push(u[p]);if(d.length)for(let p=0;p<d.length;p++)h.push(d[p]);if(c.length)for(let p=0;p<c.length;p++)m.push(c[p]);if(a?.length>0)for(let p=0;p<a.length;p++)b.append("quizFiles",a[p].file,a[p].imagename);if(n.welcomeImage&&b.append("welcomeImgFile",n.welcomeImage,"welcomeImgFile"),n.successImage&&b.append("successImgFile",n.successImage,"succesImgFile"),n.failureImage&&b.append("failureImgFile",n.failureImage,"failureImgFile"),n.congratulationImage&&b.append("congratulationImgFile",n.congratulationImage,"congratulationImgFile"),h.length)for(let p=0;p<h.length;p++)b.append("languageTranslationArray",h[p].file);if(m.length)for(let p=0;p<m.length;p++)b.append("questionTranslationsArray",m[p].file,m[p].imageFileName);b.append("quizData",JSON.stringify(t)),this.authService.postApiCall("api/v1/quiz/",b).subscribe(p=>{_(p)},p=>{J(p)})})}createQuizQuestions(t,n){return new Promise((a,s)=>{const o=new FormData;if(n?.length>0)for(let u=0;u<n.length;u++)o.append("quizFiles",n[u].file,n[u].imagename);o.append("quizQuestionData",JSON.stringify(t)),this.authService.postApiCall("api/v1/quizquestions/",o).subscribe(u=>{a(u)},u=>{s(u)})})}getTranslateLanguages(t){return new Promise((n,a)=>{this.authService.getApiCall("api/v1/configoptions?type=drop&enterprise.enterprise_id="+t+"&configoption_name=generalSettings").subscribe(s=>{n(s)},s=>{a(s)})})}static \u0275fac=function(n){return new(n||i)(e.LFG(de.e),e.LFG(N.v))};static \u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var x=O(47561),F=O(81208),C=O(54463),M=O(27601),z=O(11481),f=O(70057),L=O(2387),D=O(56368),U=O(9851),k=O(93837),V=O(24929),R=O(92634),w=O(68653),P=O(47386),B=O(42919),Q=O(37415),A=O(32174),E=O(10805),v=O(93144);const ue=["quiztitlevalid"],ce=["questionValid"],ge=["optionvalidate"],pe=["typeDropdown"],me=["displayNameUpdate"],_e=["file1"],he=["file2"],be=["file3"],Oe=["languageAdd"],Te=["displayNameAdd"],Je=["file4"],fe=["file5"];function je(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",150),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(2),s=e.oxw();return a.click(),e.KtG(s.getAssetType(null==s.videoType?null:s.videoType.lookup_name))}),e.TgZ(1,"label",151),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"ion-icon",152),e.qZA()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"DIGITAL_ASSETS.UPLOAD_VIDEO")))}function Ce(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",150),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(2),s=e.oxw();return a.click(),e.KtG(s.getAssetType(null==s.audioType?null:s.audioType.lookup_name))}),e.TgZ(1,"label",151),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"ion-icon",153),e.qZA()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"DIGITAL_ASSETS.UPLOAD_AUDIO")))}function Ie(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",150),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(2),s=e.oxw();return a.click(),e.KtG(s.getAssetType(null==s.imageType?null:s.imageType.lookup_name))}),e.TgZ(1,"label",151),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"ion-icon",154),e.qZA()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"DIGITAL_ASSETS.UPLOAD_IMAGE")))}function Ae(i,l){if(1&i&&(e.TgZ(0,"ion-col",155)(1,"div",156),e._UZ(2,"video",157),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("src",t.fileSrc,e.LSH)}}function ve(i,l){if(1&i&&(e.TgZ(0,"div",159),e._UZ(1,"audio",160),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.fileSrc,e.LSH)}}function Ee(i,l){if(1&i&&(e.TgZ(0,"ion-col",155),e.YNc(1,ve,2,1,"div",158),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","/mp3"===t.extension||"/mpeg"===t.extension)}}function Ne(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-col",165)(1,"button",166),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.rotateLeft())}),e._UZ(2,"i",167),e.qZA(),e.TgZ(3,"button",166),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.rotateRight())}),e._UZ(4,"i",168),e.qZA()()}}function Se(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"i",169),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.removeImage(a.i))}),e.qZA()}}function Ze(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"image-cropper",170),e.NdJ("imageCropped",function(a){e.CHM(t);const s=e.oxw(3);return e.KtG(s.imageCropped(a))})("imageLoaded",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.imageLoaded())}),e.qZA()}if(2&i){const t=e.oxw(3);e.Udp("display",t.showCropper?null:"none"),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!1)("aspectRatio",4/3)("resizeToWidth",1300)("cropperMinWidth",128)("onlyScaleDown",!0)("roundCropper",!1)("imageQuality",90)("transform",t.transform)("canvasRotation",t.canvasRotation)}}function ye(i,l){if(1&i&&(e.TgZ(0,"ion-col",161),e.YNc(1,Ne,5,0,"ion-col",162),e.TgZ(2,"span"),e.YNc(3,Se,1,0,"i",163),e.YNc(4,Ze,1,12,"image-cropper",164),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","IMAGE"===t.digitalAssetTypeName&&t.showCropper),e.xp6(2),e.Q6J("ngIf","IMAGE"===t.digitalAssetTypeName&&t.showCropper),e.xp6(1),e.Q6J("ngIf","IMAGE"===t.assetTypeImage)}}function qe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"input",143,144),e.NdJ("click",function(){e.CHM(t);const a=e.MAs(2);return e.KtG(a.value=null)})("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.fileChangeEvent(a,"File"))}),e.qZA(),e.YNc(3,je,5,3,"div",145),e.YNc(4,Ce,5,3,"div",145),e.YNc(5,Ie,5,3,"div",145),e.TgZ(6,"ion-row",146),e._UZ(7,"ion-col",147),e.YNc(8,Ae,3,1,"ion-col",148),e.YNc(9,Ee,2,1,"ion-col",148),e.YNc(10,ye,5,3,"ion-col",149),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("accept",t.getFileAcceptType()),e.xp6(2),e.Q6J("ngIf","VIDEO"===t.digitalAssetTypeName),e.xp6(1),e.Q6J("ngIf","AUDIO"===t.digitalAssetTypeName),e.xp6(1),e.Q6J("ngIf","IMAGE"===t.digitalAssetTypeName),e.xp6(3),e.Q6J("ngIf","VIDEO"===t.digitalAssetTypeName&&"VIDEO"===t.assetTypeVideo&&t.fileSrc),e.xp6(1),e.Q6J("ngIf","AUDIO"===t.digitalAssetTypeName&&"AUDIO"===t.assetTypeAudio&&t.fileSrc),e.xp6(1),e.Q6J("ngIf","IMAGE"===t.assetTypeImage)}}function Le(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",171),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",172)(5,"app-input",173,174),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeAnswerName(a,s.i))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",79)(9,"app-checkbox",80),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeOptionCheckBox(a))}),e.qZA()(),e.TgZ(10,"div",48)(11,"app-button",49),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.addOptions())}),e.ALo(12,"translate"),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"POLL.OPTIONS")),e.xp6(3),e.s9C("label",e.lcZ(7,8,"POLL.OPTION")),e.s9C("value",t.dataJsonObj.option),e.xp6(4),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.optionsCheckbox)("checked",t.dataJsonObj.isOptionCorrect),e.xp6(2),e.s9C("label",e.lcZ(12,10,"COMMON_BUTTONS.BUTTON_ADD"))}}function De(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div",172),e._UZ(3,"app-input",175),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",79),e._UZ(6,"app-checkbox",176),e.qZA(),e.TgZ(7,"div",48)(8,"app-button",177),e.NdJ("buttonOnClick",function(){const s=e.CHM(t).index,o=e.oxw();return e.KtG(o.deleteOptions(s))}),e.ALo(9,"translate"),e.qZA()()(),e.BQk()}if(2&i){const t=l.$implicit,n=e.oxw();e.xp6(3),e.s9C("label",e.lcZ(4,5,"POLL.OPTION")),e.s9C("value",null==t?null:t.option),e.xp6(3),e.Q6J("options",null==n.dataJsonObj?null:n.dataJsonObj.optionsCheckbox)("checked",t.is_correct),e.xp6(2),e.s9C("label",e.lcZ(9,7,"COMMON_BUTTONS.BUTTON_DELETE"))}}function xe(i,l){1&i&&(e.TgZ(0,"label",178),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")))}function Me(i,l){if(1&i&&(e.TgZ(0,"div",13),e._UZ(1,"img",179),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",null==t?null:t.quizImage,e.LSH)}}function ze(i,l){1&i&&(e.TgZ(0,"label",178),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"POLL.OPTIONS")))}function we(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div",172),e._UZ(3,"app-input",175),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",13),e._UZ(6,"app-input",175),e.ALo(7,"translate"),e.qZA()(),e.BQk()),2&i){const t=l.$implicit;e.xp6(3),e.s9C("label",e.lcZ(4,4,"POLL.OPTION")),e.s9C("value",null==t?null:t.option),e.xp6(3),e.s9C("label",e.lcZ(7,6,"COMMON_FIELDS.IS_CORRECT")),e.s9C("value",null==t?null:t.is_correct)}}function Qe(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div",172),e._UZ(3,"app-input",175),e.ALo(4,"translate"),e.qZA(),e.YNc(5,Me,2,1,"div",47),e.TgZ(6,"div",48)(7,"app-button",177),e.NdJ("buttonOnClick",function(){const s=e.CHM(t).index,o=e.oxw();return e.KtG(o.deleteQuizQuestions(s))}),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"div",8),e.YNc(10,ze,3,3,"label",53),e.YNc(11,we,8,8,"ng-container",52),e.qZA()(),e.BQk()}if(2&i){const t=l.$implicit;e.xp6(3),e.s9C("label",e.lcZ(4,6,"COMMON_FIELDS.QUESTION")),e.s9C("value",t.question),e.xp6(2),e.Q6J("ngIf",null==t?null:t.quizImage),e.xp6(2),e.s9C("label",e.lcZ(8,8,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(3),e.Q6J("ngIf",t.options.length>0),e.xp6(1),e.Q6J("ngForOf",t.options)}}function Ue(i,l){if(1&i&&(e.TgZ(0,"tr",181)(1,"td",182),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function ke(i,l){if(1&i&&e.YNc(0,Ue,4,4,"tr",180),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.languagesData&&0===t.dataJsonObj.languagesData.length)}}function Ve(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Re(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Ve,3,3,"th",52),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Fe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",184),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editLanguages(s,o))}),e._UZ(1,"span",185),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," "),e.Q6J("pSelectableRow",n),e.xp6(1),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Pe(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Fe,2,5,"td",183),e.qZA()),2&i){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Be(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",185)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Ge(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Be,7,4,"div",186),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function He(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",187)(1,"ion-label",188),e.NdJ("click",function(){const a=e.CHM(t),s=a.index,o=a.$implicit,u=e.oxw();return e.KtG(u.editLanguages(s,o))}),e.TgZ(2,"span",189),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",190),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",190),e._uU(9),e.ALo(10,"translate"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(3),e.AsE(" ",e.lcZ(4,6,"PREFERENCES.LANGUAGE"),": ",null==t?null:t.language_name_value,""),e.xp6(3),e.AsE("",e.lcZ(7,8,"COMMON_FIELDS.DISPLAY_NAME"),": ",null==t?null:t.lookup_display_name," "),e.xp6(3),e.AsE("",e.lcZ(10,10,"COMMON_FIELDS.ENABLED"),": ",null==t?null:t.is_enabled_value," ")}}function Ye(i,l){1&i&&(e.TgZ(0,"p",191),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}function $e(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",192)(2,"i",169),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("welcome_screen"))}),e.qZA(),e._UZ(3,"img",179),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.welcome_screen,e.LSH)}}function Ke(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",192)(2,"i",169),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("success_screen"))}),e.qZA(),e._UZ(3,"img",179),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.success_screen,e.LSH)}}function We(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",192)(2,"i",169),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("failure_screen"))}),e.qZA(),e._UZ(3,"img",179),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.failure_screen,e.LSH)}}function Xe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",192)(2,"i",169),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("congratulation_screen"))}),e.qZA(),e._UZ(3,"img",179),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.congratulation_screen,e.LSH)}}function et(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",182),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function tt(i,l){if(1&i&&e.YNc(0,et,4,4,"tr",84),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.addQuizQuestionsTl&&0===t.dataJsonObj.addQuizQuestionsTl.length)}}function at(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function nt(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",193),e.YNc(2,at,3,3,"th",52),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function it(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",197),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editQuestionTl(s,o))}),e.TgZ(1,"span",198)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",199),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function st(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",194),e._UZ(2,"div",195),e.qZA(),e.YNc(3,it,7,8,"td",196),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function ot(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",185)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function lt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,ot,7,4,"div",186),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function rt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",192)(2,"i",169),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("welcome_screen"))}),e.qZA(),e._UZ(3,"img",179),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.welcome_screen,e.LSH)}}function dt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",192)(2,"i",169),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("success_screen"))}),e.qZA(),e._UZ(3,"img",179),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.success_screen,e.LSH)}}function ut(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",192)(2,"i",169),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("failure_screen"))}),e.qZA(),e._UZ(3,"img",179),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.failure_screen,e.LSH)}}function ct(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",192)(2,"i",169),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("congratulation_screen"))}),e.qZA(),e._UZ(3,"img",179),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.congratulation_screen,e.LSH)}}function gt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",182),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function pt(i,l){if(1&i&&e.YNc(0,gt,4,4,"tr",84),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.quizQuestionsTl&&0===t.dataJsonObj.quizQuestionsTl.length)}}function mt(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function _t(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",193),e.YNc(2,mt,3,3,"th",52),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function ht(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",197),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editQuestionTl(s,o))}),e.TgZ(1,"span",198)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",199),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function bt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",194),e._UZ(2,"div",195),e.qZA(),e.YNc(3,ht,7,8,"td",196),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function Ot(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",185)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Tt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ot,7,4,"div",186),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function Jt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",192)(2,"i",169),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("question_screen","question"))}),e.qZA(),e._UZ(3,"img",179),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.question_screen,e.LSH)}}function ft(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",182),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function jt(i,l){if(1&i&&e.YNc(0,ft,4,4,"tr",84),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.optionsArrayTl&&0===t.dataJsonObj.optionsArrayTl.length)}}function Ct(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function It(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",193),e.YNc(2,Ct,3,3,"th",52),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function At(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",197),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editOptionsTl(s,o))}),e.TgZ(1,"span",198)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",199),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function vt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",194),e._UZ(2,"div",195),e.qZA(),e.YNc(3,At,7,8,"td",196),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function Et(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",185)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Nt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Et,7,4,"div",186),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function St(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",192),e._UZ(2,"img",179),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.question_screen,e.LSH)}}function Zt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",182),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function yt(i,l){if(1&i&&e.YNc(0,Zt,4,4,"tr",84),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.optionsArrayTl&&0===t.dataJsonObj.optionsArrayTl.length)}}function qt(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Lt(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",193),e.YNc(2,qt,3,3,"th",52),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Dt(i,l){if(1&i&&(e.TgZ(0,"td",201)(1,"span",198)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",199),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function xt(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"td",194),e.YNc(2,Dt,7,8,"td",200),e.qZA()),2&i){const t=l.columns;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Mt(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",185)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function zt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Mt,7,4,"div",186),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}let wt=(()=>{class i extends x.O{translateService;enterprisesService;loggerService;commonService;quizService;uiUtils;sanitizer;route;imageCropper;quiztitlevalid;questionValid;optionvalidate;typeDropdown;displayNameUpdate;fileInput1;fileInput2;fileInput3;languageAdd;displayNameAdd;fileInput4;fileInput5;dataJsonObj={};errorObj={};digitalAssetTypeOptions;digitalAssetTypeObj;digitalAssetTypeId;digitalAssetType;question;recordId;questionError;AnswerError;transform={};showCropper;imageChangedEvent;croppedImage;canvasRotation=0;canvasRotation1=0;digitalAssetUploadFileType;digitalAssetTypeName;assetTypeTag;assetTypeImage;assetTypeValue;videoType;audioType;imageType;assetTypeVideo;assetTypeAudio;documentType;fileSrc;previewFileSrc;error;previewImageChangedEvent;selectedFileName;imgCheck;fileType;selectedType;extension;imageExtensions;myObj;assetTypeError;assetFile;videoExtensions;mediaFile;digitalAssetFile;quizFileArray=[];fileSize;audioExtensions;documentExtensions;otherExtensions;imageMinSize;imageStatus;errMsg1;errMsg2;imageMaxSize;postType;videoMaxSize;videoMinSize;audioMaxSize;audioMinSize;documentMaxSize;documentMinSize;documentTypes;displaySequence;errorHtml;displaySequenceTl;addQuestionTlIndex;questionTlIndex;questionTlEditRowIndex;constructor(t,n,a,s,o,u,d,c){super(c,s),this.translateService=t,this.enterprisesService=n,this.loggerService=a,this.commonService=s,this.quizService=o,this.uiUtils=u,this.sanitizer=d,this.route=c,this.route.params.subscribe(_=>{_&&(this.recordId=_.parentId)}),this.route.queryParams.subscribe(_=>{this.dataJsonObj.queryParamsObj={defaultView:_.default_view,selectedMenuId:_.selectedMenuId,selectedSubMenuId:_.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.displaySequence=0,this.dataJsonObj.optionsArrayTl=[],this.dataJsonObj.questionTl="",this.dataJsonObj.optionsArray=[],this.dataJsonObj.optionsData=[],this.dataJsonObj.quizQuestions=[],this.dataJsonObj.quizQuestionsTl=[],this.dataJsonObj.languageImageApis={},this.dataJsonObj.questionTranslateImage={},this.dataJsonObj.islanguageImgEnable={},this.dataJsonObj.languageImageApi={},this.dataJsonObj.pageName=r.hf.QUIZ,this.dataJsonObj.disableSubmitBtn=!1,this.dataJsonObj.languageTranslateImage={},this.dataJsonObj.languageQuestionImageApi={},this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.QUIZ",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.getDynamicJson([{folderName:r.sb.FACILITIES,jsonType:"list",storingFieldName:"facilitiesListJson"},{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}]),this.getEnterprisesViewData();const n=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.loginUserDateFormat=n.dateFormat,this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(n.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=n.timeZoneCode,this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(s=>{this.dataJsonObj.lookupCodesListJSON=s,this.getTimeZone(this.dataJsonObj.userTimeZoneObj.timeZoneCode),this.getDigitalAssetTypes(),this.getDocumentTypeLookups()}),this.dataJsonObj.utccurrentTime=(new Date).toISOString();const a=this.displayDateFormatter(this.dataJsonObj.utccurrentTime,!0,!0);this.dataJsonObj.startDate=a.startDate,this.dataJsonObj.endDate=a.endDate,this.dataJsonObj.loginUserObj=JSON.parse(localStorage.getItem(r.BU.USER)),this.dataJsonObj.languagesFromJson={},this.getLanguagesfromJson(),this.dataJsonObj.languagesData=[],this.dataJsonObj.blockContentHeader1=[[{headersort:"disableth",sortfield:"",field:"original_option",header:this.translateService.instant("POLL.OPTION"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"option",header:this.translateService.instant("POLL.OPTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:"w-130"},{headersort:"disableth",sortfield:"",field:"is_correct",header:this.translateService.instant("COMMON_FIELDS.IS_CORRECT"),class:"w-130"}]],this.dataJsonObj.blockContentHeader=[[{headersort:"disableth",sortfield:"",field:"original_question",header:this.translateService.instant("COMMON_FIELDS.QUESTION"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"question",header:this.translateService.instant("COMMON_FIELDS.QUESTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:"w-130"}]],this.dataJsonObj.quizTlheaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-60"},{headersort:"disableth",field:"title",header:this.translateService.instant("NEW_VARIABLES.NAME")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"description",header:this.translateService.instant("COMMON_FIELDS.DESCRIPTION"),class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.dataJsonObj.languageTranslationEnablecheckboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.dataJsonObj.disableTransAdd=!0,this.dataJsonObj.optionsCheckbox=[{displayname:this.translateService.instant("COMMON_FIELDS.IS_CORRECT")}],this.dataJsonObj.optionsCheckboxTl=[{displayname:this.translateService.instant("COMMON_FIELDS.IS_CORRECT")}]}getDynamicJson(t){var n=this;return(0,T.Z)(function*(){for(let a of t)n.dataJsonObj[a.storingFieldName]=yield n.commonService.getDynamicJson(n.dataJsonObj.selectedEnterpriseId,a.folderName,a.jsonType);n.getSelectedSubmenuDetails()})()}getLanguagesList(t){var n=this;return(0,T.Z)(function*(){try{n.quizService.getTranslateLanguages(n.dataJsonObj.selectedEnterpriseId).then(a=>{if(n.dataJsonObj.translateLanguageOptions=a[0].configoption_json.languages,n.dataJsonObj.translateLanguageOptions&&n.dataJsonObj.translateLanguageOptions.length>0){for(let s=0;s<n.dataJsonObj.translateLanguageOptions.length;s++)n.dataJsonObj.translateLanguageOptions[s].ID=n.dataJsonObj.translateLanguageOptions[s].language_id,n.dataJsonObj.translateLanguageOptions[s].NAME=n.dataJsonObj.languagesFromJson[n.dataJsonObj.translateLanguageOptions[s].language_name].language_display_name,n.dataJsonObj.translateLanguageOptions[s].language_code=n.dataJsonObj.translateLanguageOptions[s].language_code,n.dataJsonObj.translateLanguageOptions[s].language_id=n.dataJsonObj.translateLanguageOptions[s].language_id,n.dataJsonObj.translateLanguageOptions[s].language_name=n.dataJsonObj.translateLanguageOptions[s].language_name;if(n.dataJsonObj.translateLanguageOptions&&t){const s=n.dataJsonObj.translateLanguageOptions.filter(function(o){return o.NAME.toLowerCase().includes(t.toLowerCase())});n.dataJsonObj.translateLanguageOptions=s}}},a=>{n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",a)})}catch(a){n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",a)}})()}getSelectedSubmenuDetails(){var t=this;return(0,T.Z)(function*(){if(t.dataJsonObj?.queryParamsObj?.selectedMenuId&&t.dataJsonObj?.queryParamsObj?.selectedSubMenuId){const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a._id===parseInt(t.dataJsonObj.queryParamsObj.selectedMenuId,10)):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu.find(a=>a.submenu_id===parseInt(t.dataJsonObj.queryParamsObj.selectedSubMenuId,10)):{}}else{const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a.menu_page.page_name===t.dataJsonObj.pageName):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu[0]:{}}t.dataJsonObj.pageDetails=t.dataJsonObj.selectedSubmenuObj.submenu_page})()}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.dataJsonObj.selectedEnterpriseId).subscribe(t=>{this.dataJsonObj.enterpriseName=t.enterprise_name,this.dataJsonObj.defaultEnterprise=t._id,this.dataJsonObj.enterpriseShortName=t.short_name},t=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)}}displayDateFormatter(t,n,a){try{const s=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,o={startDate:"",endDate:""};if(o.startDate=this.commonService.convertDateToUserFormat(s,r.eZ.HOURS_MINS,!0,"",!1),n){const u=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,d=this.commonService.addHoursToDate(u,120);o.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return o}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",s)}}getLanguagesfromJson(){var t=this;return(0,T.Z)(function*(){t.dataJsonObj.languagesFromJson=yield t.commonService.getLanguagesListJson(t.dataJsonObj.selectedEnterpriseId)})()}getQuizName(t){try{this.errorObj.error2="",this.errorObj.error="",this.questionError="",this.dataJsonObj.quizTitle=t.value,this.dataJsonObj.disableTransAdd=!this.dataJsonObj.quizTitle}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getQuizName",n)}}changeLeaderboardUsersCount(t){this.errorObj.error="",this.questionError="",this.dataJsonObj.leaderboard_user_count=t.value}changeDescriptionName(t){this.errorObj.error="",this.questionError="",this.dataJsonObj.description=t.value}changeQuestionName(t){try{this.questionError="",this.dataJsonObj.question=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeQuestionName",n)}}changeTranslateQuestionName(t){try{this.questionError="",this.dataJsonObj.questionTl=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeQuestionName",n)}}changeAnswerName(t){try{this.questionError="",this.dataJsonObj.option=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAnswerName",n)}}changeAnswerNameTl(t){try{this.questionError="",this.dataJsonObj.optionTl=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAnswerName",n)}}changeQuestionDropDown(t){try{if(t.value){this.dataJsonObj.questionId=parseInt(t.value,10),this.dataJsonObj.optionsData=this.dataJsonObj.quizQuestions?.find(a=>a.ID===this.dataJsonObj.questionId)?.options;const n=this.dataJsonObj.quizQuestions?.find(a=>a.ID===this.dataJsonObj.questionId);this.dataJsonObj.originalQuestion=n.question}}catch{}}changeOptionsDropDown(t){try{if(t.value){this.dataJsonObj.optionId=parseInt(t.value,10);const n=this.dataJsonObj.optionsData?.find(a=>a.ID===this.dataJsonObj.optionId);this.dataJsonObj.originalOption=n.option,this.dataJsonObj.isOptionCorrectTl=n.is_correct}}catch{}}addOptionsTl(){this.dataJsonObj?.optionTl&&(this.dataJsonObj.optionsArrayTl.find(n=>n.option_id===this.dataJsonObj.optionId)||(this.dataJsonObj.optionsArrayTl.push({original_option:this.dataJsonObj.originalOption,question:this.dataJsonObj.questionTl,option_id:this.dataJsonObj.optionId,option:this.dataJsonObj?.optionTl,is_correct:this.dataJsonObj.isOptionCorrectTl}),this.dataJsonObj.optionTl="",this.dataJsonObj.isOptionCorrectTl=!1,this.questionError="",$("#blockContentDetailsAdd1").modal("hide")))}addOptions(){this.dataJsonObj?.option?(this.dataJsonObj.optionsArray.push({ID:this.dataJsonObj.optionsArray.length>0?this.dataJsonObj.optionsArray[this.dataJsonObj.optionsArray.length-1].option_id+1:1,NAME:this.dataJsonObj.option,question:this.dataJsonObj.question,option_id:this.dataJsonObj.optionsArray.length>0?this.dataJsonObj.optionsArray[this.dataJsonObj.optionsArray.length-1].option_id+1:1,option:this.dataJsonObj.option,is_correct:this.dataJsonObj.isOptionCorrect}),this.dataJsonObj.option="",this.dataJsonObj.isOptionCorrect=!1,this.questionError=""):this.optionvalidate.throwError()}changeOptionCheckBox(t){t&&(this.dataJsonObj.isOptionCorrect=t.value)}changeOptionCheckBoxTl(t){t&&(this.dataJsonObj.isOptionCorrectTl=t.value)}addQuizQuestionsTl(){this.dataJsonObj.questionTl?this.dataJsonObj.optionsArrayTl.length>1?this.dataJsonObj.quizQuestionsTl.find(n=>n.quiz_question_id===this.dataJsonObj.questionId)||(this.dataJsonObj.quizQuestionsTl.push({original_question:this.dataJsonObj.originalQuestion,languageTranslateImages:this.dataJsonObj.questionTranslateImage,languageTranslateImageObj:this.dataJsonObj.languageQuestionImageApi,quiz_question_id:this.dataJsonObj.questionId,question:this.dataJsonObj.questionTl,options:JSON.parse(JSON.stringify(this.dataJsonObj.optionsArrayTl))}),this.dataJsonObj.addQuizQuestionsTl=this.dataJsonObj.quizQuestionsTl,this.dataJsonObj.questionTl="",this.dataJsonObj.optionTl="",this.dataJsonObj.optionsArrayTl=[],this.displaySequence="",$("#blockContentDetailsAdd").modal("hide")):this.questionError="COMMON_VALIDATION_MESSAGES.VALID_FILL_NUMBER_OF_OPTIONS":this.questionValid.throwError()}updateQuizQuestionsTl(){const t=this.questionTlEditRowIndex;this.dataJsonObj.quizQuestionsTl.length>0&&(this.dataJsonObj.quizQuestionsTl[t].options=this.dataJsonObj.optionsArrayTl,this.dataJsonObj.quizQuestionsTl[t].languageTranslateImages=this.dataJsonObj.questionTranslateImage,this.dataJsonObj.quizQuestionsTl[t].languageTranslateImageObj=this.dataJsonObj.languageQuestionImageApi,document.getElementById("imagefileid5").value=""),$("#blockContentEdit").modal("hide")}addQuizQuestions(){if(this.dataJsonObj.question)if(this.dataJsonObj.optionsArray.length>1)if(this.dataJsonObj.optionsArray.find(n=>1==n.is_correct)){const n=this.dataJsonObj.displayImage,a=n?this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(n)):"";this.displaySequence=this.dataJsonObj.quizQuestions.length>0?this.dataJsonObj.quizQuestions[this.dataJsonObj.quizQuestions.length-1].display_sequence+1:1,this.dataJsonObj.quizQuestions.push({ID:this.displaySequence,NAME:this.dataJsonObj.question,display_sequence:this.displaySequence,quizImage:a,question:this.dataJsonObj.question,options:JSON.parse(JSON.stringify(this.dataJsonObj.optionsArray))}),this.digitalAssetFile&&this.quizFileArray.push({imagename:this.dataJsonObj.question+"-"+this.displaySequence,file:this.digitalAssetFile}),this.showCropper=!1,this.imageChangedEvent="",this.digitalAssetFile="",this.dataJsonObj.question="",this.dataJsonObj.option="",this.dataJsonObj.displayImage="",this.dataJsonObj.isOptionCorrect=!1,this.dataJsonObj.optionsArray=[],this.typeDropdown.clearSelectInput(),this.displaySequence=""}else this.questionError="COMMON_VALIDATION_MESSAGES.VALID_FILL_NUMBER_OF_CORRECT_OPTION";else this.questionError="COMMON_VALIDATION_MESSAGES.VALID_FILL_NUMBER_OF_OPTIONS";else this.questionValid.throwError()}deleteOptions(t){this.dataJsonObj.optionsArray?.splice(t,1)}deleteQuizQuestions(t){this.dataJsonObj.quizQuestions?.splice(t,1)}changeStartDate(t){try{const n=this.displayDateFormatter(t.value,!1,!1);this.dataJsonObj.startDate=n.startDate,this.errorObj.error=this.commonService.getUTCDateObj(this.dataJsonObj.startDate)>=this.commonService.getUTCDateObj(this.dataJsonObj.endDate)?"COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START":""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeStartDate",n)}this.questionError=""}getTimeZone(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.TIME_ZONES],t).then(n=>{if(this.dataJsonObj.timezoneOptions=n,this.dataJsonObj.timezoneOptions.length>0){for(let a=0;a<this.dataJsonObj.timezoneOptions.length;a++)this.dataJsonObj.timezoneOptions[a].NAME=this.dataJsonObj.timezoneOptions[a].lookup_display_name+" - "+this.dataJsonObj.timezoneOptions[a].description;this.dataJsonObj.timezoneOptions=this.dataJsonObj.timezoneOptions}})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getTimeZone",n)}}changeTimeZone(t){try{this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.description),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.lookup_name;const n=this.displayDateFormatter(this.dataJsonObj.utccurrentTime,!0,!0);this.dataJsonObj.startDate=n.startDate,this.dataJsonObj.endDate=n.endDate}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeTimeZone",n)}this.questionError=""}changeEndDate(t){try{const n=this.displayDateFormatter(t.value,!1,!1);this.dataJsonObj.endDate=n.startDate,this.errorObj.error=this.commonService.getUTCDateObj(this.dataJsonObj.endDate)<=this.commonService.getUTCDateObj(this.dataJsonObj.startDate)?"COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START":""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeEndDate",n)}this.questionError=""}createRecord(){var t=this;return(0,T.Z)(function*(){try{t.dataJsonObj.welcome_screenImagesArray=[],t.dataJsonObj.success_screenImagesArray=[],t.dataJsonObj.failure_screenImagesArray=[],t.dataJsonObj.congratulation_screenImagesArray=[],t.dataJsonObj.question_screenImagesArray=[];for(let n=0;n<t.dataJsonObj.languagesData.length;n++){const a=t.dataJsonObj.languagesData[n],s=a.questionTranslations;if(a.languageTranslateImages){const o=a.languageTranslateImageObj?.welcome_screen,u=a.languageTranslateImageObj?.success_screen,d=a.languageTranslateImageObj?.failure_screen,c=a.languageTranslateImageObj?.congratulation_screen;for(let _=0;_<o?.length;_++)o[_]&&t.dataJsonObj?.welcome_screenImagesArray?.push(o[_]);for(let _=0;_<u?.length;_++)u[_]&&t.dataJsonObj?.success_screenImagesArray?.push(u[_]);for(let _=0;_<d?.length;_++)d[_]&&t.dataJsonObj?.failure_screenImagesArray?.push(d[_]);for(let _=0;_<c?.length;_++)c[_]&&t.dataJsonObj?.congratulation_screenImagesArray?.push(c[_])}for(let o=0;o<s.length;o++){const u=s[o];if(u.languageTranslateImages){const d=u.languageTranslateImageObj;d&&t.dataJsonObj?.question_screenImagesArray?.push(d)}}}if(t.quiztitlevalid.isValid())if(t.commonService.getUTCDateObj(t.dataJsonObj.endDate)<t.commonService.getUTCDateObj(t.dataJsonObj.startDate))t.errorObj.error="COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START";else{t.dataJsonObj.quizcreateObj={enterprise:{enterprise_id:t.dataJsonObj.defaultEnterprise,enterprise_name:t.dataJsonObj.enterpriseName,short_name:t.dataJsonObj.enterpriseShortName},title:t.dataJsonObj.quizTitle,start_datetime:t.commonService.convertUserTimeZoneDateToUTC(t.dataJsonObj.startDate,t.dataJsonObj.userTimeZoneObj.utcMinutes,t.dataJsonObj.userTimeZoneObj.utcMinutesSign),end_datetime:t.commonService.convertUserTimeZoneDateToUTC(t.dataJsonObj.endDate,t.dataJsonObj.userTimeZoneObj.utcMinutes,t.dataJsonObj.userTimeZoneObj.utcMinutesSign),description:t.dataJsonObj.description,leaderboard_user_count:t.dataJsonObj.leaderboard_user_count,quizQuestinData:t.dataJsonObj.quizQuestions,organizer:{user_profile_id:t.dataJsonObj.loginUserObj?.user_profile_id},page:t.dataJsonObj.pageDetails,language_translations:t.dataJsonObj.languagesData};const n={};n.welcomeImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.welcomeImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.welcomeImage,"image/jpeg"):"",n.successImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.successImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.successImage,"image/jpeg"):"",n.failureImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.failureImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.failureImage,"image/jpeg"):"",n.congratulationImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.congratulationImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.congratulationImage,"image/jpeg"):"",t.dataJsonObj.disableSubmitBtn=!0,yield t.quizService.create(t.dataJsonObj.quizcreateObj,n,t.quizFileArray,t.dataJsonObj.welcome_screenImagesArray,t.dataJsonObj.success_screenImagesArray,t.dataJsonObj.failure_screenImagesArray,t.dataJsonObj.congratulation_screenImagesArray,t.dataJsonObj.question_screenImagesArray),t.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),t.commonService.redirectToPreviousUrl()}}catch(n){t.dataJsonObj.disableSubmitBtn=!1,t.commonErrorCodes(JSON.parse(n)),t.loggerService.setLoggerError(t.constructor.name,"createRecord",n)}})()}changeFile(t,n,a){try{this.dataJsonObj.filesObj||(this.dataJsonObj.filesObj={}),this.errorObj.filesObj||(this.errorObj.filesObj={}),""===t.error?(this.errorObj.filesObj[n]="",this.dataJsonObj.filesObj[n]=t.value,a&&(a[n]=t.value)):this.errorObj.filesObj[n]=t.error}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeFile",s)}this.questionError=""}removeFile(t){try{this.errorObj.filesObj[t]="",this.dataJsonObj.filesObj[t]=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"removeFile",n)}}commonErrorCodes(t){409===JSON.parse(t[r.BU.STATUS])&&(this.errorObj.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelBtn",t)}}rotateLeft(){this.canvasRotation--}rotateRight(){this.canvasRotation++}rotateLeft1(){this.canvasRotation1--}rotateRight1(){this.canvasRotation1++}fileChangeEvent(t,n){try{this.digitalAssetUploadFileType=n,this.digitalAssetTypeName===r.Cv.VIDEO?(this.assetTypeTag="",this.assetTypeImage="",setTimeout(()=>{this.assetTypeValue=this.videoType,this.assetTypeTag="testVideo",this.assetTypeImage=""},10)):this.digitalAssetTypeName===r.Cv.AUDIO?(this.assetTypeTag="",this.assetTypeImage="",setTimeout(()=>{this.assetTypeValue=this.audioType,this.assetTypeTag="testAudio",this.assetTypeImage=""},10)):this.digitalAssetTypeName===r.Cv.IMAGE&&(this.assetTypeTag="testImage",this.assetTypeValue=this.imageType),this.stopDisplayFileNameAndCroppedSize(n),t.target.files.length>0&&("File"===n?this.fileSrc=null:this.previewFileSrc=null,this.digitalAssetTypeName===r.Cv.IMAGE&&(this.validSelectedImageFileType(t.target.files[0])?(this.error="","File"===n&&(this.imageChangedEvent=t),this.selectedFileName=t.target.files[0].name,this.imgCheck=!0):("File"===n?this.imageChangedEvent=null:this.previewImageChangedEvent=null,this.imgCheck=!1)),this.questionError="")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"fileChangeEvent",a)}}stopDisplayFileNameAndCroppedSize(t){try{"File"===t?document.getElementById("profileimg").innerHTML="":document.getElementById("previewimg").innerHTML=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"stopDisplayFileNameAndCroppedSize",n)}}validSelectedImageFileType(t){try{if(this.dataJsonObj.displayImage=t,this.fileType=t.type,this.selectedType=this.fileType.toString().split("/")[0],this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.imageExtensions=this.commonService.getExtension(r.P7),this.myObj={imageTypes:this.imageExtensions},this.assetTypeError=!0,"image"===this.selectedType)for(let n=0;n<this.myObj.imageTypes.length;n++)if(this.myObj.imageTypes[n].indexOf(this.extension)>-1&&this.assetTypeImage===r.Cv.IMAGE)return!0;return this.assetTypeError=!1,!1}catch(n){this.loggerService.setLoggerError(this.constructor.name,"validSelectedImageFileType",n)}}imageUploaded(t){try{this.error="";const n=t.target.files;n.length>0&&(this.assetFile=n[0]);const a=new Array("Bytes","KB","MB","GB");let s=this.assetFile.size,o=0;for(;s>900;)s/=1024,o++;const u=Math.round(100*s)/100,d=a[o];this.fileType=this.assetFile.type;const c=this.fileType.split("/")[0];if(this.fileSrc=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(this.assetFile)),setTimeout(()=>{},500),"image"===c&&this.assetTypeImage===r.Cv.IMAGE)this.assetTypeError=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.imageExtensions=this.commonService.getExtension(r.P7),this.myObj={imageTypes:this.imageExtensions};else if("video"===c&&this.digitalAssetTypeName===r.Cv.VIDEO){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.videoExtensions=this.commonService.getExtension(r.sc),this.myObj={imageTypes:this.videoExtensions},this.assetTypeError=!0;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g,this.digitalAssetFile=this.assetFile},this.fileSize=this.assetFile.size/1024/1024}else if("audio"===c&&this.digitalAssetTypeName===r.Cv.AUDIO){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.audioExtensions=this.commonService.getExtension(r.wE),this.myObj={imageTypes:this.audioExtensions},this.fileSize=this.assetFile.size/1024/1024,this.assetTypeError=!0,this.digitalAssetFile=this.assetFile;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g}}else if("application"===c&&this.digitalAssetTypeName===r.Cv.DOCUMENT){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.documentExtensions=this.commonService.getExtension(r.Do),this.myObj={imageTypes:this.documentExtensions},this.fileSize=this.assetFile.size/1024/1024,this.assetTypeError=!0,this.digitalAssetFile=this.assetFile;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g}}else this.otherExtensions=this.commonService.getExtension(r.XF),this.myObj={imageTypes:this.otherExtensions},this.assetTypeError=!1;let _=!0;for(let h=0;h<this.myObj.imageTypes.length;h++){let m=this.myObj.imageTypes[h].indexOf(this.extension);if(m>-1&&this.assetTypeImage===r.Cv.IMAGE&&!0===this.assetTypeError){_=!1,this.assetTypeError=!1,this.error="",this.imageMinSize>u||"KB"!==d||u>this.imageMaxSize||"KB"!==d?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART2"),this.error=this.errMsg1+" "+this.imageMinSize+" & "+this.imageMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.VIDEO&&!0===this.assetTypeError){_=!1,this.imgCheck=!0,this.error="",this.fileSize>this.videoMaxSize||this.fileSize<this.videoMinSize?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.VIDEO_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.videoMinSize+" & "+this.videoMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.AUDIO&&!0===this.assetTypeError){_=!1,this.fileSize>this.audioMaxSize||this.fileSize<this.audioMinSize?(this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.AUDIO_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.audioMinSize+" & "+this.audioMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.DOCUMENT&&!0===this.assetTypeError){_=!1,this.fileSize>this.documentMaxSize||this.fileSize<this.documentMinSize?(this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.DOCUMENT_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.documentMinSize+" & "+this.documentMaxSize+" "+this.errMsg2):this.imageStatus=!0,this.imageStatus=!0;break}}_&&(this.assetTypeError=!0,this.fileSrc="",this.mediaFile="",this.imgCheck=!1);const J=document.getElementById("profileimg");let b=this.assetFile.name;null!=b&&""!==b&&this.assetFile.name.length>10&&(b=b.substring(0,10)+".."+this.assetFile.name.split(".")[1]),!0===this.imgCheck&&(J.innerHTML=b)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"imageUploaded",n)}}dataURItoBlob(t,n){try{const a=window.atob(t),s=new ArrayBuffer(a.length),o=new Uint8Array(s);for(let d=0;d<a.length;d++)o[d]=a.charCodeAt(d);return new Blob([o],{type:n})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"dataURItoBlob",a)}}imageCropped(t){try{if(t.blob){const n=this.commonService.getFileReader();n.onloadend=()=>{this.croppedImage=n.result,this.validCroppedImageSize(this.croppedImage)&&(this.fileSrc=this.croppedImage,this.mediaFile=this.croppedImage)},n.readAsDataURL(t.blob)}else console.error("No blob found in the event.")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"imageCropped",n)}}dataURItoImgBlob(t,n){var a;a=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);var s=new Uint8Array(a.length);for(let o=0;o<a.length;o++)s[o]=a.charCodeAt(o);return new Blob([s],{type:n})}validCroppedImageSize(t){try{this.assetFile=t,this.digitalAssetFile=this.dataURItoImgBlob(this.assetFile,"image/jpeg");let n=this.assetFile.size,a=0;for(;n>900;)n/=1024,a++;const s=Math.round(100*n)/100;return this.displayFileNameAndCroppedSize(this.selectedFileName,s,"File"),s>this.imageMaxSize?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART2"),this.error=this.errMsg1+" "+this.imageMinSize+" & "+this.imageMaxSize+" "+this.errMsg2,!1):(this.imageStatus=!0,this.error="",!0)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"validCroppedImageSize",n)}}displayFileNameAndCroppedSize(t,n,a){try{let s;switch(a){case"File":s=document.getElementById("profileimg");break;case"Preview":s=document.getElementById("previewimg");break;case"Thumbnail":s=document.getElementById("thumbnailimg");default:s=document.getElementById("profileimg")}let o=t;null!=o&&""!==o&&o.split(".")[0].length>10&&(o=o.split(".")[0].substring(0,10)+".."+o.split(".")[1]),s.innerHTML=this.selectedFileName}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayFileNameAndCroppedSize",s)}}getDigitalAssetTypes(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.DIGITAL_ASSET_TYPES],"").then(t=>{this.digitalAssetTypeOptions=t.filter(n=>"IMAGE"==n.lookup_name),this.digitalAssetTypeName&&(this.digitalAssetTypeObj=this.digitalAssetTypeOptions.find(n=>"IMAGE"==n.lookup_name),this.digitalAssetTypeId=this.digitalAssetTypeObj._id,this.digitalAssetType=this.digitalAssetTypeObj.NAME,this.digitalAssetTypeName=this.digitalAssetTypeObj.lookup_name)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getDigitalAssetTypes",t)}}getFileAcceptType(){switch(this.digitalAssetTypeName){case r.Cv.VIDEO:return"video/*";case r.Cv.AUDIO:return"audio/*";case r.Cv.IMAGE:return"image/*";case r.Cv.DOCUMENT:return".xlsx,.xls,.pdf,.doc,.docx,.txt,.odt,.ods,.odp,.csv,.ppt,.pptx";default:return""}}changeDigitalAssetType(t){try{if(this.error="",this.imageChangedEvent="",document.getElementById("profileimg")){const n=document.getElementById("profileimg");n.innerHTML=n.innerHTML?"":n.innerHTML,this.fileSrc=""}if(document.getElementById("previewimg")){const n=document.getElementById("previewimg");n.innerHTML=n.innerHTML?"":n.innerHTML,this.previewFileSrc=""}this.digitalAssetTypeId=t.value,this.digitalAssetTypeObj=this.digitalAssetTypeOptions.find(n=>n.ID===parseInt(this.digitalAssetTypeId,10)),this.digitalAssetTypeName=this.digitalAssetTypeObj.lookup_name,this.dataJsonObj.isLiveStreamUrlFieldEnabled=this.digitalAssetTypeName===r.Cv.LIVE_STREAM}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeDigitalAssetType",n)}this.questionError=""}getAssetType(t){try{switch(this.error="",t){case this.videoType.lookup_name:this.postType=r.Cv.VIDEO,this.assetTypeVideo=r.Cv.VIDEO;break;case this.audioType.lookup_name:this.postType=r.Cv.AUDIO,this.assetTypeAudio=r.Cv.AUDIO;break;case this.imageType.lookup_name:this.postType=r.Cv.IMAGE,this.assetTypeImage=r.Cv.IMAGE}}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getAssetType",n)}}getDocumentTypeLookups(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.DIGITAL_ASSET_TYPES],"").then(t=>{this.documentTypes=t;for(let n=0;n<t.length;n++)t[n].lookup_name===r.Cv.AUDIO?this.audioType=t[n]:t[n].lookup_name===r.Cv.VIDEO?this.videoType=t[n]:t[n].lookup_name===r.Cv.IMAGE?this.imageType=t[n]:t[n].lookup_name===r.Cv.DOCUMENT&&(this.documentType=t[n])}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getDocumentTypeLookups",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getDocumentTypeLookups",t)}}imageLoaded(){this.showCropper=!0}changeDisplaySequence(t){this.displaySequence=t.value,this.errorHtml="",this.dataJsonObj.errorMessage=""}removeImage(){this.digitalAssetFile="",this.imageChangedEvent="",this.showCropper=!1}languagesAdd(t){try{this.dataJsonObj.disableTransAdd||(t.stopPropagation(),this.dataJsonObj.createRowIndex=this.getNextRecordNumber(),this.dataJsonObj.index=this.dataJsonObj.createRowIndex,this.displayNameAdd.clearmessage(),this.languageAdd.clearmessage(),this.languageAdd.clearSelectInput(),this.dataJsonObj.languageCode="",this.dataJsonObj.languageName="",this.dataJsonObj.languageId="",this.dataJsonObj.addPopupError="",this.dataJsonObj.langTransDisplayname="",this.dataJsonObj.langTransDescription="",this.dataJsonObj.isLangTransEnabled=!0,this.dataJsonObj.questionId="",this.dataJsonObj.welcome_screen="",this.dataJsonObj.success_screen="",this.dataJsonObj.failure_screen="",this.dataJsonObj.congratulation_screen="",this.dataJsonObj.quizQuestionsTl=[],this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.islanguageImgEnable.congratulation_screen=!1,this.dataJsonObj.addQuizQuestionsTl=[],this.getLanguagesList(""),$("#exampleModal5").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal5"))}catch(n){this.loggerService.setLoggerError(this.constructor.name,"languagesAdd",n)}}changeLanguage(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.languageId=t.ID,this.dataJsonObj.languageName=t.NAME,this.dataJsonObj.language=t.language_name,this.dataJsonObj.languageCode=t.language_code)}changeLangTransDisplayname(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.langTransDisplayname=t.value)}changeLangTransDescription(t){t&&(this.dataJsonObj.langTransDescription=t.value)}quizTranslationCreate(){try{this.dataJsonObj.languageDatavalid=this.dataJsonObj.languagesData.find(t=>t.title===this.dataJsonObj.quizTitle.toString()&&t.language.language_id===this.dataJsonObj.languageId),this.dataJsonObj.languageDatavalid?this.dataJsonObj.addPopupError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS":(this.dataJsonObj.languagesData.push({language:{language_id:this.dataJsonObj.languageId,language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode},quiz_display_name:this.dataJsonObj.quizTitle,title:this.dataJsonObj.langTransDisplayname,language_name_value:this.dataJsonObj.languageName,description:this.dataJsonObj.langTransDescription,is_enabled:this.dataJsonObj.isLangTransEnabled,is_enabled_value:this.dataJsonObj.isLangTransEnabled?"Yes":"No",languageTranslateImages:this.dataJsonObj.languageTranslateImage,languageTranslateImageObj:this.dataJsonObj.languageImageApis[this.dataJsonObj.index],questionTranslations:this.dataJsonObj.quizQuestionsTl}),document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",document.getElementById("imagefileid5").value="",$("#exampleModal5").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"quizTranslationCreate",t)}}editLanguages(t,n){try{this.dataJsonObj.editRowIndex=t,this.dataJsonObj.index=this.dataJsonObj.editRowIndex+1,this.dataJsonObj.languageCode=n.language.language_code,this.dataJsonObj.languageId=n.language.language_id,this.dataJsonObj.languageName=n.language_name_value,this.dataJsonObj.langTransDisplayname=n.title,this.dataJsonObj.langTransDescription=n.description,this.dataJsonObj.isLangTransEnabled=n.is_enabled,this.dataJsonObj.islanguageImgEnable.welcome_screen=!(!n?.languageTranslateImages?.welcome_screen||!n?.languageTranslateImages?.welcome_screen.length||!n?.languageTranslateImages?.welcome_screen[this.dataJsonObj.index]),this.dataJsonObj.islanguageImgEnable.success_screen=!(!n?.languageTranslateImages?.success_screen||!n?.languageTranslateImages?.success_screen.length||!n?.languageTranslateImages?.success_screen[this.dataJsonObj.index]),this.dataJsonObj.islanguageImgEnable.failure_screen=!(!n?.languageTranslateImages?.failure_screen||!n?.languageTranslateImages?.failure_screen.length||!n?.languageTranslateImages?.failure_screen[this.dataJsonObj.index]),this.dataJsonObj.islanguageImgEnable.congratulation_screen=!(!n?.languageTranslateImages?.congratulation_screen||!n?.languageTranslateImages?.congratulation_screen.length||!n?.languageTranslateImages?.congratulation_screen[this.dataJsonObj.index]),this.dataJsonObj.welcome_screen=n?.languageTranslateImages?.welcome_screen&&n?.languageTranslateImages?.welcome_screen.length?n?.languageTranslateImages?.welcome_screen[this.dataJsonObj.index]:"",this.dataJsonObj.success_screen=n?.languageTranslateImages?.success_screen&&n?.languageTranslateImages?.success_screen.length?n?.languageTranslateImages?.success_screen[this.dataJsonObj.index]:"",this.dataJsonObj.failure_screen=n?.languageTranslateImages?.failure_screen&&n?.languageTranslateImages?.failure_screen.length?n?.languageTranslateImages?.failure_screen[this.dataJsonObj.index]:"",this.dataJsonObj.congratulation_screen=n?.languageTranslateImages?.congratulation_screen&&n?.languageTranslateImages?.congratulation_screen.length?n?.languageTranslateImages?.congratulation_screen[this.dataJsonObj.index]:"",this.dataJsonObj.quizQuestionsTl=n.questionTranslations,this.displayNameUpdate.clearmessage(),$("#exampleModal6").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal6")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editLanguages",a)}}languagesEditSubmit(){try{const t=this.dataJsonObj.editRowIndex;this.displayNameUpdate.isValid()&&(this.dataJsonObj.languagesData[t].language={language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode,language_id:this.dataJsonObj.languageId},this.dataJsonObj.languagesData[t].language_name_value=this.dataJsonObj.languageName,this.dataJsonObj.languagesData[t].title=this.dataJsonObj.langTransDisplayname,this.dataJsonObj.languagesData[t].description=this.dataJsonObj.langTransDescription,this.dataJsonObj.languagesData[t].is_enabled=this.dataJsonObj.isLangTransEnabled,this.dataJsonObj.languagesData[t].is_enabled_value=!0===this.dataJsonObj.isLangTransEnabled?"Yes":"No",this.dataJsonObj.languagesData[t].languageTranslateImages=this.dataJsonObj.languageTranslateImage,this.dataJsonObj.languagesData[t].languageTranslateImageObj=this.dataJsonObj.languageImageApis[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].questionTranslations=this.dataJsonObj.quizQuestionsTl,document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",$("#exampleModal6").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesEditSubmit",t)}}cancelPopUpButton(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",t)}}changeTranslateImage(t,n,a){try{if(a)this.dataJsonObj.islanguageImgEnable[n]=!0,t.target.files.length>0&&(this.dataJsonObj.languageQuestionImageApi={screen:n,imageFileName:t.target.files[0].name,file:t.target.files[0]},this.dataJsonObj.questionTranslateImage||(this.dataJsonObj.questionTranslateImage={}),this.dataJsonObj.questionTranslateImage[n]=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t.target.files[0])),this.dataJsonObj[n]=this.dataJsonObj.questionTranslateImage[n]),document.getElementById("imagefileid5").value="";else{if(this.dataJsonObj.islanguageImgEnable[n]=!0,t.target.files.length>0){this.dataJsonObj.languageImageApi={screen:n,imageFileName:t.target.files[0].name,file:t.target.files[0]},this.dataJsonObj.languageImageApis[this.dataJsonObj.index]||(this.dataJsonObj.languageImageApis[this.dataJsonObj.index]={}),this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n]||(this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n]=[]),this.dataJsonObj.languageTranslateImage[n]=this.dataJsonObj.languageTranslateImage[n]||[];const s=this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n].findIndex(u=>u.screen===n);-1!==s?this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n][s]=this.dataJsonObj.languageImageApi:this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n].push(this.dataJsonObj.languageImageApi),this.dataJsonObj.languageTranslateImage[n][this.dataJsonObj.index]=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t.target.files[0])),this.dataJsonObj[n]=this.dataJsonObj.languageTranslateImage[n][this.dataJsonObj.index]}document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value=""}}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeTranslateImage",s)}}changeTranslateImageRemove(t,n){try{this.dataJsonObj.islanguageImgEnable[t]=!1,this.dataJsonObj.languageTranslateImage[t][this.dataJsonObj.index]=""}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeTranslateImageRemove",a)}}triggerFile1(){this.fileInput1.nativeElement.click()}triggerFile2(){this.fileInput2.nativeElement.click()}triggerFile3(){this.fileInput3.nativeElement.click()}triggerFile4(){this.fileInput4.nativeElement.click()}triggerFile5(){this.fileInput5.nativeElement.click()}getNextRecordNumber(){return this.dataJsonObj.languagesData.length+1}getNextQuestionNumber(){return this.dataJsonObj.quizQuestionsTl.length+1}questionTlAdd(t){try{t.stopPropagation(),this.addQuestionTlIndex=this.getNextQuestionNumber(),this.questionTlIndex=this.addQuestionTlIndex,this.dataJsonObj.islanguageImgEnable.question_screen=!1,this.dataJsonObj.question_screen="",this.dataJsonObj.questionTl="",this.dataJsonObj.optionsArrayTl=[],$("#blockContentDetailsAdd").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDetailsAdd")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"questionTlAdd",n)}}removeBlockContentDetails(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.screenTypeObjectId=n.object_name,this.dataJsonObj.accordionCheckbox=n.is_display_as_accordion,this.dataJsonObj.defaultScreenType=n?.link_to_screen?.screen_type?.lookup_id?this.lookupLanguageTranslations(n.link_to_screen.screen_type.lookup_id):"",this.dataJsonObj.defaultPositionType=n?.position?.lookup_id?this.lookupLanguageTranslations(n.position.lookup_id):"",this.dataJsonObj.blockContentTitle=n.block_content_title,$("#blockContentDelete").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDelete")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeBlockContentDetails",a)}}editQuestionTl(t,n){try{this.dataJsonObj.currentQuestion=n.display_sequence,this.questionTlEditRowIndex=t,this.questionTlIndex=this.questionTlEditRowIndex+1,this.dataJsonObj.rowdata=n,this.dataJsonObj.questionTl=n.question,this.dataJsonObj.optionsArrayTl=n.options,this.dataJsonObj.islanguageImgEnable.question_screen=!!n?.languageTranslateImages,this.dataJsonObj.question_screen=n?.languageTranslateImages,$("#blockContentEdit").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editQuestionTl",a)}}optinsTlAdd1(t){try{t.stopPropagation(),this.dataJsonObj.optionTl="",$("#blockContentDetailsAdd1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDetailsAdd1")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"optinsTlAdd1",n)}}removeBlockContentDetails1(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.screenTypeObjectId=n.object_name,this.dataJsonObj.accordionCheckbox=n.is_display_as_accordion,this.dataJsonObj.defaultScreenType=n?.link_to_screen?.screen_type?.lookup_id?this.lookupLanguageTranslations(n.link_to_screen.screen_type.lookup_id):"",this.dataJsonObj.defaultPositionType=n?.position?.lookup_id?this.lookupLanguageTranslations(n.position.lookup_id):"",this.dataJsonObj.blockContentTitle=n.block_content_title,$("#blockContentDelete1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDelete1")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeBlockContentDetails1",a)}}editOptionsTl(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.rowdata=n,$("#blockContentEdit1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit1")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editOptionsTl",a)}}onClick(t){t.stopPropagation()}deleteBlockContentDetails(){}blockContentEditSubmit(){}changeLangTransCheckBox(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.isLangTransEnabled=t.value)}languagesDeleteSubmit(){try{this.dataJsonObj.languagesData.splice(this.dataJsonObj.deleteRowIndex,1),$("#exampleModal7").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesDeleteSubmit",t)}}static \u0275fac=function(n){return new(n||i)(e.Y36(C.sK),e.Y36(H.e),e.Y36(y.m),e.Y36(N.v),e.Y36(S),e.Y36(M.s),e.Y36(z.H7),e.Y36(I.gz))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-quiz-create"]],viewQuery:function(n,a){if(1&n&&(e.Gf(F.ap,5),e.Gf(ue,5),e.Gf(ce,5),e.Gf(ge,5),e.Gf(pe,5),e.Gf(me,5),e.Gf(_e,5),e.Gf(he,5),e.Gf(be,5),e.Gf(Oe,5),e.Gf(Te,5),e.Gf(Je,5),e.Gf(fe,5)),2&n){let s;e.iGM(s=e.CRH())&&(a.imageCropper=s.first),e.iGM(s=e.CRH())&&(a.quiztitlevalid=s.first),e.iGM(s=e.CRH())&&(a.questionValid=s.first),e.iGM(s=e.CRH())&&(a.optionvalidate=s.first),e.iGM(s=e.CRH())&&(a.typeDropdown=s.first),e.iGM(s=e.CRH())&&(a.displayNameUpdate=s.first),e.iGM(s=e.CRH())&&(a.fileInput1=s.first),e.iGM(s=e.CRH())&&(a.fileInput2=s.first),e.iGM(s=e.CRH())&&(a.fileInput3=s.first),e.iGM(s=e.CRH())&&(a.languageAdd=s.first),e.iGM(s=e.CRH())&&(a.displayNameAdd=s.first),e.iGM(s=e.CRH())&&(a.fileInput4=s.first),e.iGM(s=e.CRH())&&(a.fileInput5=s.first)}},features:[e.qOj],decls:486,vars:424,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["autoCaseFlag","false","mandatory","true","disabled","false","id","treasurehunt-create-facilityname",3,"minlength","maxlength","label","value","valueChange"],["quiztitlevalid",""],[1,"error-msg","col-md-10","text-danger","text-center","mb-0"],[1,"col-md-2"],["autoCaseFlag","true","mandatory","false","disabled","false","id","treasure-hunt-clues-create-leaderboardUsersCount",3,"label","value","maxlength","valueChange"],["leaderboardUsersCountInputNumber",""],[1,"col-lg-7","col-md-8","datetimepicker"],[1,"row"],[1,"col-lg-6","col-md-6","datetimepicker"],[1,"col-8","col-md-8","pl-0"],["mandatory","true","disabled","false","id","surveys-create-start-date",3,"placeholder","dateformat","defaultDate","editvalueChange"],["startDatetimePicker",""],[1,"col-4","col-md-4","pr-1"],["disabled","false","mandatory","true",3,"label","options","defaultValue","selectedOption","searchValueChange"],["mandatory","true","disabled","false","id","polls-create-end-date",3,"placeholder","defaultDate","dateformat","editvalueChange"],["mandatory","false","disabled","false","id","enterprise-create-description",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalid",""],[1,"col-md-2","pdl-1","order-md-1","imagewith-label"],["type","file","btnHide","true","action","create","imageid","welcomeImage","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","valueChange","imageRemove"],["type","file","btnHide","true","action","create","imageid","successImage","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","valueChange","imageRemove"],["type","file","btnHide","true","action","create","imageid","failureImage","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","valueChange","imageRemove"],[1,"col-md-3","pdl-1","order-md-1","imagewith-label"],["type","file","btnHide","true","action","create","imageid","congratulationImage","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","valueChange","imageRemove"],[1,"col-md-12","text-end","mt-2","mb-2","btns-group","order-md-1","order-2"],["className","btn btn-primary btn-sm","id","treasurehunt-create-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","treasurehunt-create-cancel",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"card-body"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],[1,"col-md-6"],["autoCaseFlag","false","mandatory","false","disabled","false","id","animal-spotlight-screen-details-create-question",3,"label","value","valueChange"],["questionValid",""],["mandatory","false","id","digitalassets-create-assetType",3,"label","options","defaultValue","valueChange"],["typeDropdown",""],["class","col-md-2",4,"ngIf"],[1,"col-md-2","mt-2"],["id","menu-list-data-sortandfilter-add","className","btn btn-primary btn-sm",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],["class","row form-bs",4,"ngIf"],[4,"ngFor","ngForOf"],["class","fw-600",4,"ngIf"],[1,"card-content"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],["label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","treasure-hunt-create-translationsadd",3,"disabled","isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","hidden-md-down","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"hidden-md-up"],["lines","full","class","pdl-0 pdr-0",4,"ngFor","ngForOf"],["class","text-center text-danger mb-0 no-data-txt",4,"ngIf"],["id","exampleModal5","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],["disabled","true","id","treasure-hunt-create-translationsadd-name",3,"label","value"],["mandatory","true","id","treasure-hunt-create-translationsadd-languagename",3,"label","options","selectedOption","searchValueChange"],["languageAdd",""],["disabled","false","mandatory","true","autoCaseFlag","false","id","treasure-hunt-create-translationsadd-displayname",3,"label","value","maxlength","valueChange"],["displayNameAdd",""],[1,"col-md-10"],["mandatory","false","disabled","false","id","treasure-hunt-create-translationsadd-description",3,"label","defaultvalue","maxlength","valueChange"],[1,"col-md-2","d-flex","align-items-center"],["label","","mandatory","true","id","treasure-hunt-create-translationsadd-checkboxoptions",3,"options","checked","valueChange"],[1,"col-md-12","text-center","mt-2"],["size","12","multiple","","type","file","id","imagefileid1","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file1",""],[4,"ngIf"],["id","create_fileclick_video_id","className","btn btn-primary btn-sm mt-2","btnIcon","fas fa-image mgr-5","id","lookupcode-translations-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["size","12","multiple","","type","file","id","imagefileid2","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file2",""],["size","12","multiple","","type","file","id","imagefileid3","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file3",""],["size","12","multiple","","type","file","id","imagefileid4","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file4",""],["disabled","false","label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","create-addpopup-linesadd",3,"isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","treasure-hunt-create-translationsadd-add-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasure-hunt-create-translationsadd-cancel-btn",3,"label","buttonOnClick"],["id","exampleModal6","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","treasure-hunt-create-translationsedit-name",3,"label","value"],["mandatory","true","disabled","true","id","treasure-hunt-create-translationsedit-language",3,"label","value"],["disabled","false","mandatory","true","autoCaseFlag","false","id","treasure-hunt-create-translationsedit-displayname",3,"label","value","maxlength","valueChange"],["displayNameUpdate",""],["mandatory","false","disabled","false","id","treasure-hunt-create-translationsedit-description",3,"label","defaultvalue","maxlength","valueChange"],["label","","mandatory","true","id","treasure-hunt-create-translationsedit-checkboxoptions",3,"options","checked","valueChange"],[1,"col-md-12","text-center","d-flex","align-items-center","justify-content-center","mt-2"],["id","create_fileclick_video_id","className","btn btn-primary btn-sm","btnIcon","fas fa-image mgr-5","id","lookupcode-translations-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-primary btn-sm","id","treasure-hunt-create-translationsedit-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasure-hunt-create-translationsedit-cancel-btn",3,"label","buttonOnClick"],["id","exampleModal7","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","treasure-hunt-create-translations-delete-name",3,"label","value"],["mandatory","false","disabled","true","id","treasure-hunt-create-translations-delete-language",3,"label","value"],["disabled","true","id","treasure-hunt-create-translations-delete-displayname","mandatory","true",3,"label","value"],["disabled","true","id","treasure-hunt-create-translations-delete-description",3,"label","defaultvalue"],["label","","mandatory","false","id","treasure-hunt-create-translations-delete-checkboxoption","disabled","true",3,"options","checked"],["className","btn btn-primary btn-sm","id","treasure-hunt-create-translations-delete-delete-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasure-hunt-create-translations-delete-cancel-btn",3,"label","buttonOnClick"],["id","blockContentDetailsAdd","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],[1,"col-md-3"],["mandatory","true","id","digitalassets-create-assetType",3,"label","options","defaultValue","valueChange"],["digitalAssetTypeDropdown",""],["mandatory","true","disabled","false","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","value","maxlength","valueChange"],["blockTitleInput",""],["size","12","multiple","","type","file","id","imagefileid5","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file5",""],["className","btn btn-primary btn-sm","id","create-addpopup-add",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-addpopup-cancel",3,"label"],["id","blockContentDelete","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["mandatory","false","disabled","true","id","create-addpopup-blocktitle",3,"label","value"],["mandatory","false","disabled","true","id","create-deletepopup-positionType",3,"label","value"],["mandatory","false","disabled","true","id","create-deletepopup-screenType",3,"label","value"],["mandatory","false","disabled","true","id","create-deletepopup-object",3,"label","value"],[1,"col-md-4","d-flex","align-items-center"],["label","","id","create-primary","disabled","true",3,"options","checked"],[1,"col-md-12","pdt-14"],[1,"fs-12"],["className","btn btn-primary btn-sm","data-bs-dismiss","modal","id","create-deletepopup-delete",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-deletepopup-cancel",3,"label"],["id","blockContentEdit","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["mandatory","false","disabled","true","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","value","maxlength"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-editpopup-cancel",3,"label"],["id","blockContentDetailsAdd1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel1","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["label","","disabled","true","mandatory","true","id","treasure-hunt-create-translationsadd-checkboxoptions",3,"options","checked"],["id","blockContentDelete1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["size","12","type","file","id","imagefileid",1,"input-file",2,"display","none",3,"accept","click","change"],["file",""],["class","action-btns upload-img-icon","no-padding","",3,"click",4,"ngIf"],[1,"uploaded-img"],["size","12","id","profileimg","text-center","",1,"file-return","ion-no-padding"],["size","12","class","flex-col",4,"ngIf"],["class","ion-text-center",4,"ngIf"],["no-padding","",1,"action-btns","upload-img-icon",3,"click"],[1,"mg-0","fs-13"],["id","create_fileclick_video_id",1,"fab","fa-youtube","fs-26","cursor-pointer"],["id","create_fileclick_audio_id",1,"fas","fa-microphone","fs-26","cursor-pointer"],["id","create_fileclick_image_id",1,"fas","fa-image","fs-26","cursor-pointer"],["size","12",1,"flex-col"],[1,"playcontent"],["controls","controls","preload","metadata","width","300","controlsList","nodownload","disablePictureInPicture","","height"," 240","type","video/mp4",1,"videoPlayer",3,"src"],["controls","controls",4,"ngIf"],["controls","controls"],["width","200","preload","metadata","controls","controls","controlsList","nodownload","height","240","type","audio/mp3","position","middle",1,"videoPlayer",3,"src"],[1,"ion-text-center"],["size","12","class","input-file-container ion-no-padding ion-text-center",4,"ngIf"],["class","fas fa-times floatright cursor-pointer clear-icon-btn",3,"click",4,"ngIf"],["outputType","both",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","onlyScaleDown","roundCropper","imageQuality","transform","canvasRotation","display","imageCropped","imageLoaded",4,"ngIf"],["size","12",1,"input-file-container","ion-no-padding","ion-text-center"],[1,"btn","btn-link",3,"click"],[1,"fas","fa-undo","fs-2x"],[1,"fas","fa-redo","fs-2x"],[1,"fas","fa-times","floatright","cursor-pointer","clear-icon-btn",3,"click"],["outputType","both",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","onlyScaleDown","roundCropper","imageQuality","transform","canvasRotation","imageCropped","imageLoaded"],[1,"fw-600","mb-2"],[1,"col-md-8"],["autoCaseFlag","false","mandatory","false","disabled","false","id","animal-spotlight-screen-details-create-Answervalue",3,"label","value","valueChange"],["optionvalidate",""],["disabled","true",3,"label","value"],["label","","mandatory","true","disabled","true","id","treasure-hunt-create-translationsadd-checkboxoptions",3,"options","checked"],["id","treasure-hunt-clues-edit-cluesolution","className","btn btn-primary btn-sm",3,"label","buttonOnClick"],[1,"fw-600"],["alt","",1,"img-thumbnail",3,"src"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","click"],[3,"innerHTML"],["class","col-md-12",4,"ngFor","ngForOf"],["lines","full",1,"pdl-0","pdr-0"],[1,"mg-0",3,"click"],["color","primary",1,"mg-0","fs-13","h3"],[1,"mg-0","fs-11"],[1,"text-center","text-danger","mb-0","no-data-txt"],[1,"static-content-img"],[1,"checkboxcol",2,"width","2em"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#blockContentEdit",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#blockContentEdit",3,"pSelectableRow","click"],[1,"ui-column-title","d-md-none","d-lg-none"],[1,"ui-column-values",3,"innerHTML"],[3,"pSelectableRow","class",4,"ngFor","ngForOf"],[3,"pSelectableRow"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"app-input",10,11),e.NdJ("valueChange",function(o){return a.getQuizName(o)}),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",12),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",13)(17,"app-inputnumber",14,15),e.NdJ("valueChange",function(o){return a.changeLeaderboardUsersCount(o)}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",17)(24,"div",19)(25,"app-datetimepicker",20,21),e.NdJ("editvalueChange",function(o){return a.changeStartDate(o)}),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",22)(29,"app-dropdown-search",23),e.NdJ("selectedOption",function(o){return a.changeTimeZone(o)})("searchValueChange",function(o){return a.getTimeZone(o)}),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"div",18)(32,"div",17)(33,"div",19)(34,"app-datetimepicker",24),e.NdJ("editvalueChange",function(o){return a.changeEndDate(o)}),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"div",22)(37,"app-dropdown-search",23),e.NdJ("selectedOption",function(o){return a.changeTimeZone(o)})("searchValueChange",function(o){return a.getTimeZone(o)}),e.ALo(38,"translate"),e.qZA()()()()()(),e.TgZ(39,"div",3)(40,"app-textarea",25,26),e.NdJ("valueChange",function(o){return a.changeDescriptionName(o)}),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",3)(44,"div",17)(45,"div",27)(46,"label"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"app-imageupload",28),e.NdJ("valueChange",function(o){return a.changeFile(o,"welcomeImage","")})("imageRemove",function(){return a.removeFile("welcomeImage")}),e.qZA()(),e.TgZ(50,"div",27)(51,"label"),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"app-imageupload",29),e.NdJ("valueChange",function(o){return a.changeFile(o,"successImage","")})("imageRemove",function(){return a.removeFile("successImage")}),e.qZA()(),e.TgZ(55,"div",27)(56,"label"),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"app-imageupload",30),e.NdJ("valueChange",function(o){return a.changeFile(o,"failureImage","")})("imageRemove",function(){return a.removeFile("failureImage")}),e.qZA()(),e.TgZ(60,"div",31)(61,"label"),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"app-imageupload",32),e.NdJ("valueChange",function(o){return a.changeFile(o,"congratulationImage","")})("imageRemove",function(){return a.removeFile("congratulationImage")}),e.qZA()()()(),e.TgZ(65,"div",33)(66,"app-button",34),e.NdJ("buttonOnClick",function(){return a.createRecord()}),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"app-button",35),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(69,"translate"),e.qZA()(),e.TgZ(70,"div",36),e._uU(71),e.ALo(72,"translate"),e.qZA()(),e.TgZ(73,"div",2)(74,"div",3)(75,"div",4)(76,"div",37)(77,"div",17)(78,"div",3)(79,"div",38)(80,"div",39)(81,"p-accordion")(82,"p-accordionTab",40)(83,"p-header",41)(84,"span"),e._uU(85),e.ALo(86,"translate"),e.qZA()(),e.TgZ(87,"div",37)(88,"div",8)(89,"div",42)(90,"app-input",43,44),e.NdJ("valueChange",function(o){return a.changeQuestionName(o)}),e.ALo(92,"translate"),e.qZA()(),e.TgZ(93,"div",13)(94,"app-dropdown-singleselect",45,46),e.NdJ("valueChange",function(o){return a.changeDigitalAssetType(o)}),e.ALo(96,"translate"),e.qZA()(),e.YNc(97,qe,11,7,"div",47),e.TgZ(98,"div",48)(99,"app-button",49),e.NdJ("buttonOnClick",function(){return a.addQuizQuestions()}),e.ALo(100,"translate"),e.qZA()(),e.TgZ(101,"div",50),e._uU(102),e.ALo(103,"translate"),e.qZA()(),e.YNc(104,Le,13,12,"div",51),e.YNc(105,De,10,9,"ng-container",52),e.YNc(106,xe,3,3,"label",53),e.YNc(107,Qe,12,10,"ng-container",52),e.qZA()()()()()()()()()()()()(),e.TgZ(108,"div",17)(109,"div",3)(110,"div",38)(111,"div",54)(112,"p-accordion",55)(113,"p-accordionTab",56)(114,"p-header",41)(115,"span"),e._uU(116),e.ALo(117,"translate"),e.qZA(),e.TgZ(118,"app-button",57),e.NdJ("buttonOnClick",function(o){return a.languagesAdd(o)}),e.qZA()(),e.TgZ(119,"p-table",58),e.YNc(120,ke,1,1,"ng-template",59),e.YNc(121,Re,2,1,"ng-template",60),e.YNc(122,Pe,2,1,"ng-template",61),e.YNc(123,Ge,4,2,"ng-template",62),e.qZA(),e.TgZ(124,"div",63)(125,"ion-list"),e.YNc(126,He,11,12,"ion-item",64),e.qZA(),e.YNc(127,Ye,3,3,"p",65),e.qZA()()()()()()()()()()(),e.TgZ(128,"div",66)(129,"div",67)(130,"div",68)(131,"div",69)(132,"div",70),e._uU(133),e.ALo(134,"translate"),e.ALo(135,"translate"),e.qZA()(),e.TgZ(136,"div",71)(137,"div",8)(138,"div",9),e._UZ(139,"app-input",72),e.ALo(140,"translate"),e.qZA(),e.TgZ(141,"div",9)(142,"app-dropdown-search",73,74),e.NdJ("selectedOption",function(o){return a.changeLanguage(o)})("searchValueChange",function(o){return a.getLanguagesList(o)}),e.ALo(144,"translate"),e.qZA()(),e.TgZ(145,"div",9)(146,"app-input",75,76),e.NdJ("valueChange",function(o){return a.changeLangTransDisplayname(o)}),e.ALo(148,"translate"),e.qZA()(),e.TgZ(149,"div",77)(150,"app-textarea",78),e.NdJ("valueChange",function(o){return a.changeLangTransDescription(o)}),e.ALo(151,"translate"),e.qZA()(),e.TgZ(152,"div",79)(153,"app-checkbox",80),e.NdJ("valueChange",function(o){return a.changeLangTransCheckBox(o)}),e.qZA()(),e.TgZ(154,"div",12),e._uU(155),e.ALo(156,"translate"),e.qZA(),e.TgZ(157,"div",81)(158,"div",17)(159,"div",9)(160,"input",82,83),e.NdJ("change",function(o){return a.changeTranslateImage(o,"welcome_screen")}),e.qZA(),e.YNc(162,$e,4,1,"div",84),e.TgZ(163,"app-button",85),e.NdJ("buttonOnClick",function(){return a.triggerFile1()}),e.ALo(164,"translate"),e.qZA()(),e.TgZ(165,"div",9)(166,"input",86,87),e.NdJ("change",function(o){return a.changeTranslateImage(o,"success_screen")}),e.qZA(),e.YNc(168,Ke,4,1,"div",84),e.TgZ(169,"app-button",85),e.NdJ("buttonOnClick",function(){return a.triggerFile2()}),e.ALo(170,"translate"),e.qZA()(),e.TgZ(171,"div",9)(172,"input",88,89),e.NdJ("change",function(o){return a.changeTranslateImage(o,"failure_screen")}),e.qZA(),e.YNc(174,We,4,1,"div",84),e.TgZ(175,"app-button",85),e.NdJ("buttonOnClick",function(){return a.triggerFile3()}),e.ALo(176,"translate"),e.qZA()(),e.TgZ(177,"div",9)(178,"input",90,91),e.NdJ("change",function(o){return a.changeTranslateImage(o,"congratulation_screen")}),e.qZA(),e.YNc(180,Xe,4,1,"div",84),e.TgZ(181,"app-button",85),e.NdJ("buttonOnClick",function(){return a.triggerFile4()}),e.ALo(182,"translate"),e.qZA()()()(),e.TgZ(183,"div",3)(184,"div",38)(185,"div",54)(186,"p-accordion",55)(187,"p-accordionTab",56)(188,"p-header",41)(189,"span"),e._uU(190),e.ALo(191,"translate"),e.qZA(),e.TgZ(192,"app-button",92),e.NdJ("buttonOnClick",function(o){return a.questionTlAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(193,"p-table",93),e.YNc(194,tt,1,1,"ng-template",59),e.YNc(195,nt,3,1,"ng-template",60),e.YNc(196,st,4,1,"ng-template",61),e.YNc(197,lt,4,2,"ng-template",62),e.qZA()()()()()(),e.TgZ(198,"div",94)(199,"app-button",95),e.NdJ("buttonOnClick",function(){return a.quizTranslationCreate()}),e.ALo(200,"translate"),e.qZA(),e.TgZ(201,"app-button",96),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(202,"translate"),e.qZA()()()()()()(),e.TgZ(203,"div",97)(204,"div",67)(205,"div",68)(206,"div",69)(207,"div",70),e._uU(208),e.ALo(209,"translate"),e.ALo(210,"translate"),e.qZA()(),e.TgZ(211,"div",71)(212,"div",8)(213,"div",9),e._UZ(214,"app-input",98),e.ALo(215,"translate"),e.qZA(),e.TgZ(216,"div",9),e._UZ(217,"app-input",99),e.ALo(218,"translate"),e.qZA(),e.TgZ(219,"div",9)(220,"app-input",100,101),e.NdJ("valueChange",function(o){return a.changeLangTransDisplayname(o)}),e.ALo(222,"translate"),e.qZA()(),e.TgZ(223,"div",77)(224,"app-textarea",102),e.NdJ("valueChange",function(o){return a.changeLangTransDescription(o)}),e.ALo(225,"translate"),e.qZA()(),e.TgZ(226,"div",79)(227,"app-checkbox",103),e.NdJ("valueChange",function(o){return a.changeLangTransCheckBox(o)}),e.qZA()(),e.TgZ(228,"div",104)(229,"div",17)(230,"div",9)(231,"input",82,83),e.NdJ("change",function(o){return a.changeTranslateImage(o,"welcome_screen")}),e.qZA(),e.YNc(233,rt,4,1,"div",84),e.TgZ(234,"app-button",85),e.NdJ("buttonOnClick",function(){return a.triggerFile1()}),e.ALo(235,"translate"),e.qZA()(),e.TgZ(236,"div",9)(237,"input",86,87),e.NdJ("change",function(o){return a.changeTranslateImage(o,"success_screen")}),e.qZA(),e.YNc(239,dt,4,1,"div",84),e.TgZ(240,"app-button",105),e.NdJ("buttonOnClick",function(){return a.triggerFile2()}),e.ALo(241,"translate"),e.qZA()(),e.TgZ(242,"div",9)(243,"input",88,89),e.NdJ("change",function(o){return a.changeTranslateImage(o,"failure_screen")}),e.qZA(),e.YNc(245,ut,4,1,"div",84),e.TgZ(246,"app-button",105),e.NdJ("buttonOnClick",function(){return a.triggerFile3()}),e.ALo(247,"translate"),e.qZA()(),e.TgZ(248,"div",9)(249,"input",90,91),e.NdJ("change",function(o){return a.changeTranslateImage(o,"congratulation_screen")}),e.qZA(),e.YNc(251,ct,4,1,"div",84),e.TgZ(252,"app-button",105),e.NdJ("buttonOnClick",function(){return a.triggerFile4()}),e.ALo(253,"translate"),e.qZA()()()(),e.TgZ(254,"div",3)(255,"div",38)(256,"div",54)(257,"p-accordion",55)(258,"p-accordionTab",56)(259,"p-header",41)(260,"span"),e._uU(261),e.ALo(262,"translate"),e.qZA(),e.TgZ(263,"app-button",92),e.NdJ("buttonOnClick",function(o){return a.questionTlAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(264,"p-table",93),e.YNc(265,pt,1,1,"ng-template",59),e.YNc(266,_t,3,1,"ng-template",60),e.YNc(267,bt,4,1,"ng-template",61),e.YNc(268,Tt,4,2,"ng-template",62),e.qZA()()()()()(),e.TgZ(269,"div",94)(270,"app-button",106),e.NdJ("buttonOnClick",function(){return a.languagesEditSubmit()}),e.ALo(271,"translate"),e.qZA(),e.TgZ(272,"app-button",107),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(273,"translate"),e.qZA()()()()()()(),e.TgZ(274,"div",108)(275,"div",67)(276,"div",68)(277,"div",69)(278,"div",70),e._uU(279),e.ALo(280,"translate"),e.ALo(281,"translate"),e.qZA()(),e.TgZ(282,"div",71)(283,"div",8)(284,"div",9),e._UZ(285,"app-input",109),e.ALo(286,"translate"),e.qZA(),e.TgZ(287,"div",9),e._UZ(288,"app-input",110),e.ALo(289,"translate"),e.qZA(),e.TgZ(290,"div",9),e._UZ(291,"app-input",111),e.ALo(292,"translate"),e.qZA(),e.TgZ(293,"div",77),e._UZ(294,"app-textarea",112),e.ALo(295,"translate"),e.qZA(),e.TgZ(296,"div",79),e._UZ(297,"app-checkbox",113),e.qZA(),e.TgZ(298,"div",94)(299,"app-button",114),e.NdJ("buttonOnClick",function(){return a.languagesDeleteSubmit()}),e.ALo(300,"translate"),e.qZA(),e.TgZ(301,"app-button",115),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(302,"translate"),e.qZA()()()()()()(),e.TgZ(303,"div",116)(304,"div",67)(305,"div",68)(306,"div",69)(307,"div",70),e._uU(308),e.ALo(309,"translate"),e.ALo(310,"translate"),e.qZA()(),e.TgZ(311,"div",71)(312,"div",1)(313,"div",8)(314,"div",117)(315,"app-dropdown-singleselect",118,119),e.NdJ("valueChange",function(o){return a.changeQuestionDropDown(o)}),e.ALo(317,"translate"),e.qZA()(),e.TgZ(318,"div",9)(319,"app-input",120,121),e.NdJ("valueChange",function(o){return a.changeTranslateQuestionName(o)}),e.ALo(321,"translate"),e.ALo(322,"translate"),e.qZA()(),e.TgZ(323,"div",50),e._uU(324),e.ALo(325,"translate"),e.qZA(),e.TgZ(326,"div",81)(327,"div",17)(328,"div",9)(329,"input",122,123),e.NdJ("change",function(o){return a.changeTranslateImage(o,"question_screen","question")}),e.qZA(),e.YNc(331,Jt,4,1,"div",84),e.TgZ(332,"app-button",85),e.NdJ("buttonOnClick",function(){return a.triggerFile5()}),e.ALo(333,"translate"),e.qZA()()()(),e.TgZ(334,"div",3)(335,"div",38)(336,"div",54)(337,"p-accordion",55)(338,"p-accordionTab",56)(339,"p-header",41)(340,"span"),e._uU(341),e.ALo(342,"translate"),e.qZA(),e.TgZ(343,"app-button",92),e.NdJ("buttonOnClick",function(o){return a.optinsTlAdd1(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(344,"p-table",93),e.YNc(345,jt,1,1,"ng-template",59),e.YNc(346,It,3,1,"ng-template",60),e.YNc(347,vt,4,1,"ng-template",61),e.YNc(348,Nt,4,2,"ng-template",62),e.qZA()()()()()(),e.TgZ(349,"div",94)(350,"app-button",124),e.NdJ("buttonOnClick",function(){return a.addQuizQuestionsTl()}),e.ALo(351,"translate"),e.qZA(),e._UZ(352,"app-button",125),e.ALo(353,"translate"),e.qZA()()()()()()(),e.TgZ(354,"div",126)(355,"div",67)(356,"div",68)(357,"div",69)(358,"div",70),e._uU(359),e.ALo(360,"translate"),e.ALo(361,"translate"),e.qZA()(),e.TgZ(362,"div",71)(363,"div",1)(364,"div",8)(365,"div",9),e._UZ(366,"app-input",127),e.ALo(367,"translate"),e.qZA(),e.TgZ(368,"div",9),e._UZ(369,"app-input",128),e.ALo(370,"translate"),e.qZA(),e.TgZ(371,"div",9),e._UZ(372,"app-input",129),e.ALo(373,"translate"),e.qZA(),e.TgZ(374,"div",9),e._UZ(375,"app-input",130),e.ALo(376,"translate"),e.qZA(),e.TgZ(377,"div",131),e._UZ(378,"app-checkbox",132),e.qZA(),e.TgZ(379,"div",133)(380,"ion-label",134),e._uU(381),e.ALo(382,"translate"),e.qZA()(),e.TgZ(383,"div",94)(384,"app-button",135),e.NdJ("buttonOnClick",function(){return a.deleteBlockContentDetails()}),e.ALo(385,"translate"),e.qZA(),e._UZ(386,"app-button",136),e.ALo(387,"translate"),e.qZA()()()()()()(),e.TgZ(388,"div",137)(389,"div",67)(390,"div",68)(391,"div",69)(392,"div",70),e._uU(393),e.ALo(394,"translate"),e.ALo(395,"translate"),e.qZA()(),e.TgZ(396,"div",71)(397,"div",1)(398,"div",8)(399,"div",9),e._UZ(400,"app-input",138),e.ALo(401,"translate"),e.qZA(),e.TgZ(402,"div",81)(403,"div",17)(404,"div",9),e.YNc(405,St,3,1,"div",84),e.qZA()()(),e.TgZ(406,"div",3)(407,"div",38)(408,"div",54)(409,"p-accordion",55)(410,"p-accordionTab",56)(411,"p-header",41)(412,"span"),e._uU(413),e.ALo(414,"translate"),e.qZA()(),e.TgZ(415,"p-table",93),e.YNc(416,yt,1,1,"ng-template",59),e.YNc(417,Lt,3,1,"ng-template",60),e.YNc(418,xt,3,1,"ng-template",61),e.YNc(419,zt,4,2,"ng-template",62),e.qZA()()()()()(),e.TgZ(420,"div",94),e._UZ(421,"app-button",139),e.ALo(422,"translate"),e.qZA()()()()()()(),e.TgZ(423,"div",140)(424,"div",67)(425,"div",68)(426,"div",69)(427,"div",70),e._uU(428),e.ALo(429,"translate"),e.ALo(430,"translate"),e.qZA()(),e.TgZ(431,"div",71)(432,"div",1)(433,"div",8)(434,"div",117)(435,"app-dropdown-singleselect",118,119),e.NdJ("valueChange",function(o){return a.changeOptionsDropDown(o)}),e.ALo(437,"translate"),e.qZA()(),e.TgZ(438,"div",9)(439,"app-input",120,121),e.NdJ("valueChange",function(o){return a.changeAnswerNameTl(o)}),e.ALo(441,"translate"),e.qZA()(),e.TgZ(442,"div",79),e._UZ(443,"app-checkbox",141),e.qZA(),e.TgZ(444,"div",50),e._uU(445),e.ALo(446,"translate"),e.qZA(),e.TgZ(447,"div",94)(448,"app-button",124),e.NdJ("buttonOnClick",function(){return a.addOptionsTl()}),e.ALo(449,"translate"),e.qZA(),e._UZ(450,"app-button",125),e.ALo(451,"translate"),e.qZA()()()()()()(),e.TgZ(452,"div",142)(453,"div",67)(454,"div",68)(455,"div",69)(456,"div",70),e._uU(457),e.ALo(458,"translate"),e.ALo(459,"translate"),e.qZA()(),e.TgZ(460,"div",71)(461,"div",1)(462,"div",8)(463,"div",9),e._UZ(464,"app-input",127),e.ALo(465,"translate"),e.qZA(),e.TgZ(466,"div",9),e._UZ(467,"app-input",128),e.ALo(468,"translate"),e.qZA(),e.TgZ(469,"div",9),e._UZ(470,"app-input",129),e.ALo(471,"translate"),e.qZA(),e.TgZ(472,"div",9),e._UZ(473,"app-input",130),e.ALo(474,"translate"),e.qZA(),e.TgZ(475,"div",131),e._UZ(476,"app-checkbox",132),e.qZA(),e.TgZ(477,"div",133)(478,"ion-label",134),e._uU(479),e.ALo(480,"translate"),e.qZA()(),e.TgZ(481,"div",94)(482,"app-button",135),e.NdJ("buttonOnClick",function(){return a.deleteBlockContentDetails()}),e.ALo(483,"translate"),e.qZA(),e._UZ(484,"app-button",136),e.ALo(485,"translate"),e.qZA()()()()()()()),2&n&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(12,232,"NEW_VARIABLES.QUIZ_TITLE")),e.s9C("value",a.dataJsonObj.quizTitle),e.Q6J("minlength",3)("maxlength",120),e.xp6(4),e.hij(" ",e.lcZ(15,234,a.errorObj.error2)," "),e.xp6(3),e.s9C("label",e.lcZ(19,236,"NEW_VARIABLES.LEADERBOARD_USERS_COUNT")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.leaderboard_user_count),e.Q6J("maxlength",3),e.xp6(8),e.s9C("placeholder",e.lcZ(27,238,"COMMON_FIELDS.START_DATE")),e.Q6J("dateformat",a.dataJsonObj.loginUserDateFormat)("defaultDate",a.dataJsonObj.startDate),e.xp6(4),e.s9C("label",e.lcZ(30,240,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",null==a.dataJsonObj.userTimeZoneObj?null:a.dataJsonObj.userTimeZoneObj.timeZoneCode),e.Q6J("options",a.dataJsonObj.timezoneOptions),e.xp6(5),e.s9C("placeholder",e.lcZ(35,242,"COMMON_FIELDS.END_DATE")),e.Q6J("defaultDate",a.dataJsonObj.endDate)("dateformat",a.dataJsonObj.loginUserDateFormat),e.xp6(3),e.s9C("label",e.lcZ(38,244,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",a.dataJsonObj.userTimeZoneObj.timeZoneCode),e.Q6J("options",a.dataJsonObj.timezoneOptions),e.xp6(3),e.s9C("label",e.lcZ(42,246,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.description),e.Q6J("maxlength",2e3),e.xp6(7),e.Oqu(e.lcZ(48,248,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(2),e.Q6J("maintainAspectRatio",!1),e.xp6(3),e.Oqu(e.lcZ(53,250,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(2),e.Q6J("maintainAspectRatio",!1),e.xp6(3),e.Oqu(e.lcZ(58,252,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(2),e.Q6J("maintainAspectRatio",!1),e.xp6(3),e.Oqu(e.lcZ(63,254,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(2),e.Q6J("maintainAspectRatio",!1),e.xp6(2),e.s9C("label",e.lcZ(67,256,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.s9C("disabled",a.dataJsonObj.disableSubmitBtn),e.xp6(2),e.s9C("label",e.lcZ(69,258,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(72,260,a.errorObj.error)," "),e.xp6(11),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(86,262,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(5),e.s9C("label",e.lcZ(92,264,"COMMON_FIELDS.QUESTION")),e.s9C("value",a.dataJsonObj.question),e.xp6(4),e.s9C("label",e.lcZ(96,266,"COMMON_BLOCK_TITLES.QUESTION_TYPE")),e.s9C("defaultValue",a.digitalAssetTypeId),e.Q6J("options",a.digitalAssetTypeOptions),e.xp6(3),e.Q6J("ngIf",a.digitalAssetTypeName),e.xp6(2),e.s9C("label",e.lcZ(100,268,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(3),e.hij(" ",e.lcZ(103,270,a.questionError)," "),e.xp6(2),e.Q6J("ngIf",a.dataJsonObj.question),e.xp6(1),e.Q6J("ngForOf",a.dataJsonObj.optionsArray),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.quizQuestions.length>0),e.xp6(1),e.Q6J("ngForOf",a.dataJsonObj.quizQuestions),e.xp6(5),e.Q6J("multiple",!1),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(117,272,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")),e.xp6(2),e.s9C("disabled",null==a.dataJsonObj?null:a.dataJsonObj.disableTransAdd),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",null==a.dataJsonObj?null:a.dataJsonObj.quizTlheaders)("value",a.dataJsonObj.languagesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(7),e.Q6J("ngForOf",a.dataJsonObj.languagesData),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.languagesData&&0===a.dataJsonObj.languagesData.length),e.xp6(6),e.AsE("",e.lcZ(134,274,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(135,276,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(140,278,"NEW_VARIABLES.NAME")),e.s9C("value",a.dataJsonObj.quizTitle),e.xp6(3),e.s9C("label",e.lcZ(144,280,"PREFERENCES.LANGUAGE")),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.translateLanguageOptions),e.xp6(4),e.s9C("label",e.lcZ(148,282,"COMMON_FIELDS.DISPLAY_NAME")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(4),e.s9C("label",e.lcZ(151,284,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.langTransDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransEnabled),e.xp6(2),e.hij(" ",e.lcZ(156,286,null==a.dataJsonObj?null:a.dataJsonObj.addPopupError)," "),e.xp6(7),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.welcome_screen),e.xp6(1),e.s9C("label",e.lcZ(164,288,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.success_screen),e.xp6(1),e.s9C("label",e.lcZ(170,290,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.failure_screen),e.xp6(1),e.s9C("label",e.lcZ(176,292,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.congratulation_screen),e.xp6(1),e.s9C("label",e.lcZ(182,294,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(191,296,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.dataJsonObj.blockContentHeader)("value",a.dataJsonObj.addQuizQuestionsTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(200,298,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(202,300,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(209,302,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(210,304,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(215,306,"NEW_VARIABLES.NAME")),e.s9C("value",a.dataJsonObj.quizTitle),e.xp6(3),e.s9C("label",e.lcZ(218,308,"PREFERENCES.LANGUAGE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.languageName),e.xp6(3),e.s9C("label",e.lcZ(222,310,"COMMON_FIELDS.DISPLAY_NAME")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(4),e.s9C("label",e.lcZ(225,312,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.langTransDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransEnabled),e.xp6(6),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.welcome_screen),e.xp6(1),e.s9C("label",e.lcZ(235,314,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.success_screen),e.xp6(1),e.s9C("label",e.lcZ(241,316,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.failure_screen),e.xp6(1),e.s9C("label",e.lcZ(247,318,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.congratulation_screen),e.xp6(1),e.s9C("label",e.lcZ(253,320,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(262,322,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.dataJsonObj.blockContentHeader)("value",a.dataJsonObj.quizQuestionsTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(271,324,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(273,326,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(280,328,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(281,330,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(286,332,"NEW_VARIABLES.NAME")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.treasureHuntDisplayName),e.xp6(3),e.s9C("label",e.lcZ(289,334,"PREFERENCES.LANGUAGE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.languageName),e.xp6(3),e.s9C("label",e.lcZ(292,336,"COMMON_FIELDS.DISPLAY_NAME")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.langTransDisplayname),e.xp6(3),e.s9C("label",e.lcZ(295,338,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.langTransDescription),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransEnabled),e.xp6(2),e.s9C("label",e.lcZ(300,340,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(302,342,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(309,344,"COMMON_BLOCK_TITLES.QUESTIONS")," - ",e.lcZ(310,346,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(7),e.s9C("label",e.lcZ(317,348,"COMMON_BLOCK_TITLES.QUESTIONS")),e.s9C("defaultValue",a.dataJsonObj.questionId),e.Q6J("options",a.dataJsonObj.quizQuestions),e.xp6(4),e.hYB("label","",e.lcZ(321,350,"COMMON_FIELDS.QUESTION")," (",e.lcZ(322,352,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",a.dataJsonObj.questionTl),e.Q6J("maxlength",50),e.xp6(5),e.hij(" ",e.lcZ(325,354,a.errorHtml)," "),e.xp6(7),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.question_screen),e.xp6(1),e.s9C("label",e.lcZ(333,356,"NEW_VARIABLES.QUESTION_IMAGE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(342,358,"POLL.OPTIONS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.dataJsonObj.blockContentHeader1)("value",a.dataJsonObj.optionsArrayTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(351,360,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(353,362,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(360,364,"FACILITY_SPOTLIGHT_CONFIGURATIONS.BLOCK_CONTENT")," - ",e.lcZ(361,366,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(7),e.s9C("label",e.lcZ(367,368,"FACILITY_SPOTLIGHT_CONFIGURATIONS.BLOCK_TITLE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.blockContentTitle),e.xp6(3),e.s9C("label",e.lcZ(370,370,"FACILITY_SPOTLIGHT_CONFIGURATIONS.POSITION")),e.s9C("value",a.dataJsonObj.defaultPositionType),e.xp6(3),e.s9C("label",e.lcZ(373,372,"FACILITY_SPOTLIGHT_CONFIGURATIONS.SCREEN_TYPE")),e.s9C("value",a.dataJsonObj.defaultScreenType),e.xp6(3),e.s9C("label",e.lcZ(376,374,"FACILITY_SPOTLIGHT_CONFIGURATIONS.OBJECT")),e.s9C("value",a.dataJsonObj.screenTypeObjectId),e.xp6(3),e.Q6J("options",a.dataJsonObj.displayAsAccordion)("checked",a.dataJsonObj.accordionCheckbox),e.xp6(3),e.hij(" ",e.lcZ(382,376,"FACILITY_SPOTLIGHT_CONFIGURATIONS.CONTENT")," "),e.xp6(3),e.s9C("label",e.lcZ(385,378,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(387,380,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(394,382,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")," - ",e.lcZ(395,384,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(7),e.s9C("label",e.lcZ(401,386,"COMMON_FIELDS.QUESTION")),e.s9C("value",a.dataJsonObj.questionTl),e.Q6J("maxlength",40),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.question_screen),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(414,388,"POLL.OPTIONS")),e.xp6(2),e.Q6J("columns",a.dataJsonObj.blockContentHeader1)("value",a.dataJsonObj.optionsArrayTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(422,390,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(429,392,"POLL.OPTIONS")," - ",e.lcZ(430,394,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(7),e.s9C("label",e.lcZ(437,396,"POLL.OPTIONS")),e.s9C("defaultValue",a.dataJsonObj.optionId),e.Q6J("options",a.dataJsonObj.optionsData),e.xp6(4),e.s9C("label",e.lcZ(441,398,"POLL.OPTION")),e.s9C("value",a.dataJsonObj.optionTl),e.Q6J("maxlength",40),e.xp6(4),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.optionsCheckbox)("checked",a.dataJsonObj.isOptionCorrectTl),e.xp6(2),e.hij(" ",e.lcZ(446,400,a.errorHtml)," "),e.xp6(3),e.s9C("label",e.lcZ(449,402,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(451,404,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(458,406,"FACILITY_SPOTLIGHT_CONFIGURATIONS.BLOCK_CONTENT")," - ",e.lcZ(459,408,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(7),e.s9C("label",e.lcZ(465,410,"FACILITY_SPOTLIGHT_CONFIGURATIONS.BLOCK_TITLE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.blockContentTitle),e.xp6(3),e.s9C("label",e.lcZ(468,412,"FACILITY_SPOTLIGHT_CONFIGURATIONS.POSITION")),e.s9C("value",a.dataJsonObj.defaultPositionType),e.xp6(3),e.s9C("label",e.lcZ(471,414,"FACILITY_SPOTLIGHT_CONFIGURATIONS.SCREEN_TYPE")),e.s9C("value",a.dataJsonObj.defaultScreenType),e.xp6(3),e.s9C("label",e.lcZ(474,416,"FACILITY_SPOTLIGHT_CONFIGURATIONS.OBJECT")),e.s9C("value",a.dataJsonObj.screenTypeObjectId),e.xp6(3),e.Q6J("options",a.dataJsonObj.displayAsAccordion)("checked",a.dataJsonObj.accordionCheckbox),e.xp6(3),e.hij(" ",e.lcZ(480,418,"FACILITY_SPOTLIGHT_CONFIGURATIONS.CONTENT")," "),e.xp6(3),e.s9C("label",e.lcZ(483,420,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(485,422,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[j.sg,j.O5,f.wI,f.gu,f.Ie,f.Q$,f.q_,f.Nd,L.r,D.a,U.k,k.b,V.R,R.K,w.f,P.L,B.C,Q.q,A.UQ,A.US,E.h4,E.jx,v.iA,v.Ei,F.ap,C.X$],styles:[".greyhr40[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:0}.fab-textarea[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding:13px;background-color:#0057b2;border-radius:50px;color:#f9f7f7;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.chat-profile-pic[_ngcontent-%COMP%]{width:50px;height:50px}.postbtn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{float:none;margin:0 auto}ion-textarea[_ngcontent-%COMP%]{min-height:80px}ion-select.createpost[_ngcontent-%COMP%]   .select-text[_ngcontent-%COMP%]{color:#000!important;opacity:1!important;line-height:20px!important}ion-textarea.editposttextarea[_ngcontent-%COMP%]{border:1px solid #f7f6f6;box-shadow:.1px .1px .1px .1px #0000001a}ion-grid.creatpost-block[_ngcontent-%COMP%]{padding-bottom:10px}.taged-users[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:5px;display:inherit}ion-col#profileimg[_ngcontent-%COMP%]{display:block}.uploaded-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;float:none;margin:0 auto}.paudiencelbl[_ngcontent-%COMP%]{display:flex;align-items:center}.createform[_ngcontent-%COMP%]   ion-col.paudiencelbl[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-top:0}ion-grid.creatpost-block[_ngcontent-%COMP%]   .uploaded-img[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center;display:block}ion-modal[_ngcontent-%COMP%]   button.floatright[_ngcontent-%COMP%]{margin:5px 16px 0 0}.fab-list-side-start[_ngcontent-%COMP%]{margin-inline:55px}.fab-list-side-end[_ngcontent-%COMP%]{margin-inline:50px}.fab-list-active[_ngcontent-%COMP%]{align-items:flex-start}.fab-button-attachment[_ngcontent-%COMP%]{position:relative;left:auto;right:auto;bottom:auto}@media (max-width: 575px){.close[_ngcontent-%COMP%]{float:left}ion-grid.creatpost-block[_ngcontent-%COMP%]{padding-bottom:30px}}@media (max-width: 991px) and (min-width: 768px){.close[_ngcontent-%COMP%]{float:left}ion-grid.creatpost-block[_ngcontent-%COMP%]{padding-bottom:30px}}.cdk-overlay-pane[_ngcontent-%COMP%]   .mat-mdc-select-panel[_ngcontent-%COMP%]{max-height:100px!important}"]})}return i})();var G=O(46448),Y=O(11735);const Qt=["treasureHuntNamevalid"],Ut=["treasureHuntDisplayNamevalid"],kt=["optionvalidate"],Vt=["languageAdd"],Rt=["displayNameAdd"],Ft=["displayNameUpdate"],Pt=["typeDropdown"],Bt=["questionValid"],Gt=["quiztitlevalid"],Ht=["file1"],Yt=["file2"],$t=["file3"],Kt=["file4"],Wt=["file5"];function Xt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",137),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(2),s=e.oxw();return a.click(),e.KtG(s.getAssetType(null==s.videoType?null:s.videoType.lookup_name))}),e.TgZ(1,"label",138),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"ion-icon",139),e.qZA()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"DIGITAL_ASSETS.UPLOAD_VIDEO")))}function ea(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",137),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(2),s=e.oxw();return a.click(),e.KtG(s.getAssetType(null==s.audioType?null:s.audioType.lookup_name))}),e.TgZ(1,"label",138),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"ion-icon",140),e.qZA()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"DIGITAL_ASSETS.UPLOAD_AUDIO")))}function ta(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",137),e.NdJ("click",function(){e.CHM(t),e.oxw();const a=e.MAs(2),s=e.oxw();return a.click(),e.KtG(s.getAssetType(null==s.imageType?null:s.imageType.lookup_name))}),e.TgZ(1,"label",138),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"ion-icon",141),e.qZA()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"DIGITAL_ASSETS.UPLOAD_IMAGE")))}function aa(i,l){if(1&i&&(e.TgZ(0,"ion-col",142)(1,"div",143),e._UZ(2,"video",144),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("src",t.fileSrc,e.LSH)}}function na(i,l){if(1&i&&(e.TgZ(0,"div",146),e._UZ(1,"audio",147),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.fileSrc,e.LSH)}}function ia(i,l){if(1&i&&(e.TgZ(0,"ion-col",142),e.YNc(1,na,2,1,"div",145),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","/mp3"===t.extension||"/mpeg"===t.extension)}}function sa(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-col",152)(1,"button",153),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.rotateLeft())}),e._UZ(2,"i",154),e.qZA(),e.TgZ(3,"button",153),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.rotateRight())}),e._UZ(4,"i",155),e.qZA()()}}function oa(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"i",156),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.removeImage(a.i))}),e.qZA()}}function la(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"image-cropper",157),e.NdJ("imageCropped",function(a){e.CHM(t);const s=e.oxw(3);return e.KtG(s.imageCropped(a))})("imageLoaded",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.imageLoaded())}),e.qZA()}if(2&i){const t=e.oxw(3);e.Udp("display",t.showCropper?null:"none"),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!1)("aspectRatio",4/3)("resizeToWidth",1300)("cropperMinWidth",128)("onlyScaleDown",!0)("roundCropper",!1)("imageQuality",90)("transform",t.transform)("canvasRotation",t.canvasRotation)}}function ra(i,l){if(1&i&&(e.TgZ(0,"ion-col",148),e.YNc(1,sa,5,0,"ion-col",149),e.TgZ(2,"span"),e.YNc(3,oa,1,0,"i",150),e.YNc(4,la,1,12,"image-cropper",151),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","IMAGE"===t.digitalAssetTypeName&&t.showCropper),e.xp6(2),e.Q6J("ngIf","IMAGE"===t.digitalAssetTypeName&&t.showCropper),e.xp6(1),e.Q6J("ngIf","IMAGE"===t.assetTypeImage)}}function da(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"input",130,131),e.NdJ("click",function(){e.CHM(t);const a=e.MAs(2);return e.KtG(a.value=null)})("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.fileChangeEvent(a,"File"))}),e.qZA(),e.YNc(3,Xt,5,3,"div",132),e.YNc(4,ea,5,3,"div",132),e.YNc(5,ta,5,3,"div",132),e.TgZ(6,"ion-row",133),e._UZ(7,"ion-col",134),e.YNc(8,aa,3,1,"ion-col",135),e.YNc(9,ia,2,1,"ion-col",135),e.YNc(10,ra,5,3,"ion-col",136),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("accept",t.getFileAcceptType()),e.xp6(2),e.Q6J("ngIf","VIDEO"===t.digitalAssetTypeName),e.xp6(1),e.Q6J("ngIf","AUDIO"===t.digitalAssetTypeName),e.xp6(1),e.Q6J("ngIf","IMAGE"===t.digitalAssetTypeName),e.xp6(3),e.Q6J("ngIf","VIDEO"===t.digitalAssetTypeName&&"VIDEO"===t.assetTypeVideo&&t.fileSrc),e.xp6(1),e.Q6J("ngIf","AUDIO"===t.digitalAssetTypeName&&"AUDIO"===t.assetTypeAudio&&t.fileSrc),e.xp6(1),e.Q6J("ngIf","IMAGE"===t.assetTypeImage)}}function ua(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"label",158),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",159)(5,"app-input",160,161),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeAnswerName(a,s.i))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",81)(9,"app-checkbox",162),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeOptionCheckBox(a))}),e.qZA()(),e.TgZ(10,"div",13)(11,"div",49)(12,"app-button",50),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.addOptions())}),e.ALo(13,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"POLL.OPTIONS")),e.xp6(3),e.s9C("label",e.lcZ(7,8,"POLL.OPTION")),e.s9C("value",t.dataJsonObj.option),e.xp6(4),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.optionsCheckbox)("checked",t.dataJsonObj.isOptionCorrect),e.xp6(3),e.s9C("label",e.lcZ(13,10,"COMMON_BUTTONS.BUTTON_ADD"))}}function ca(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div",159),e._UZ(3,"app-input",163),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",81),e._UZ(6,"app-checkbox",129),e.qZA(),e.TgZ(7,"div",49)(8,"app-button",164),e.NdJ("buttonOnClick",function(){const s=e.CHM(t).index,o=e.oxw();return e.KtG(o.deleteOptions(s))}),e.ALo(9,"translate"),e.qZA()()(),e.BQk()}if(2&i){const t=l.$implicit,n=e.oxw();e.xp6(3),e.s9C("label",e.lcZ(4,5,"POLL.OPTION")),e.s9C("value",null==t?null:t.option),e.xp6(3),e.Q6J("options",null==n.dataJsonObj?null:n.dataJsonObj.optionsCheckbox)("checked",t.is_correct),e.xp6(2),e.s9C("label",e.lcZ(9,7,"COMMON_BUTTONS.BUTTON_DELETE"))}}function ga(i,l){1&i&&(e.TgZ(0,"label",165),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij("",e.lcZ(2,1,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")," "))}function pa(i,l){if(1&i&&(e.TgZ(0,"div",13),e._UZ(1,"img",167),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",null==t?null:t.quizImage,e.LSH)}}function ma(i,l){1&i&&(e.TgZ(0,"label",168),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"POLL.OPTIONS")))}function _a(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div",79),e._UZ(3,"app-input",163),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",13),e._UZ(6,"app-input",163),e.ALo(7,"translate"),e.qZA()(),e.BQk()),2&i){const t=l.$implicit;e.xp6(3),e.s9C("label",e.lcZ(4,4,"POLL.OPTION")),e.s9C("value",null==t?null:t.option),e.xp6(3),e.s9C("label",e.lcZ(7,6,"COMMON_FIELDS.IS_CORRECT")),e.s9C("value",null==t?null:t.is_correct)}}function ha(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div",159),e._UZ(3,"app-input",163),e.ALo(4,"translate"),e.qZA(),e.YNc(5,pa,2,1,"div",48),e.TgZ(6,"div",49)(7,"app-button",164),e.NdJ("buttonOnClick",function(){const s=e.CHM(t).index,o=e.oxw();return e.KtG(o.deleteQuizQuestions(s))}),e.ALo(8,"translate"),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",3),e.YNc(11,ma,3,3,"label",166),e.qZA()(),e.YNc(12,_a,8,8,"ng-container",53),e.BQk()}if(2&i){const t=l.$implicit;e.xp6(3),e.s9C("label",e.lcZ(4,6,"COMMON_FIELDS.QUESTION")),e.s9C("value",t.question),e.xp6(2),e.Q6J("ngIf",null==t?null:t.quizImage),e.xp6(2),e.s9C("label",e.lcZ(8,8,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(4),e.Q6J("ngIf",t.options.length>0),e.xp6(1),e.Q6J("ngForOf",t.options)}}function ba(i,l){if(1&i&&(e.TgZ(0,"tr",170)(1,"td",171),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Oa(i,l){if(1&i&&e.YNc(0,ba,4,4,"tr",169),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.languagesData&&0===t.dataJsonObj.languagesData.length)}}function Ta(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Ja(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Ta,3,3,"th",53),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function fa(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",173),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editLanguages(s,o))}),e._UZ(1,"span",174),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," "),e.Q6J("pSelectableRow",n),e.xp6(1),e.Q6J("innerHTML",n[t.field],e.oJD)}}function ja(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,fa,2,5,"td",172),e.qZA()),2&i){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Ca(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",174)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Ia(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ca,7,4,"div",175),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function Aa(i,l){1&i&&(e.TgZ(0,"p",176),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}function va(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",177)(2,"i",156),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("welcome_screen"))}),e.qZA(),e._UZ(3,"img",167),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.welcome_screen,e.LSH)}}function Ea(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",177)(2,"i",156),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("success_screen"))}),e.qZA(),e._UZ(3,"img",167),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.success_screen,e.LSH)}}function Na(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",177)(2,"i",156),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("failure_screen"))}),e.qZA(),e._UZ(3,"img",167),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.failure_screen,e.LSH)}}function Sa(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",177)(2,"i",156),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("congratulation_screen"))}),e.qZA(),e._UZ(3,"img",167),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.congratulation_screen,e.LSH)}}function Za(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",171),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function ya(i,l){if(1&i&&e.YNc(0,Za,4,4,"tr",86),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.addQuizQuestionsTl&&0===t.dataJsonObj.addQuizQuestionsTl.length)}}function qa(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function La(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",178),e.YNc(2,qa,3,3,"th",53),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Da(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",182),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editQuestionTl(s,o))}),e.TgZ(1,"span",183)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",184),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function xa(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",179),e._UZ(2,"div",180),e.qZA(),e.YNc(3,Da,7,8,"td",181),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function Ma(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",174)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function za(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ma,7,4,"div",175),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function wa(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",177)(2,"i",156),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("welcome_screen"))}),e.qZA(),e._UZ(3,"img",167),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.welcome_screen,e.LSH)}}function Qa(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",177)(2,"i",156),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("success_screen"))}),e.qZA(),e._UZ(3,"img",167),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.success_screen,e.LSH)}}function Ua(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",177)(2,"i",156),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("failure_screen"))}),e.qZA(),e._UZ(3,"img",167),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.failure_screen,e.LSH)}}function ka(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",177)(2,"i",156),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("congratulation_screen"))}),e.qZA(),e._UZ(3,"img",167),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.congratulation_screen,e.LSH)}}function Va(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",171),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Ra(i,l){if(1&i&&e.YNc(0,Va,4,4,"tr",86),2&i){const t=e.oxw();e.Q6J("ngIf",(null==t.dataJsonObj?null:t.dataJsonObj.quizQuestionsTl)&&0===(null==t.dataJsonObj.quizQuestionsTl?null:t.dataJsonObj.quizQuestionsTl.length))}}function Fa(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Pa(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",178),e.YNc(2,Fa,3,3,"th",53),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Ba(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",182),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editQuestionTl(s,o))}),e.TgZ(1,"span",183)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",184),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Ga(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",179),e._UZ(2,"div",180),e.qZA(),e.YNc(3,Ba,7,8,"td",181),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function Ha(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",174)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Ya(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ha,7,4,"div",175),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function $a(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",177)(2,"i",156),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("question_screen","question"))}),e.qZA(),e._UZ(3,"img",167),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.question_screen,e.LSH)}}function Ka(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",171),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Wa(i,l){if(1&i&&e.YNc(0,Ka,4,4,"tr",86),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.optionsArrayTl&&0===t.dataJsonObj.optionsArrayTl.length)}}function Xa(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function en(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",178),e.YNc(2,Xa,3,3,"th",53),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function tn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",182),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editOptionTl(s,o))}),e.TgZ(1,"span",183)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",184),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function an(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",179),e._UZ(2,"div",180),e.qZA(),e.YNc(3,tn,7,8,"td",181),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function nn(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",174)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function sn(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,nn,7,4,"div",175),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function on(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",177),e._UZ(2,"img",167),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.question_screen,e.LSH)}}function ln(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",171),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function rn(i,l){if(1&i&&e.YNc(0,ln,4,4,"tr",86),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.optionsArrayTl&&0===t.dataJsonObj.optionsArrayTl.length)}}function dn(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function un(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",178),e.YNc(2,dn,3,3,"th",53),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function cn(i,l){if(1&i&&(e.TgZ(0,"td",186)(1,"span",183)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",184),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function gn(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"td",179),e.YNc(2,cn,7,8,"td",185),e.qZA()),2&i){const t=l.columns;e.xp6(2),e.Q6J("ngForOf",t[0])}}function pn(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",174)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function mn(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,pn,7,4,"div",175),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}let _n=(()=>{class i extends x.O{apiEndPointUrl;QuizService;commonService;route;translateService;loggerService;navigationService;router;sanitizer;uiUtils;treasureHuntNamevalid;treasureHuntDisplayNamevalid;optionvalidate;languageAdd;displayNameAdd;displayNameUpdate;typeDropdown;questionValid;quiztitlevalid;fileInput1;fileInput2;fileInput3;fileInput4;fileInput5;dataJsonObj={};errorObj={};metadataJson;navpathimgFile;boundariesJson;postType2;questionError;postTypeTag1;postTypeValue2;imageType1;postTypeVideo1;imgCheck=!1;treasureHuntImageFile;imgFile=[];selectedAccordian=!1;displaySequence;errorHtml;quizFileArray;digitalAssetTypeOptions;digitalAssetTypeObj;digitalAssetTypeId;digitalAssetType;question;recordId;AnswerError;transform={};showCropper;imageChangedEvent;croppedImage;canvasRotation=0;canvasRotation1=0;digitalAssetUploadFileType;digitalAssetTypeName;assetTypeTag;assetTypeImage;assetTypeValue;videoType;audioType;imageType;assetTypeVideo;assetTypeAudio;documentType;fileSrc;previewFileSrc;error;previewImageChangedEvent;selectedFileName;fileType;selectedType;extension;imageExtensions;myObj;assetTypeError;assetFile;videoExtensions;mediaFile;digitalAssetFile;fileSize;audioExtensions;documentExtensions;otherExtensions;imageMinSize;imageStatus;errMsg1;errMsg2;imageMaxSize;postType;videoMaxSize;videoMinSize;audioMaxSize;audioMinSize;documentMaxSize;documentMinSize;documentTypes;displaySequenceTl;addQuestionTlIndex;questionTlIndex;questionTlEditRowIndex;constructor(t,n,a,s,o,u,d,c,_,J){super(s,a),this.apiEndPointUrl=t,this.QuizService=n,this.commonService=a,this.route=s,this.translateService=o,this.loggerService=u,this.navigationService=d,this.router=c,this.sanitizer=_,this.uiUtils=J,this.route.params.subscribe(b=>{this.dataJsonObj.recordId=b.id})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.optionsArrayTl=[],this.dataJsonObj.questionTl="",this.dataJsonObj.optionsArray=[],this.dataJsonObj.questionTranslateImage={},this.dataJsonObj.optionsData=[],this.dataJsonObj.languageQuestionImageApi={},this.dataJsonObj.quizQuestions=[],this.dataJsonObj.quizQuestionsTl=[],this.dataJsonObj.pageName=r.hf.QUIZ,this.dataJsonObj.userTimeZoneObj={},this.quizFileArray=[],this.dataJsonObj.imageDelete={},this.dataJsonObj.imageDelete.welcome_screen=[],this.dataJsonObj.imageDelete.question_screen=[],this.dataJsonObj.imageDelete.failure_screen=[],this.dataJsonObj.imageDelete.success_screen=[],this.dataJsonObj.imageDelete.congratulation_screen=[],this.dataJsonObj.selectedorganizerObj=[],this.dataJsonObj.languageTranslateImageDisplay={},this.dataJsonObj.languageTranslateImageDisplay.welcome_screen=[],this.dataJsonObj.languageTranslateImageDisplay.failure_screen=[],this.dataJsonObj.languageTranslateImageDisplay.success_screen=[],this.dataJsonObj.languageTranslateImageDisplay.question_screen=[],this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen=[],this.dataJsonObj.disableSubmitBtn=!1,this.dataJsonObj.newLanguageData=[],this.dataJsonObj.languageTranslateImage={},this.dataJsonObj.islanguageImgEnable={},this.dataJsonObj.deleteImage={},this.dataJsonObj.deleteOriginalImage={},this.dataJsonObj.deleteImage.welcome_screen=[],this.dataJsonObj.deleteImage.success_screen=[],this.dataJsonObj.deleteImage.failure_screen=[],this.dataJsonObj.deleteImage.question_screen=[],this.dataJsonObj.deleteImage.congratulation_screen=[],this.dataJsonObj.deleteOriginalImage.welcome_screen=[],this.dataJsonObj.deleteOriginalImage.success_screen=[],this.dataJsonObj.deleteOriginalImage.failure_screen=[],this.dataJsonObj.deleteOriginalImage.question_screen=[],this.dataJsonObj.deleteOriginalImage.congratulation_screen=[],this.dataJsonObj.languageImageApis={},this.dataJsonObj.languageImageApi={},this.dataJsonObj.languageTranslateImage.welcome_screen="",this.dataJsonObj.languageTranslateImage.success_screen="",this.dataJsonObj.languageTranslateImage.failure_screen="",this.dataJsonObj.languageTranslateImage.question_screen="",this.dataJsonObj.languageTranslateImage.congratulation_screen="",this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.islanguageImgEnable.question_screen=!1,this.dataJsonObj.deletetedQuestions=[],this.dataJsonObj.loginUserObj=JSON.parse(localStorage.getItem(r.BU.USER)),this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl;const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.loginUserDateFormat=t.dateFormat,this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(a=>{this.dataJsonObj.lookupCodesListJSON=a,this.getTimeZone(this.dataJsonObj.userTimeZoneObj.timeZoneCode),this.getTimeZone(this.dataJsonObj.userTimeZoneObj.timeZoneCode),this.getDigitalAssetTypes(),this.getDocumentTypeLookups()}),this.getDynamicJson([{folderName:r.sb.FACILITIES,jsonType:"list",storingFieldName:"facilitiesListJson"}]),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.getRecordById(),this.dataJsonObj.enableimageDeleteValue=!0,this.dataJsonObj.languagesFromJson={},this.getLanguagesfromJson(),this.dataJsonObj.disableTransAdd=!1,this.dataJsonObj.languagesData=[],this.dataJsonObj.deleted_translation_ids=[],this.dataJsonObj.languageTranslationEnablecheckboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.dataJsonObj.quizTlHeaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-60"},{headersort:"disableth",field:"title",header:this.translateService.instant("NEW_VARIABLES.NAME")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"description",header:this.translateService.instant("COMMON_FIELDS.DESCRIPTION"),class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.dataJsonObj.optionsTlHeaders=[[{headersort:"disableth",sortfield:"",field:"original_option",header:this.translateService.instant("POLL.OPTION"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"option",header:this.translateService.instant("POLL.OPTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:"w-130"},{headersort:"disableth",sortfield:"",field:"is_correct",header:this.translateService.instant("COMMON_FIELDS.IS_CORRECT"),class:"w-130"}]],this.dataJsonObj.questionsTlHeaders=[[{headersort:"disableth",sortfield:"",field:"original_question",header:this.translateService.instant("COMMON_FIELDS.QUESTION"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"question",header:this.translateService.instant("COMMON_FIELDS.QUESTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:"w-130"}]],this.dataJsonObj.optionsCheckbox=[{displayname:this.translateService.instant("COMMON_FIELDS.IS_CORRECT")}],this.dataJsonObj.optionsCheckboxTl=[{displayname:this.translateService.instant("COMMON_FIELDS.IS_CORRECT")}]}getDynamicJson(t){var n=this;return(0,T.Z)(function*(){for(let a of t)n.dataJsonObj[a.storingFieldName]=yield n.commonService.getDynamicJson(n.dataJsonObj.selectedEnterpriseId,a.folderName,a.jsonType);n.getSelectedSubmenuDetails()})()}getSelectedSubmenuDetails(){var t=this;return(0,T.Z)(function*(){if(t.dataJsonObj?.queryParamsObj?.selectedMenuId&&t.dataJsonObj?.queryParamsObj?.selectedSubMenuId){const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a._id===parseInt(t.dataJsonObj.queryParamsObj.selectedMenuId,10)):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu.find(a=>a.submenu_id===parseInt(t.dataJsonObj.queryParamsObj.selectedSubMenuId,10)):{}}else{const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a.menu_page.page_name===t.dataJsonObj.pageName):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu[0]:{}}t.dataJsonObj.pageDetails=t.dataJsonObj.selectedSubmenuObj.submenu_page})()}getRecordById(){try{const t={};this.QuizService.get(this.dataJsonObj.recordId).subscribe(n=>{this.dataJsonObj.quizViewData=n,this.dataJsonObj.quizQuestionData=n?.quizQuestionsData?n?.quizQuestionsData:[];const a={},s={};for(let d of this.dataJsonObj.quizQuestionData){s||(s[d._id]={}),s[d._id]=d.question,a[d._id]||(a[d._id]={});for(let c of d.options)a[d._id][c.option_id]=c.option,c.ID=c.option_id,c.NAME=c.option;d.ID=d.display_sequence,d.NAME=d.question,d.quizImage=d?.file_path&&d?.file_name?this.dataJsonObj.apiEndPoint+d?.file_path+"/"+d?.file_name:""}this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.QUIZ",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}];const o=this.displayDateFormatter(this.dataJsonObj.quizViewData.start_datetime,!1,!0);this.dataJsonObj.startDate=o.startDate;const u=this.displayDateFormatter(this.dataJsonObj.quizViewData.end_datetime,!1,!0);if(this.dataJsonObj.endDate=u.startDate,this.dataJsonObj.quizViewData.welcome_screen.dispayImage=this.dataJsonObj.quizViewData.welcome_screen.image_name&&this.dataJsonObj.quizViewData.welcome_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.welcome_screen.image_path+"/"+this.dataJsonObj.quizViewData.welcome_screen.image_name:"",this.dataJsonObj.quizViewData.success_screen.dispayImage=this.dataJsonObj.quizViewData.success_screen.image_name&&this.dataJsonObj.quizViewData.success_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.success_screen.image_path+"/"+this.dataJsonObj.quizViewData.success_screen.image_name:"",this.dataJsonObj.quizViewData.failure_screen.dispayImage=this.dataJsonObj.quizViewData.failure_screen.image_name&&this.dataJsonObj.quizViewData.failure_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.failure_screen.image_path+"/"+this.dataJsonObj.quizViewData.failure_screen.image_name:"",this.dataJsonObj.quizViewData.congratulation_screen.dispayImage=this.dataJsonObj.quizViewData.congratulation_screen.image_name&&this.dataJsonObj.quizViewData.congratulation_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.congratulation_screen.image_path+"/"+this.dataJsonObj.quizViewData.congratulation_screen.image_name:"",this.dataJsonObj.quizViewData?.questionTranslations)for(let d of this.dataJsonObj.quizViewData?.questionTranslations){d.original_question=s[d.quiz_question_id];for(let c of d.options)c.original_option=a[d.quiz_question_id][c.option_id];t[d?.language?.language_code]||(t[d?.language?.language_code]=[]),t[d?.language?.language_code].push(d)}if(this.dataJsonObj.quizViewData.language_translations){this.dataJsonObj.languagesData=[];for(let d=0;d<this.dataJsonObj.quizViewData?.language_translations.length;d++)this.dataJsonObj.quizViewData.language_translations[d].questionTranslations=t?t[this.dataJsonObj.quizViewData?.language_translations[d]?.language?.language_code]:[],this.dataJsonObj.quizViewData.language_translations[d].language_name_value=this.dataJsonObj.languagesFromJson[this.dataJsonObj.quizViewData?.language_translations[d]?.language?.language_name]?.language_display_name,this.dataJsonObj.quizViewData.language_translations[d].is_enabled_value=!0===this.dataJsonObj.quizViewData.language_translations[d].is_enabled?"Yes":"No",this.dataJsonObj.quizViewData.language_translations[d].original_welcome_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.welcome_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.welcome_screen.image_name:"",this.dataJsonObj.quizViewData.language_translations[d].original_failure_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.failure_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.failure_screen.image_name:"",this.dataJsonObj.quizViewData.language_translations[d].original_success_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.success_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.success_screen.image_name:"",this.dataJsonObj.quizViewData.language_translations[d].original_question_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.question_screen?.file_name?this.dataJsonObj.quizViewData?.language_translations[d]?.question_screen.file_path:"",this.dataJsonObj.quizViewData.language_translations[d].original_congratulation_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.congratulation_screen.image_name?this.dataJsonObj.quizViewData.language_translations[d]?.congratulation_screen.image_name:"",this.dataJsonObj.deleteOriginalImage.welcome_screen[d]=this.dataJsonObj.quizViewData?.language_translations[d]?.welcome_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.welcome_screen.image_name:"",this.dataJsonObj.deleteOriginalImage.success_screen[d]=this.dataJsonObj.quizViewData?.language_translations[d]?.success_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.success_screen.image_name:"",this.dataJsonObj.deleteOriginalImage.failure_screen[d]=this.dataJsonObj.quizViewData?.language_translations[d]?.failure_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.failure_screen.image_name:"",this.dataJsonObj.deleteOriginalImage.question_screen[d]=this.dataJsonObj.quizViewData?.language_translations[d]?.question_screen?.file_name?this.dataJsonObj.quizViewData?.language_translations[d]?.question_screen.file_name:"",this.dataJsonObj.deleteOriginalImage.congratulation_screen[d]=this.dataJsonObj.quizViewData?.language_translations[d]?.congratulation_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.congratulation_screen.image_name:"",this.dataJsonObj.languagesData.push(this.dataJsonObj.quizViewData?.language_translations[d])}})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)}}changeStartDate(t){try{const n=this.displayDateFormatter(t.value,!1,!1);this.dataJsonObj.startDate=n.startDate,this.errorObj.error=this.commonService.getUTCDateObj(this.dataJsonObj.startDate)>=this.commonService.getUTCDateObj(this.dataJsonObj.endDate)?"COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START":""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeStartDate",n)}this.questionError=""}changeEndDate(t){try{const n=this.displayDateFormatter(t.value,!1,!1);this.dataJsonObj.endDate=n.startDate,this.errorObj.error=this.commonService.getUTCDateObj(this.dataJsonObj.endDate)<=this.commonService.getUTCDateObj(this.dataJsonObj.startDate)?"COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START":""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeEndDate",n)}this.questionError=""}changeTimeZone(t){try{this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.description),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.lookup_name;const n=this.displayDateFormatter((new Date).toISOString(),!0,!0);this.dataJsonObj.startDate=n.startDate,this.dataJsonObj.endDate=n.endDate}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeTimeZone",n)}this.questionError=""}getTimeZone(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.TIME_ZONES],t).then(n=>{if(this.dataJsonObj.timezoneOptions=n,this.dataJsonObj.timezoneOptions.length>0){for(let a=0;a<this.dataJsonObj.timezoneOptions.length;a++)this.dataJsonObj.timezoneOptions[a].NAME=this.dataJsonObj.timezoneOptions[a].lookup_display_name+" - "+this.dataJsonObj.timezoneOptions[a].description;this.dataJsonObj.timezoneOptions=this.dataJsonObj.timezoneOptions}},n=>{this.loggerService.setLoggerError(this.constructor.name,"getLookupTypes",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getTimeZone",n)}}onFileChange(t){try{"Image"===this.postType2&&(this.postTypeTag1="",setTimeout(()=>{this.postTypeValue2=this.imageType1,this.postTypeTag1="testImage"},500)),t.target.files.length>0&&(this.dataJsonObj.treasureHuntImageFileSrc=null)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"onFileChange",n)}this.questionError=""}deleteUpload(){this.dataJsonObj.treasureHuntImageFileSrc="",this.postTypeVideo1="",this.imgCheck=!1}getQuizName(t){try{this.errorObj.error2="",this.dataJsonObj.quizViewData.title=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getFacilityName",n)}}changeTranslateDisplayName(t){try{this.dataJsonObj.langTransDisplayname=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeFacilityDisplayName",n)}this.questionError=""}updateRecord(){var t=this;return(0,T.Z)(function*(){try{t.dataJsonObj.welcome_screenImagesArray=[],t.dataJsonObj.success_screenImagesArray=[],t.dataJsonObj.failure_screenImagesArray=[],t.dataJsonObj.congratulation_screenImagesArray=[],t.dataJsonObj.question_screenImagesArray=[];for(let b=0;b<t.dataJsonObj.languagesData?.length;b++){const h=t.dataJsonObj?.languagesData[b],m=h.questionTranslations;if(h?.languageTranslateImages?.welcome_screen){const p=h?.languageTranslateImageObj?.welcome_screen;for(let g=0;g<p?.length;g++)p[g]&&t.dataJsonObj?.welcome_screenImagesArray?.push(p[g])}if(h?.languageTranslateImages?.success_screen){const p=h?.languageTranslateImageObj?.success_screen;for(let g=0;g<p?.length;g++)p[g]&&t.dataJsonObj?.success_screenImagesArray?.push(p[g])}if(h?.languageTranslateImages?.failure_screen){const p=h?.languageTranslateImageObj?.failure_screen;for(let g=0;g<p?.length;g++)p[g]&&t.dataJsonObj?.failure_screenImagesArray?.push(p[g])}if(h?.languageTranslateImages?.congratulation_screen){const p=h?.languageTranslateImageObj?.congratulation_screen;for(let g=0;g<p?.length;g++)p[g]&&t.dataJsonObj?.success_screenImagesArray?.push(p[g])}for(let p=0;p<m.length;p++){const g=m[p];if(g.languageTranslateImages){const Z=g.languageTranslateImageObj;Z&&t.dataJsonObj?.question_screenImagesArray?.push(Z)}}}const n=t.metadataJson?t.metadataJson.type:"",o=(n.substring(n.lastIndexOf("/")),t.navpathimgFile?t.navpathimgFile.type:""),c=(o.substring(o.lastIndexOf("/")),t.boundariesJson?t.boundariesJson.type:"");if(c.substring(c.lastIndexOf("/")),t.quiztitlevalid.isValid())if(t.commonService.getUTCDateObj(t.dataJsonObj.endDate)<t.commonService.getUTCDateObj(t.dataJsonObj.startDate))t.errorObj.error=t.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START");else{t.dataJsonObj.disableSubmitBtn=!0,t.dataJsonObj.quizcreateObj={enterprise:t.dataJsonObj.quizViewData.enterprise,title:t.dataJsonObj.quizViewData?.title,start_datetime:t.commonService.convertUserTimeZoneDateToUTC(t.dataJsonObj.startDate,t.dataJsonObj.userTimeZoneObj.utcMinutes,t.dataJsonObj.userTimeZoneObj.utcMinutesSign),end_datetime:t.commonService.convertUserTimeZoneDateToUTC(t.dataJsonObj.endDate,t.dataJsonObj.userTimeZoneObj.utcMinutes,t.dataJsonObj.userTimeZoneObj.utcMinutesSign),description:t.dataJsonObj.quizViewData?.description,leaderboard_user_count:t.dataJsonObj.quizViewData?.leaderboard_user_count,organizer:{user_profile_id:t.dataJsonObj.loginUserObj?.user_profile_id},language_translations:t.dataJsonObj.languagesData,quizQuestionData:t.dataJsonObj.quizQuestionData,deletedQuestions:t.dataJsonObj.deletetedQuestions,page:t.dataJsonObj.quizViewData?.pageDetails,record_id:t.dataJsonObj.quizViewData?.record_id,welcome_screen:t.dataJsonObj.quizViewData.welcome_screen,success_screen:t.dataJsonObj.quizViewData.success_screen,failure_screen:t.dataJsonObj.quizViewData.failure_screen,congratulation_screen:t.dataJsonObj.quizViewData.congratulation_screen,original_welcome_screen_image_name:t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.welcomeImage?t.dataJsonObj.quizViewData?.welcome_screen.image_name:"",original_success_screen_image_name:t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.successImage?t.dataJsonObj.quizViewData?.success_screen.image_name:"",original_failure_screen_image_name:t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.failureImage?t.dataJsonObj.quizViewData?.failure_screen.image_name:"",original_congratulation_screen_image_name:t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.congratulationImage?t.dataJsonObj.quizViewData?.congratulation_screen.image_name:""};const b={};b.welcomeImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.welcomeImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.welcomeImage,"image/jpeg"):"",b.successImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.successImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.successImage,"image/jpeg"):"",b.failureImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.failureImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.failureImage,"image/jpeg"):"",b.congratulationImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.congratulationImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.congratulationImage,"image/jpeg"):"",yield t.QuizService.update(t.dataJsonObj.quizcreateObj,t.dataJsonObj.recordId,b,t.quizFileArray,t.dataJsonObj?.welcome_screenImagesArray,t.dataJsonObj?.success_screenImagesArray,t.dataJsonObj?.failure_screenImagesArray,t.dataJsonObj?.congratulation_screenImagesArray,t.dataJsonObj?.question_screenImagesArray),t.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),t.dataJsonObj.disableSubmitBtn=!1,t.commonService.redirectToPreviousUrl()}}catch(n){t.dataJsonObj.disableSubmitBtn=!1,t.commonErrorCodes(JSON.parse(n))}})()}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Close",t)}}displayDateFormatter(t,n,a){try{const s=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,o={startDate:"",endDate:""};if(o.startDate=this.commonService.convertDateToUserFormat(s,r.eZ.HOURS_MINS,!0,"",!1),n){const u=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,d=this.commonService.addHoursToDate(u,120);o.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return o}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",s)}}changeDescriptionName(t){this.errorObj.error="",this.questionError="",this.dataJsonObj.quizViewData.description=t.value}changeLeaderboardUsersCount(t){this.errorObj.error="",this.questionError="",this.dataJsonObj.quizViewData.leaderboard_user_count=t.value}changeTranslateImage(t,n,a){try{if(a)this.dataJsonObj.islanguageImgEnable[n]=!0,t.target.files.length>0&&(this.dataJsonObj.languageQuestionImageApi={screen:n,imageFileName:t.target.files[0].name,file:t.target.files[0]},this.dataJsonObj.questionTranslateImage||(this.dataJsonObj.questionTranslateImage={}),this.dataJsonObj.questionTranslateImage[n]=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t.target.files[0])),this.dataJsonObj[n]=this.dataJsonObj.questionTranslateImage[n]),document.getElementById("imagefileid5").value="";else{if(this.dataJsonObj.islanguageImgEnable[n]=!0,t.target.files.length>0){this.dataJsonObj.languageImageApi={screen:n,imageFileName:t.target.files[0].name,file:t.target.files[0]},this.dataJsonObj.languageImageApis[this.dataJsonObj.index]||(this.dataJsonObj.languageImageApis[this.dataJsonObj.index]={}),this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n]||(this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n]=[]),this.dataJsonObj.languageTranslateImageDisplay[n][this.dataJsonObj.index]&&(this.dataJsonObj.languageTranslateImageDisplay[n][this.dataJsonObj.index]=""),this.dataJsonObj.languageTranslateImage[n]=this.dataJsonObj.languageTranslateImage[n]||[];const s=this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n].findIndex(u=>u.screen===n);-1!==s?this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n][s]=this.dataJsonObj.languageImageApi:this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n].push(this.dataJsonObj.languageImageApi),this.dataJsonObj.languageTranslateImage[n]=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t.target.files[0])),this.dataJsonObj.languageTranslateImageDisplay[n][this.dataJsonObj.index]=this.dataJsonObj.languageTranslateImage[n]}document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value=""}this.questionError=""}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeTranslateImage",s)}}changeTranslateImageRemove(t){try{this.dataJsonObj.deleteImage[t][this.dataJsonObj.editRowIndex]||(this.dataJsonObj.deleteImage[t][this.dataJsonObj.editRowIndex]=""),this.dataJsonObj.imageDelete[t][this.dataJsonObj.index]||(this.dataJsonObj.imageDelete[t][this.dataJsonObj.index]=!1),this.dataJsonObj.deleteImage[t][this.dataJsonObj.editRowIndex]=this.dataJsonObj.deleteOriginalImage[t][this.dataJsonObj.editRowIndex],this.dataJsonObj.imageDelete[t][this.dataJsonObj.index]=!0,this.dataJsonObj.languageTranslateImageDisplay[t][this.dataJsonObj.index]="",this.dataJsonObj.islanguageImgEnable[t]=!1,this.dataJsonObj.languageTranslateImage[t]=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeTranslateImageRemove",n)}}triggerFile1(){this.fileInput1.nativeElement.click()}triggerFile2(){this.fileInput2.nativeElement.click()}triggerFile3(){this.fileInput3.nativeElement.click()}triggerFile4(){this.fileInput4.nativeElement.click()}triggerFile5(){this.fileInput5.nativeElement.click()}changeFile(t,n,a){try{this.dataJsonObj.filesObj||(this.dataJsonObj.filesObj={}),this.errorObj.filesObj||(this.errorObj.filesObj={}),""===t.error?(this.errorObj.filesObj[n]="",this.dataJsonObj.filesObj[n]=t.value,a&&(a[n]=t.value)):this.errorObj.filesObj[n]=t.error,this.questionError=""}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeFile",s)}}removeFile(t){try{this.errorObj.filesObj[t]="",this.dataJsonObj.filesObj[t]=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"removeFile",n)}}deleteImgClick(t,n){if(t.value==r.A0.DELETE)switch(n){case"welcomeImage":this.dataJsonObj.quizViewData.welcome_screen.image_path="";break;case"successImage":this.dataJsonObj.quizViewData.success_screen.image_path="";break;case"failureImage":this.dataJsonObj.quizViewData.failure_screen.image_path="";break;case"congratulationImage":this.dataJsonObj.quizViewData.congratulation_screen.image_path=""}}commonErrorCodes(t){409===JSON.parse(t[r.BU.STATUS])&&(this.errorObj.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}getNextRecordNumber(){return this.dataJsonObj.languagesData.length+1}languagesAdd(t){try{this.dataJsonObj.disableTransAdd||(t.stopPropagation(),this.dataJsonObj.createRowIndex=this.getNextRecordNumber(),this.dataJsonObj.index=this.dataJsonObj.createRowIndex,this.displayNameAdd.clearmessage(),this.languageAdd.clearmessage(),this.languageAdd.clearSelectInput(),this.dataJsonObj.languageCode="",this.dataJsonObj.languageName="",this.dataJsonObj.addPopupError="",this.dataJsonObj.langTransDisplayname="",this.dataJsonObj.questionId="",this.dataJsonObj.langTransDescription="",this.dataJsonObj.isLangTransEnabled=!0,this.dataJsonObj.languageTranslateImage.welcome_screen="",this.dataJsonObj.languageTranslateImage.success_screen="",this.dataJsonObj.languageTranslateImage.failure_screen="",this.dataJsonObj.languageTranslateImage.congratulation_screen="",this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.addQuizQuestionsTl=[],this.dataJsonObj.quizQuestionsTl=[],this.dataJsonObj.islanguageImgEnable.congratulation_screen=!1,this.getLanguagesList(""),$("#exampleModal5").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal5"))}catch(n){this.loggerService.setLoggerError(this.constructor.name,"languagesAdd",n)}}removeLanguages(t,n){try{this.dataJsonObj.deleteRowIndex=t,this.dataJsonObj.languageCode=n.language.language_code,this.dataJsonObj.languageId=n.language.language_id,this.dataJsonObj.languageName=n.language_name_value,this.dataJsonObj.langTransDisplayname=n.display_name,this.dataJsonObj.langTransDescription=n.description,this.dataJsonObj.isLangTransEnabled=n.is_enabled,$("#exampleModal7").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal7")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeLanguages",a)}}editLanguages(t,n){try{this.dataJsonObj.editRowIndex=t,this.dataJsonObj.index=this.dataJsonObj.editRowIndex+1,this.dataJsonObj.languageId=n.language.language_id,this.dataJsonObj.languageName=n.language_name_value,this.dataJsonObj.languageCode=n.language.language_code,this.dataJsonObj.language=n.language.language_name,this.dataJsonObj.langTransDisplayname=n.title,this.dataJsonObj.langTransDescription=n.description,this.dataJsonObj.isLangTransEnabled=n.is_enabled,this.dataJsonObj.imageDelete.failure_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.welcome_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.success_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.congratulation_screen[this.dataJsonObj.index]=!1,n.welcome_screen_image?(this.dataJsonObj.islanguageImgEnable.welcome_screen=!0,this.dataJsonObj.languageTranslateImage.welcome_screen=n.welcome_screen_image):n.welcome_screen&&n.welcome_screen.image_name&&n.welcome_screen.image_path?(this.dataJsonObj.islanguageImgEnable.welcome_screen=!0,this.dataJsonObj.languageTranslateImage.welcome_screen=this.dataJsonObj.apiEndPoint+n.welcome_screen.image_path+"/"+n.welcome_screen.image_name):(this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.languageTranslateImage.welcome_screen=""),n.success_screen_image?(this.dataJsonObj.islanguageImgEnable.success_screen=!0,this.dataJsonObj.languageTranslateImage.success_screen=n.success_screen_image):n.success_screen&&n.success_screen.image_name&&n.success_screen.image_path?(this.dataJsonObj.islanguageImgEnable.success_screen=!0,this.dataJsonObj.languageTranslateImage.success_screen=this.dataJsonObj.apiEndPoint+n.success_screen.image_path+"/"+n.success_screen.image_name):(this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.languageTranslateImage.success_screen=""),n.failure_screen_image?(this.dataJsonObj.islanguageImgEnable.failure_screen=!0,this.dataJsonObj.languageTranslateImage.failure_screen=n.failure_screen_image):n.failure_screen&&n.failure_screen.image_name&&n.failure_screen.image_path?(this.dataJsonObj.islanguageImgEnable.failure_screen=!0,this.dataJsonObj.languageTranslateImage.failure_screen=this.dataJsonObj.apiEndPoint+n.failure_screen.image_path+"/"+n.failure_screen.image_name):(this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.languageTranslateImage.failure_screen=""),n.congratulation_screen_image?(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!0,this.dataJsonObj.languageTranslateImage.congratulation_screen=n.congratulation_screen_image):n.congratulation_screen&&n.congratulation_screen.image_name&&n.congratulation_screen.image_path?(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!0,this.dataJsonObj.languageTranslateImage.congratulation_screen=this.dataJsonObj.apiEndPoint+n.congratulation_screen.image_path+"/"+n.congratulation_screen.image_name):(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!1,this.dataJsonObj.languageTranslateImage.congratulation_screen=""),this.dataJsonObj.quizQuestionsTl=n.questionTranslations?n.questionTranslations:[],this.displayNameUpdate.clearmessage(),$("#exampleModal6").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal6")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editLanguages",a)}}quizLanguageTranslationCreate(){try{this.languageAdd.isValid()&&this.displayNameAdd.isValid()&&(this.dataJsonObj.languageDatavalid=this.dataJsonObj.languagesData.find(n=>n.quiz_display_name===this.dataJsonObj.quizViewData?.title.toString()&&n.language.language_id===this.dataJsonObj.languageId),this.dataJsonObj.languagesData.push({language:{language_id:this.dataJsonObj.languageId,language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode},quiz_display_name:this.dataJsonObj.quizViewData.title,language_name_value:this.dataJsonObj.languageName,title:this.dataJsonObj.langTransDisplayname,description:this.dataJsonObj.langTransDescription,is_enabled:this.dataJsonObj.isLangTransEnabled,is_enabled_value:this.dataJsonObj.isLangTransEnabled?"Yes":"No",languageTranslateImages:this.dataJsonObj.languageTranslateImage,languageTranslateImageObj:this.dataJsonObj.languageImageApis[this.dataJsonObj.index],welcome_screen:this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index],success_screen:this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index],failure_screen:this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index],congratulation_screen:this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index],questionTranslations:this.dataJsonObj.quizQuestionsTl}),document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",$("#exampleModal5").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"quizLanguageTranslationCreate",t)}}getLanguagesfromJson(){var t=this;return(0,T.Z)(function*(){t.dataJsonObj.languagesFromJson=yield t.commonService.getLanguagesListJson(t.dataJsonObj.selectedEnterpriseId)})()}getLanguagesList(t){var n=this;return(0,T.Z)(function*(){try{const a={};yield n.QuizService.getTranslateLanguages(n.dataJsonObj.selectedEnterpriseId).then(s=>{if(n.dataJsonObj.translateLanguageOptions=s[0].configoption_json.languages,n.dataJsonObj.translateLanguageOptions&&n.dataJsonObj.translateLanguageOptions.length>0)for(let o=0;o<n.dataJsonObj.translateLanguageOptions.length;o++)a[n.dataJsonObj.translateLanguageOptions[o].language_name]||(a[n.dataJsonObj.translateLanguageOptions[o].language_name]={}),a[n.dataJsonObj.translateLanguageOptions[o].language_name].languageName=n.dataJsonObj.translateLanguageOptions[o].language_name,a[n.dataJsonObj.translateLanguageOptions[o].language_name].language_id=n.dataJsonObj.translateLanguageOptions[o].language_id},s=>{n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",s)}),yield n.commonService.getDynamicJsonByPath(`assets/enterprises/${n.dataJsonObj.selectedEnterpriseId}/languages/`,"languages.json").then(s=>{for(let o=0;o<s.length;o++)a[s[o].language_name]&&(n.dataJsonObj.translateLanguageOptions[o].ID=s[o].language_id,n.dataJsonObj.translateLanguageOptions[o].NAME=s[o].language_display_name,n.dataJsonObj.translateLanguageOptions[o].language_code=s[o].language_code,n.dataJsonObj.translateLanguageOptions[o].language_id=s[o].language_id,n.dataJsonObj.translateLanguageOptions[o].language_name=s[o].language_name);if(n.dataJsonObj.translateLanguageOptions&&t){const o=n.dataJsonObj.translateLanguageOptions.filter(function(u){return u.NAME.toLowerCase().includes(t.toLowerCase())});n.dataJsonObj.translateLanguageOptions=o}})}catch(a){n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",a)}})()}changeLanguage(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.languageId=t.ID,this.dataJsonObj.languageName=t.NAME,this.dataJsonObj.language=t.language_name,this.dataJsonObj.languageCode=t.language_code)}changeLangTransDisplayname(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.langTransDisplayname=t.value)}changeLangTransDescription(t){t&&(this.dataJsonObj.langTransDescription=t.value)}languagesEditSubmit(){try{if(this.displayNameUpdate.isValid()){for(let t=0;t<this.dataJsonObj.languagesData.length;t++)this.dataJsonObj.imageDelete.welcome_screen[t]||(this.dataJsonObj.imageDelete.welcome_screen[t]=!1),this.dataJsonObj.imageDelete.success_screen[t]||(this.dataJsonObj.imageDelete.success_screen[t]=!1),this.dataJsonObj.imageDelete.failure_screen[t]||(this.dataJsonObj.imageDelete.failure_screen[t]=!1),this.dataJsonObj.imageDelete.congratulation_screen[t]||(this.dataJsonObj.imageDelete.congratulation_screen[t]=!1),this.dataJsonObj.languagesData[t].deleteWelcomeImage||(this.dataJsonObj.languagesData[t].deleteWelcomeImage=""),this.dataJsonObj.languagesData[t].deleteSuccessImage||(this.dataJsonObj.languagesData[t].deleteSuccessImage=""),this.dataJsonObj.languagesData[t].deleteFailureImage||(this.dataJsonObj.languagesData[t].deleteFailureImage=""),this.dataJsonObj.languagesData[t].deleteCongratulationImage||(this.dataJsonObj.languagesData[t].deleteCongratulationImage=""),t===this.dataJsonObj.editRowIndex&&(this.dataJsonObj.languagesData[t].language={language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode,language_id:this.dataJsonObj.languageId},this.dataJsonObj.languagesData[t].language_name_value=this.dataJsonObj.languageName,this.dataJsonObj.languagesData[t].title=this.dataJsonObj.langTransDisplayname,this.dataJsonObj.languagesData[t].description=this.dataJsonObj.langTransDescription,this.dataJsonObj.languagesData[t].is_enabled=this.dataJsonObj.isLangTransEnabled,this.dataJsonObj.languagesData[t].is_enabled_value=!0===this.dataJsonObj.isLangTransEnabled?"Yes":"No",this.dataJsonObj.languagesData[t].languageTranslateImages=this.dataJsonObj.languageTranslateImage,this.dataJsonObj.languagesData[t].languageTranslateImageObj=this.dataJsonObj.languageImageApis[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].welcome_screen_image=this.dataJsonObj.deleteImage.welcome_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.welcome_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].success_screen_image=this.dataJsonObj.deleteImage.success_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.success_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].failure_screen_image=this.dataJsonObj.deleteImage.failure_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.failure_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].congratulation_screen_image=this.dataJsonObj.deleteImage.congratulation_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.congratulation_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].deleteWelcomeImage=this.dataJsonObj.deleteImage.welcome_screen[t]?this.dataJsonObj.deleteImage.welcome_screen[t]:"",this.dataJsonObj.languagesData[t].deleteSuccessImage=this.dataJsonObj.deleteImage.success_screen[t]?this.dataJsonObj.deleteImage.success_screen[t]:"",this.dataJsonObj.languagesData[t].deleteFailureImage=this.dataJsonObj.deleteImage.failure_screen[t]?this.dataJsonObj.deleteImage.failure_screen[t]:"",this.dataJsonObj.languagesData[t].deleteCongratulationImage=this.dataJsonObj.deleteImage.congratulation_screen[t]?this.dataJsonObj.deleteImage.congratulation_screen[t]:"",document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",this.dataJsonObj.languagesData[t].questionTranslations=this.dataJsonObj.quizQuestionsTl);$("#exampleModal6").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesEditSubmit",t)}}changeLangTransCheckBox(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.isLangTransEnabled=t.value)}languagesDeleteSubmit(){try{for(let t=0;t<this.dataJsonObj.languagesData.length;t++)this.dataJsonObj.deleteRowIndex===t&&this.dataJsonObj.languagesData[t]._id&&this.dataJsonObj.deleted_translation_ids.push(this.dataJsonObj.languagesData[t]._id);this.dataJsonObj.languagesData.splice(this.dataJsonObj.deleteRowIndex,1),$("#exampleModal7").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesDeleteSubmit",t)}}clearMessage(){this.dataJsonObj.errorHtml=""}cancelPopUpButton(){try{document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",t)}}changeQuestionName(t){try{this.questionError="",this.dataJsonObj.question=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeQuestionName",n)}}changeAnswerName(t){try{this.questionError="",this.dataJsonObj.option=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAnswerName",n)}}addOptions(){this.dataJsonObj?.option?(this.dataJsonObj.optionsArray.push({ID:this.dataJsonObj.optionsArray.length>0?this.dataJsonObj.optionsArray[this.dataJsonObj.optionsArray.length-1].option_id+1:1,NAME:this.dataJsonObj.option,question:this.dataJsonObj.question,option_id:this.dataJsonObj.optionsArray.length>0?this.dataJsonObj.optionsArray[this.dataJsonObj.optionsArray.length-1].option_id+1:1,option:this.dataJsonObj?.option,is_correct:this.dataJsonObj.isOptionCorrect}),this.dataJsonObj.option="",this.dataJsonObj.isOptionCorrect=!1,this.questionError=""):this.optionvalidate.throwError()}changeOptionCheckBox(t){t&&(this.dataJsonObj.isOptionCorrect=t.value)}addQuizQuestions(){if(this.dataJsonObj.question)if(this.dataJsonObj.optionsArray.length>1)if(this.dataJsonObj.optionsArray.find(n=>1==n.is_correct)){this.dataJsonObj.quizQuestionData||(this.dataJsonObj.quizQuestionData=[]);const n=this.dataJsonObj.displayImage,a=n?this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(n)):"";this.displaySequence=this.dataJsonObj.quizQuestionData.length>0?this.dataJsonObj.quizQuestionData[this.dataJsonObj.quizQuestionData.length-1].display_sequence+1:1,this.dataJsonObj.quizQuestionData.push({ID:this.displaySequence,NAME:this.dataJsonObj.question,quizImage:a,display_sequence:this.displaySequence,question:this.dataJsonObj.question,options:JSON.parse(JSON.stringify(this.dataJsonObj.optionsArray))}),this.digitalAssetFile&&this.quizFileArray.push({imagename:this.dataJsonObj.question+"-"+this.displaySequence,file:this.digitalAssetFile}),this.showCropper=!1,this.imageChangedEvent="",this.dataJsonObj.question="",this.dataJsonObj.displayImage="",this.digitalAssetFile="",this.dataJsonObj.option="",this.digitalAssetTypeId="",this.dataJsonObj.isOptionCorrect=!1,this.typeDropdown.clearSelectInput(),this.dataJsonObj.optionsArray=[],this.questionError=""}else this.questionError="COMMON_VALIDATION_MESSAGES.VALID_FILL_NUMBER_OF_CORRECT_OPTION";else this.questionError="COMMON_VALIDATION_MESSAGES.VALID_FILL_NUMBER_OF_OPTIONS";else this.questionValid.throwError()}deleteOptions(t){this.dataJsonObj.optionsArray?.splice(t,1)}deleteQuizQuestions(t){this.dataJsonObj.deletetedQuestions.push(this.dataJsonObj.quizQuestionData[t]._id),this.dataJsonObj.quizQuestionData?.splice(t,1)}changeDisplaySequence(t){this.displaySequence=t.value,this.errorHtml=""}rotateLeft(){this.canvasRotation--}rotateRight(){this.canvasRotation++}rotateLeft1(){this.canvasRotation1--}rotateRight1(){this.canvasRotation1++}fileChangeEvent(t,n){try{this.digitalAssetUploadFileType=n,this.digitalAssetTypeName===r.Cv.VIDEO?(this.assetTypeTag="",this.assetTypeImage="",setTimeout(()=>{this.assetTypeValue=this.videoType,this.assetTypeTag="testVideo",this.assetTypeImage=""},10)):this.digitalAssetTypeName===r.Cv.AUDIO?(this.assetTypeTag="",this.assetTypeImage="",setTimeout(()=>{this.assetTypeValue=this.audioType,this.assetTypeTag="testAudio",this.assetTypeImage=""},10)):this.digitalAssetTypeName===r.Cv.IMAGE&&(this.assetTypeTag="testImage",this.assetTypeValue=this.imageType),this.stopDisplayFileNameAndCroppedSize(n),t.target.files.length>0&&("File"===n?this.fileSrc=null:this.previewFileSrc=null,this.digitalAssetTypeName===r.Cv.IMAGE&&(this.validSelectedImageFileType(t.target.files[0])?(this.error="","File"===n&&(this.imageChangedEvent=t),this.selectedFileName=t.target.files[0].name,this.imgCheck=!0):("File"===n?this.imageChangedEvent=null:this.previewImageChangedEvent=null,this.imgCheck=!1))),this.questionError=""}catch(a){this.loggerService.setLoggerError(this.constructor.name,"fileChangeEvent",a)}}stopDisplayFileNameAndCroppedSize(t){try{"File"===t?document.getElementById("profileimg").innerHTML="":document.getElementById("previewimg").innerHTML=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"stopDisplayFileNameAndCroppedSize",n)}}validSelectedImageFileType(t){try{if(this.dataJsonObj.displayImage=t,this.fileType=t.type,this.selectedType=this.fileType.toString().split("/")[0],this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.imageExtensions=this.commonService.getExtension(r.P7),this.myObj={imageTypes:this.imageExtensions},this.assetTypeError=!0,"image"===this.selectedType)for(let n=0;n<this.myObj.imageTypes.length;n++)if(this.myObj.imageTypes[n].indexOf(this.extension)>-1&&this.assetTypeImage===r.Cv.IMAGE)return!0;return this.assetTypeError=!1,!1}catch(n){this.loggerService.setLoggerError(this.constructor.name,"validSelectedImageFileType",n)}}imageUploaded(t){try{this.error="";const n=t.target.files;n.length>0&&(this.assetFile=n[0]);const a=new Array("Bytes","KB","MB","GB");let s=this.assetFile.size,o=0;for(;s>900;)s/=1024,o++;const u=Math.round(100*s)/100,d=a[o];this.fileType=this.assetFile.type;const c=this.fileType.split("/")[0];if(this.fileSrc=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(this.assetFile)),setTimeout(()=>{},500),"image"===c&&this.assetTypeImage===r.Cv.IMAGE)this.assetTypeError=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.imageExtensions=this.commonService.getExtension(r.P7),this.myObj={imageTypes:this.imageExtensions};else if("video"===c&&this.digitalAssetTypeName===r.Cv.VIDEO){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.videoExtensions=this.commonService.getExtension(r.sc),this.myObj={imageTypes:this.videoExtensions},this.assetTypeError=!0;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g,this.digitalAssetFile=this.assetFile},this.fileSize=this.assetFile.size/1024/1024}else if("audio"===c&&this.digitalAssetTypeName===r.Cv.AUDIO){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.audioExtensions=this.commonService.getExtension(r.wE),this.myObj={imageTypes:this.audioExtensions},this.fileSize=this.assetFile.size/1024/1024,this.assetTypeError=!0,this.digitalAssetFile=this.assetFile;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g}}else if("application"===c&&this.digitalAssetTypeName===r.Cv.DOCUMENT){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.documentExtensions=this.commonService.getExtension(r.Do),this.myObj={imageTypes:this.documentExtensions},this.fileSize=this.assetFile.size/1024/1024,this.assetTypeError=!0,this.digitalAssetFile=this.assetFile;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g}}else this.otherExtensions=this.commonService.getExtension(r.XF),this.myObj={imageTypes:this.otherExtensions},this.assetTypeError=!1;let _=!0;for(let h=0;h<this.myObj.imageTypes.length;h++){let m=this.myObj.imageTypes[h].indexOf(this.extension);if(m>-1&&this.assetTypeImage===r.Cv.IMAGE&&!0===this.assetTypeError){_=!1,this.assetTypeError=!1,this.error="",this.imageMinSize>u||"KB"!==d||u>this.imageMaxSize||"KB"!==d?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART2"),this.error=this.errMsg1+" "+this.imageMinSize+" & "+this.imageMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.VIDEO&&!0===this.assetTypeError){_=!1,this.imgCheck=!0,this.error="",this.fileSize>this.videoMaxSize||this.fileSize<this.videoMinSize?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.VIDEO_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.videoMinSize+" & "+this.videoMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.AUDIO&&!0===this.assetTypeError){_=!1,this.fileSize>this.audioMaxSize||this.fileSize<this.audioMinSize?(this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.AUDIO_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.audioMinSize+" & "+this.audioMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.DOCUMENT&&!0===this.assetTypeError){_=!1,this.fileSize>this.documentMaxSize||this.fileSize<this.documentMinSize?(this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.DOCUMENT_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.documentMinSize+" & "+this.documentMaxSize+" "+this.errMsg2):this.imageStatus=!0,this.imageStatus=!0;break}}_&&(this.assetTypeError=!0,this.fileSrc="",this.mediaFile="",this.imgCheck=!1);const J=document.getElementById("profileimg");let b=this.assetFile.name;null!=b&&""!==b&&this.assetFile.name.length>10&&(b=b.substring(0,10)+".."+this.assetFile.name.split(".")[1]),!0===this.imgCheck&&(J.innerHTML=b)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"imageUploaded",n)}}dataURItoBlob(t,n){try{const a=window.atob(t),s=new ArrayBuffer(a.length),o=new Uint8Array(s);for(let d=0;d<a.length;d++)o[d]=a.charCodeAt(d);return new Blob([o],{type:n})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"dataURItoBlob",a)}}imageCropped(t){try{if(t.blob){const n=this.commonService.getFileReader();n.onloadend=()=>{this.croppedImage=n.result,this.validCroppedImageSize(this.croppedImage)&&(this.fileSrc=this.croppedImage,this.mediaFile=this.croppedImage)},n.readAsDataURL(t.blob)}else console.error("No blob found in the event.")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"imageCropped",n)}}dataURItoImgBlob(t,n){var a;a=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);var s=new Uint8Array(a.length);for(let o=0;o<a.length;o++)s[o]=a.charCodeAt(o);return new Blob([s],{type:n})}validCroppedImageSize(t){try{this.assetFile=t,this.digitalAssetFile=this.dataURItoImgBlob(this.assetFile,"image/jpeg");let n=this.assetFile.size,a=0;for(;n>900;)n/=1024,a++;const s=Math.round(100*n)/100;return this.displayFileNameAndCroppedSize(this.selectedFileName,s,"File"),s>this.imageMaxSize?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART2"),this.error=this.errMsg1+" "+this.imageMinSize+" & "+this.imageMaxSize+" "+this.errMsg2,!1):(this.imageStatus=!0,this.error="",!0)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"validCroppedImageSize",n)}}displayFileNameAndCroppedSize(t,n,a){try{let s;switch(a){case"File":s=document.getElementById("profileimg");break;case"Preview":s=document.getElementById("previewimg");break;case"Thumbnail":s=document.getElementById("thumbnailimg");default:s=document.getElementById("profileimg")}let o=t;null!=o&&""!==o&&o.split(".")[0].length>10&&(o=o.split(".")[0].substring(0,10)+".."+o.split(".")[1]),s.innerHTML=this.selectedFileName}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayFileNameAndCroppedSize",s)}}getDigitalAssetTypes(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.DIGITAL_ASSET_TYPES],"").then(t=>{this.digitalAssetTypeOptions=t.filter(n=>"IMAGE"==n.lookup_name),this.digitalAssetTypeName&&(this.digitalAssetTypeObj=this.digitalAssetTypeOptions.find(n=>"IMAGE"==n.lookup_name),this.digitalAssetTypeId=this.digitalAssetTypeObj._id,this.digitalAssetType=this.digitalAssetTypeObj.NAME,this.digitalAssetTypeName=this.digitalAssetTypeObj.lookup_name)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getDigitalAssetTypes",t)}}getFileAcceptType(){switch(this.digitalAssetTypeName){case r.Cv.VIDEO:return"video/*";case r.Cv.AUDIO:return"audio/*";case r.Cv.IMAGE:return"image/*";case r.Cv.DOCUMENT:return".xlsx,.xls,.pdf,.doc,.docx,.txt,.odt,.ods,.odp,.csv,.ppt,.pptx";default:return""}}changeDigitalAssetType(t){try{if(this.error="",this.imageChangedEvent="",document.getElementById("profileimg")){const n=document.getElementById("profileimg");n.innerHTML=n.innerHTML?"":n.innerHTML,this.fileSrc=""}if(document.getElementById("previewimg")){const n=document.getElementById("previewimg");n.innerHTML=n.innerHTML?"":n.innerHTML,this.previewFileSrc=""}this.digitalAssetTypeId=t.value,this.digitalAssetTypeObj=this.digitalAssetTypeOptions.find(n=>n.ID===parseInt(this.digitalAssetTypeId,10)),this.digitalAssetTypeName=this.digitalAssetTypeObj.lookup_name,this.dataJsonObj.isLiveStreamUrlFieldEnabled=this.digitalAssetTypeName===r.Cv.LIVE_STREAM,this.questionError=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeDigitalAssetType",n)}}getAssetType(t){try{switch(this.error="",t){case this.videoType.lookup_name:this.postType=r.Cv.VIDEO,this.assetTypeVideo=r.Cv.VIDEO;break;case this.audioType.lookup_name:this.postType=r.Cv.AUDIO,this.assetTypeAudio=r.Cv.AUDIO;break;case this.imageType.lookup_name:this.postType=r.Cv.IMAGE,this.assetTypeImage=r.Cv.IMAGE}}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getAssetType",n)}}getDocumentTypeLookups(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.DIGITAL_ASSET_TYPES],"").then(t=>{this.documentTypes=t;for(let n=0;n<t.length;n++)t[n].lookup_name===r.Cv.AUDIO?this.audioType=t[n]:t[n].lookup_name===r.Cv.VIDEO?this.videoType=t[n]:t[n].lookup_name===r.Cv.IMAGE?this.imageType=t[n]:t[n].lookup_name===r.Cv.DOCUMENT&&(this.documentType=t[n])}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getDocumentTypeLookups",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getDocumentTypeLookups",t)}}imageLoaded(){this.showCropper=!0}removeImage(){this.digitalAssetFile="",this.imageChangedEvent="",this.showCropper=!1}addQuizQuestionsTl(){this.dataJsonObj.questionTl?this.dataJsonObj.optionsArrayTl.length>1?(this.dataJsonObj.quizQuestionsTl||(this.dataJsonObj.quizQuestionsTl=[]),this.dataJsonObj.quizQuestionsTl.find(n=>n.quiz_question_id===this.dataJsonObj.questionId)||(this.dataJsonObj.quizQuestionsTl.push({languageTranslateImages:this.dataJsonObj.questionTranslateImage,languageTranslateImageObj:this.dataJsonObj.languageQuestionImageApi,quiz_question_id:this.dataJsonObj.questionId,question:this.dataJsonObj.questionTl,options:JSON.parse(JSON.stringify(this.dataJsonObj.optionsArrayTl))}),this.dataJsonObj.addQuizQuestionsTl=this.dataJsonObj.quizQuestionsTl,this.dataJsonObj.questionTranslateImage="",this.dataJsonObj.languageQuestionImageApi="",this.dataJsonObj.questionTl="",this.dataJsonObj.optionTl="",this.dataJsonObj.questionId="",this.dataJsonObj.optionsArrayTl=[],this.displaySequence="",$("#blockContentDetailsAdd").modal("hide"))):this.questionError="COMMON_VALIDATION_MESSAGES.VALID_FILL_NUMBER_OF_OPTIONS":this.questionValid.throwError()}updateQuizQuestionsTl(){const t=this.questionTlEditRowIndex;this.dataJsonObj.quizQuestionsTl.length>0&&(this.dataJsonObj.quizQuestionsTl[t].quiz_question_id=this.dataJsonObj.questionId,this.dataJsonObj.quizQuestionsTl[t].options=this.dataJsonObj.optionsArrayTl,this.dataJsonObj.quizQuestionsTl[t].languageTranslateImages=this.dataJsonObj.questionTranslateImage,this.dataJsonObj.quizQuestionsTl[t].languageTranslateImageObj=this.dataJsonObj.languageQuestionImageApi,document.getElementById("imagefileid5").value=""),$("#blockContentEdit").modal("hide")}changeQuestionDropDown(t){try{if(t.value){this.dataJsonObj.questionId=parseInt(t.value,10),this.dataJsonObj.optionsData=this.dataJsonObj.quizQuestionData?.find(a=>a.ID===this.dataJsonObj.questionId)?.options;const n=this.dataJsonObj.quizQuestionData?.find(a=>a.ID===this.dataJsonObj.questionId);this.dataJsonObj.originalQuestion=n.question}}catch{}}changeOptionsDropDown(t){try{if(t.value){this.dataJsonObj.optionId=parseInt(t.value,10);const n=this.dataJsonObj.optionsData?.find(a=>a.ID===this.dataJsonObj.optionId);this.dataJsonObj.originalOption=n.option,this.dataJsonObj.isOptionCorrectTl=n.is_correct}}catch{}}getNextQuestionNumber(){return this.dataJsonObj.quizQuestionsTl||(this.dataJsonObj.quizQuestionsTl=[]),this.dataJsonObj.quizQuestionsTl.length+1}questionTlAdd(t){try{t.stopPropagation(),this.addQuestionTlIndex=this.getNextQuestionNumber(),this.questionTlIndex=this.addQuestionTlIndex,this.dataJsonObj.questionTl="",this.dataJsonObj.optionsArrayTl=[],this.dataJsonObj.languageTranslateImage.question_screen="",this.dataJsonObj.islanguageImgEnable.question_screen=!1,$("#blockContentDetailsAdd").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDetailsAdd")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"questionTlAdd",n)}}removeBlockContentDetails(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.screenTypeObjectId=n.object_name,this.dataJsonObj.accordionCheckbox=n.is_display_as_accordion,this.dataJsonObj.defaultScreenType=n?.link_to_screen?.screen_type?.lookup_id?this.lookupLanguageTranslations(n.link_to_screen.screen_type.lookup_id):"",this.dataJsonObj.defaultPositionType=n?.position?.lookup_id?this.lookupLanguageTranslations(n.position.lookup_id):"",this.dataJsonObj.blockContentTitle=n.block_content_title,$("#blockContentDelete").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDelete")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeBlockContentDetails",a)}}editQuestionTl(t,n){try{this.dataJsonObj.currentQuestion=n.display_sequence,this.questionTlEditRowIndex=t,this.questionTlIndex=this.questionTlEditRowIndex+1,this.dataJsonObj.rowdata=n,this.dataJsonObj.questionTl=n.question,this.dataJsonObj.optionsArrayTl=n.options,this.dataJsonObj.questionId=n.quiz_question_id?n.quiz_question_id:"",this.dataJsonObj.islanguageImgEnable.question_screen=!!n?.languageTranslateImages||!(!n.file_path||!n.file_name),this.dataJsonObj.question_screen=n?.languageTranslateImages?n?.languageTranslateImages:n.file_path&&n.file_name?this.dataJsonObj.apiEndPoint+n?.file_path+"/"+n?.file_name:"",$("#blockContentEdit").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editQuestionTl",a)}}editOptionTl(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.rowdata=n,$("#blockContentEdit1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit1")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editOptionTl",a)}}onClick(t){t.stopPropagation()}optinsTlAdd(t){try{t.stopPropagation(),this.dataJsonObj.blockContentTitle="",this.dataJsonObj.isOptionCorrectTl=!1,$("#blockContentDetailsAdd1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDetailsAdd1")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"blockContentAdd11",n)}}removeBlockContentDetails1(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.screenTypeObjectId=n.object_name,this.dataJsonObj.accordionCheckbox=n.is_display_as_accordion,this.dataJsonObj.defaultScreenType=n?.link_to_screen?.screen_type?.lookup_id?this.lookupLanguageTranslations(n.link_to_screen.screen_type.lookup_id):"",this.dataJsonObj.defaultPositionType=n?.position?.lookup_id?this.lookupLanguageTranslations(n.position.lookup_id):"",this.dataJsonObj.blockContentTitle=n.block_content_title,$("#blockContentDelete1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDelete1")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeBlockContentDetails1",a)}}changeTranslateQuestionName(t){try{this.questionError="",this.dataJsonObj.questionTl=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeQuestionName",n)}}changeAnswerNameTl(t){try{this.questionError="",this.dataJsonObj.optionTl=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAnswerName",n)}}changeOptionCheckBoxTl(t){t&&(this.dataJsonObj.isOptionCorrectTl=t.value)}addOptionsTl(){this.dataJsonObj?.optionTl&&(this.dataJsonObj.optionsArrayTl.find(n=>n.option_id===this.dataJsonObj.optionId)||(this.dataJsonObj.optionsArrayTl.push({original_question:this.dataJsonObj.originalQuestion,original_option:this.dataJsonObj.originalOption,question:this.dataJsonObj.questionTl,option_id:this.dataJsonObj.optionId,option:this.dataJsonObj?.optionTl,is_correct:this.dataJsonObj.isOptionCorrectTl}),this.dataJsonObj.optionTl="",this.dataJsonObj.isOptionCorrectTl=!1,this.questionError="",$("#blockContentDetailsAdd1").modal("hide")))}deleteBlockContentDetails(){}blockContentEditSubmit(){}static \u0275fac=function(n){return new(n||i)(e.Y36("apiEndPoint"),e.Y36(S),e.Y36(N.v),e.Y36(I.gz),e.Y36(C.sK),e.Y36(y.m),e.Y36(G.f),e.Y36(I.F0),e.Y36(z.H7),e.Y36(M.s))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-quiz-edit"]],viewQuery:function(n,a){if(1&n&&(e.Gf(Qt,5),e.Gf(Ut,5),e.Gf(kt,5),e.Gf(Vt,5),e.Gf(Rt,5),e.Gf(Ft,5),e.Gf(Pt,5),e.Gf(Bt,5),e.Gf(Gt,5),e.Gf(Ht,5),e.Gf(Yt,5),e.Gf($t,5),e.Gf(Kt,5),e.Gf(Wt,5)),2&n){let s;e.iGM(s=e.CRH())&&(a.treasureHuntNamevalid=s.first),e.iGM(s=e.CRH())&&(a.treasureHuntDisplayNamevalid=s.first),e.iGM(s=e.CRH())&&(a.optionvalidate=s.first),e.iGM(s=e.CRH())&&(a.languageAdd=s.first),e.iGM(s=e.CRH())&&(a.displayNameAdd=s.first),e.iGM(s=e.CRH())&&(a.displayNameUpdate=s.first),e.iGM(s=e.CRH())&&(a.typeDropdown=s.first),e.iGM(s=e.CRH())&&(a.questionValid=s.first),e.iGM(s=e.CRH())&&(a.quiztitlevalid=s.first),e.iGM(s=e.CRH())&&(a.fileInput1=s.first),e.iGM(s=e.CRH())&&(a.fileInput2=s.first),e.iGM(s=e.CRH())&&(a.fileInput3=s.first),e.iGM(s=e.CRH())&&(a.fileInput4=s.first),e.iGM(s=e.CRH())&&(a.fileInput5=s.first)}},features:[e._Bn([]),e.qOj],decls:418,vars:380,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["autoCaseFlag","false","mandatory","true","disabled","false","id","treasurehunt-create-facilityname",3,"minlength","maxlength","label","value","valueChange"],["quiztitlevalid",""],[1,"error-msg","col-md-10","text-danger","text-center","mb-0"],[1,"col-md-2"],["autoCaseFlag","true","mandatory","false","disabled","false","id","treasure-hunt-clues-edit-leaderboardUsersCount",3,"label","value","maxlength","valueChange"],["leaderboardUsersCountInputNumber",""],[1,"col-lg-6","col-md-8","datetimepicker"],[1,"row"],[1,"col-lg-6","col-md-6","datetimepicker"],[1,"col-8","col-md-8","pr-0"],["mandatory","true","disabled","false","id","surveys-create-start-date",3,"placeholder","dateformat","defaultDate","editvalueChange"],["startDatetimePicker",""],[1,"col-4","col-md-4","pl-1"],["disabled","false","mandatory","true",3,"label","options","defaultValue","selectedOption","searchValueChange"],["mandatory","true","disabled","false","id","polls-create-end-date",3,"placeholder","defaultDate","dateformat","editvalueChange"],[1,"col-md-12","order-md-1","order-2"],["mandatory","false","disabled","false","id","enterprise-edit-enterprisedescription",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalid",""],[1,"col-md-2","pdl-1","order-md-1","imagewith-label"],["type","file","btnHide","true","action","create","imageid","welcomeImage","imageAlignmentClass","mg-0","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","defaultImage","enableImageDelete","imageName","valueChange","imageRemove","deleteClick"],["type","file","btnHide","true","action","create","imageid","successImage","imageAlignmentClass","mg-0","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","defaultImage","enableImageDelete","imageName","valueChange","imageRemove","deleteClick"],["type","file","btnHide","true","action","create","imageid","failureImage","imageAlignmentClass","mg-0","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","defaultImage","enableImageDelete","imageName","valueChange","imageRemove","deleteClick"],[1,"col-md-3","pdl-1","order-md-1","imagewith-label"],["type","file","btnHide","true","action","create","imageid","congratulationImage","imageAlignmentClass","mg-0","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","defaultImage","enableImageDelete","imageName","valueChange","imageRemove","deleteClick"],[1,"col-md-12","text-end","mt-2","mb-2","btns-group","order-md-1","order-2"],["className","btn btn-primary btn-sm","id","treasurehunt-create-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","treasurehunt-create-cancel",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"card-body"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],[1,"col-md-6"],["autoCaseFlag","false","mandatory","false","disabled","false","id","animal-spotlight-screen-details-create-question",3,"label","value","valueChange"],["questionValid",""],["mandatory","false","id","digitalassets-create-assetType",3,"label","options","defaultValue","valueChange"],["typeDropdown",""],["class","col-md-2",4,"ngIf"],[1,"col-md-2","mt-2"],["id","menu-list-data-sortandfilter-add","className","btn btn-primary btn-sm",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],["class","row form-bs",4,"ngIf"],[4,"ngFor","ngForOf"],["class","fw-600",4,"ngIf"],[1,"card-content"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],["label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","treasurehunt-edit-translationsadd",3,"disabled","isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","hidden-md-down","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"hidden-md-up"],["class","text-center text-danger mb-0 no-data-txt",4,"ngIf"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],["id","exampleModal5","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"row","no-gutter","form-bs"],["disabled","true","id","treasurehunt-edit-translationsadd-name",3,"label","value"],["mandatory","true","id","treasurehunt-edit-translationsadd-languagename",3,"label","options","selectedOption","searchValueChange"],["languageAdd",""],["disabled","false","mandatory","true","autoCaseFlag","false","id","treasurehunt-edit-translationsadd-displayname",3,"label","value","maxlength","valueChange"],["displayNameAdd",""],[1,"col-md-10"],["mandatory","false","disabled","false","id","treasurehunt-edit-translationsadd-description",3,"label","defaultvalue","maxlength","valueChange"],[1,"col-md-2","d-flex","align-items-center"],["label","","mandatory","true","id","treasurehunt-edit-translationsadd-checkboxoptions",3,"options","checked","valueChange"],[1,"col-md-12","text-center","mt-2"],["size","12","multiple","","type","file","id","imagefileid1","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file1",""],[4,"ngIf"],["id","create_fileclick_video_id","className","btn btn-primary btn-sm mt-2","btnIcon","fas fa-image mgr-5","id","lookupcode-translations-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["size","12","multiple","","type","file","id","imagefileid2","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file2",""],["size","12","multiple","","type","file","id","imagefileid3","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file3",""],["size","12","multiple","","type","file","id","imagefileid4","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file4",""],["disabled","false","label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","create-addpopup-linesadd",3,"isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","treasurehunt-edit-translationsadd-add-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasurehunt-edit-translationsadd-cancel-btn",3,"label","buttonOnClick"],["id","exampleModal6","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","disabled","true","id","treasurehunt-edit-translationsedit-language",3,"label","value"],["disabled","false","mandatory","true","autoCaseFlag","false","id","treasurehunt-edit-translationsedit-displayname",3,"label","value","maxlength","valueChange"],["displayNameUpdate",""],["mandatory","false","disabled","false","id","treasurehunt-edit-translationsedit-description",3,"label","defaultvalue","maxlength","valueChange"],["label","","mandatory","true","id","treasurehunt-edit-translationsedit-checkboxoptions",3,"options","checked","valueChange"],["className","btn btn-primary btn-sm","id","treasurehunt-edit-translationsedit-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasurehunt-edit-translationsedit-cancel-btn",3,"label","buttonOnClick"],["id","exampleModal7","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","treasurehunt-edit-translations-delete-name",3,"label","value"],["mandatory","false","disabled","true","id","treasurehunt-edit-translations-delete-language",3,"label","value"],["disabled","true","id","treasurehunt-edit-translations-delete-displayname","mandatory","true",3,"label","value"],["disabled","true","id","treasurehunt-edit-translations-delete-description",3,"label","defaultvalue"],["label","","mandatory","false","id","treasurehunt-edit-translations-delete-checkboxoption","disabled","true",3,"options","checked"],["className","btn btn-primary btn-sm","id","treasurehunt-edit-translations-delete-delete-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasurehunt-edit-translations-delete-cancel-btn",3,"label","buttonOnClick"],["id","blockContentDetailsAdd","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],[1,"col-md-3"],["mandatory","true","id","digitalassets-create-assetType",3,"label","options","defaultValue","valueChange"],["digitalAssetTypeDropdown",""],["mandatory","true","disabled","false","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","value","maxlength","valueChange"],["blockTitleInput",""],["size","12","multiple","","type","file","id","imagefileid5","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file5",""],["className","btn btn-primary btn-sm","id","create-addpopup-add",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-addpopup-cancel",3,"label"],["id","blockContentEdit","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["mandatory","false","disabled","true","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","value","maxlength"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-editpopup-cancel",3,"label"],["id","blockContentDetailsAdd1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel1","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["label","","mandatory","true","disabled","true","id","treasure-hunt-create-translationsadd-checkboxoptions",3,"options","checked"],["size","12","type","file","id","imagefileid",1,"input-file",2,"display","none",3,"accept","click","change"],["file",""],["class","action-btns upload-img-icon","no-padding","",3,"click",4,"ngIf"],[1,"uploaded-img"],["size","12","id","profileimg","text-center","",1,"file-return","ion-no-padding"],["size","12","class","flex-col",4,"ngIf"],["class","ion-text-center",4,"ngIf"],["no-padding","",1,"action-btns","upload-img-icon",3,"click"],[1,"mg-0","fs-13"],["id","create_fileclick_video_id",1,"fab","fa-youtube","fs-26","cursor-pointer"],["id","create_fileclick_audio_id",1,"fas","fa-microphone","fs-26","cursor-pointer"],["id","create_fileclick_image_id",1,"fas","fa-image","fs-26","cursor-pointer"],["size","12",1,"flex-col"],[1,"playcontent"],["controls","controls","preload","metadata","width","300","controlsList","nodownload","disablePictureInPicture","","height"," 240","type","video/mp4",1,"videoPlayer",3,"src"],["controls","controls",4,"ngIf"],["controls","controls"],["width","200","preload","metadata","controls","controls","controlsList","nodownload","height","240","type","audio/mp3","position","middle",1,"videoPlayer",3,"src"],[1,"ion-text-center"],["size","12","class","input-file-container ion-no-padding ion-text-center",4,"ngIf"],["class","fas fa-times floatright cursor-pointer clear-icon-btn",3,"click",4,"ngIf"],["outputType","both",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","onlyScaleDown","roundCropper","imageQuality","transform","canvasRotation","display","imageCropped","imageLoaded",4,"ngIf"],["size","12",1,"input-file-container","ion-no-padding","ion-text-center"],[1,"btn","btn-link",3,"click"],[1,"fas","fa-undo","fs-2x"],[1,"fas","fa-redo","fs-2x"],[1,"fas","fa-times","floatright","cursor-pointer","clear-icon-btn",3,"click"],["outputType","both",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","onlyScaleDown","roundCropper","imageQuality","transform","canvasRotation","imageCropped","imageLoaded"],[1,"fw-600","mb-2"],[1,"col-md-8"],["autoCaseFlag","false","mandatory","false","disabled","false","id","animal-spotlight-screen-details-create-Answervalue",3,"label","value","valueChange"],["optionvalidate",""],["label","","mandatory","true","id","treasure-hunt-create-translationsadd-checkboxoptions",3,"options","checked","valueChange"],["disabled","true",3,"label","value"],["id","treasure-hunt-clues-edit-cluesolution","className","btn btn-primary btn-sm",3,"label","buttonOnClick"],[1,"fw-600"],["class","pdl-4 fw-600",4,"ngIf"],["alt","",1,"img-thumbnail",3,"src"],[1,"pdl-4","fw-600"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","click"],[3,"innerHTML"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"text-center","text-danger","mb-0","no-data-txt"],[1,"static-content-img"],[1,"checkboxcol",2,"width","2em"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#blockContentEdit",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#blockContentEdit",3,"pSelectableRow","click"],[1,"ui-column-title","d-md-none","d-lg-none"],[1,"ui-column-values",3,"innerHTML"],["data-toggle","modal",3,"pSelectableRow","class",4,"ngFor","ngForOf"],["data-toggle","modal",3,"pSelectableRow"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"app-input",10,11),e.NdJ("valueChange",function(o){return a.getQuizName(o)}),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",12),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",13)(17,"app-inputnumber",14,15),e.NdJ("valueChange",function(o){return a.changeLeaderboardUsersCount(o)}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",17)(24,"div",19)(25,"app-datetimepicker",20,21),e.NdJ("editvalueChange",function(o){return a.changeStartDate(o)}),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",22)(29,"app-dropdown-search",23),e.NdJ("selectedOption",function(o){return a.changeTimeZone(o)})("searchValueChange",function(o){return a.getTimeZone(o)}),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"div",18)(32,"div",17)(33,"div",19)(34,"app-datetimepicker",24),e.NdJ("editvalueChange",function(o){return a.changeEndDate(o)}),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"div",22)(37,"app-dropdown-search",23),e.NdJ("selectedOption",function(o){return a.changeTimeZone(o)})("searchValueChange",function(o){return a.getTimeZone(o)}),e.ALo(38,"translate"),e.qZA()()()()()(),e.TgZ(39,"div",25)(40,"app-textarea",26,27),e.NdJ("valueChange",function(o){return a.changeDescriptionName(o)}),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",28)(44,"label"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"app-imageupload",29),e.NdJ("valueChange",function(o){return a.changeFile(o,"welcomeImage","")})("imageRemove",function(){return a.removeFile("welcomeImage")})("deleteClick",function(o){return a.deleteImgClick(o,"welcomeImage")}),e.qZA()(),e.TgZ(48,"div",28)(49,"label"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"app-imageupload",30),e.NdJ("valueChange",function(o){return a.changeFile(o,"successImage","")})("imageRemove",function(){return a.removeFile("successImage")})("deleteClick",function(o){return a.deleteImgClick(o,"successImage")}),e.qZA()(),e.TgZ(53,"div",28)(54,"label"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"app-imageupload",31),e.NdJ("valueChange",function(o){return a.changeFile(o,"failureImage","")})("imageRemove",function(){return a.removeFile("failureImage")})("deleteClick",function(o){return a.deleteImgClick(o,"failureImage")}),e.qZA()(),e.TgZ(58,"div",32)(59,"label"),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"app-imageupload",33),e.NdJ("valueChange",function(o){return a.changeFile(o,"congratulationImage","")})("imageRemove",function(){return a.removeFile("congratulationImage")})("deleteClick",function(o){return a.deleteImgClick(o,"congratulationImage")}),e.qZA()(),e.TgZ(63,"div",34)(64,"app-button",35),e.NdJ("buttonOnClick",function(){return a.updateRecord()}),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"app-button",36),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(67,"translate"),e.qZA()(),e.TgZ(68,"div",37),e._uU(69),e.ALo(70,"translate"),e.qZA()(),e.TgZ(71,"div",2)(72,"div",3)(73,"div",4)(74,"div",38)(75,"div",17)(76,"div",3)(77,"div",39)(78,"div",40)(79,"p-accordion")(80,"p-accordionTab",41)(81,"p-header",42)(82,"span"),e._uU(83),e.ALo(84,"translate"),e.qZA()(),e.TgZ(85,"div",38)(86,"div",8)(87,"div",43)(88,"app-input",44,45),e.NdJ("valueChange",function(o){return a.changeQuestionName(o)}),e.ALo(90,"translate"),e.qZA()(),e.TgZ(91,"div",13)(92,"app-dropdown-singleselect",46,47),e.NdJ("valueChange",function(o){return a.changeDigitalAssetType(o)}),e.ALo(94,"translate"),e.qZA()(),e.YNc(95,da,11,7,"div",48),e.TgZ(96,"div",49)(97,"app-button",50),e.NdJ("buttonOnClick",function(){return a.addQuizQuestions()}),e.ALo(98,"translate"),e.qZA()(),e.TgZ(99,"div",51),e._uU(100),e.ALo(101,"translate"),e.qZA()(),e.YNc(102,ua,14,12,"div",52),e.YNc(103,ca,10,9,"ng-container",53),e.TgZ(104,"div",8)(105,"div",3),e.YNc(106,ga,3,3,"label",54),e.qZA()(),e.YNc(107,ha,13,10,"ng-container",53),e.qZA()()()()()()()()()()(),e.TgZ(108,"div",17)(109,"div",3)(110,"div",39)(111,"div",55)(112,"p-accordion",56)(113,"p-accordionTab",57)(114,"p-header",42)(115,"span"),e._uU(116),e.ALo(117,"translate"),e.qZA(),e.TgZ(118,"app-button",58),e.NdJ("buttonOnClick",function(o){return a.languagesAdd(o)}),e.qZA()(),e.TgZ(119,"p-table",59),e.YNc(120,Oa,1,1,"ng-template",60),e.YNc(121,Ja,2,1,"ng-template",61),e.YNc(122,ja,2,1,"ng-template",62),e.YNc(123,Ia,4,2,"ng-template",63),e.qZA(),e.TgZ(124,"div",64),e.YNc(125,Aa,3,3,"p",65),e.qZA()(),e._UZ(126,"app-recordhistory",66),e.qZA()()()()()()()()()()(),e.TgZ(127,"div",67)(128,"div",68)(129,"div",69)(130,"div",70)(131,"div",71),e._uU(132),e.ALo(133,"translate"),e.ALo(134,"translate"),e.qZA()(),e.TgZ(135,"div",72)(136,"div",73)(137,"div",9),e._UZ(138,"app-input",74),e.ALo(139,"translate"),e.qZA(),e.TgZ(140,"div",9)(141,"app-dropdown-search",75,76),e.NdJ("selectedOption",function(o){return a.changeLanguage(o)})("searchValueChange",function(o){return a.getLanguagesList(o)}),e.ALo(143,"translate"),e.qZA()(),e.TgZ(144,"div",9)(145,"app-input",77,78),e.NdJ("valueChange",function(o){return a.changeLangTransDisplayname(o)}),e.ALo(147,"translate"),e.ALo(148,"translate"),e.qZA()(),e.TgZ(149,"div",79)(150,"app-textarea",80),e.NdJ("valueChange",function(o){return a.changeLangTransDescription(o)}),e.ALo(151,"translate"),e.qZA()(),e.TgZ(152,"div",81)(153,"app-checkbox",82),e.NdJ("valueChange",function(o){return a.changeLangTransCheckBox(o)}),e.qZA()(),e.TgZ(154,"div",12),e._uU(155),e.ALo(156,"translate"),e.qZA(),e.TgZ(157,"div",83)(158,"div",17)(159,"div",9)(160,"input",84,85),e.NdJ("change",function(o){return a.changeTranslateImage(o,"welcome_screen")}),e.qZA(),e.YNc(162,va,4,1,"div",86),e.TgZ(163,"app-button",87),e.NdJ("buttonOnClick",function(){return a.triggerFile1()}),e.ALo(164,"translate"),e.qZA()(),e.TgZ(165,"div",9)(166,"input",88,89),e.NdJ("change",function(o){return a.changeTranslateImage(o,"success_screen")}),e.qZA(),e.YNc(168,Ea,4,1,"div",86),e.TgZ(169,"app-button",87),e.NdJ("buttonOnClick",function(){return a.triggerFile2()}),e.ALo(170,"translate"),e.qZA()(),e.TgZ(171,"div",9)(172,"input",90,91),e.NdJ("change",function(o){return a.changeTranslateImage(o,"failure_screen")}),e.qZA(),e.YNc(174,Na,4,1,"div",86),e.TgZ(175,"app-button",87),e.NdJ("buttonOnClick",function(){return a.triggerFile3()}),e.ALo(176,"translate"),e.qZA()(),e.TgZ(177,"div",9)(178,"input",92,93),e.NdJ("change",function(o){return a.changeTranslateImage(o,"congratulation_screen")}),e.qZA(),e.YNc(180,Sa,4,1,"div",86),e.TgZ(181,"app-button",87),e.NdJ("buttonOnClick",function(){return a.triggerFile4()}),e.ALo(182,"translate"),e.qZA()()()(),e.TgZ(183,"div",3)(184,"div",39)(185,"div",55)(186,"p-accordion",56)(187,"p-accordionTab",57)(188,"p-header",42)(189,"span"),e._uU(190),e.ALo(191,"translate"),e.qZA(),e.TgZ(192,"app-button",94),e.NdJ("buttonOnClick",function(o){return a.questionTlAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(193,"p-table",95),e.YNc(194,ya,1,1,"ng-template",60),e.YNc(195,La,3,1,"ng-template",61),e.YNc(196,xa,4,1,"ng-template",62),e.YNc(197,za,4,2,"ng-template",63),e.qZA()()()()()(),e.TgZ(198,"div",96)(199,"app-button",97),e.NdJ("buttonOnClick",function(){return a.quizLanguageTranslationCreate()}),e.ALo(200,"translate"),e.qZA(),e.TgZ(201,"app-button",98),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(202,"translate"),e.qZA()()()()()()(),e.TgZ(203,"div",99)(204,"div",68)(205,"div",69)(206,"div",70)(207,"div",71),e._uU(208),e.ALo(209,"translate"),e.ALo(210,"translate"),e.qZA()(),e.TgZ(211,"div",72)(212,"div",73)(213,"div",9),e._UZ(214,"app-input",74),e.ALo(215,"translate"),e.qZA(),e.TgZ(216,"div",9),e._UZ(217,"app-input",100),e.ALo(218,"translate"),e.qZA(),e.TgZ(219,"div",9)(220,"app-input",101,102),e.NdJ("valueChange",function(o){return a.changeLangTransDisplayname(o)}),e.ALo(222,"translate"),e.ALo(223,"translate"),e.qZA()(),e.TgZ(224,"div",79)(225,"app-textarea",103),e.NdJ("valueChange",function(o){return a.changeLangTransDescription(o)}),e.ALo(226,"translate"),e.qZA()(),e.TgZ(227,"div",81)(228,"app-checkbox",104),e.NdJ("valueChange",function(o){return a.changeLangTransCheckBox(o)}),e.qZA()(),e.TgZ(229,"div",83)(230,"div",9)(231,"input",84,85),e.NdJ("change",function(o){return a.changeTranslateImage(o,"welcome_screen")}),e.qZA(),e.YNc(233,wa,4,1,"div",86),e.TgZ(234,"app-button",87),e.NdJ("buttonOnClick",function(){return a.triggerFile1()}),e.ALo(235,"translate"),e.qZA()(),e.TgZ(236,"div",9)(237,"input",88,89),e.NdJ("change",function(o){return a.changeTranslateImage(o,"success_screen")}),e.qZA(),e.YNc(239,Qa,4,1,"div",86),e.TgZ(240,"app-button",87),e.NdJ("buttonOnClick",function(){return a.triggerFile2()}),e.ALo(241,"translate"),e.qZA()(),e.TgZ(242,"div",9)(243,"input",90,91),e.NdJ("change",function(o){return a.changeTranslateImage(o,"failure_screen")}),e.qZA(),e.YNc(245,Ua,4,1,"div",86),e.TgZ(246,"app-button",87),e.NdJ("buttonOnClick",function(){return a.triggerFile3()}),e.ALo(247,"translate"),e.qZA()(),e.TgZ(248,"div",9)(249,"input",92,93),e.NdJ("change",function(o){return a.changeTranslateImage(o,"congratulation_screen")}),e.qZA(),e.YNc(251,ka,4,1,"div",86),e.TgZ(252,"app-button",87),e.NdJ("buttonOnClick",function(){return a.triggerFile4()}),e.ALo(253,"translate"),e.qZA()()(),e.TgZ(254,"div",3)(255,"div",39)(256,"div",55)(257,"p-accordion",56)(258,"p-accordionTab",57)(259,"p-header",42)(260,"span"),e._uU(261),e.ALo(262,"translate"),e.qZA(),e.TgZ(263,"app-button",94),e.NdJ("buttonOnClick",function(o){return a.questionTlAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(264,"p-table",95),e.YNc(265,Ra,1,1,"ng-template",60),e.YNc(266,Pa,3,1,"ng-template",61),e.YNc(267,Ga,4,1,"ng-template",62),e.YNc(268,Ya,4,2,"ng-template",63),e.qZA()()()()()(),e.TgZ(269,"div",96)(270,"app-button",105),e.NdJ("buttonOnClick",function(){return a.languagesEditSubmit()}),e.ALo(271,"translate"),e.qZA(),e.TgZ(272,"app-button",106),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(273,"translate"),e.qZA()()()()()()(),e.TgZ(274,"div",107)(275,"div",68)(276,"div",69)(277,"div",70)(278,"div",71),e._uU(279),e.ALo(280,"translate"),e.ALo(281,"translate"),e.qZA()(),e.TgZ(282,"div",72)(283,"div",73)(284,"div",9),e._UZ(285,"app-input",108),e.ALo(286,"translate"),e.qZA(),e.TgZ(287,"div",9),e._UZ(288,"app-input",109),e.ALo(289,"translate"),e.qZA(),e.TgZ(290,"div",9),e._UZ(291,"app-input",110),e.ALo(292,"translate"),e.qZA(),e.TgZ(293,"div",79),e._UZ(294,"app-textarea",111),e.ALo(295,"translate"),e.qZA(),e.TgZ(296,"div",81),e._UZ(297,"app-checkbox",112),e.qZA(),e.TgZ(298,"div",96)(299,"app-button",113),e.NdJ("buttonOnClick",function(){return a.languagesDeleteSubmit()}),e.ALo(300,"translate"),e.qZA(),e.TgZ(301,"app-button",114),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(302,"translate"),e.qZA()()()()()()(),e.TgZ(303,"div",115)(304,"div",68)(305,"div",69)(306,"div",70)(307,"div",71),e._uU(308),e.ALo(309,"translate"),e.ALo(310,"translate"),e.qZA()(),e.TgZ(311,"div",72)(312,"div",1)(313,"div",8)(314,"div",116)(315,"app-dropdown-singleselect",117,118),e.NdJ("valueChange",function(o){return a.changeQuestionDropDown(o)}),e.ALo(317,"translate"),e.qZA()(),e.TgZ(318,"div",9)(319,"app-input",119,120),e.NdJ("valueChange",function(o){return a.changeTranslateQuestionName(o)}),e.ALo(321,"translate"),e.ALo(322,"translate"),e.qZA()(),e.TgZ(323,"div",51),e._uU(324),e.ALo(325,"translate"),e.qZA(),e.TgZ(326,"div",83)(327,"div",17)(328,"div",9)(329,"input",121,122),e.NdJ("change",function(o){return a.changeTranslateImage(o,"question_screen","question")}),e.qZA(),e.YNc(331,$a,4,1,"div",86),e.TgZ(332,"app-button",87),e.NdJ("buttonOnClick",function(){return a.triggerFile5()}),e.ALo(333,"translate"),e.qZA()()()(),e.TgZ(334,"div",3)(335,"div",39)(336,"div",55)(337,"p-accordion",56)(338,"p-accordionTab",57)(339,"p-header",42)(340,"span"),e._uU(341),e.ALo(342,"translate"),e.qZA(),e.TgZ(343,"app-button",94),e.NdJ("buttonOnClick",function(o){return a.optinsTlAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(344,"p-table",95),e.YNc(345,Wa,1,1,"ng-template",60),e.YNc(346,en,3,1,"ng-template",61),e.YNc(347,an,4,1,"ng-template",62),e.YNc(348,sn,4,2,"ng-template",63),e.qZA()()()()()(),e.TgZ(349,"div",96)(350,"app-button",123),e.NdJ("buttonOnClick",function(){return a.addQuizQuestionsTl()}),e.ALo(351,"translate"),e.qZA(),e._UZ(352,"app-button",124),e.ALo(353,"translate"),e.qZA()()()()()()(),e.TgZ(354,"div",125)(355,"div",68)(356,"div",69)(357,"div",70)(358,"div",71),e._uU(359),e.ALo(360,"translate"),e.ALo(361,"translate"),e.qZA()(),e.TgZ(362,"div",72)(363,"div",1)(364,"div",8)(365,"div",9),e._UZ(366,"app-input",126),e.ALo(367,"translate"),e.qZA(),e.TgZ(368,"div",83)(369,"div",17)(370,"div",9),e.YNc(371,on,3,1,"div",86),e.qZA()()(),e.TgZ(372,"div",3)(373,"div",39)(374,"div",55)(375,"p-accordion",56)(376,"p-accordionTab",57)(377,"p-header",42)(378,"span"),e._uU(379),e.ALo(380,"translate"),e.qZA()(),e.TgZ(381,"p-table",95),e.YNc(382,rn,1,1,"ng-template",60),e.YNc(383,un,3,1,"ng-template",61),e.YNc(384,gn,3,1,"ng-template",62),e.YNc(385,mn,4,2,"ng-template",63),e.qZA()()()()()(),e.TgZ(386,"div",96),e._UZ(387,"app-button",127),e.ALo(388,"translate"),e.qZA()()()()()()(),e.TgZ(389,"div",128)(390,"div",68)(391,"div",69)(392,"div",70)(393,"div",71),e._uU(394),e.ALo(395,"translate"),e.ALo(396,"translate"),e.qZA()(),e.TgZ(397,"div",72)(398,"div",1)(399,"div",8)(400,"div",9)(401,"div",116)(402,"app-dropdown-singleselect",117,118),e.NdJ("valueChange",function(o){return a.changeOptionsDropDown(o)}),e.ALo(404,"translate"),e.qZA()(),e.TgZ(405,"app-input",119,120),e.NdJ("valueChange",function(o){return a.changeAnswerNameTl(o)}),e.ALo(407,"translate"),e.qZA()(),e.TgZ(408,"div",81),e._UZ(409,"app-checkbox",129),e.qZA(),e.TgZ(410,"div",51),e._uU(411),e.ALo(412,"translate"),e.qZA(),e.TgZ(413,"div",96)(414,"app-button",123),e.NdJ("buttonOnClick",function(){return a.addOptionsTl()}),e.ALo(415,"translate"),e.qZA(),e._UZ(416,"app-button",124),e.ALo(417,"translate"),e.qZA()()()()()()()),2&n&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(12,220,"NEW_VARIABLES.QUIZ_TITLE")),e.s9C("value",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.title),e.Q6J("minlength",3)("maxlength",120),e.xp6(4),e.hij(" ",e.lcZ(15,222,a.errorObj.error2)," "),e.xp6(3),e.s9C("label",e.lcZ(19,224,"NEW_VARIABLES.LEADERBOARD_USERS_COUNT")),e.s9C("value",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.leaderboard_user_count),e.Q6J("maxlength",3),e.xp6(8),e.s9C("placeholder",e.lcZ(27,226,"COMMON_FIELDS.START_DATE")),e.Q6J("dateformat",a.dataJsonObj.loginUserDateFormat)("defaultDate",a.dataJsonObj.startDate),e.xp6(4),e.s9C("label",e.lcZ(30,228,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",null==a.dataJsonObj.userTimeZoneObj?null:a.dataJsonObj.userTimeZoneObj.timeZoneCode),e.Q6J("options",a.dataJsonObj.timezoneOptions),e.xp6(5),e.s9C("placeholder",e.lcZ(35,230,"COMMON_FIELDS.END_DATE")),e.Q6J("defaultDate",a.dataJsonObj.endDate)("dateformat",a.dataJsonObj.loginUserDateFormat),e.xp6(3),e.s9C("label",e.lcZ(38,232,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",a.dataJsonObj.userTimeZoneObj.timeZoneCode),e.Q6J("options",a.dataJsonObj.timezoneOptions),e.xp6(3),e.s9C("label",e.lcZ(42,234,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.description),e.Q6J("maxlength",2e3),e.xp6(5),e.Oqu(e.lcZ(46,236,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.welcome_screen?null:a.dataJsonObj.quizViewData.welcome_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.welcome_screen?null:a.dataJsonObj.quizViewData.welcome_screen.image_name),e.Q6J("maintainAspectRatio",!1)("enableImageDelete",null==a.dataJsonObj?null:a.dataJsonObj.enableImageDeleteValue),e.xp6(3),e.Oqu(e.lcZ(51,238,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.success_screen?null:a.dataJsonObj.quizViewData.success_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.success_screen?null:a.dataJsonObj.quizViewData.success_screen.image_name),e.Q6J("maintainAspectRatio",!1)("enableImageDelete",null==a.dataJsonObj?null:a.dataJsonObj.enableImageDeleteValue),e.xp6(3),e.Oqu(e.lcZ(56,240,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.failure_screen?null:a.dataJsonObj.quizViewData.failure_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.failure_screen?null:a.dataJsonObj.quizViewData.failure_screen.image_name),e.Q6J("maintainAspectRatio",!1)("enableImageDelete",null==a.dataJsonObj?null:a.dataJsonObj.enableImageDeleteValue),e.xp6(3),e.Oqu(e.lcZ(61,242,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.congratulation_screen?null:a.dataJsonObj.quizViewData.congratulation_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.congratulation_screen?null:a.dataJsonObj.quizViewData.congratulation_screen.image_name),e.Q6J("maintainAspectRatio",!1)("enableImageDelete",null==a.dataJsonObj?null:a.dataJsonObj.enableImageDeleteValue),e.xp6(2),e.s9C("label",e.lcZ(65,244,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.s9C("disabled",a.dataJsonObj.disableSubmitBtn),e.xp6(2),e.s9C("label",e.lcZ(67,246,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(70,248,a.errorObj.error)," "),e.xp6(11),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(84,250,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(5),e.s9C("label",e.lcZ(90,252,"COMMON_FIELDS.QUESTION")),e.s9C("value",a.dataJsonObj.question),e.xp6(4),e.s9C("label",e.lcZ(94,254,"COMMON_BLOCK_TITLES.QUESTION_TYPE")),e.s9C("defaultValue",a.digitalAssetTypeId),e.Q6J("options",a.digitalAssetTypeOptions),e.xp6(3),e.Q6J("ngIf",a.digitalAssetTypeName),e.xp6(2),e.s9C("label",e.lcZ(98,256,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(3),e.hij(" ",e.lcZ(101,258,a.questionError)," "),e.xp6(2),e.Q6J("ngIf",a.dataJsonObj.question),e.xp6(1),e.Q6J("ngForOf",a.dataJsonObj.optionsArray),e.xp6(3),e.Q6J("ngIf",(null==a.dataJsonObj.quizQuestionData?null:a.dataJsonObj.quizQuestionData.length)>0),e.xp6(1),e.Q6J("ngForOf",a.dataJsonObj.quizQuestionData),e.xp6(5),e.Q6J("multiple",!1),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(117,260,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")),e.xp6(2),e.s9C("disabled",null==a.dataJsonObj?null:a.dataJsonObj.disableTransAdd),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",null==a.dataJsonObj?null:a.dataJsonObj.quizTlHeaders)("value",a.dataJsonObj.languagesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.Q6J("ngIf",a.dataJsonObj.languagesData&&0===a.dataJsonObj.languagesData.length),e.xp6(1),e.Q6J("createdBy",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.created_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.updated_by)("creationDate",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.createdAt)("lastUpdatedDate",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.updatedAt),e.xp6(6),e.AsE("",e.lcZ(133,262,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(134,264,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(139,266,"NEW_VARIABLES.NAME")),e.s9C("value",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.title),e.xp6(3),e.s9C("label",e.lcZ(143,268,"PREFERENCES.LANGUAGE")),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.translateLanguageOptions),e.xp6(4),e.hYB("label","",e.lcZ(147,270,"NEW_VARIABLES.QUIZ_TITLE")," (",e.lcZ(148,272,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(5),e.s9C("label",e.lcZ(151,274,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.langTransDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransEnabled),e.xp6(2),e.hij(" ",e.lcZ(156,276,null==a.dataJsonObj?null:a.dataJsonObj.addPopupError)," "),e.xp6(7),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.welcome_screen),e.xp6(1),e.s9C("label",e.lcZ(164,278,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.success_screen),e.xp6(1),e.s9C("label",e.lcZ(170,280,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.failure_screen),e.xp6(1),e.s9C("label",e.lcZ(176,282,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.congratulation_screen),e.xp6(1),e.s9C("label",e.lcZ(182,284,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(191,286,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.dataJsonObj.questionsTlHeaders)("value",a.dataJsonObj.addQuizQuestionsTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(200,288,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(202,290,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(209,292,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(210,294,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(215,296,"NEW_VARIABLES.NAME")),e.s9C("value",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.title),e.xp6(3),e.s9C("label",e.lcZ(218,298,"PREFERENCES.LANGUAGE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.languageName),e.xp6(3),e.hYB("label","",e.lcZ(222,300,"NEW_VARIABLES.QUIZ_TITLE")," (",e.lcZ(223,302,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(5),e.s9C("label",e.lcZ(226,304,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.langTransDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransEnabled),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.welcome_screen),e.xp6(1),e.s9C("label",e.lcZ(235,306,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.success_screen),e.xp6(1),e.s9C("label",e.lcZ(241,308,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.failure_screen),e.xp6(1),e.s9C("label",e.lcZ(247,310,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.congratulation_screen),e.xp6(1),e.s9C("label",e.lcZ(253,312,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(262,314,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.dataJsonObj.questionsTlHeaders)("value",null==a.dataJsonObj?null:a.dataJsonObj.quizQuestionsTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(271,316,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(273,318,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(280,320,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(281,322,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(286,324,"NEW_VARIABLES.NAME")),e.s9C("value",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.display_name),e.xp6(3),e.s9C("label",e.lcZ(289,326,"PREFERENCES.LANGUAGE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.languageName),e.xp6(3),e.s9C("label",e.lcZ(292,328,"COMMON_FIELDS.DISPLAY_NAME")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.langTransDisplayname),e.xp6(3),e.s9C("label",e.lcZ(295,330,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.langTransDescription),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransEnabled),e.xp6(2),e.s9C("label",e.lcZ(300,332,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(302,334,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(309,336,"COMMON_BLOCK_TITLES.QUESTIONS")," - ",e.lcZ(310,338,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(7),e.s9C("label",e.lcZ(317,340,"COMMON_BLOCK_TITLES.QUESTIONS")),e.s9C("defaultValue",a.dataJsonObj.questionId),e.Q6J("options",a.dataJsonObj.quizQuestionData),e.xp6(4),e.hYB("label","",e.lcZ(321,342,"COMMON_FIELDS.QUESTION")," (",e.lcZ(322,344,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",a.dataJsonObj.questionTl),e.Q6J("maxlength",40),e.xp6(5),e.hij(" ",e.lcZ(325,346,a.errorHtml)," "),e.xp6(7),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.question_screen),e.xp6(1),e.s9C("label",e.lcZ(333,348,"NEW_VARIABLES.QUESTION_IMAGE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(342,350,"POLL.OPTIONS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.dataJsonObj.optionsTlHeaders)("value",a.dataJsonObj.optionsArrayTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(351,352,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(353,354,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(360,356,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")," - ",e.lcZ(361,358,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(7),e.s9C("label",e.lcZ(367,360,"COMMON_FIELDS.QUESTION")),e.s9C("value",a.dataJsonObj.questionTl),e.Q6J("maxlength",40),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.question_screen),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(380,362,"POLL.OPTIONS")),e.xp6(2),e.Q6J("columns",a.dataJsonObj.optionsTlHeaders)("value",a.dataJsonObj.optionsArrayTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(388,364,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(395,366,"POLL.OPTIONS")," - ",e.lcZ(396,368,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(8),e.s9C("label",e.lcZ(404,370,"POLL.OPTIONS")),e.s9C("defaultValue",a.dataJsonObj.optionId),e.Q6J("options",a.dataJsonObj.optionsData),e.xp6(3),e.s9C("label",e.lcZ(407,372,"POLL.OPTION")),e.s9C("value",a.dataJsonObj.optionTl),e.Q6J("maxlength",40),e.xp6(4),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.optionsCheckbox)("checked",a.dataJsonObj.isOptionCorrectTl),e.xp6(2),e.hij(" ",e.lcZ(412,374,a.errorHtml)," "),e.xp6(3),e.s9C("label",e.lcZ(415,376,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(417,378,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[j.sg,j.O5,f.wI,f.gu,f.Nd,L.r,D.a,U.k,k.b,V.R,R.K,w.f,P.L,B.C,Y.W,Q.q,A.UQ,A.US,E.h4,E.jx,v.iA,v.Ei,F.ap,C.X$]})}return i})();var hn=O(35226),ne=O.n(hn),bn=O(28168),ie=O(30578),se=O(42863),On=O(88425),K=O(3848);const Tn=["datatableComponent"],Jn=["userNamevalid"];function fn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"span",27),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index,s=e.oxw(2);return e.KtG(s.onSelectTab(a))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,t.displayName))}}function jn(i,l){1&i&&(e.TgZ(0,"mat-tab"),e.YNc(1,fn,4,3,"ng-template",26),e.qZA())}function Cn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"mat-tab-group",24),e.NdJ("selectedIndexChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.dataJsonObj.selectTabIndex=a)}),e.YNc(1,jn,2,0,"mat-tab",25),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("selectedIndex",t.dataJsonObj.selectTabIndex),e.xp6(1),e.Q6J("ngForOf",t.dataJsonObj.tabsList)}}let In=(()=>{class i extends x.O{ColumnHeader;actionSheetController;QuizService;loggerService;router;translateService;uiUtils;commonService;commonservice;enterprisesService;listingVariables;route;datatableComponent;userNamevalid;searchValueChange=new e.vpe;dataJsonObj={};searchsubscription;constructor(t,n,a,s,o,u,d,c,_,J,b,h){super(h,c),this.ColumnHeader=t,this.actionSheetController=n,this.QuizService=a,this.loggerService=s,this.router=o,this.translateService=u,this.uiUtils=d,this.commonService=c,this.commonservice=_,this.enterprisesService=J,this.listingVariables=b,this.route=h,this.searchsubscription=this.commonService.mobileGlobalSearch.subscribe(m=>{this.getSearchResults(m)}),this.route.queryParams.subscribe(m=>{this.dataJsonObj.queryParamsObj={defaultView:m.default_view,selectedMenuId:m.selectedMenuId,selectedSubMenuId:m.selectedSubMenuId,version:m.version}}),this.searchsubscription&&this.commonService.searchPage(this.router.url)}ngOnInit(){this.dataJsonObj.login_enterprise_id=localStorage.getItem(r.BU.LOG_IN_ENTERPRISE_ID),this.dataJsonObj.loginUserId=localStorage.getItem(r.BU.LOG_IN_USER_ID);const t=localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)):{};this.dataJsonObj.isEnterpriseAdmin=t?.user_type_name===r.ox.ENTERPRISE_ADMIN,this.initializeComponent()}ngOnDestroy(){this.searchsubscription&&this.searchsubscription.unsubscribe(),this.dataJsonObj.selectedFilter="",this.commonService.showHeaderFooter(),this.commonService.getDynamicHeight()}initializeComponent(){this.showSpinner(),this.dataJsonObj.defaultRowsPerPage=localStorage.getItem(r.BU.DEFAULT_ROWS_PER_PAGE)?"number"==typeof localStorage.getItem(r.BU.DEFAULT_ROWS_PER_PAGE)?localStorage.getItem(r.BU.DEFAULT_ROWS_PER_PAGE):parseInt(localStorage.getItem(r.BU.DEFAULT_ROWS_PER_PAGE),10):15,this.dataJsonObj.index=0,this.dataJsonObj.index1=1,this.dataJsonObj.pageName=r.hf.QUIZ,this.dataJsonObj.htmlPageRolesEnumValuesJson={pageEnum:r.hf,pageSettingEnum:r.AM,pageSettingFieldsEnum:r.In},this.dataJsonObj.loginUserLanguageCode=localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE),this.dataJsonObj.noDuplicates=void 0,this.dataJsonObj.isAdvancedSearchFilter=!1,this.dataJsonObj.selectedUserTypeObj=localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)):{},this.dataJsonObj.selectedUserTypeObj?.user_type_name===r.ox.GUEST_USER&&(localStorage.removeItem(r.BU.USER_NAME),localStorage.removeItem(r.BU.DEVICE_ID)),this.dataJsonObj.selectedMenu=JSON.parse(localStorage.getItem(r.BU.SELECTED_MENU)),this.dataJsonObj.selectedSubMenu=JSON.parse(localStorage.getItem(r.BU.MENU_CLICK_ITEM)),this.dataJsonObj.pageTitle=this.dataJsonObj?.queryParamsObj?.selectedMenuId&&this.dataJsonObj?.queryParamsObj?.selectedSubMenuId?[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.QUIZ",value:"",showSubMenuDisplayName:!0}]:[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.QUIZ",value:"",showSubMenuDisplayName:!1}],this.dataJsonObj.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.commonService.getLookupCodesListJson(this.dataJsonObj.enterpriseId,"list").then(a=>{this.dataJsonObj.lookupCodesListJSON=a}),this.dataJsonObj.quizMobileList=[],this.dataJsonObj.tabsList=[],this.dataJsonObj.tabsDataList=[{displayName:"COMMON_BLOCK_TITLES.ON_GOING",tabName:r.Cu.ON_GOING,sortOrder:"start_datetime$1",action:r.In.ON_GOING},{displayName:"COMMON_BLOCK_TITLES.FUTURE",tabName:r.Cu.YET_TO_START,sortOrder:"start_datetime$1",action:r.In.SCHEDULED},{displayName:"COMMON_FIELDS.CLOSED",tabName:r.Cu.CLOSED,sortOrder:"start_datetime$-1",action:r.In.CLOSED}];for(let a=0;a<this.dataJsonObj.tabsDataList.length;a++)this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.TAB_DISPLAY_SETTINGS,this.dataJsonObj.tabsDataList[a].action)&&this.dataJsonObj.tabsList.push(this.dataJsonObj.tabsDataList[a]);this.dataJsonObj.selectTabIndex=0,this.dataJsonObj.tableColumnHeaders=this.ColumnHeader.getQuizColumnHeaders(),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchString="",this.dataJsonObj.isListFromJSON=this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.MODULE_SETTINGS,r.In.IS_LIST_FROM_JSON),this.dataJsonObj.actions={EDIT:this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.EDIT),VIEW:this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.VIEW),IPLAYBOARD:this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.PLAY)},this.dataJsonObj.forceRefresh=!1,this.commonService.currentEvent.subscribe(a=>{"quiz"===a&&(this.dataJsonObj.forceRefresh=!0)});const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.loginUserDateFormat=t.dateFormat,this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.dataJsonObj.userTimeZoneObj.timeZoneToDisplay=this.lookupLanguageTranslations(t.timeZoneID),this.getSyncSettings(),this.dataJsonObj.pageActionsList=[],this.dataJsonObj.addFiltersList=[],this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.CREATE)&&this.dataJsonObj.pageActionsList.push(this.dataJsonObj.queryParamsObj.version?{actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:r.gL.URL,redirectURL:"/quiz/quiz/createv2",queryParams:"",iconClass:"fas fa-plus"}:{actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:r.gL.URL,redirectURL:"/quiz/quiz/create",queryParams:"",iconClass:"fas fa-plus"}),this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.GENERATE_JSONS)&&this.dataJsonObj.pageActionsList.push({actionName:"GENERATE_JSONS",displayName:"COMMON_BUTTONS.BUTTON_GENERATE_JSONS",actionType:r.gL.POPUP,redirectURL:"",queryParams:"",iconClass:"fas fas icon-generate-excel",pageName:this.dataJsonObj.pageName}),this.getDynamicJson([{folderName:"quizzes",jsonType:"list",storingFieldName:"quizJosn"}]),this.dataJsonObj.advancedSearchObj={}}getSyncSettings(){var t=this;return(0,T.Z)(function*(){const n=yield t.commonService.getCacheSettings(r.hf.QUIZ);t.dataJsonObj.syncEnabled=n.cacheEnabled,t.dataJsonObj.syncFreq=n.syncFreq})()}getDynamicJson(t){var n=this;return(0,T.Z)(function*(){const a=yield n.commonService.getSelectedMenuDetails(r.hf.QUIZ,n.dataJsonObj.enterpriseId),s=!(!a.access_online_data||!a.data_from.data_from_json);for(let o of t)try{n.dataJsonObj[o.storingFieldName]=yield n.commonService.getDynamicJson(n.dataJsonObj.enterpriseId,o.folderName,o.jsonType,!1,s)}catch{n.dataJsonObj[o.storingFieldName]=[]}n.hideSpinner(),n.dataJsonObj.quizDataList=n.dataJsonObj.quizJosn?n.dataJsonObj.quizJosn:[],n.getAllRecords()})()}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.dataJsonObj.enterpriseId).subscribe(t=>{this.dataJsonObj.enterpriseName=t.enterprise_name,this.dataJsonObj.enterpriseShortName=t.short_name},t=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)}}getSearchResults(t){try{this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchString=t,this.dataJsonObj.quizMobileList=[],this.getAllRecords(),this.datatableComponent.reset()}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getSearchResults",n)}}getAllRecords(){var t=this;return(0,T.Z)(function*(){t.dataJsonObj.selectedUserTypeObj?.user_type_name==r.ox.SUB_ADMIN?t.getAllRecordsFromAPI():t.dataJsonObj.isListFromJSON?t.getAllRecordsFromJSON():t.getAllRecordsFromAPI()})()}getAllRecordsFromJSON(){var t=this;return(0,T.Z)(function*(){try{t.hideSpinner();const n=parseInt(t.listingVariables.rowsPerPage,10),a=yield t.commonService.getFilteredDynamicJSONDataWithPagination(t.dataJsonObj.quizDataList,["title","organizer.f_name","statusDisplayValue"],t.dataJsonObj.searchString,t.listingVariables.sortOrderColumn,t.listingVariables.pageNumbers,n),s=a.data,o=a.totalRecordsCount,u=Math.ceil(o/n);t.formatListData(s,o,u)}catch(n){t.hideSpinner(),t.loggerService.setLoggerError(t.constructor.name,"getAllRecords",n)}})()}getAllRecordsFromAPI(){var t=this;return(0,T.Z)(function*(){try{const n=t.commonService.getMobileViewCondition(t.dataJsonObj.selectedDisplayView),a=t.dataJsonObj.selectedFilter?"&filtertype="+t.dataJsonObj.selectedFilter:"",s=t.dataJsonObj.tabsList[t.dataJsonObj.selectTabIndex],o=s?.tabName,u=t.listingVariables.sortOrderColumn?t.listingVariables.sortOrderColumn:s?.sortOrder;t.showSpinner();const d=yield t.QuizService.getAll(t.listingVariables.pageNumbers,t.listingVariables.rowsPerPage,u,t.dataJsonObj.searchString,t.dataJsonObj.enterpriseId,t.dataJsonObj.syncEnabled,t.dataJsonObj.syncFreq,t.dataJsonObj.forceRefresh,t.dataJsonObj.statsObj,o,!1,n,t.dataJsonObj.advancedSearchObj.inputAdvSearchObj,a),c=d&&d.totalCount?d.totalCount:0,_=d&&d.pages?d.pages:0,J=d&&d.rows?d.rows:[];t.hideSpinner(),t.formatListData(J,c,_)}catch(n){t.hideSpinner(),t.loggerService.setLoggerError(t.constructor.name,"getAllRecords",n)}})()}formatListData(t,n,a){var s=this;return(0,T.Z)(function*(){if(t.length>0){s.dataJsonObj.quizMobileList&&s.dataJsonObj.quizMobileList.length>0||(s.dataJsonObj.quizMobileList=[]);const u=s.displayDateFormatter((new Date).toISOString(),!1,!0).startDate,d=(new Date).toISOString();for(let c=0;c<t.length;c++){t[c].display_grid_title=t[c].title,t[c].page_name=r.a3.QUIZZES,t[c].imageName=t[c].title,t[c].imageDisplay=null,t[c].welcome_screen&&t[c].welcome_screen.image_name&&t[c].welcome_screen.image_path&&(t[c].imageDisplay=t[c].welcome_screen.image_path+"/"+t[c].welcome_screen.image_name),!0===t[c].is_enabled?t[c].is_enabled="Yes":!1===t[c].is_enabled&&(t[c].is_enabled="No");const J={url:s.dataJsonObj.queryParamsObj.version?`quiz/quiz/${t[c]._id}/viewv2`:`quiz/quiz/${t[c]._id}/view`,queryParams:s.dataJsonObj.queryParamsObj?s.dataJsonObj.queryParamsObj:""},b=J.queryParams&&Object.keys(J.queryParams).length>0?`${J.url}?${JSON.stringify(J.queryParams)}`:J.url;t[c].display_name=`<a class="enable" id="display_name${t[c]._id}" href=${b}>${t[c].title}`;const h=s.displayDateFormatter(t[c].start_datetime,!1,!0);s.dataJsonObj.startDate=h.startDate;const m=s.displayDateFormatter(t[c].end_datetime,!1,!0);s.dataJsonObj.endDate=m.startDate,t[c].displayStartDate=s.dataJsonObj.startDate,t[c].displayEndDate=s.dataJsonObj.endDate,t[c].startDateTime_zone=s.dataJsonObj.startDate+" "+s.dataJsonObj.userTimeZoneObj.timeZoneCode,t[c].endDateTime_zone=s.dataJsonObj.endDate+" "+s.dataJsonObj.userTimeZoneObj.timeZoneCode,t[c].utccurrentTime=d;const p=s.commonService.getUTCDateObj(t[c].displayStartDate),g=s.commonService.getUTCDateObj(u),Z=s.commonService.getUTCDateObj(t[c].displayEndDate);p<=g&&g<=Z?(t[c].status=r.hf.IN_PROGRESS,t[c].statusDisplayValue=s.translateService.instant("NEW_VARIABLES.IN_PROGRESS")):g>=Z?(t[c].status=r.hf.CLOSED,t[c].statusDisplayValue=s.translateService.instant("COMMON_FIELDS.CLOSED")):p>g&&(t[c].status=r.hf.YET_TO_START,t[c].statusDisplayValue=s.translateService.instant("NEW_VARIABLES.YET_TO_START")),t[c].organizer.f_name=t[c].organizer.user_profile_id._id?s.commonService.changeUserNameFormat(t[c].organizer.user_profile_id):"",s.dataJsonObj.isListFromJSON&&(yield s.commonService.getMobileDisplayDataForListJSONData(t[c],s.dataJsonObj.userTimeZoneObj)),s.dataJsonObj.quizMobileList=s.dataJsonObj.quizMobileList.filter(ee=>ee._id!==t[c]._id),s.dataJsonObj.quizMobileList.push(t[c])}s.dataJsonObj.isLoadMoreClicked?(s.dataJsonObj.isLoadMoreClicked=!1,s.dataJsonObj.quizListData=s.dataJsonObj.quizListData.concat(t)):s.dataJsonObj.quizListData=t,n&&(s.listingVariables.totalRecords=n),1===s.listingVariables.pageNumbers&&(s.listingVariables.totalpages=a)}else s.dataJsonObj.quizListData=[],s.dataJsonObj.quizMobileList=[]})()}loadPageData(t){this.dataJsonObj.forceRefresh=t.forceRefresh,this.listingVariables.pageNumbers=t.listingVariables.pageNumbers,t.clearMobileData&&(this.dataJsonObj.quizMobileList=this.dataJsonObj.noDuplicates),t.isPaginationChange&&(this.dataJsonObj.selectedFilter=t.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=t.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=t.selectedAdvancedSearchObj),this.getAllRecords()}createQuiz(){try{this.router.navigate(["/quiz/quiz/create"])}catch(t){this.loggerService.setLoggerError(this.constructor.name,"createQuiz",t)}}searchClose(){try{this.dataJsonObj.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.datatableComponent.reset(),this.getAllRecords(),this.searchValueChange.emit("")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"searchClose",t)}}toggle(){try{this.dataJsonObj.show=!this.dataJsonObj.show}catch(t){this.loggerService.setLoggerError(this.constructor.name,"toggle",t)}}onActionClicked(t){try{t.action===r.A0.EDIT?this.commonService.redirectToUrl(this.dataJsonObj.queryParamsObj.version?["..",t.data._id,"editv2"]:["..",t.data._id,"edit"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route):t.action===r.A0.VIEW?this.commonService.redirectToUrl(this.dataJsonObj.queryParamsObj.version?["..",t.data._id,"viewv2"]:["..",t.data._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route):t.action===r.hf.IPLAY_BOARD&&(this.dataJsonObj.selectedUserTypeObj?.user_type_name!==r.ox.GUEST_USER?this.router.navigate(["quiz","play"],{queryParams:{quiz_id:t.data._id}}):this.userNamePopupForGuestUser(t.data))}catch(n){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",n)}}mobileEventAction(t){var n=this;return(0,T.Z)(function*(){try{n.dataJsonObj.mobileActionsArray=[],n.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.EDIT)&&t.status===r.hf.YET_TO_START&&n.dataJsonObj.mobileActionsArray.push({text:n.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{n.router.navigate(["/quiz/quiz/"+t._id+"/edit"])}}),n.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.PLAY)&&new Date(t.start_datetime)<=new Date(t.utccurrentTime)&&new Date(t.utccurrentTime)<=new Date(t.end_datetime)&&n.dataJsonObj.mobileActionsArray.push({text:n.translateService.instant("COMMON_BUTTONS.BUTTON_PLAY"),handler:()=>{n.dataJsonObj.selectedUserTypeObj?.user_type_name!==r.ox.GUEST_USER?n.router.navigate(["quiz","play"],{queryParams:{quiz_id:t._id}}):n.userNamePopupForGuestUser(t)}}),n.roleRightsValidationByPage(r.hf.QUIZ)&&n.dataJsonObj.mobileActionsArray.push({text:n.translateService.instant("COMMON_BUTTONS.QUIZ"),handler:()=>{n.router.navigate(["/quiz/"+t._id+"/quiz/list"],{queryParams:{status:t.status}})}}),n.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.VIEW)&&n.dataJsonObj.mobileActionsArray.push({text:n.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{n.commonService.redirectToUrl(["..",t._id,"view"],!0,!0,n.dataJsonObj.queryParamsObj?n.dataJsonObj.queryParamsObj:"",n.route)}}),n.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.EXTEND)&&t.organizer.user_profile_id._id===parseInt(localStorage.getItem(r.BU.LOG_IN_USER_ID),10)&&t.status===r.hf.IN_PROGRESS&&n.dataJsonObj.mobileActionsArray.push({text:n.translateService.instant("COMMON_BUTTONS.BUTTON_EXTEND"),handler:()=>{n.router.navigate(["/quiz/quiz/"+t._id+"/extend"])}}),n.dataJsonObj.actionSheet&&(yield n.dataJsonObj.actionSheet.dismiss()),n.presentActionSheet(t)}catch(a){n.loggerService.setLoggerError(n.constructor.name,"mobileEventAction",a)}})()}presentActionSheet(t){var n=this;return(0,T.Z)(function*(){try{n.dataJsonObj.actionSheet=yield n.actionSheetController.create({cssClass:"actionsheet",buttons:n.dataJsonObj.mobileActionsArray}),yield n.dataJsonObj.actionSheet.present()}catch(a){n.loggerService.setLoggerError(n.constructor.name,"presentActionSheet",a)}})()}quizView(t){try{this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.VIEW)?this.commonService.redirectToUrl(this.dataJsonObj.queryParamsObj.version?["..",t._id,"viewv2"]:["..",t._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route):this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.PLAY)&&t.start_datetime<=t.utccurrentTime&&t.utccurrentTime<=t.end_datetime?this.dataJsonObj.selectedUserTypeObj?.user_type_name!==r.ox.GUEST_USER?this.router.navigate(["quiz","play"],{queryParams:{quiz_id:t._id}}):this.userNamePopupForGuestUser(t):ne().fire({title:"",text:"Closed"===t?.status?this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_CLOSED")+" '"+t.imageName+"' "+this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_CLOSE"):this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_YET_TO_START")+" '"+t.imageName+"' "+this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_YET_TO_STARTS"),confirmButtonText:this.translateService.instant("COMMON_BUTTONS.BUTTON_OK"),customClass:{confirmButton:"btn btn-primary btn-sm mgr-5 mat-raised-button mr-1",cancelButton:"btn btn-danger btn-sm mat-raised-button"}})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"quizView",n)}}statusData(t){try{this.dataJsonObj.statsObj=t.value,this.datatableComponent.reset(),this.listingVariables.pageNumbers=1,this.dataJsonObj.quizMobileList=this.dataJsonObj.noDublicates}catch(n){this.loggerService.setLoggerError(this.constructor.name,"statusData",n)}}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}closeAdvancedSearch(){$("#exampleModal1").modal("hide")}selectedViewType(t){this.dataJsonObj.selectedDisplayView=t}selectedFilterType(t){t?this.dataJsonObj.selectedFilter=t:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}onPageLevelActionClicked(t){"GENERATE_JSONS"===t.actionName&&this.commonService.generateJsonsForPage(this.dataJsonObj.enterpriseId,"quiz")}displayDateFormatter(t,n,a){try{const s=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,o={startDate:"",endDate:""};if(o.startDate=this.commonService.convertDateToUserFormat(s,r.eZ.HOURS_MINS,!0,"",!1),n){const u=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,d=this.commonService.addHoursToDate(u,u);o.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return o}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",s)}}changeUserName(t){this.dataJsonObj.userName=t.value}userNamePopupForGuestUser(t){this.dataJsonObj.selectedQuizId=t._id,$("#guestUserNameAdd").modal("show"),$(".modal-backdrop").insertAfter("#guestUserNameAdd")}submitRedirectTOWelcomeScreen(){this.userNamevalid.isValid()&&($("#guestUserNameAdd").modal("hide"),this.router.navigate(["quiz","play"],{queryParams:{quiz_id:this.dataJsonObj.selectedQuizId}}),localStorage.setItem(r.BU.USER_NAME,this.dataJsonObj.userName))}cancelBtn(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelBtn",t)}}advancedSearchFilterClicked(t){this.dataJsonObj.selectedAdvancedSearchObj=t}onHeaderItemClick(t){switch(t.type){case"search":this.getSearchResults(t.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(t.event);break;case"filters":this.selectedFilterType(t.event);break;case"advanced_search":this.advancedSearchFilterClicked(t.event);break;case"page_actions":this.onPageLevelActionClicked(t.event)}}onSelectTab(t){try{this.dataJsonObj.selectTabIndex=t,this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.quizMobileList=[],this.getAllRecords(),this.datatableComponent.reset()}catch(n){this.loggerService.setLoggerError(this.constructor.name,"onSelectTab",n)}}static \u0275fac=function(n){return new(n||i)(e.Y36(se.Y),e.Y36(f.BX),e.Y36(S),e.Y36(y.m),e.Y36(I.F0),e.Y36(C.sK),e.Y36(M.s),e.Y36(N.v),e.Y36(N.v),e.Y36(H.e),e.Y36(ie.v),e.Y36(I.gz))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-quiz-list"]],viewQuery:function(n,a){if(1&n&&(e.Gf(Tn,5),e.Gf(Jn,5)),2&n){let s;e.iGM(s=e.CRH())&&(a.datatableComponent=s.first),e.iGM(s=e.CRH())&&(a.userNamevalid=s.first)}},outputs:{searchValueChange:"searchValueChange"},features:[e._Bn([se.Y,ie.v,H.e,S]),e.qOj],decls:29,vars:45,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0","pdl-0","pdr-0"],["mat-align-tabs","start","class","fanguage-tabs",3,"selectedIndex","selectedIndexChange",4,"ngIf"],["id","tagid",1,"",3,"header","actions","paginator","totalRecords","listingVariables","totalPages","data","mobileListData","expand","statsShow","showRights","statsSearch","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","showSpinner","selectedSubMenuId","actionClicked","itemClickEvent","redirectionEvent","changeStats","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],["id","guestUserNameAdd","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["role","document",1,"modal-dialog","modal-sm","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"forms-wrapper","mgb-10"],[1,"row","form-bs"],[1,"col-md-12"],["mandatory","true","disabled","false","autoCaseFlag","false","id","facilities-edit-addpopup-blockname",3,"label","value","maxlength","valueChange"],["userNamevalid",""],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","facilities-edit-addpopup-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","facilities-edit-addpopup-close",3,"label","buttonOnClick"],["mat-align-tabs","start",1,"fanguage-tabs",3,"selectedIndex","selectedIndexChange"],[4,"ngFor","ngForOf"],["mat-tab-label",""],[1,"fs-13","mg-0","tab-label","d-flex","align-items-center","justify-content-center","parent-tab",3,"click"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(o){return a.onHeaderItemClick(o)}),e.qZA()(),e.TgZ(4,"div",4),e.YNc(5,Cn,2,2,"mat-tab-group",5),e.TgZ(6,"app-datatable",6,7),e.NdJ("actionClicked",function(o){return a.onActionClicked(o)})("itemClickEvent",function(o){return a.quizView(o)})("redirectionEvent",function(o){return a.mobileEventAction(o)})("changeStats",function(o){return a.statusData(o)})("loadPageData",function(o){return a.loadPageData(o)}),e.qZA(),e.TgZ(8,"div",8)(9,"app-page-actions",9),e.NdJ("selectedAction",function(o){return a.onPageLevelActionClicked(o)}),e.qZA()()()()(),e.TgZ(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",15)(18,"div",16)(19,"div",17)(20,"div",18)(21,"app-input",19,20),e.NdJ("valueChange",function(o){return a.changeUserName(o)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",21)(25,"app-button",22),e.NdJ("buttonOnClick",function(){return a.submitRedirectTOWelcomeScreen()}),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"app-button",23),e.NdJ("buttonOnClick",function(){return a.cancelBtn()}),e.ALo(28,"translate"),e.qZA()()()()()()()()),2&n&&(e.xp6(3),e.Q6J("pageName",a.dataJsonObj.pageName)("defaultView",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",a.dataJsonObj.pageActionsList)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(2),e.Q6J("ngIf",(null==a.dataJsonObj||null==a.dataJsonObj.tabsList?null:a.dataJsonObj.tabsList.length)>0),e.xp6(1),e.Q6J("header",null==a.dataJsonObj?null:a.dataJsonObj.tableColumnHeaders)("actions",null==a.dataJsonObj?null:a.dataJsonObj.actions)("paginator",!0)("totalRecords",a.listingVariables.totalRecords)("listingVariables",a.listingVariables)("totalPages",a.listingVariables.totalpages)("data",null==a.dataJsonObj?null:a.dataJsonObj.quizListData)("mobileListData",null==a.dataJsonObj?null:a.dataJsonObj.quizMobileList)("expand",!1)("statsShow",null==a.dataJsonObj?null:a.dataJsonObj.show)("showRights",a.roleRightsValidationByPage(a.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.TREASURE_HUNTS,a.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,a.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.STATS))("statsSearch",null==a.dataJsonObj?null:a.dataJsonObj.searchString)("selectedDisplayViewType",a.dataJsonObj.selectedDisplayView)("selectedFilterType",a.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",a.dataJsonObj.selectedAdvancedSearchObj)("pageName",a.dataJsonObj.pageName)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("showSpinner",a.dataJsonObj.showSpinner)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",a.dataJsonObj.pageActionsList),e.xp6(6),e.Oqu(e.lcZ(16,37,"NEW_VARIABLES.PLAYER_DETAILS")),e.xp6(6),e.s9C("label",e.lcZ(23,39,"NEW_VARIABLES.NAME")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.userName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(26,41,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.xp6(2),e.s9C("label",e.lcZ(28,43,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[j.sg,j.O5,L.r,D.a,bn.n,Q.q,On.y,K.uD,K.uX,K.SP,C.X$]})}return i})();var oe=O(83691);const An=["treasureHuntNamevalid"],vn=["treasureHuntDisplayNamevalid"],En=["organizerDropDown"],Nn=["validLatitude"],Sn=["validLongitude"],Zn=["validRadius"],yn=["addressline1Input"],qn=["countryInput"],Ln=["stateInput"],Dn=["cityInput"],xn=["zipInput"],Mn=["languageAdd"],zn=["displayNameAdd"],wn=["displayNameUpdate"],Qn=["file1"],Un=["file2"],kn=["file3"],Vn=["file4"];function Rn(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div",58),e._UZ(3,"app-input",93),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",60),e._UZ(6,"app-checkbox",92),e.qZA()(),e.BQk()),2&i){const t=l.$implicit,n=l.index,a=e.oxw();e.xp6(3),e.hYB("label","",e.lcZ(4,5,"POLL.OPTION")," ",n+1,""),e.s9C("value",null==t?null:t.option),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.optionsCheckbox)("checked",t.is_correct)}}function Fn(i,l){1&i&&(e.TgZ(0,"label",95),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij("",e.lcZ(2,1,"POLL.OPTIONS")," "))}function Pn(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div",96),e._UZ(3,"app-input",93),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",9),e._UZ(6,"app-input",93),e.ALo(7,"translate"),e.qZA()(),e.BQk()),2&i){const t=l.$implicit;e.xp6(3),e.s9C("label",e.lcZ(4,4,"POLL.OPTION")),e.s9C("value",null==t?null:t.option),e.xp6(3),e.s9C("label",e.lcZ(7,6,"COMMON_FIELDS.IS_CORRECT")),e.s9C("value",null==t?null:t.is_correct)}}function Bn(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"div",8)(2,"div",58),e._UZ(3,"app-input",93),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",13),e._UZ(6,"img",65),e.qZA()(),e.TgZ(7,"div",8)(8,"div",3),e.YNc(9,Fn,3,3,"label",94),e.qZA()(),e.YNc(10,Pn,8,8,"ng-container",35),e.BQk()),2&i){const t=l.$implicit;e.xp6(3),e.s9C("label",e.lcZ(4,5,"COMMON_FIELDS.QUESTION")),e.s9C("value",t.question),e.xp6(3),e.Q6J("src",null==t?null:t.quizImage,e.LSH),e.xp6(3),e.Q6J("ngIf",t.options.length>0),e.xp6(1),e.Q6J("ngForOf",t.options)}}function Gn(i,l){if(1&i&&(e.TgZ(0,"tr",98)(1,"td",99),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Hn(i,l){if(1&i&&e.YNc(0,Gn,4,4,"tr",97),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.languagesData&&0===t.dataJsonObj.languagesData.length)}}function Yn(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function $n(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Yn,3,3,"th",35),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Kn(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",101),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editLanguages(s,o))}),e._UZ(1,"span",102),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," "),e.Q6J("pSelectableRow",n),e.xp6(1),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Wn(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Kn,2,5,"td",100),e.qZA()),2&i){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Xn(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",102)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function ei(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Xn,7,4,"div",103),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function ti(i,l){1&i&&(e.TgZ(0,"p",104),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}function ai(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",64),e._UZ(2,"img",65),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.welcome_screen,e.LSH)}}function ni(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",64),e._UZ(2,"img",65),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.failure_screen,e.LSH)}}function ii(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",64),e._UZ(2,"img",65),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.congratulation_screen,e.LSH)}}function si(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",99),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function oi(i,l){if(1&i&&e.YNc(0,si,4,4,"tr",63),2&i){const t=e.oxw();e.Q6J("ngIf",(null==t.dataJsonObj?null:t.dataJsonObj.quizQuestionsTl)&&0===(null==t.dataJsonObj.quizQuestionsTl?null:t.dataJsonObj.quizQuestionsTl.length))}}function li(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function ri(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",105),e.YNc(2,li,3,3,"th",35),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function di(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",109),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editQuestionTl(s,o))}),e.TgZ(1,"span",110)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",111),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function ui(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",106),e._UZ(2,"div",107),e.qZA(),e.YNc(3,di,7,8,"td",108),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function ci(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",102)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function gi(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,ci,7,4,"div",103),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function pi(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",64),e._UZ(2,"img",65),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.question_screen,e.LSH)}}function mi(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",99),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function _i(i,l){if(1&i&&e.YNc(0,mi,4,4,"tr",63),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.optionsArrayTl&&0===t.dataJsonObj.optionsArrayTl.length)}}function hi(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function bi(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",105),e.YNc(2,hi,3,3,"th",35),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Oi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",109),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editOptionTl(s,o))}),e.TgZ(1,"span",110)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",111),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Ti(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",106),e._UZ(2,"div",107),e.qZA(),e.YNc(3,Oi,7,8,"td",108),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function Ji(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",102)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function fi(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ji,7,4,"div",103),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function ji(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",64),e._UZ(2,"img",65),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.question_screen,e.LSH)}}function Ci(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",99),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Ii(i,l){if(1&i&&e.YNc(0,Ci,4,4,"tr",63),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.optionsArrayTl&&0===t.dataJsonObj.optionsArrayTl.length)}}function Ai(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function vi(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",105),e.YNc(2,Ai,3,3,"th",35),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Ei(i,l){if(1&i&&(e.TgZ(0,"td",113)(1,"span",110)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",111),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Ni(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"td",106),e.YNc(2,Ei,7,8,"td",112),e.qZA()),2&i){const t=l.columns;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Si(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",102)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Zi(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Si,7,4,"div",103),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}let yi=(()=>{class i extends x.O{apiEndPointUrl;QuizService;commonService;route;translateService;loggerService;navigationService;router;sanitizer;uiUtils;treasureHuntNamevalid;treasureHuntDisplayNamevalid;organizerDropDown;validLatitude;validLongitude;validRadius;addressline1Input;countryInput;stateInput;cityInput;zipInput;languageAdd;displayNameAdd;displayNameUpdate;fileInput1;fileInput2;fileInput3;fileInput4;dataJsonObj={};errorObj={};metadataJson;navpathimgFile;boundariesJson;postType2;questionError;postTypeTag1;postTypeValue2;imageType1;postTypeVideo1;imgCheck=!1;treasureHuntImageFile;imgFile=[];selectedAccordian=!1;displaySequence;errorHtml;quizFileArray;digitalAssetTypeOptions;digitalAssetTypeObj;digitalAssetTypeId;digitalAssetType;question;recordId;AnswerError;transform={};showCropper;imageChangedEvent;croppedImage;canvasRotation=0;canvasRotation1=0;digitalAssetUploadFileType;digitalAssetTypeName;assetTypeTag;assetTypeImage;assetTypeValue;videoType;audioType;imageType;assetTypeVideo;assetTypeAudio;documentType;fileSrc;previewFileSrc;error;previewImageChangedEvent;selectedFileName;fileType;selectedType;extension;imageExtensions;myObj;assetTypeError;assetFile;videoExtensions;mediaFile;digitalAssetFile;fileSize;audioExtensions;documentExtensions;otherExtensions;imageMinSize;imageStatus;errMsg1;errMsg2;imageMaxSize;postType;videoMaxSize;videoMinSize;audioMaxSize;audioMinSize;documentMaxSize;documentMinSize;documentTypes;questionTlIndex;questionTlEditRowIndex;constructor(t,n,a,s,o,u,d,c,_,J){super(s,a),this.apiEndPointUrl=t,this.QuizService=n,this.commonService=a,this.route=s,this.translateService=o,this.loggerService=u,this.navigationService=d,this.router=c,this.sanitizer=_,this.uiUtils=J,this.route.params.subscribe(b=>{this.dataJsonObj.recordId=b.id})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.optionsArray=[],this.dataJsonObj.quizQuestions=[],this.dataJsonObj.pageName=r.hf.QUIZ,this.dataJsonObj.userTimeZoneObj={},this.quizFileArray=[],this.dataJsonObj.imageDelete={},this.dataJsonObj.imageDelete.welcome_screen=[],this.dataJsonObj.imageDelete.failure_screen=[],this.dataJsonObj.imageDelete.success_screen=[],this.dataJsonObj.imageDelete.congratulation_screen=[],this.dataJsonObj.selectedorganizerObj=[],this.dataJsonObj.languageTranslateImageDisplay={},this.dataJsonObj.languageTranslateImageDisplay.welcome_screen=[],this.dataJsonObj.languageTranslateImageDisplay.failure_screen=[],this.dataJsonObj.languageTranslateImageDisplay.success_screen=[],this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen=[],this.dataJsonObj.disableSubmitBtn=!1,this.dataJsonObj.newLanguageData=[],this.dataJsonObj.languageTranslateImage={},this.dataJsonObj.islanguageImgEnable={},this.dataJsonObj.deleteImage={},this.dataJsonObj.deleteOriginalImage={},this.dataJsonObj.deleteImage.welcome_screen=[],this.dataJsonObj.deleteImage.success_screen=[],this.dataJsonObj.deleteImage.failure_screen=[],this.dataJsonObj.deleteImage.congratulation_screen=[],this.dataJsonObj.deleteOriginalImage.welcome_screen=[],this.dataJsonObj.deleteOriginalImage.success_screen=[],this.dataJsonObj.deleteOriginalImage.failure_screen=[],this.dataJsonObj.deleteOriginalImage.congratulation_screen=[],this.dataJsonObj.languageImageApis={},this.dataJsonObj.languageImageApi={},this.dataJsonObj.languageTranslateImage.welcome_screen="",this.dataJsonObj.languageTranslateImage.success_screen="",this.dataJsonObj.languageTranslateImage.failure_screen="",this.dataJsonObj.languageTranslateImage.congratulation_screen="",this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.deletetedQuestions=[],this.dataJsonObj.languagesData=[],this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl;const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.loginUserDateFormat=t.dateFormat,this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(a=>{this.dataJsonObj.lookupCodesListJSON=a,this.getTimeZone(this.dataJsonObj.userTimeZoneObj.timeZoneCode),this.getTimeZone(this.dataJsonObj.userTimeZoneObj.timeZoneCode)}),this.getDynamicJson([{folderName:r.sb.FACILITIES,jsonType:"list",storingFieldName:"facilitiesListJson"}]),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.getRecordById(),this.dataJsonObj.enableimageDeleteValue=!0,this.dataJsonObj.languagesFromJson={},this.getLanguagesfromJson(),this.dataJsonObj.disableTransAdd=!1,this.dataJsonObj.languagesData=[],this.dataJsonObj.deleted_translation_ids=[],this.dataJsonObj.languageTranslationEnablecheckboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.dataJsonObj.quizTlHeaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-60"},{headersort:"disableth",field:"title",header:this.translateService.instant("NEW_VARIABLES.NAME")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"description",header:this.translateService.instant("COMMON_FIELDS.DESCRIPTION"),class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.dataJsonObj.optionsTlHeaders=[[{headersort:"disableth",sortfield:"",field:"original_option",header:this.translateService.instant("POLL.OPTION"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"option",header:this.translateService.instant("POLL.OPTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:"w-130"},{headersort:"disableth",sortfield:"",field:"is_correct",header:this.translateService.instant("COMMON_FIELDS.IS_CORRECT"),class:"w-130"}]],this.dataJsonObj.questionsTlHeaders=[[{headersort:"disableth",sortfield:"",field:"original_question",header:this.translateService.instant("COMMON_FIELDS.QUESTION"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"question",header:this.translateService.instant("COMMON_FIELDS.QUESTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:"w-130"}]],this.dataJsonObj.treasureHuntTlheaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-60"},{headersort:"disableth",field:"treasure_hunt_display_name",header:"NEW_VARIABLES.NAME",class:"w-120"},{headersort:"disableth",field:"display_name",header:this.translateService.instant("NEW_VARIABLES.NAME")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"description",header:this.translateService.instant("COMMON_FIELDS.DESCRIPTION"),class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.dataJsonObj.optionsCheckbox=[{displayname:this.translateService.instant("COMMON_FIELDS.IS_CORRECT")}]}getDynamicJson(t){var n=this;return(0,T.Z)(function*(){for(let a of t)n.dataJsonObj[a.storingFieldName]=yield n.commonService.getDynamicJson(n.dataJsonObj.selectedEnterpriseId,a.folderName,a.jsonType);n.getSelectedSubmenuDetails()})()}getSelectedSubmenuDetails(){var t=this;return(0,T.Z)(function*(){if(t.dataJsonObj?.queryParamsObj?.selectedMenuId&&t.dataJsonObj?.queryParamsObj?.selectedSubMenuId){const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a._id===parseInt(t.dataJsonObj.queryParamsObj.selectedMenuId,10)):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu.find(a=>a.submenu_id===parseInt(t.dataJsonObj.queryParamsObj.selectedSubMenuId,10)):{}}else{const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a.menu_page.page_name===t.dataJsonObj.pageName):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu[0]:{}}t.dataJsonObj.pageDetails=t.dataJsonObj.selectedSubmenuObj.submenu_page})()}getRecordById(){try{const t={};this.QuizService.get(this.dataJsonObj.recordId).subscribe(n=>{this.dataJsonObj.quizViewData=n,this.dataJsonObj.quizQuestionData=n?.quizQuestionsData?n?.quizQuestionsData:[];const a={},s={};for(let d of this.dataJsonObj.quizQuestionData){s||(s[d._id]={}),s[d._id]=d.question,a[d._id]||(a[d._id]={});for(let c of d.options)a[d._id][c.option_id]=c.option,c.ID=c.option_id,c.NAME=c.option;d.ID=d.display_sequence,d.NAME=d.question,d.quizImage=d?.file_path&&d?.file_name?this.dataJsonObj.apiEndPoint+d?.file_path+"/"+d?.file_name:""}this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.QUIZ",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}];const o=this.displayDateFormatter(this.dataJsonObj.quizViewData.start_datetime,!1,!0);this.dataJsonObj.startDateTime_zone=o.startDate+" "+this.dataJsonObj.userTimeZoneObj.timeZoneCode;const u=this.displayDateFormatter(this.dataJsonObj.quizViewData.end_datetime,!1,!0);if(this.dataJsonObj.endDateTime_zone=u.startDate+" "+this.dataJsonObj.userTimeZoneObj.timeZoneCode,this.dataJsonObj.quizViewData.welcome_screen.dispayImage=this.dataJsonObj.quizViewData.welcome_screen.image_name&&this.dataJsonObj.quizViewData.welcome_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.welcome_screen.image_path+"/"+this.dataJsonObj.quizViewData.welcome_screen.image_name:"",this.dataJsonObj.quizViewData.success_screen.dispayImage=this.dataJsonObj.quizViewData.success_screen.image_name&&this.dataJsonObj.quizViewData.success_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.success_screen.image_path+"/"+this.dataJsonObj.quizViewData.success_screen.image_name:"",this.dataJsonObj.quizViewData.failure_screen.dispayImage=this.dataJsonObj.quizViewData.failure_screen.image_name&&this.dataJsonObj.quizViewData.failure_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.failure_screen.image_path+"/"+this.dataJsonObj.quizViewData.failure_screen.image_name:"",this.dataJsonObj.quizViewData.congratulation_screen.dispayImage=this.dataJsonObj.quizViewData.congratulation_screen.image_name&&this.dataJsonObj.quizViewData.congratulation_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.congratulation_screen.image_path+"/"+this.dataJsonObj.quizViewData.congratulation_screen.image_name:"",this.dataJsonObj.quizViewData?.questionTranslations)for(let d of this.dataJsonObj.quizViewData?.questionTranslations){d.original_question=s[d.quiz_question_id];for(let c of d.options)c.original_option=a[d.quiz_question_id][c.option_id];t[d?.language?.language_code]||(t[d?.language?.language_code]=[]),t[d?.language?.language_code].push(d)}if(this.dataJsonObj.quizViewData.language_translations){this.dataJsonObj.languagesData=[];for(let d=0;d<this.dataJsonObj.quizViewData?.language_translations.length;d++)this.dataJsonObj.quizViewData.language_translations[d].questionTranslations=t?t[this.dataJsonObj.quizViewData?.language_translations[d]?.language?.language_code]:[],this.dataJsonObj.quizViewData.language_translations[d].language_name_value=this.dataJsonObj.languagesFromJson[this.dataJsonObj.quizViewData?.language_translations[d]?.language?.language_name]?.language_display_name,this.dataJsonObj.quizViewData.language_translations[d].is_enabled_value=!0===this.dataJsonObj.quizViewData.language_translations[d].is_enabled?"Yes":"No",this.dataJsonObj.quizViewData.language_translations[d].original_welcome_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.welcome_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.welcome_screen.image_name:"",this.dataJsonObj.quizViewData.language_translations[d].original_failure_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.failure_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.failure_screen.image_name:"",this.dataJsonObj.quizViewData.language_translations[d].original_success_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.success_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.success_screen.image_name:"",this.dataJsonObj.quizViewData.language_translations[d].original_question_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.question_screen?.file_name?this.dataJsonObj.quizViewData?.language_translations[d]?.question_screen.file_path:"",this.dataJsonObj.quizViewData.language_translations[d].original_congratulation_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.congratulation_screen.image_name?this.dataJsonObj.quizViewData.language_translations[d]?.congratulation_screen.image_name:"",this.dataJsonObj.languagesData.push(this.dataJsonObj.quizViewData?.language_translations[d])}})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)}}getTimeZone(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.TIME_ZONES],t).then(n=>{if(this.dataJsonObj.timezoneOptions=n,this.dataJsonObj.timezoneOptions.length>0){for(let a=0;a<this.dataJsonObj.timezoneOptions.length;a++)this.dataJsonObj.timezoneOptions[a].NAME=this.dataJsonObj.timezoneOptions[a].NAME+" - "+this.dataJsonObj.timezoneOptions[a].description;this.dataJsonObj.timezoneOptions=this.dataJsonObj.timezoneOptions}},n=>{this.loggerService.setLoggerError(this.constructor.name,"getLookupTypes",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getTimeZone",n)}}deleteUpload(){this.dataJsonObj.treasureHuntImageFileSrc="",this.postTypeVideo1="",this.imgCheck=!1}getQuizName(t){try{this.errorObj.error2="",this.dataJsonObj.quizViewData.title=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getFacilityName",n)}}close(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Close",t)}}displayDateFormatter(t,n,a){try{const s=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,o={startDate:"",endDate:""};if(o.startDate=this.commonService.convertDateToUserFormat(s,r.eZ.HOURS_MINS,!0,"",!1),n){const u=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,d=this.commonService.addHoursToDate(u,120);o.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return o}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",s)}}getNextRecordNumber(){return this.dataJsonObj.languagesData.length+1}languagesAdd(t){try{this.dataJsonObj.disableTransAdd||(t.stopPropagation(),this.dataJsonObj.islanguageImgEnable.congratulation_screen=!1,this.dataJsonObj.createRowIndex=this.getNextRecordNumber(),this.dataJsonObj.index=this.dataJsonObj.createRowIndex,this.displayNameAdd.clearmessage(),this.languageAdd.clearmessage(),this.languageAdd.clearSelectInput(),this.dataJsonObj.languageCode="",this.dataJsonObj.languageName="",this.dataJsonObj.addPopupError="",this.dataJsonObj.langTransDisplayname="",this.dataJsonObj.langTransDescription="",this.dataJsonObj.isLangTransEnabled=!0,this.dataJsonObj.languageTranslateImage.welcome_screen="",this.dataJsonObj.languageTranslateImage.success_screen="",this.dataJsonObj.languageTranslateImage.failure_screen="",this.dataJsonObj.languageTranslateImage.congratulation_screen="",this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.islanguageImgEnable.congratulation_screen=!1,this.getLanguagesList(""),$("#exampleModal5").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal5"))}catch(n){this.loggerService.setLoggerError(this.constructor.name,"languagesAdd",n)}}removeLanguages(t,n){try{this.dataJsonObj.deleteRowIndex=t,this.dataJsonObj.languageCode=n.language.language_code,this.dataJsonObj.languageId=n.language.language_id,this.dataJsonObj.languageName=n.language_name_value,this.dataJsonObj.langTransDisplayname=n.display_name,this.dataJsonObj.langTransDescription=n.description,this.dataJsonObj.isLangTransEnabled=n.is_enabled,$("#exampleModal7").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal7")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeLanguages",a)}}editLanguages(t,n){try{this.dataJsonObj.editRowIndex=t,this.dataJsonObj.index=this.dataJsonObj.editRowIndex+1,this.dataJsonObj.languageId=n.language.language_id,this.dataJsonObj.languageName=n.language_name_value,this.dataJsonObj.languageCode=n.language.language_code,this.dataJsonObj.language=n.language.language_name,this.dataJsonObj.langTransDisplayname=n.title,this.dataJsonObj.langTransDescription=n.description,this.dataJsonObj.isLangTransEnabled=n.is_enabled,this.dataJsonObj.imageDelete.failure_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.welcome_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.success_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.congratulation_screen[this.dataJsonObj.index]=!1,n.welcome_screen_image?(this.dataJsonObj.islanguageImgEnable.welcome_screen=!0,this.dataJsonObj.languageTranslateImage.welcome_screen=n.welcome_screen_image):n.welcome_screen&&n.welcome_screen.image_name&&n.welcome_screen.image_path?(this.dataJsonObj.islanguageImgEnable.welcome_screen=!0,this.dataJsonObj.languageTranslateImage.welcome_screen=this.dataJsonObj.apiEndPoint+n.welcome_screen.image_path+"/"+n.welcome_screen.image_name):(this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.languageTranslateImage.welcome_screen=""),n.success_screen_image?(this.dataJsonObj.islanguageImgEnable.success_screen=!0,this.dataJsonObj.languageTranslateImage.success_screen=n.success_screen_image):n.success_screen&&n.success_screen.image_name&&n.success_screen.image_path?(this.dataJsonObj.islanguageImgEnable.success_screen=!0,this.dataJsonObj.languageTranslateImage.success_screen=this.dataJsonObj.apiEndPoint+n.success_screen.image_path+"/"+n.success_screen.image_name):(this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.languageTranslateImage.success_screen=""),n.failure_screen_image?(this.dataJsonObj.islanguageImgEnable.failure_screen=!0,this.dataJsonObj.languageTranslateImage.failure_screen=n.failure_screen_image):n.failure_screen&&n.failure_screen.image_name&&n.failure_screen.image_path?(this.dataJsonObj.islanguageImgEnable.failure_screen=!0,this.dataJsonObj.languageTranslateImage.failure_screen=this.dataJsonObj.apiEndPoint+n.failure_screen.image_path+"/"+n.failure_screen.image_name):(this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.languageTranslateImage.failure_screen=""),n.congratulation_screen_image?(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!0,this.dataJsonObj.languageTranslateImage.congratulation_screen=n.congratulation_screen_image):n.congratulation_screen&&n.congratulation_screen.image_name&&n.congratulation_screen.image_path?(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!0,this.dataJsonObj.languageTranslateImage.congratulation_screen=this.dataJsonObj.apiEndPoint+n.congratulation_screen.image_path+"/"+n.congratulation_screen.image_name):(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!1,this.dataJsonObj.languageTranslateImage.congratulation_screen=""),this.dataJsonObj.quizQuestionsTl=n.questionTranslations?n.questionTranslations:[],this.displayNameUpdate.clearmessage(),$("#exampleModal6").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal6")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editLanguages",a)}}treasureHuntLanguageTranslationCreate(){try{this.dataJsonObj.languageTranslateImage.welcome_screen||(this.dataJsonObj.languageImageApi={}),this.dataJsonObj.languageTranslateImage.success_screen||(this.dataJsonObj.languageImageApi={}),this.dataJsonObj.languageTranslateImage.failure_screen||(this.dataJsonObj.languageImageApi={}),this.languageAdd.isValid()&&this.displayNameAdd.isValid()&&(this.dataJsonObj.languageDatavalid=this.dataJsonObj.languagesData.find(t=>t.treasure_hunt_display_name===this.dataJsonObj.treasureHuntDisplayName.toString()&&t.language.language_id===this.dataJsonObj.languageId),this.dataJsonObj.languageDatavalid?this.dataJsonObj.addPopupError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS":(this.dataJsonObj.languagesData.push({language:{language_id:this.dataJsonObj.languageId,language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode},treasure_hunt_display_name:this.dataJsonObj.treasureHuntDisplayName?this.dataJsonObj.treasureHuntDisplayName:this.dataJsonObj.quizViewData.display_name,language_name_value:this.dataJsonObj.languageName,display_name:this.dataJsonObj.langTransDisplayname,description:this.dataJsonObj.langTransDescription,is_enabled:this.dataJsonObj.isLangTransEnabled,is_enabled_value:this.dataJsonObj.isLangTransEnabled?"Yes":"No",languageTranslateImages:this.dataJsonObj.languageTranslateImage,languageTranslateImageObj:this.dataJsonObj.languageImageApis[this.dataJsonObj.index],welcome_screen:this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index],success_screen:this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index],failure_screen:this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index],congratulation_screen:this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index]}),document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",$("#exampleModal5").modal("hide")))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"treasureHuntLanguageTranslationCreate",t)}}getLanguagesfromJson(){var t=this;return(0,T.Z)(function*(){t.dataJsonObj.languagesFromJson=yield t.commonService.getLanguagesListJson(t.dataJsonObj.selectedEnterpriseId)})()}getLanguagesList(t){var n=this;return(0,T.Z)(function*(){try{const a={};yield n.QuizService.getTranslateLanguages(n.dataJsonObj.selectedEnterpriseId).then(s=>{if(n.dataJsonObj.translateLanguageOptions=s[0].configoption_json.languages,n.dataJsonObj.translateLanguageOptions&&n.dataJsonObj.translateLanguageOptions.length>0)for(let o=0;o<n.dataJsonObj.translateLanguageOptions.length;o++)a[n.dataJsonObj.translateLanguageOptions[o].language_name]||(a[n.dataJsonObj.translateLanguageOptions[o].language_name]={}),a[n.dataJsonObj.translateLanguageOptions[o].language_name].languageName=n.dataJsonObj.translateLanguageOptions[o].language_name,a[n.dataJsonObj.translateLanguageOptions[o].language_name].language_id=n.dataJsonObj.translateLanguageOptions[o].language_id},s=>{n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",s)}),yield n.commonService.getDynamicJsonByPath(`assets/enterprises/${n.dataJsonObj.selectedEnterpriseId}/languages/`,"languages.json").then(s=>{for(let o=0;o<s.length;o++)a[s[o].language_name]&&(n.dataJsonObj.translateLanguageOptions[o].ID=s[o].language_id,n.dataJsonObj.translateLanguageOptions[o].NAME=s[o].language_display_name,n.dataJsonObj.translateLanguageOptions[o].language_code=s[o].language_code,n.dataJsonObj.translateLanguageOptions[o].language_id=s[o].language_id,n.dataJsonObj.translateLanguageOptions[o].language_name=s[o].language_name);if(n.dataJsonObj.translateLanguageOptions&&t){const o=n.dataJsonObj.translateLanguageOptions.filter(function(u){return u.NAME.toLowerCase().includes(t.toLowerCase())});n.dataJsonObj.translateLanguageOptions=o}})}catch(a){n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",a)}})()}languagesEditSubmit(){try{if(this.displayNameUpdate.isValid()){for(let t=0;t<this.dataJsonObj.languagesData.length;t++)this.dataJsonObj.imageDelete.welcome_screen[t]||(this.dataJsonObj.imageDelete.welcome_screen[t]=!1),this.dataJsonObj.imageDelete.success_screen[t]||(this.dataJsonObj.imageDelete.success_screen[t]=!1),this.dataJsonObj.imageDelete.failure_screen[t]||(this.dataJsonObj.imageDelete.failure_screen[t]=!1),this.dataJsonObj.imageDelete.congratulation_screen[t]||(this.dataJsonObj.imageDelete.congratulation_screen[t]=!1),this.dataJsonObj.languagesData[t].deleteWelcomeImage||(this.dataJsonObj.languagesData[t].deleteWelcomeImage=""),this.dataJsonObj.languagesData[t].deleteSuccessImage||(this.dataJsonObj.languagesData[t].deleteSuccessImage=""),this.dataJsonObj.languagesData[t].deleteFailureImage||(this.dataJsonObj.languagesData[t].deleteFailureImage=""),this.dataJsonObj.languagesData[t].deleteCongratulationImage||(this.dataJsonObj.languagesData[t].deleteCongratulationImage=""),t===this.dataJsonObj.editRowIndex&&(this.dataJsonObj.languagesData[t].language={language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode,language_id:this.dataJsonObj.languageId},this.dataJsonObj.languagesData[t].language_name_value=this.dataJsonObj.languageName,this.dataJsonObj.languagesData[t].display_name=this.dataJsonObj.langTransDisplayname,this.dataJsonObj.languagesData[t].description=this.dataJsonObj.langTransDescription,this.dataJsonObj.languagesData[t].is_enabled=this.dataJsonObj.isLangTransEnabled,this.dataJsonObj.languagesData[t].is_enabled_value=!0===this.dataJsonObj.isLangTransEnabled?"Yes":"No",this.dataJsonObj.languagesData[t].languageTranslateImages=this.dataJsonObj.languageTranslateImage,this.dataJsonObj.languagesData[t].languageTranslateImageObj=this.dataJsonObj.languageImageApis[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].welcome_screen=this.dataJsonObj.deleteImage.welcome_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.welcome_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].success_screen=this.dataJsonObj.deleteImage.success_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.success_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].failure_screen=this.dataJsonObj.deleteImage.failure_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.failure_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].congratulation_screen=this.dataJsonObj.deleteImage.congratulation_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.congratulation_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].deleteWelcomeImage=this.dataJsonObj.deleteImage.welcome_screen[t]?this.dataJsonObj.deleteImage.welcome_screen[t]:"",this.dataJsonObj.languagesData[t].deleteSuccessImage=this.dataJsonObj.deleteImage.success_screen[t]?this.dataJsonObj.deleteImage.success_screen[t]:"",this.dataJsonObj.languagesData[t].deleteFailureImage=this.dataJsonObj.deleteImage.failure_screen[t]?this.dataJsonObj.deleteImage.failure_screen[t]:"",this.dataJsonObj.languagesData[t].deleteCongratulationImage=this.dataJsonObj.deleteImage.congratulation_screen[t]?this.dataJsonObj.deleteImage.congratulation_screen[t]:"",document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="");$("#exampleModal6").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesEditSubmit",t)}}changeLangTransCheckBox(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.isLangTransEnabled=t.value)}languagesDeleteSubmit(){try{for(let t=0;t<this.dataJsonObj.languagesData.length;t++)this.dataJsonObj.deleteRowIndex===t&&this.dataJsonObj.languagesData[t]._id&&this.dataJsonObj.deleted_translation_ids.push(this.dataJsonObj.languagesData[t]._id);this.dataJsonObj.languagesData.splice(this.dataJsonObj.deleteRowIndex,1),$("#exampleModal7").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesDeleteSubmit",t)}}clearMessage(){this.dataJsonObj.errorHtml=""}cancelPopUpButton(){try{document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",t)}}editOptionTl(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.rowdata=n,$("#blockContentEdit1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit1")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editOptionTl",a)}}editQuestionTl(t,n){try{this.dataJsonObj.currentQuestion=n.display_sequence,this.questionTlEditRowIndex=t,this.questionTlIndex=this.questionTlEditRowIndex+1,this.dataJsonObj.rowdata=n,this.dataJsonObj.questionTl=n.question,this.dataJsonObj.optionsArrayTl=n.options,this.dataJsonObj.questionId=n.quiz_question_id?n.quiz_question_id:"",this.dataJsonObj.islanguageImgEnable.question_screen=!!n?.languageTranslateImages||!(!n.file_path||!n.file_name),this.dataJsonObj.question_screen=n?.languageTranslateImages?n?.languageTranslateImages:n.file_path&&n.file_name?this.dataJsonObj.apiEndPoint+n?.file_path+"/"+n?.file_name:"",$("#blockContentEdit").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editQuestionTl",a)}}static \u0275fac=function(n){return new(n||i)(e.Y36("apiEndPoint"),e.Y36(S),e.Y36(N.v),e.Y36(I.gz),e.Y36(C.sK),e.Y36(y.m),e.Y36(G.f),e.Y36(I.F0),e.Y36(z.H7),e.Y36(M.s))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-quiz-view"]],viewQuery:function(n,a){if(1&n&&(e.Gf(An,5),e.Gf(vn,5),e.Gf(En,5),e.Gf(Nn,5),e.Gf(Sn,5),e.Gf(Zn,5),e.Gf(yn,5),e.Gf(qn,5),e.Gf(Ln,5),e.Gf(Dn,5),e.Gf(xn,5),e.Gf(Mn,5),e.Gf(zn,5),e.Gf(wn,5),e.Gf(Qn,5),e.Gf(Un,5),e.Gf(kn,5),e.Gf(Vn,5)),2&n){let s;e.iGM(s=e.CRH())&&(a.treasureHuntNamevalid=s.first),e.iGM(s=e.CRH())&&(a.treasureHuntDisplayNamevalid=s.first),e.iGM(s=e.CRH())&&(a.organizerDropDown=s.first),e.iGM(s=e.CRH())&&(a.validLatitude=s.first),e.iGM(s=e.CRH())&&(a.validLongitude=s.first),e.iGM(s=e.CRH())&&(a.validRadius=s.first),e.iGM(s=e.CRH())&&(a.addressline1Input=s.first),e.iGM(s=e.CRH())&&(a.countryInput=s.first),e.iGM(s=e.CRH())&&(a.stateInput=s.first),e.iGM(s=e.CRH())&&(a.cityInput=s.first),e.iGM(s=e.CRH())&&(a.zipInput=s.first),e.iGM(s=e.CRH())&&(a.languageAdd=s.first),e.iGM(s=e.CRH())&&(a.displayNameAdd=s.first),e.iGM(s=e.CRH())&&(a.displayNameUpdate=s.first),e.iGM(s=e.CRH())&&(a.fileInput1=s.first),e.iGM(s=e.CRH())&&(a.fileInput2=s.first),e.iGM(s=e.CRH())&&(a.fileInput3=s.first),e.iGM(s=e.CRH())&&(a.fileInput4=s.first)}},features:[e._Bn([oe.I]),e.qOj],decls:287,vars:247,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["autoCaseFlag","false","mandatory","true","disabled","true","id","treasurehunt-create-facilityname",3,"minlength","maxlength","label","value"],["treasureHuntNamevalid",""],[1,"error-msg","col-md-10","text-danger","text-center","mb-0"],[1,"col-md-2"],["autoCaseFlag","true","mandatory","false","disabled","true","id","treasure-hunt-clues-edit-leaderboardUsersCount",3,"label","value","maxlength"],["leaderboardUsersCountInputNumber",""],[1,"col-lg-7","col-md-7","datetimepicker"],[1,"row"],[1,"col-md-6"],["mandatory","true","disabled","true","id","events-view-start_date",3,"label","value"],[1,"col-md-12","order-md-1","order-2"],["mandatory","false","disabled","true","id","enterprise-edit-enterprisedescription",3,"label","defaultvalue","maxlength"],["descriptionvalid",""],[1,"col-md-2","pdl-1","order-md-1","imagewith-label"],["imageAlignmentClass","mg-0",1,"edit-pic",3,"defaultImage","imageName"],[1,"col-md-3","pdl-1","order-md-1","imagewith-label"],["imageid","congratulationImage","imageAlignmentClass","mg-0",1,"edit-pic",3,"defaultImage","imageName"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"col-md-12","text-end","mt-2","mb-2","btns-group","order-md-1","order-2"],["className","btn btn-danger btn-sm","id","quiz-view-close",3,"label","buttonOnClick"],[1,"card-body"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],[4,"ngFor","ngForOf"],[1,"card-content"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],["selectionMode","single","dataKey","LineNum",1,"ptable","hidden-md-down","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"hidden-md-up"],["class","text-center text-danger mb-0 no-data-txt",4,"ngIf"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],["id","exampleModal6","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"row","no-gutter","form-bs"],["disabled","true","id","treasurehunt-edit-translationsadd-name",3,"label","value"],["mandatory","true","disabled","true","id","treasurehunt-edit-translationsedit-language",3,"label","value"],["disabled","true","mandatory","true","autoCaseFlag","false","id","treasurehunt-edit-translationsedit-displayname",3,"label","value","maxlength"],["displayNameUpdate",""],[1,"col-md-10"],["mandatory","false","disabled","true","id","treasurehunt-edit-translationsedit-description",3,"label","defaultvalue","maxlength"],[1,"col-md-2","d-flex","align-items-center"],["label","","mandatory","true","disabled","true","id","treasurehunt-edit-translationsedit-checkboxoptions",3,"options","checked"],[1,"col-md-12","text-center","mt-2"],[4,"ngIf"],[1,"static-content-img"],["alt","",1,"img-thumbnail",3,"src"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasurehunt-edit-translationsedit-cancel-btn",3,"label","buttonOnClick"],["id","blockContentDetailsAdd","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],[1,"col-md-3"],["mandatory","true","id","digitalassets-create-assetType",3,"label","options","defaultValue"],["digitalAssetTypeDropdown",""],["mandatory","true","disabled","true","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","value","maxlength"],["blockTitleInput",""],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-addpopup-cancel",3,"label"],["id","blockContentDelete","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["mandatory","false","disabled","true","id","create-addpopup-blocktitle",3,"label","value"],["mandatory","false","disabled","true","id","create-deletepopup-positionType",3,"label","value"],["mandatory","false","disabled","true","id","create-deletepopup-screenType",3,"label","value"],["mandatory","false","disabled","true","id","create-deletepopup-object",3,"label","value"],[1,"col-md-4","d-flex","align-items-center"],["label","","id","create-primary","disabled","true",3,"options","checked"],[1,"col-md-12","pdt-14"],[1,"fs-12"],["className","btn btn-primary btn-sm","data-bs-dismiss","modal","id","create-deletepopup-delete",1,"mgr-5",3,"label"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-deletepopup-cancel",3,"label"],["id","blockContentEdit","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["mandatory","false","disabled","true","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","value","maxlength"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-editpopup-cancel",3,"label"],["id","blockContentDetailsAdd1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel1","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["label","","mandatory","true","disabled","true","id","treasure-hunt-create-translationsadd-checkboxoptions",3,"options","checked"],["disabled","true",3,"label","value"],["class","fw-600",4,"ngIf"],[1,"fw-600"],[1,"col-md-8"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","click"],[3,"innerHTML"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"text-center","text-danger","mb-0","no-data-txt"],[1,"checkboxcol",2,"width","2em"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#blockContentEdit",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#blockContentEdit",3,"pSelectableRow","click"],[1,"ui-column-title","d-md-none","d-lg-none"],[1,"ui-column-values",3,"innerHTML"],["data-toggle","modal",3,"pSelectableRow","class",4,"ngFor","ngForOf"],["data-toggle","modal",3,"pSelectableRow"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10,11),e.ALo(12,"translate"),e.TgZ(13,"div",12),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",13),e._UZ(17,"app-inputnumber",14,15),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",16)(21,"div",17)(22,"div",18),e._UZ(23,"app-input",19),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",18),e._UZ(26,"app-input",19),e.ALo(27,"translate"),e.qZA()()(),e.TgZ(28,"div",20),e._UZ(29,"app-textarea",21,22),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",23)(33,"label"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"app-imageupload",24),e.qZA(),e.TgZ(37,"div",23)(38,"label"),e._uU(39),e.ALo(40,"translate"),e.qZA(),e._UZ(41,"app-imageupload",24),e.qZA(),e.TgZ(42,"div",23)(43,"label"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"app-imageupload",24),e.qZA(),e.TgZ(47,"div",25)(48,"label"),e._uU(49),e.ALo(50,"translate"),e.qZA(),e._UZ(51,"app-imageupload",26),e.qZA(),e.TgZ(52,"div",27),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"div",28)(56,"app-button",29),e.NdJ("buttonOnClick",function(){return a.close()}),e.ALo(57,"translate"),e.qZA()()(),e.TgZ(58,"div",2)(59,"div",3)(60,"div",4)(61,"div",30)(62,"div",17)(63,"div",3)(64,"div",31)(65,"div",32)(66,"p-accordion")(67,"p-accordionTab",33)(68,"p-header",34)(69,"span"),e._uU(70),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"div",8),e.YNc(73,Rn,7,7,"ng-container",35),e.qZA(),e.TgZ(74,"div",8),e.YNc(75,Bn,11,7,"ng-container",35),e.qZA()()()()()()()()()()(),e.TgZ(76,"div",17)(77,"div",3)(78,"div",31)(79,"div",36)(80,"p-accordion",37)(81,"p-accordionTab",38)(82,"p-header",34)(83,"span"),e._uU(84),e.ALo(85,"translate"),e.qZA()(),e.TgZ(86,"p-table",39),e.YNc(87,Hn,1,1,"ng-template",40),e.YNc(88,$n,2,1,"ng-template",41),e.YNc(89,Wn,2,1,"ng-template",42),e.YNc(90,ei,4,2,"ng-template",43),e.qZA(),e.TgZ(91,"div",44),e.YNc(92,ti,3,3,"p",45),e.qZA()(),e._UZ(93,"app-recordhistory",46),e.qZA()()()()()()()()()()(),e.TgZ(94,"div",47)(95,"div",48)(96,"div",49)(97,"div",50)(98,"div",51),e._uU(99),e.ALo(100,"translate"),e.ALo(101,"translate"),e.qZA()(),e.TgZ(102,"div",52)(103,"div",53)(104,"div",9),e._UZ(105,"app-input",54),e.ALo(106,"translate"),e.qZA(),e.TgZ(107,"div",9),e._UZ(108,"app-input",55),e.ALo(109,"translate"),e.qZA(),e.TgZ(110,"div",9),e._UZ(111,"app-input",56,57),e.ALo(113,"translate"),e.ALo(114,"translate"),e.qZA(),e.TgZ(115,"div",58),e._UZ(116,"app-textarea",59),e.ALo(117,"translate"),e.qZA(),e.TgZ(118,"div",60),e._UZ(119,"app-checkbox",61),e.qZA(),e.TgZ(120,"div",62)(121,"div",9),e.YNc(122,ai,3,1,"div",63),e.qZA(),e.TgZ(123,"div",9)(124,"span",64),e._UZ(125,"img",65),e.qZA()()(),e.TgZ(126,"div",9),e.YNc(127,ni,3,1,"div",63),e.qZA(),e.TgZ(128,"div",9),e.YNc(129,ii,3,1,"div",63),e.qZA()(),e.TgZ(130,"div",3)(131,"div",31)(132,"div",36)(133,"p-accordion",37)(134,"p-accordionTab",38)(135,"p-header",34)(136,"span"),e._uU(137),e.ALo(138,"translate"),e.qZA()(),e.TgZ(139,"p-table",66),e.YNc(140,oi,1,1,"ng-template",40),e.YNc(141,ri,3,1,"ng-template",41),e.YNc(142,ui,4,1,"ng-template",42),e.YNc(143,gi,4,2,"ng-template",43),e.qZA()()()()()(),e.TgZ(144,"div",67)(145,"app-button",68),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(146,"translate"),e.qZA()()()()()(),e.TgZ(147,"div",69)(148,"div",48)(149,"div",49)(150,"div",50)(151,"div",51),e._uU(152),e.ALo(153,"translate"),e.ALo(154,"translate"),e.qZA()(),e.TgZ(155,"div",52)(156,"div",1)(157,"div",8)(158,"div",70),e._UZ(159,"app-dropdown-singleselect",71,72),e.ALo(161,"translate"),e.qZA(),e.TgZ(162,"div",9),e._UZ(163,"app-input",73,74),e.ALo(165,"translate"),e.ALo(166,"translate"),e.qZA(),e.TgZ(167,"div",75),e._uU(168),e.ALo(169,"translate"),e.qZA(),e.TgZ(170,"div",62)(171,"div",17)(172,"div",9),e.YNc(173,pi,3,1,"div",63),e.qZA()()(),e.TgZ(174,"div",3)(175,"div",31)(176,"div",36)(177,"p-accordion",37)(178,"p-accordionTab",38)(179,"p-header",34)(180,"span"),e._uU(181),e.ALo(182,"translate"),e.qZA()(),e.TgZ(183,"p-table",66),e.YNc(184,_i,1,1,"ng-template",40),e.YNc(185,bi,3,1,"ng-template",41),e.YNc(186,Ti,4,1,"ng-template",42),e.YNc(187,fi,4,2,"ng-template",43),e.qZA()()()()()(),e.TgZ(188,"div",67),e._UZ(189,"app-button",76),e.ALo(190,"translate"),e.qZA()()()()()()(),e.TgZ(191,"div",77)(192,"div",48)(193,"div",49)(194,"div",50)(195,"div",51),e._uU(196),e.ALo(197,"translate"),e.ALo(198,"translate"),e.qZA()(),e.TgZ(199,"div",52)(200,"div",1)(201,"div",8)(202,"div",9),e._UZ(203,"app-input",78),e.ALo(204,"translate"),e.qZA(),e.TgZ(205,"div",9),e._UZ(206,"app-input",79),e.ALo(207,"translate"),e.qZA(),e.TgZ(208,"div",9),e._UZ(209,"app-input",80),e.ALo(210,"translate"),e.qZA(),e.TgZ(211,"div",9),e._UZ(212,"app-input",81),e.ALo(213,"translate"),e.qZA(),e.TgZ(214,"div",82),e._UZ(215,"app-checkbox",83),e.qZA(),e.TgZ(216,"div",84)(217,"ion-label",85),e._uU(218),e.ALo(219,"translate"),e.qZA()(),e.TgZ(220,"div",67),e._UZ(221,"app-button",86),e.ALo(222,"translate"),e._UZ(223,"app-button",87),e.ALo(224,"translate"),e.qZA()()()()()()(),e.TgZ(225,"div",88)(226,"div",48)(227,"div",49)(228,"div",50)(229,"div",51),e._uU(230),e.ALo(231,"translate"),e.ALo(232,"translate"),e.qZA()(),e.TgZ(233,"div",52)(234,"div",1)(235,"div",8)(236,"div",9),e._UZ(237,"app-input",89),e.ALo(238,"translate"),e.qZA(),e.TgZ(239,"div",62)(240,"div",17)(241,"div",9),e.YNc(242,ji,3,1,"div",63),e.qZA()()(),e.TgZ(243,"div",3)(244,"div",31)(245,"div",36)(246,"p-accordion",37)(247,"p-accordionTab",38)(248,"p-header",34)(249,"span"),e._uU(250),e.ALo(251,"translate"),e.qZA()(),e.TgZ(252,"p-table",66),e.YNc(253,Ii,1,1,"ng-template",40),e.YNc(254,vi,3,1,"ng-template",41),e.YNc(255,Ni,3,1,"ng-template",42),e.YNc(256,Zi,4,2,"ng-template",43),e.qZA()()()()()(),e.TgZ(257,"div",67),e._UZ(258,"app-button",90),e.ALo(259,"translate"),e.qZA()()()()()()(),e.TgZ(260,"div",91)(261,"div",48)(262,"div",49)(263,"div",50)(264,"div",51),e._uU(265),e.ALo(266,"translate"),e.ALo(267,"translate"),e.qZA()(),e.TgZ(268,"div",52)(269,"div",1)(270,"div",8)(271,"div",9)(272,"div",70),e._UZ(273,"app-dropdown-singleselect",71,72),e.ALo(275,"translate"),e.qZA(),e._UZ(276,"app-input",73,74),e.ALo(278,"translate"),e.qZA(),e.TgZ(279,"div",60),e._UZ(280,"app-checkbox",92),e.qZA(),e.TgZ(281,"div",75),e._uU(282),e.ALo(283,"translate"),e.qZA(),e.TgZ(284,"div",67),e._UZ(285,"app-button",76),e.ALo(286,"translate"),e.qZA()()()()()()()),2&n&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(12,145,"NEW_VARIABLES.QUIZ_TITLE")),e.s9C("value",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.title),e.Q6J("minlength",3)("maxlength",120),e.xp6(4),e.hij(" ",e.lcZ(15,147,a.errorObj.error2)," "),e.xp6(3),e.s9C("label",e.lcZ(19,149,"NEW_VARIABLES.LEADERBOARD_USERS_COUNT")),e.s9C("value",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.leaderboard_user_count),e.Q6J("maxlength",3),e.xp6(6),e.s9C("label",e.lcZ(24,151,"COMMON_FIELDS.START_DATE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.startDateTime_zone),e.xp6(3),e.s9C("label",e.lcZ(27,153,"COMMON_FIELDS.END_DATE")),e.s9C("value",a.dataJsonObj.endDateTime_zone),e.xp6(3),e.s9C("label",e.lcZ(31,155,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.description),e.Q6J("maxlength",2e3),e.xp6(5),e.Oqu(e.lcZ(35,157,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.welcome_screen?null:a.dataJsonObj.quizViewData.welcome_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.welcome_screen?null:a.dataJsonObj.quizViewData.welcome_screen.image_name),e.xp6(3),e.Oqu(e.lcZ(40,159,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.success_screen?null:a.dataJsonObj.quizViewData.success_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.success_screen?null:a.dataJsonObj.quizViewData.success_screen.image_name),e.xp6(3),e.Oqu(e.lcZ(45,161,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.failure_screen?null:a.dataJsonObj.quizViewData.failure_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.failure_screen?null:a.dataJsonObj.quizViewData.failure_screen.image_name),e.xp6(3),e.Oqu(e.lcZ(50,163,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.congratulation_screen?null:a.dataJsonObj.quizViewData.congratulation_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.congratulation_screen?null:a.dataJsonObj.quizViewData.congratulation_screen.image_name),e.xp6(2),e.hij(" ",e.lcZ(54,165,a.errorObj.error)," "),e.xp6(3),e.s9C("label",e.lcZ(57,167,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(11),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(71,169,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(3),e.Q6J("ngForOf",a.dataJsonObj.optionsArray),e.xp6(2),e.Q6J("ngForOf",a.dataJsonObj.quizQuestionData),e.xp6(5),e.Q6J("multiple",!1),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(85,171,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")),e.xp6(2),e.Q6J("columns",null==a.dataJsonObj?null:a.dataJsonObj.quizTlHeaders)("value",a.dataJsonObj.languagesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.Q6J("ngIf",a.dataJsonObj.languagesData&&0===a.dataJsonObj.languagesData.length),e.xp6(1),e.Q6J("createdBy",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.created_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.updated_by)("creationDate",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.createdAt)("lastUpdatedDate",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.updatedAt),e.xp6(6),e.AsE("",e.lcZ(100,173,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(101,175,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(106,177,"NEW_VARIABLES.NAME")),e.s9C("value",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.title),e.xp6(3),e.s9C("label",e.lcZ(109,179,"PREFERENCES.LANGUAGE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.languageName),e.xp6(3),e.hYB("label","",e.lcZ(113,181,"NEW_VARIABLES.QUIZ_TITLE")," (",e.lcZ(114,183,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(5),e.s9C("label",e.lcZ(117,185,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.langTransDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransEnabled),e.xp6(3),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.welcome_screen),e.xp6(3),e.Q6J("src",null==a.dataJsonObj.languageTranslateImage?null:a.dataJsonObj.languageTranslateImage.success_screen,e.LSH),e.xp6(2),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.failure_screen),e.xp6(2),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.congratulation_screen),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(138,187,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(2),e.Q6J("columns",a.dataJsonObj.questionsTlHeaders)("value",null==a.dataJsonObj?null:a.dataJsonObj.quizQuestionsTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(146,189,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(153,191,"COMMON_BLOCK_TITLES.QUESTIONS")," - ",e.lcZ(154,193,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(7),e.s9C("label",e.lcZ(161,195,"COMMON_BLOCK_TITLES.QUESTIONS")),e.s9C("defaultValue",a.dataJsonObj.questionId),e.Q6J("options",a.dataJsonObj.quizQuestionData),e.xp6(4),e.hYB("label","",e.lcZ(165,197,"COMMON_FIELDS.QUESTION")," (",e.lcZ(166,199,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",a.dataJsonObj.questionTl),e.Q6J("maxlength",40),e.xp6(5),e.hij(" ",e.lcZ(169,201,a.errorHtml)," "),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.question_screen),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(182,203,"POLL.OPTIONS")),e.xp6(2),e.Q6J("columns",a.dataJsonObj.optionsTlHeaders)("value",a.dataJsonObj.optionsArrayTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(190,205,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(197,207,"FACILITY_SPOTLIGHT_CONFIGURATIONS.BLOCK_CONTENT")," - ",e.lcZ(198,209,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(7),e.s9C("label",e.lcZ(204,211,"FACILITY_SPOTLIGHT_CONFIGURATIONS.BLOCK_TITLE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.blockContentTitle),e.xp6(3),e.s9C("label",e.lcZ(207,213,"FACILITY_SPOTLIGHT_CONFIGURATIONS.POSITION")),e.s9C("value",a.dataJsonObj.defaultPositionType),e.xp6(3),e.s9C("label",e.lcZ(210,215,"FACILITY_SPOTLIGHT_CONFIGURATIONS.SCREEN_TYPE")),e.s9C("value",a.dataJsonObj.defaultScreenType),e.xp6(3),e.s9C("label",e.lcZ(213,217,"FACILITY_SPOTLIGHT_CONFIGURATIONS.OBJECT")),e.s9C("value",a.dataJsonObj.screenTypeObjectId),e.xp6(3),e.Q6J("options",a.dataJsonObj.displayAsAccordion)("checked",a.dataJsonObj.accordionCheckbox),e.xp6(3),e.hij(" ",e.lcZ(219,219,"FACILITY_SPOTLIGHT_CONFIGURATIONS.CONTENT")," "),e.xp6(3),e.s9C("label",e.lcZ(222,221,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(224,223,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(231,225,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")," - ",e.lcZ(232,227,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(7),e.s9C("label",e.lcZ(238,229,"COMMON_FIELDS.QUESTION")),e.s9C("value",a.dataJsonObj.questionTl),e.Q6J("maxlength",40),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.question_screen),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(251,231,"POLL.OPTIONS")),e.xp6(2),e.Q6J("columns",a.dataJsonObj.optionsTlHeaders)("value",a.dataJsonObj.optionsArrayTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(259,233,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(266,235,"POLL.OPTIONS")," - ",e.lcZ(267,237,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(8),e.s9C("label",e.lcZ(275,239,"POLL.OPTIONS")),e.s9C("defaultValue",a.dataJsonObj.optionId),e.Q6J("options",a.dataJsonObj.optionsData),e.xp6(3),e.s9C("label",e.lcZ(278,241,"POLL.OPTION")),e.s9C("value",a.dataJsonObj.optionTl),e.Q6J("maxlength",40),e.xp6(4),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.optionsCheckbox)("checked",a.dataJsonObj.isOptionCorrectTl),e.xp6(2),e.hij(" ",e.lcZ(283,243,a.errorHtml)," "),e.xp6(3),e.s9C("label",e.lcZ(286,245,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[j.sg,j.O5,f.Q$,L.r,D.a,U.k,k.b,V.R,R.K,w.f,Y.W,Q.q,A.UQ,A.US,E.h4,E.jx,v.iA,v.Ei,C.X$]})}return i})();var W=O(15439),le=O(63556),qi=O(81145),Li=O(30958),Di=O(91749);const xi=["validName"],Mi=["content"];function zi(i,l){if(1&i&&e._UZ(0,"img",33),2&i){const t=e.oxw(2);e.Q6J("src",t.dataJsonObj.quizWelcomeScreen,e.LSH)}}function wi(i,l){1&i&&e._UZ(0,"img",33),2&i&&e.Q6J("src","assets/images/TreasureHuntGame.png",e.LSH)}function Qi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"h3",26),e._uU(4),e.ALo(5,"translate"),e._UZ(6,"br"),e._uU(7),e.qZA(),e.TgZ(8,"div",27),e.YNc(9,zi,1,1,"img",28),e.YNc(10,wi,1,1,"img",28),e.qZA()(),e.TgZ(11,"div",29)(12,"p",30),e._uU(13),e.qZA()(),e.TgZ(14,"div",26)(15,"app-button",31),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancel())}),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"app-button",32),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.getQuestion())}),e.ALo(18,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.hij("",e.lcZ(5,7,"NEW_VARIABLES.WELCOME_TO")," "),e.xp6(3),e.hij('"',null==t.dataJsonObj.quizDetailsJson?null:t.dataJsonObj.quizDetailsJson.title,'" '),e.xp6(2),e.Q6J("ngIf",(null==t.dataJsonObj.quizDetailsJson||null==t.dataJsonObj.quizDetailsJson.welcome_screen?null:t.dataJsonObj.quizDetailsJson.welcome_screen.image_path)&&(null==t.dataJsonObj.quizDetailsJson||null==t.dataJsonObj.quizDetailsJson.welcome_screen?null:t.dataJsonObj.quizDetailsJson.welcome_screen.image_name)),e.xp6(1),e.Q6J("ngIf",!(null!=t.dataJsonObj.quizDetailsJson&&null!=t.dataJsonObj.quizDetailsJson.welcome_screen&&t.dataJsonObj.quizDetailsJson.welcome_screen.image_path&&null!=t.dataJsonObj.quizDetailsJson&&null!=t.dataJsonObj.quizDetailsJson.welcome_screen&&t.dataJsonObj.quizDetailsJson.welcome_screen.image_name)),e.xp6(3),e.hij(" ",null==t.dataJsonObj.quizDetailsJson?null:t.dataJsonObj.quizDetailsJson.description," "),e.xp6(2),e.s9C("label",e.lcZ(16,9,"COMMON_BUTTONS.BUTTON_BACK")),e.xp6(2),e.s9C("label",e.lcZ(18,11,"COMMON_BUTTONS.START"))}}function Ui(i,l){if(1&i&&(e.TgZ(0,"div",40),e._UZ(1,"img",41),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.dataJsonObj.questionImage,e.LSH)}}function ki(i,l){1&i&&(e.TgZ(0,"ion-card",42)(1,"ion-card-content",43)(2,"ion-row",44)(3,"ion-col",45)(4,"p",46)(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA()()()()()()),2&i&&(e.xp6(6),e.hij(" ",e.lcZ(7,1,"NEW_VARIABLES.QUIZ_VALIDATION_FOR_NO_QUESTIONS")," "))}function Vi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-col",45)(1,"button",52),e.NdJ("click",function(){const s=e.CHM(t).$implicit,o=e.oxw(3);return e.KtG(o.answerClick(s))}),e._UZ(2,"ion-icon",53),e.TgZ(3,"span",54),e._uU(4),e.qZA()()()}if(2&i){const t=l.$implicit,n=e.oxw(3);e.xp6(1),e.ekj("correct",t.is_correct&&n.showFeedback&&n.selectedAnswer===t)("incorrect",!t.is_correct&&n.showFeedback&&n.selectedAnswer===t),e.xp6(3),e.Oqu(t.option)}}function Ri(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",55),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(3);return e.KtG(a.nextQuestion())}),e.ALo(1,"translate"),e.qZA()}2&i&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_NEXT"))}function Fi(i,l){if(1&i&&(e.TgZ(0,"ion-card",42)(1,"ion-card-content",43)(2,"p",47)(3,"span",48),e._uU(4),e.qZA()(),e.TgZ(5,"ion-grid",49)(6,"ion-row"),e.YNc(7,Vi,5,5,"ion-col",50),e.qZA()()(),e._UZ(8,"ion-card-content",43),e.TgZ(9,"div",43),e.YNc(10,Ri,2,3,"app-button",51),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("innerHtml",t.getCurrentQuestion().question,e.oJD),e.xp6(1),e.Oqu(t.getCurrentQuestion().question),e.xp6(3),e.Q6J("ngForOf",t.getCurrentQuestion().options),e.xp6(3),e.Q6J("ngIf",t.showFeedback&&(null==t.selectedAnswer?null:t.selectedAnswer.is_correct)&&t.currentQuestionIndex<t.quiz.length-1)}}function Pi(i,l){if(1&i&&(e.TgZ(0,"div",34)(1,"div",35)(2,"div",null,2)(4,"h2",36),e._uU(5),e.qZA(),e.YNc(6,Ui,2,1,"div",37),e.TgZ(7,"div",38),e.YNc(8,ki,8,3,"ion-card",39),e.YNc(9,Fi,11,4,"ion-card",39),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(5),e.Oqu(null==t.dataJsonObj.quizDetailsJson?null:t.dataJsonObj.quizDetailsJson.title),e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.questionImage),e.xp6(2),e.Q6J("ngIf",0===(null==t.quiz?null:t.quiz.length)),e.xp6(1),e.Q6J("ngIf",(null==t.quiz?null:t.quiz.length)>0)}}function Bi(i,l){if(1&i&&e._UZ(0,"img",62),2&i){const t=e.oxw(2);e.Q6J("src",t.dataJsonObj.quizSuccessImage,e.LSH)}}function Gi(i,l){if(1&i&&e._UZ(0,"img",63),2&i){const t=e.oxw(2);e.Q6J("src",t.dataJsonObj.quizCongratulationImage,e.LSH)}}function Hi(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",64),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.nextQuestion())}),e.ALo(1,"translate"),e.qZA()}2&i&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_NEXT"))}function Yi(i,l){1&i&&e._UZ(0,"div",26)}function $i(i,l){if(1&i&&(e.TgZ(0,"div",23)(1,"div",56)(2,"div",57),e.YNc(3,Bi,1,1,"img",58),e.YNc(4,Gi,1,1,"img",59),e.qZA(),e.TgZ(5,"div",26),e.YNc(6,Hi,2,3,"app-button",60),e.qZA(),e.YNc(7,Yi,1,0,"div",61),e.qZA()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.isFinalScreen),e.xp6(1),e.Q6J("ngIf",t.isFinalScreen),e.xp6(2),e.Q6J("ngIf",t.showFeedback&&(null==t.selectedAnswer?null:t.selectedAnswer.is_correct)&&t.currentQuestionIndex<t.quiz.length-1),e.xp6(1),e.Q6J("ngIf",null==t.dataJsonObj.currentClue?null:t.dataJsonObj.currentClue.next_clue_id)}}function Ki(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",56)(2,"div",57),e._UZ(3,"img",65),e.qZA(),e.TgZ(4,"div",26)(5,"app-button",66),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.tryAgain())}),e.ALo(6,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",t.dataJsonObj.quizFailureImage,e.LSH),e.xp6(2),e.s9C("label",e.lcZ(6,2,"COMMON_BUTTONS.TRY_AGAIN"))}}function Wi(i,l){if(1&i&&(e.TgZ(0,"div",23)(1,"ion-item",69)(2,"ion-avatar",70),e._UZ(3,"img",71),e.qZA(),e.TgZ(4,"ion-label",72)(5,"span")(6,"span",73),e._uU(7),e.qZA()(),e.TgZ(8,"span")(9,"span",74),e._uU(10),e.ALo(11,"translate"),e.ALo(12,"translate"),e.qZA()()()()()),2&i){const t=l.$implicit,n=l.index,a=e.oxw(2);e.xp6(1),e.Q6J("ngClass",n%2==0?"odd-list":"even-list"),e.xp6(2),e.s9C("src",null!=t&&null!=t.user_profile_id&&t.user_profile_id.user_image_name&&null!=t&&null!=t.user_profile_id&&t.user_profile_id.user_image_path?a.dataJsonObj.apiEndPoint+t.user_profile_id.user_image_path+"/"+t.user_profile_id.user_image_name:"assets/images/TreasureHuntGame.png",e.LSH),e.xp6(4),e.lnq(" ",t.user_profile_id.l_name,", ",t.user_profile_id.f_name," ",t.user_profile_id.nick_name?"("+t.user_profile_id.nick_name+")":""," "),e.xp6(3),e.HOy(" ",e.lcZ(11,9,"NEW_VARIABLES.COMPLETED_IN")," ",a.formatTime(t.duration)," ",e.lcZ(12,11,"NEW_VARIABLES.MINUTES")," ",null==a.dataJsonObj?null:a.dataJsonObj.userSuccessPercentage," ")}}function Xi(i,l){if(1&i&&(e.TgZ(0,"div",23)(1,"div",56)(2,"ion-card",42)(3,"ion-card-content",43)(4,"ion-row",44)(5,"ion-col",45)(6,"p",46)(7,"span"),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"p",46)(11,"span"),e._uU(12),e.ALo(13,"translate"),e.ALo(14,"translate"),e.qZA()()()()()(),e.TgZ(15,"ion-card",42)(16,"ion-card-content",43)(17,"ion-row",44)(18,"ion-col",45)(19,"p",46)(20,"span"),e._uU(21),e.ALo(22,"translate"),e.qZA()()()()(),e.TgZ(23,"ion-card-content",43)(24,"ion-list",67),e.YNc(25,Wi,13,13,"div",68),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(8),e.Oqu(e.lcZ(9,6,"NEW_VARIABLES.CONGRATULATIONS")),e.xp6(4),e.lnq("",e.lcZ(13,8,"NEW_VARIABLES.COMPLETED_TREASUREHUNT")," ",t.formatTime(t.dataJsonObj.quizDuration)," ",e.lcZ(14,10,"NEW_VARIABLES.MINUTES"),""),e.xp6(9),e.Oqu(e.lcZ(22,12,"COMMON_PAGE_TITLES.LEADERBOARD")),e.xp6(4),e.Q6J("ngForOf",t.listViewData)}}let es=(()=>{class i{apiEndPointUrl;router;route;commonService;platform;QuizService;syncService;sanitizer;loggerService;navigationService;imageTransformPipe;validName;dataJsonObj={};errorObj={};timer=0;totalClues=0;questionsCompleted=0;timerRef;error="";countDown=0;countDownRef;showHint=!1;listViewData=[];gpsValidating=!1;newWindow;content;quiz;currentQuestionIndex=0;selectedAnswer=null;showFeedback=!1;showSuccessScreen=!1;showFailureScreen=!1;isFinalScreen;constructor(t,n,a,s,o,u,d,c,_,J,b){this.apiEndPointUrl=t,this.router=n,this.route=a,this.commonService=s,this.platform=o,this.QuizService=u,this.syncService=d,this.sanitizer=c,this.loggerService=_,this.navigationService=J,this.imageTransformPipe=b,this.route.queryParams.subscribe(h=>{this.dataJsonObj.queryParamsObj=JSON.parse(JSON.stringify(h))})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.quiz=[],this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl,this.getDynamicJson([{folderName:`quizzes/details/${this.dataJsonObj.queryParamsObj?.quiz_id}`,jsonType:"",storingFieldName:"quizQuestionsJson"}]),this.getsyncSettings();const n=localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(r.BU.SELECTED_USER_TYPE_OBJ)):{};this.dataJsonObj.isGuestUser=n?.user_type_name===r.ox.GUEST_USER,this.dataJsonObj.isStartScreen=!0,this.dataJsonObj.isClueScreen=!1,this.dataJsonObj.isSucessScreen=!1,this.dataJsonObj.isFailScreen=!1,this.dataJsonObj.isFinalScreen=!1,this.dataJsonObj.userNavigationCreate=!1,this.dataJsonObj.isGuestUser||this.getQuizUserNavigation(),this.commonService.getDynamicHeight()}getCurrentQuestion(){if(this.quiz?.length>0&&this.currentQuestionIndex>=0&&this.currentQuestionIndex<this.quiz.length)return this.quiz[this.currentQuestionIndex].file_path&&this.quiz[this.currentQuestionIndex].file_name&&(this.dataJsonObj.questionImage=this.dataJsonObj.apiEndPoint+this.quiz[this.currentQuestionIndex].file_path+"/"+this.quiz[this.currentQuestionIndex].file_name),this.quiz[this.currentQuestionIndex]}answerClick(t){this.selectedAnswer=t,this.showFeedback=!0,t.is_correct?(this.showSuccessScreen=!0,this.showFailureScreen=!1,this.dataJsonObj.isStartScreen=!1,this.dataJsonObj.isClueScreen=!1,this.dataJsonObj.isFinalScreen=!1):(this.showFailureScreen=!0,this.showSuccessScreen=!1,this.dataJsonObj.isStartScreen=!1,this.dataJsonObj.isClueScreen=!1,this.dataJsonObj.isFinalScreen=!1),this.updateUserAttempts(),this.currentQuestionIndex===this.quiz.length-1&&(this.isFinalScreen=!0)}updateUserAttempts(){var t=this;return(0,T.Z)(function*(){if(!t.dataJsonObj.isGuestUser)try{const n=yield t.QuizService.getQuizUserNavigation(t.dataJsonObj.quizUserNavigationId);let a=n&&n.user_attempts?n.user_attempts:[];a.push({option_id:t.selectedAnswer.option_id,question_id:t.dataJsonObj.currentQuestion._id,reached_datetime:(new Date).toISOString()});let s={};s=t.quiz[t.currentQuestionIndex+1]?{duration:W((new Date).toISOString()).diff(n.start_datetime,"seconds"),user_attempts:a}:{duration:W((new Date).toISOString()).diff(n.start_datetime,"seconds"),end_datetime:(new Date).toISOString(),user_attempts:a},yield t.QuizService.patchQuizUserNavigation(t.dataJsonObj.quizUserNavigationId,s)}catch(n){t.loggerService.setLoggerError(t.constructor.name,"getuserAttempts",n)}})()}nextQuestion(){this.currentQuestionIndex<this.quiz.length-1&&(this.currentQuestionIndex++,this.selectedAnswer=null,this.showFeedback=!1,this.showSuccessScreen=!1,this.showFailureScreen=!1,this.dataJsonObj.isClueScreen=!0),this.isFinalScreen=this.currentQuestionIndex===this.quiz.length-1}previousQuestion(){this.currentQuestionIndex>0&&(this.currentQuestionIndex--,this.selectedAnswer=null,this.showFeedback=!1,this.showSuccessScreen=!1,this.showFailureScreen=!1)}getQuizUserNavigation(){this.QuizService.getQuizNavigation(this.dataJsonObj.queryParamsObj.quiz_id,Number(localStorage.getItem(r.BU.LOG_IN_USER_ID))).subscribe(t=>{this.dataJsonObj.usernavigationData=t[0]?t[0]:[],this.dataJsonObj.userNavigationCreate=!(t.length>0),this.dataJsonObj.quizUserNavigationId=this.dataJsonObj.usernavigationData?this.dataJsonObj.usernavigationData._id:""},t=>{this.loggerService.setLoggerError(this.constructor.name,"getQuizUserNavigation",t)})}getQuestion(){if(this.dataJsonObj.isStartScreen=!1,this.dataJsonObj.isClueScreen=!0,this.dataJsonObj.isSucessScreen=!1,this.dataJsonObj.isFailScreen=!1,this.dataJsonObj.isFinalScreen=!1,this.showHint=!1,0===this.questionsCompleted){const t=this.dataJsonObj.quizQuestionsJson&&this.dataJsonObj.quizQuestionsJson.questionDataArray?this.dataJsonObj.quizQuestionsJson.questionDataArray.find(n=>n.display_sequence==this.questionsCompleted+1):{};this.dataJsonObj.currentQuestion=t,clearInterval(this.timerRef),this.timerRef=setInterval(()=>{this.timer=this.timer+1},1e3)}else if(this.dataJsonObj.quizQuestionsJson?.questionDataArray?.length>1){const t=this.dataJsonObj.quizQuestionsJson.questionDataArray?this.dataJsonObj.quizQuestionsJson?.questionDataArray?.find(n=>n.display_sequence==this.questionsCompleted+1):{};this.dataJsonObj.currentQuestion=t}else clearInterval(this.timerRef),this.dataJsonObj.isGuestUser||this.showLeaderboard();if(clearInterval(this.countDownRef),this.dataJsonObj.currentQuestion&&(this.questionsCompleted=this.questionsCompleted+1,this.countDown=60*this.dataJsonObj.currentQuestion?.countdown_in_mins,this.countDownRef=setInterval(()=>{this.countDown=this.countDown-1,this.countDown<=0&&(this.countDown=0,clearInterval(this.countDownRef))},1e3),!this.dataJsonObj.isGuestUser))if(this.dataJsonObj.usernavigationData.end_datetime)this.dataJsonObj.quizDuration=this.dataJsonObj.usernavigationData.duration,this.showLeaderboard();else if(this.dataJsonObj.usernavigationData.user_attempts)for(let t=0;t<this.dataJsonObj.usernavigationData.user_attempts.length;t++)if(this.dataJsonObj.usernavigationData.user_attempts[t].question_id===this.dataJsonObj.currentQuestion._id){clearInterval(this.timerRef),this.timer=W((new Date).toISOString()).diff(this.dataJsonObj.usernavigationData.start_datetime,"seconds"),this.timerRef=setInterval(()=>{this.timer=this.timer+1},1e3),this.getQuestion();break}this.dataJsonObj.userNavigationCreate&&this.createQuizUserNavigationRecord()}createQuizUserNavigationRecord(){try{const t={enterprise:JSON.parse(localStorage.getItem(r.BU.SELECTED_ENTERPRISE_OBJ)),quiz_id:this.dataJsonObj.quizQuestionsJson.quizDetails._id,user_profile_id:Number(localStorage.getItem(r.BU.LOG_IN_USER_ID)),player_name:localStorage.getItem(r.BU.USER_NAME)?localStorage.getItem(r.BU.USER_NAME):"",duuId:localStorage.getItem(r.BU.DEVICE_ID)?localStorage.getItem(r.BU.DEVICE_ID):"",is_guest_user_enabled:!!localStorage.getItem(r.BU.USER_NAME)};this.QuizService.createQuizUserNavigation(t).then(n=>{this.dataJsonObj.quizUserNavigationId=n._id,this.dataJsonObj.userNavigationCreate=!1,localStorage.removeItem(r.BU.USER_NAME),localStorage.removeItem(r.BU.DEVICE_ID)},n=>{this.loggerService.setLoggerError(this.constructor.name,"createQuizUserNavigationRecord",n)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"createQuizUserNavigationRecord",t)}}validate(t){switch(t){case"is_spotlight_enabled":this.showFailure();break;case"is_text_enabled":this.validName.inputdata="",$("#teamMembersCreateModal").modal("show"),$(".modal-backdrop").insertAfter("#teamMembersCreateModal")}}showFailure(){this.dataJsonObj.isStartScreen=!1,this.dataJsonObj.isClueScreen=!1,this.dataJsonObj.isSucessScreen=!1,this.dataJsonObj.isFailScreen=!0,this.dataJsonObj.isFinalScreen=!1}tryAgain(){this.dataJsonObj.isStartScreen=!1,this.dataJsonObj.isClueScreen=!0,this.dataJsonObj.isSucessScreen=!1,this.dataJsonObj.isFailScreen=!1,this.dataJsonObj.isFinalScreen=!1,this.showFailureScreen=!1}showLeaderboard(){this.dataJsonObj.isStartScreen=!1,this.dataJsonObj.isClueScreen=!1,this.dataJsonObj.isSucessScreen=!1,this.dataJsonObj.isFailScreen=!1,this.dataJsonObj.isFinalScreen=!0,this.timer=0,this.questionsCompleted=0,clearInterval(this.timerRef),clearInterval(this.countDownRef);const t=this.dataJsonObj.quizQuestionsJson?.quizDetails?.leaderboard_user_count?this.dataJsonObj.quizQuestionsJson?.quizDetails?.leaderboard_user_count:5;if(!this.dataJsonObj.isGuestUser)try{this.QuizService.getQuizUserNavigation(this.dataJsonObj.quizUserNavigationId).subscribe(n=>{const a=n&&n.user_attempts?n.user_attempts:[],s={};for(let c of this.dataJsonObj.quizQuestionsJson.questionDataArray)s[c._id]=c?.options?.filter(_=>1==_.is_correct);const o=[];for(let c of a)o.push({[c?.question_id]:c?.option_id});const u=this.calculateSuccessPercentage(s,o),d={duration:W((new Date).toISOString()).diff(n.start_datetime,"seconds"),end_datetime:(new Date).toISOString(),user_score_percentage:u};this.QuizService.patchQuizUserNavigation(this.dataJsonObj.quizUserNavigationId,d).then(c=>{this.dataJsonObj.quizDuration=d.duration,this.QuizService.getQuizNavigation(this.dataJsonObj.queryParamsObj.quiz_id,"").subscribe(_=>{let J=_.filter(b=>b.end_datetime);J.sort((b,h)=>b.duration-h.duration),this.listViewData=J.slice(0,t)})})},n=>{this.loggerService.setLoggerError(this.constructor.name,"showLeaderboard",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"showLeaderboard",n)}}calculateSuccessPercentage(t,n){let a=0;const s=Object.keys(t).length;for(const u of n){const d=Object.keys(u)[0],c=u[d];t[d]?.find(J=>J.is_correct)?.option_id===c&&a++}return(a/s*100).toFixed(2)}formatTime(t){var n=Math.floor(t/3600),a=Math.floor((t-3600*n)/60),s=t-3600*n-60*a;return this.padZero(n)+":"+this.padZero(a)+":"+this.padZero(s)}padZero(t){return t<10?"0"+t:t}degreesToRadians(t){return t*Math.PI/180}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Close",t)}}getDetails(){this.showHint=!0}popupSubmit(){const t=[];for(let n of this.dataJsonObj.currentQuestion.options)t.push(n.is_correct);this.validName.isValid()&&(t.includes(!0)||this.showFailure(),this.cancelPopup())}changeName(t){this.validName.inputdata=t.value}cancelPopup(){this.validName.inputdata="",this.error="",this.validName.clearmessage(),$("#teamMembersCreateModal").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}openPopup(){this.validName.inputdata="",$("#teamMembersCreateModal").modal("show"),$(".modal-backdrop").insertAfter("#teamMembersCreateModal")}getsyncSettings(){const t=this.commonService.getSyncSettingsForOffileApk(r.hf.FACILITY_SPOTLIGHT_SCREENS);this.dataJsonObj.publishEnabled=t.publishEnabled}getDynamicJson(t){var n=this;return(0,T.Z)(function*(){const a=yield n.commonService.getSelectedMenuDetails(r.hf.QUIZ,n.dataJsonObj.selectedEnterpriseId),s=!(!a?.access_online_data||!a?.data_from?.data_from_json);for(let u of t)try{n.dataJsonObj[u.storingFieldName]=yield n.commonService.getDynamicJson(n.dataJsonObj.selectedEnterpriseId,u.folderName,u.jsonType,!1,s)}catch{n.dataJsonObj[u.storingFieldName]={}}n.quiz=n.dataJsonObj.quizQuestionsJson.questionDataArray,yield n.getQuizDetailsForPlay()})()}getQuizDetailsForPlay(){var t=this;return(0,T.Z)(function*(){const n=t.dataJsonObj.quizQuestionsJson;t.quiz=n.questionDataArray,t.dataJsonObj.quizDetailsJson=n.quizDetails,t.dataJsonObj.quizDetailsJson&&(t.dataJsonObj.quizDetailsJson.welcome_screen.image_name&&t.dataJsonObj.quizDetailsJson.welcome_screen.image_path?(t.dataJsonObj.quizDetailsJson.welcome_image=t.dataJsonObj.apiEndPoint+t.dataJsonObj.quizDetailsJson.welcome_screen.image_path+"/"+t.dataJsonObj.quizDetailsJson.welcome_screen.image_name,t.dataJsonObj.quizWelcomeScreen=yield t.imageTransformPipe.transformAsync(t.dataJsonObj.quizDetailsJson.welcome_screen.image_path,t.dataJsonObj.quizDetailsJson.welcome_screen.image_name,t.dataJsonObj.publishEnabled,t.dataJsonObj.shareExternal)):t.dataJsonObj.quizDetailsJson.welcome_image="",t.dataJsonObj.quizDetailsJson.success_screen.image_name&&t.dataJsonObj.quizDetailsJson.success_screen.image_path?(t.dataJsonObj.quizDetailsJson.success_image=t.dataJsonObj.apiEndPoint+t.dataJsonObj.quizDetailsJson.success_screen.image_path+"/"+t.dataJsonObj.quizDetailsJson.success_screen.image_name,t.dataJsonObj.quizSuccessImage=yield t.imageTransformPipe.transformAsync(t.dataJsonObj.quizDetailsJson.success_screen.image_path,t.dataJsonObj.quizDetailsJson.success_screen.image_name,t.dataJsonObj.publishEnabled,t.dataJsonObj.shareExternal)):t.dataJsonObj.quizDetailsJson.success_image="",t.dataJsonObj.quizDetailsJson.failure_screen.image_name&&t.dataJsonObj.quizDetailsJson.failure_screen.image_path?(t.dataJsonObj.quizDetailsJson.failure_image=t.dataJsonObj.apiEndPoint+t.dataJsonObj.quizDetailsJson.failure_screen.image_path+"/"+t.dataJsonObj.quizDetailsJson.failure_screen.image_name,t.dataJsonObj.quizFailureImage=yield t.imageTransformPipe.transformAsync(t.dataJsonObj.quizDetailsJson.failure_screen.image_path,t.dataJsonObj.quizDetailsJson.failure_screen.image_name,t.dataJsonObj.publishEnabled,t.dataJsonObj.shareExternal)):t.dataJsonObj.quizDetailsJson.failure_image="",t.dataJsonObj.quizDetailsJson.congratulation_screen.image_name&&t.dataJsonObj.quizDetailsJson.congratulation_screen.image_path?(t.dataJsonObj.quizDetailsJson.congratulation_image=t.dataJsonObj.apiEndPoint+t.dataJsonObj.quizDetailsJson.congratulation_screen.image_path+"/"+t.dataJsonObj.quizDetailsJson.congratulation_screen.image_name,t.dataJsonObj.quizCongratulationImage=yield t.imageTransformPipe.transformAsync(t.dataJsonObj.quizDetailsJson.congratulation_screen.image_path,t.dataJsonObj.quizDetailsJson.congratulation_screen.image_name,t.dataJsonObj.publishEnabled,t.dataJsonObj.shareExternal)):t.dataJsonObj.quizDetailsJson.congratulation_image="")})()}linkify(t){try{return t.replace(/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,'<a href="$1" target="_blank">$1</a>').replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2" target="_blank">$2</a>').replace(/(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim,'<a href="mailto:$1">$1</a>').replace(/^(((\+[1-9]{1,4}[ \-]*)|(\([0-9]{2,3}\)[ \-]*)|([0-9]{2,4})[ \-]*)*?[0-9]{3,4}?[ \-]*[0-9]{3,4}?$)/gim,'<a href="tel:$1" >$1</a>')}catch(d){this.loggerService.setLoggerError(this.constructor.name,"linkify",d)}}selectedFabAction(t){var n=this;return(0,T.Z)(function*(){t&&"SocialShare"===t.actionName&&n.commonService.socialShare(n.content)})()}static \u0275fac=function(n){return new(n||i)(e.Y36("apiEndPoint"),e.Y36(I.F0),e.Y36(I.gz),e.Y36(N.v),e.Y36(Li.t4),e.Y36(S),e.Y36(qi._),e.Y36(z.H7),e.Y36(y.m),e.Y36(G.f),e.Y36(le.D))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-quiz-play"]],viewQuery:function(n,a){if(1&n&&(e.Gf(xi,5),e.Gf(Mi,5)),2&n){let s;e.iGM(s=e.CRH())&&(a.validName=s.first),e.iGM(s=e.CRH())&&(a.content=s.first)}},features:[e._Bn([le.D,S])],decls:34,vars:21,consts:[[1,"container-fluid"],["id","extraPaddingBottomID",1,"position-relative","pdb-10"],["content",""],["class","position-relative",4,"ngIf"],["class","position-relative treasurehunt-content",4,"ngIf"],["id","teamMembersCreateModal","tabindex","-1","role","dialog","aria-labelledby","teamMembersModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-sm","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","teamMembersModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"row","form-bs"],[1,"col-lg-10","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-12"],["mandatory","true","disabled","false","id","teams-create-teammembers-userrole",3,"label","valueChange"],["validName",""],[1,"col-md-12","order-md-1","order-2"],[1,"error-msg","col-md-6","text-danger","text-center","mb-0"],[1,"col-md-12","text-end","mt-2","order-md-1","order-2"],["className","btn btn-primary btn-sm","id","team-members-add-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","lookupcode-translations-add-cancel-btn",3,"label","buttonOnClick"],[3,"actionData","selectedAction"],[1,"position-relative"],[1,"treasurehunt-content","treasurehunt-bg","treasurehunt-play-info"],[1,"mgb-20"],[1,"text-center"],[1,"img-bg"],["class","img-detail","id","onboarding-image","onerror","this.onerror=null;this.src='assets/images/TreasureHuntGame.png';",3,"src",4,"ngIf"],[1,"slider-text"],[1,"cursor-pointer"],["className","btn btn-danger btn-sm","id","treasurehunt-create-cancel",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-primary btn-sm","id","onboarding-getstartedbutton","disabled","false",3,"label","buttonOnClick"],["id","onboarding-image","onerror","this.onerror=null;this.src='assets/images/TreasureHuntGame.png';",1,"img-detail",3,"src"],[1,"position-relative","treasurehunt-content"],[1,"quizdetails"],["id","titleid",2,"margin","10px 10px 0px"],["class","mgt-5 mgl-10 mgr-10","id","imageid",4,"ngIf"],[1,"asset-detail"],["class","asset-detail-info",4,"ngIf"],["id","imageid",1,"mgt-5","mgl-10","mgr-10"],["id","quizImage",1,"img-detail",3,"src"],[1,"asset-detail-info"],[1,"pdt-5","pdb-0","pdl-10","pdr-10"],[1,"pdl-10","pdr-10"],["size","12",1,"ion-no-padding"],["id","finalScreenId",1,"text-center"],["id","questionid",1,""],[3,"innerHtml"],[1,"ion-no-padding","answers-list"],["class","ion-no-padding","size","12",4,"ngFor","ngForOf"],["className","btn btn-primary btn-lg","id","quiz-current-question-index-next-button","disabled","false",3,"label","buttonOnClick",4,"ngIf"],["id","answer-click-id",1,"ion-no-padding","align-items-center","bg-transparent","d-flex","follow-btn","mgb-10",3,"click"],["slot","start","name","play"],[1,"text-start"],["className","btn btn-primary btn-lg","id","quiz-current-question-index-next-button","disabled","false",3,"label","buttonOnClick"],[1,"treasurehunt-content","treasurehunt-bg"],[1,"img-bg","mgb-20"],["id","onboarding-image","onerror","this.onerror=null;this.src='assets/images/Success.png';",3,"src",4,"ngIf"],["id","onboarding-image","onerror","this.onerror=null;this.src='assets/images/congrats.png';",3,"src",4,"ngIf"],["className","btn btn-primary btn-lg","id","quiz-selected-answer-next-button","disabled","false",3,"label","buttonOnClick",4,"ngIf"],["class","text-center",4,"ngIf"],["id","onboarding-image","onerror","this.onerror=null;this.src='assets/images/Success.png';",3,"src"],["id","onboarding-image","onerror","this.onerror=null;this.src='assets/images/congrats.png';",3,"src"],["className","btn btn-primary btn-lg","id","quiz-selected-answer-next-button","disabled","false",3,"label","buttonOnClick"],["id","onboarding-image","onerror","this.onerror=null;this.src='assets/images/Failed.png';",3,"src"],["className","btn btn-primary btn-lg","id","onboarding-getstartedbutton","disabled","false",1,"mgr-5",3,"label","buttonOnClick"],[1,"mgt-0","mobile-list-view"],["class","position-relative",4,"ngFor","ngForOf"],["lines","none",1,"ion-text-wrap",3,"ngClass"],["slot","start",1,"bd-1"],["onError","this.onerror=null;this.src='../../../assets/img/image_placeholder.jpg';",3,"src"],[1,"mgt-0","mgb-0"],["color","primary",1,"mg-0","d-flex","justify-content-between","fs-13","ellipsis"],["color","primary",1,"mg-0","d-flex","justify-content-between","fs-11","ellipsis"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",null,2),e.YNc(4,Qi,19,13,"div",3),e.YNc(5,Pi,10,4,"div",4),e.YNc(6,$i,8,4,"div",3),e.YNc(7,Ki,7,4,"div",3),e.YNc(8,Xi,26,14,"div",3),e.TgZ(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",10)(17,"div",11)(18,"div",12)(19,"div",13)(20,"div",14)(21,"app-input",15,16),e.NdJ("valueChange",function(o){return a.changeName(o)}),e.ALo(23,"translate"),e.qZA()()()(),e.TgZ(24,"div",17)(25,"div",18),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",19)(29,"app-button",20),e.NdJ("buttonOnClick",function(){return a.popupSubmit()}),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"app-button",21),e.NdJ("buttonOnClick",function(){return a.cancelPopup()}),e.ALo(32,"translate"),e.qZA()()()()()()()()(),e.TgZ(33,"app-mobile-fab-button",22),e.NdJ("selectedAction",function(o){return a.selectedFabAction(o)}),e.qZA()()),2&n&&(e.xp6(4),e.Q6J("ngIf",a.dataJsonObj.isStartScreen),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.isClueScreen),e.xp6(1),e.Q6J("ngIf",a.showSuccessScreen),e.xp6(1),e.Q6J("ngIf",a.showFailureScreen),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.isFinalScreen),e.xp6(6),e.hij("",e.lcZ(15,11,"COMMON_PAGE_TITLES.TREASURE_HUNT_CLUE")," "),e.xp6(7),e.s9C("label",e.lcZ(23,13,"NEW_VARIABLES.KEY")),e.xp6(5),e.hij(" ",e.lcZ(27,15,a.error)," "),e.xp6(3),e.s9C("label",e.lcZ(30,17,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.xp6(2),e.s9C("label",e.lcZ(32,19,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(2),e.Q6J("actionData",null==a.dataJsonObj?null:a.dataJsonObj.fabMobileactionsOptions))},dependencies:[j.mk,j.sg,j.O5,f.BJ,f.PM,f.FN,f.wI,f.jY,f.gu,f.Ie,f.Q$,f.q_,f.Nd,L.r,D.a,Di.J,C.X$]})}return i})();const ts=["contentEditableDiv"];function as(i,l){if(1&i&&(e.TgZ(0,"div",16),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.dataJsonObj.quetionValue,".")}}function ns(i,l){if(1&i&&e._UZ(0,"div",20),2&i){const t=e.oxw(2);e.Q6J("ngClass",t.dataJsonObj.inputValue||t.dataJsonObj.image?"":"disabled")}}function is(i,l){if(1&i&&e._UZ(0,"div",21),2&i){const t=e.oxw(2);e.Q6J("ngClass",t.dataJsonObj.inputValue||t.dataJsonObj.image?"":"disabled")}}function ss(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",17),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.checkBoxClick())}),e.YNc(1,ns,1,1,"div",18),e.YNc(2,is,1,1,"div",19),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.checkBoxValue),e.xp6(1),e.Q6J("ngIf",!t.dataJsonObj.checkBoxValue)}}function os(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"app-imageupload",23),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeImage(a))})("imageRemove",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.removeFile())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.s9C("imageid",t.dataJsonObj.imageId),e.Q6J("maintainAspectRatio",!0)("quizImage",!0)}}function ls(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",24),e._UZ(1,"img",25),e.TgZ(2,"i",26),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearInput())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("src",t.dataJsonObj.image,e.LSH)}}function rs(i,l){1&i&&(e.TgZ(0,"div",22),e._UZ(1,"img",27)(2,"span",28),e.qZA())}let ds=(()=>{class i{loggerService;valueChange=new e.vpe;dataJsonObj={};contentEditableDiv;errorObj={};imageId;isCheckBoxEnabled;error;set fileTypes(t){if(t)for(let n of t)switch(n){case r.vH.IMAGE:this.dataJsonObj.isImageFieldEnabled=!0;break;case r.vH.AUDIO:this.dataJsonObj.isAudioFieldEnabled=!0}}set textfieldImageId(t){this.dataJsonObj.imageId=t}set image(t){this.dataJsonObj.image=t}set inputValue(t){this.dataJsonObj.inputValue=t}set quetionValue(t){this.dataJsonObj.quetionValue=t}set checkBoxValue(t){this.dataJsonObj.checkBoxValue=t}set fieldType(t){this.dataJsonObj.fieldType=t}constructor(t){this.loggerService=t}ngOnInit(){}ngAfterViewInit(){this.contentEditableDiv&&this.dataJsonObj.inputValue&&(this.contentEditableDiv.nativeElement.innerText=this.dataJsonObj.inputValue)}checkBoxClick(){this.dataJsonObj.checkBoxValue=!this.dataJsonObj.checkBoxValue,this.valueChange.emit(this.dataJsonObj)}changeText(t){try{this.errorObj={},this.dataJsonObj.inputValue=ae.L.isEmpty(t.target.innerText)?"":t.target.innerText,this.valueChange.emit(this.dataJsonObj)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeQuestionText",n)}}changeImage(t){t.updateBtn&&(this.dataJsonObj.imagechange=t.value,this.valueChange.emit(this.dataJsonObj))}clearInput(){this.dataJsonObj.image=""}selectItem(t){const n=t.target;if(!n.classList.contains("item-input"))return;const a=document.querySelector(".selected");a&&a.classList.remove("selected");const s=n.closest(".item");s&&s.classList.add("selected"),t.stopPropagation()}onDocumentClick(t){const n=t.target,a=document.querySelector(".selected");a&&!a.contains(n)&&a.classList.remove("selected")}removeFile(){}static \u0275fac=function(n){return new(n||i)(e.Y36(y.m))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-quiz-input-box"]],viewQuery:function(n,a){if(1&n&&e.Gf(ts,5),2&n){let s;e.iGM(s=e.CRH())&&(a.contentEditableDiv=s.first)}},hostBindings:function(n,a){1&n&&e.NdJ("click",function(o){return a.onDocumentClick(o)},!1,e.evT)},inputs:{dataJsonObj:"dataJsonObj",isCheckBoxEnabled:"isCheckBoxEnabled",fileTypes:"fileTypes",textfieldImageId:"textfieldImageId",image:"image",inputValue:"inputValue",quetionValue:"quetionValue",checkBoxValue:"checkBoxValue",fieldType:"fieldType"},outputs:{valueChange:"valueChange"},decls:27,vars:5,consts:[[1,"item"],[1,"question-box","no-select"],["class","item-index no-select","style","display: block;",4,"ngIf"],["class","question-check no-select",3,"click",4,"ngIf"],["class","item-media-holder empty no-select","name","0",4,"ngIf"],["class","item-media-holder no-select has-image position-relative","name","0",4,"ngIf"],[1,"hidden","item-number-prompt","no-select"],[1,"hidden","item-tools-wrapper","hidden"],[1,"item-tools"],["title","Bold","name","b",1,"toggle-button"],["title","Superscript","name","sup",1,"toggle-butto"],["title","Subscript","name","sub",1,"toggle-button"],["title","Symbol",1,"toggle-button"],[1,"item-input-wrapper"],["contenteditable","true","spellcheck","true","aria-multiline","false","autocapitalize","sentences","autocomplete","on","autocorrect","on",1,"item-input","selectable",3,"input","click"],["contentEditableDiv",""],[1,"item-index","no-select",2,"display","block"],[1,"question-check","no-select",3,"click"],["class","fa fa-check question-check-checked",3,"ngClass",4,"ngIf"],["class","fa fa-times question-check-unchecked",3,"ngClass",4,"ngIf"],[1,"fa","fa-check","question-check-checked",3,"ngClass"],[1,"fa","fa-times","question-check-unchecked",3,"ngClass"],["name","0",1,"item-media-holder","empty","no-select"],["type","file","btnHide","true","action","create","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","imageid","quizImage","valueChange","imageRemove"],["name","0",1,"item-media-holder","no-select","has-image","position-relative"],["draggable","true",1,"item-image","no-select",3,"src"],[1,"fas","fa-times","cursor-pointer","clear-img",3,"click"],["src","../../../assets/img/loading_spin_grey.gif",1,"item-loading"],[1,"item-media-icon","fa","fa-microphone"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,as,2,1,"div",2),e.YNc(3,ss,3,2,"div",3),e.YNc(4,os,2,3,"div",4),e.YNc(5,ls,3,1,"div",5),e.YNc(6,rs,3,0,"div",4),e.TgZ(7,"div",6),e._uU(8,"="),e.qZA(),e.TgZ(9,"div",7)(10,"div",8)(11,"button",9)(12,"b"),e._uU(13,"B"),e.qZA()(),e.TgZ(14,"button",10),e._uU(15,"x"),e.TgZ(16,"sup"),e._uU(17,"2"),e.qZA()(),e.TgZ(18,"button",11),e._uU(19,"x"),e.TgZ(20,"sub"),e._uU(21,"2"),e.qZA()(),e.TgZ(22,"button",12),e._uU(23,"\u03a9"),e.qZA()()(),e.TgZ(24,"div",13)(25,"div",14,15),e.NdJ("input",function(o){return a.changeText(o)})("click",function(o){return a.selectItem(o)}),e.qZA()()()()),2&n&&(e.xp6(2),e.Q6J("ngIf",a.dataJsonObj.quetionValue),e.xp6(1),e.Q6J("ngIf",a.isCheckBoxEnabled),e.xp6(1),e.Q6J("ngIf",!a.dataJsonObj.image&&a.dataJsonObj.isImageFieldEnabled),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.image&&a.dataJsonObj.isImageFieldEnabled),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.isAudioFieldEnabled))},dependencies:[j.mk,j.O5,w.f],styles:['.item[_ngcontent-%COMP%]{position:relative;float:left;width:100%;vertical-align:top;color:#222}.item-column[_ngcontent-%COMP%]   .selected.answer-box[_ngcontent-%COMP%]{border-color:#53bbf4;z-index:1}.item-column[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{position:relative;float:left;width:100%;vertical-align:top;color:#222}.item-column[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.item-column[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .answer-index[_ngcontent-%COMP%]{font-weight:600;font-size:15px;display:inline-block;float:left;width:30px;margin-top:11px;padding-left:13px;padding-right:19px}.question-check[_ngcontent-%COMP%]{position:relative;top:5px;width:24pt;height:24pt;display:inline;margin:1px 5px;float:left;background:#f0f0f0;cursor:pointer;border:1px solid #aaa}.question-check[_ngcontent-%COMP%]   .question-check-checked[_ngcontent-%COMP%], .question-check[_ngcontent-%COMP%]   .question-check-unchecked[_ngcontent-%COMP%]{text-align:center;position:absolute;font-size:18pt;width:100%;line-height:22pt}.question-check[_ngcontent-%COMP%]   .question-check-checked[_ngcontent-%COMP%]{color:#349f30}.question-check[_ngcontent-%COMP%]   .question-check-unchecked[_ngcontent-%COMP%]{color:#e70934}.question-check[_ngcontent-%COMP%]   .question-check-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.question-check[_ngcontent-%COMP%]   .question-check-checked.disabled[_ngcontent-%COMP%], .question-check[_ngcontent-%COMP%]   .question-check-unchecked.disabled[_ngcontent-%COMP%]{color:#ddd}.item.answer-box[_ngcontent-%COMP%]{display:inline-block;height:47px;float:left;padding:1px 0;margin:-1px 0 0;vertical-align:top;background-color:#fff;border:1px solid #d8d8d8;border-bottom-color:silver}.item-column.column1[_ngcontent-%COMP%]{padding-top:1px;width:50%;float:left}.item-column.column2[_ngcontent-%COMP%]{padding-top:1px;width:50%;float:right}.quiz-item-label[_ngcontent-%COMP%]{padding:10px 2px 1px}.quiz-item-label[_ngcontent-%COMP%]:first-child{padding-top:0;position:relative}.item-index[_ngcontent-%COMP%]{font-weight:600;font-size:16px;display:inline-block;float:left;line-height:46px;height:100%;text-align:center;color:#202020;min-width:45px;margin-right:5px}.item-media-holder[_ngcontent-%COMP%]{position:relative;float:left;height:35px;width:32px;margin:3px 3px 3px 2px;color:#404040;text-align:center;vertical-align:middle;font-size:10px;cursor:pointer;box-sizing:content-box;border:1px solid transparent}.item-media-holder[_ngcontent-%COMP%]   .item-media-icon[_ngcontent-%COMP%]{padding:1px 0 0;font-size:18px;line-height:34px;color:#a0a0a0;width:100%;height:100%}.item-media-holder[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{display:block;width:auto;height:100%;margin:auto;position:relative}.item-media-holder[_ngcontent-%COMP%]   .item-loading[_ngcontent-%COMP%]{position:absolute;margin:3px 5px;width:30px;height:30px;display:none}.item-media-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.item-media-holder[_ngcontent-%COMP%]   .item-number-prompt[_ngcontent-%COMP%]{display:inline-block;float:left;margin-top:12px;padding-left:10px;color:#888;font-size:11pt}.item-media-holder.has-image[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:4px;bottom:4px;right:-4px;border-right:1px solid #e0e0e0}.hidden[_ngcontent-%COMP%]{display:none!important}.item-media-holder.empty[_ngcontent-%COMP%]{float:right;margin-left:0}.question-box[_ngcontent-%COMP%]{display:inline-block;width:100%;height:46px;position:relative;background-color:#fff;border:1px solid #d8d8d8;border-bottom-color:silver;margin-bottom:4px;padding:0 2px}.question-box[_ngcontent-%COMP%]   .item-index[_ngcontent-%COMP%]{border:none;background:none;margin-left:-44px;float:left;font-size:21px;width:30px}.item-input-wrapper[_ngcontent-%COMP%]{height:100%;overflow:hidden;padding-left:8px;padding-right:8px;position:relative}.item-input-wrapper[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]{display:block;outline:none;vertical-align:middle;padding:0;border:none;cursor:text;width:100%;height:100%;color:#000;overflow:hidden;white-space:pre;line-height:44px}.item-tools-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:10;text-align:center;height:30px;top:-30px;left:0;width:100%;pointer-events:none;display:flex;justify-content:center}.item-tools-wrapper[_ngcontent-%COMP%]   .item-tools[_ngcontent-%COMP%]{height:30px;padding:2px 2px 0;border-top-left-radius:5px;border-top-right-radius:5px;background-color:#fff;border:1px solid #53bbf4;border-bottom-color:#fff;pointer-events:all;display:inline-block;margin:0;flex:0 0 auto}.item-tools-wrapper[_ngcontent-%COMP%]   .item-tools[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;margin:1px 1px 0;border-radius:2px;color:#000;background-color:#fff;border:#bbb solid 1px;width:28px;height:25px;vertical-align:top;font-size:14px}.item-tools-wrapper[_ngcontent-%COMP%]   .item-tools[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:800}.item-index.question[_ngcontent-%COMP%]{border:none;background:none;margin-left:-44px;float:left;width:30px}.selectable[_ngcontent-%COMP%]{-webkit-touch-callout:initial;-webkit-user-select:text;-o-user-select:text;user-select:text}.answers-footer[_ngcontent-%COMP%]{background:#fdfdfd}.answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%]{clear:both;padding:10px 10px 10px 0;text-align:left;color:#202020;background:#fdfdfd}.answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{white-space:nowrap}.answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{vertical-align:top;margin-left:.5em;margin-right:.5em}.answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{font-weight:600}.item-remove[_ngcontent-%COMP%], .item-duplicate[_ngcontent-%COMP%], .item-dragger[_ngcontent-%COMP%]{color:#0000004d;float:right;width:32px;line-height:44px;font-size:20px;text-align:center;cursor:pointer}.editor-add-item[_ngcontent-%COMP%]{font-weight:600;font-size:14px;cursor:pointer;padding:3px 10px 3px 3px;display:inline-block;width:350px;margin-bottom:10px;margin-top:5px;vertical-align:bottom;color:#222}.editor-add-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.no-select[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-o-user-select:none;user-select:none}.selected[_ngcontent-%COMP%]   .question-box[_ngcontent-%COMP%]{border-color:#53bbf4}@media screen and (max-width: 450px){.quiz-item[_ngcontent-%COMP%]{width:calc(100% - 36px)}}@media screen and (max-width: 1000px){.editor-child-items[_ngcontent-%COMP%]   .item-column.column1[_ngcontent-%COMP%], .editor-child-items[_ngcontent-%COMP%]   .item-column.column2[_ngcontent-%COMP%]{border:none;width:100%}}.clear-img[_ngcontent-%COMP%]{top:-8px;right:-6px;background:#fff;border-radius:50%;padding:4px 6px!important;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 4px #000;position:absolute}']})}return i})();const us=["answer"],cs=["question"],gs=["actionsblockdiv"];function ps(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",30),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().index,s=e.oxw(2).index,o=e.oxw();return e.KtG(o.optionDeleted(s,a))}),e._UZ(1,"span",31),e.qZA()}}const ms=function(i){return{display:i}};function _s(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",26)(1,"app-quiz-input-box",27,28),e.NdJ("valueChange",function(a){const o=e.CHM(t).$implicit,u=e.oxw(3);return e.KtG(u.changeAnswerTextFieldData(a,o))}),e.qZA(),e.YNc(3,ps,2,0,"div",29),e.qZA()}if(2&i){const t=l.$implicit,n=l.index,a=e.oxw(2),s=a.$implicit,o=a.index,u=e.oxw();e.Q6J("ngStyle",e.VKq(12,ms,s.options.length>2&&u.dataJsonObj.isEnableOptionDeleteButton?"flex":"block")),e.xp6(1),e.hYB("textfieldImageId","question",o,"_answeroptionImage",n,""),e.Q6J("image",t.option_image)("checkBox",!0)("checkBoxValue",t.is_correct)("inputValue",t.option)("audio",!1)("isCheckBoxEnabled",u.answerCheckBoxEnabled)("fileTypes",u.dataJsonObj.answerFileTypes)("ngClass",s.options.length>2&&u.dataJsonObj.isEnableOptionDeleteButton?"answer-inputbox-wrapper":""),e.xp6(2),e.Q6J("ngIf",s.options.length>2&&u.dataJsonObj.isEnableOptionDeleteButton)}}function hs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",32),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2),s=a.$implicit,o=a.index,u=e.oxw();return e.KtG(u.addOption(s,o))}),e._UZ(1,"span",33),e._uU(2,"Add more answers "),e.qZA()}}const bs=function(i){return{width:i}};function Os(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",9,10)(2,"div",11),e._uU(3,"Question"),e.qZA(),e.TgZ(4,"app-quiz-input-box",12,13),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw().$implicit,o=e.oxw();return e.KtG(o.changeQuestionTextFieldData(a,s))}),e.qZA(),e.TgZ(6,"div",11),e._uU(7,"Answers"),e.qZA(),e.TgZ(8,"div",14),e.YNc(9,_s,4,14,"div",15),e.qZA(),e.TgZ(10,"div",16)(11,"div",17)(12,"span",18)(13,"span"),e._uU(14,"Must select:"),e.qZA(),e.TgZ(15,"span",19)(16,"span",20),e._UZ(17,"input",21),e.TgZ(18,"label",22),e._uU(19,"One correct answer"),e.qZA()(),e.TgZ(20,"span",20),e._UZ(21,"input",23),e.TgZ(22,"label",24),e._uU(23,"All correct answers"),e.qZA()()()()(),e.YNc(24,hs,3,0,"div",25),e.qZA()()}if(2&i){const t=e.oxw(),n=t.$implicit,a=t.index,s=e.oxw();e.Q6J("ngStyle",e.VKq(11,bs,s.actionsBlockInnerWidth?"calc(100% - "+s.actionsBlockInnerWidth+"px)":"calc(100% - 32px)")),e.xp6(4),e.Q6J("image",n.quizImage)("checkBox",!1)("inputValue",n.question)("quetionValue",s.getQuetioValue(a))("audio",!1)("fileTypes",s.dataJsonObj.questionFileTypes)("isCheckBoxEnabled",s.questionIsCheckBoxEnabled)("textfieldImageId","questionImage"+a),e.xp6(5),e.Q6J("ngForOf",n.options),e.xp6(15),e.Q6J("ngIf",s.dataJsonObj.isAddAnswerButtonEnable)}}function Ts(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",39),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).index,s=e.oxw();return e.KtG(s.deleteQuestion(a))}),e._UZ(1,"span",40),e.qZA()}}function Js(i,l){1&i&&(e.TgZ(0,"div",41),e._UZ(1,"span",42),e.qZA())}function fs(i,l){1&i&&(e.TgZ(0,"div",43),e._UZ(1,"span",44),e.qZA())}function js(i,l){if(1&i&&(e.TgZ(0,"div",34,35),e.YNc(2,Ts,2,0,"div",36),e.YNc(3,Js,2,0,"div",37),e.YNc(4,fs,2,0,"div",38),e.qZA()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.dataJsonObj.dataList.length>1&&t.dataJsonObj.isQuestionDeleteButtonEnable),e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.isCapFile),e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.isDraggerFile)}}function Cs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",45),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.addQuestion())}),e._UZ(1,"span",33),e._uU(2,"Add a question "),e.qZA()}}function Is(i,l){if(1&i&&(e.TgZ(0,"div",46)(1,"div",47),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().index,n=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,1,n.errorObj[t+""])," ")}}function As(i,l){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),e.YNc(4,Os,25,13,"div",5),e.YNc(5,js,5,3,"div",6),e.qZA(),e.YNc(6,Cs,3,0,"div",7),e.qZA()(),e.YNc(7,Is,4,3,"div",8),e.qZA()),2&i){const t=l.$implicit,n=l.index,a=e.oxw();e.xp6(4),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.dataList.length>1||a.dataJsonObj.isCapFile||a.dataJsonObj.isDraggerFile),e.xp6(1),e.Q6J("ngIf",n===(null==a.dataJsonObj.dataList?null:a.dataJsonObj.dataList.length)-1&&a.dataJsonObj.isAddAnswerButtonEnable),e.xp6(1),e.Q6J("ngIf",a.errorObj[n+""])}}let X=(()=>{class i{commonService;translateService;valueChange=new e.vpe;clearSubmitClick=new e.vpe;answer;question;actionsBlockDiv;dataJsonObj={};errorObj={};className;questionIsCheckBoxEnabled;answerCheckBoxEnabled;copFile;set questionFileTypes(t){this.dataJsonObj.questionFileTypes=t}set answerFileTypes(t){this.dataJsonObj.answerFileTypes=t}set isAddQuestionButtonEnable(t){this.dataJsonObj.isAddQuestionButtonEnable=t}set isAddAnswerButtonEnable(t){this.dataJsonObj.isAddAnswerButtonEnable=t}set isEnableOptionDeleteButton(t){this.dataJsonObj.isEnableOptionDeleteButton=t}set isQuestionDeleteButtonEnable(t){this.dataJsonObj.isQuestionDeleteButtonEnable=t}error;targetWidth=0;actionsBlockInnerWidth;set data(t){t?this.dataJsonObj.dataList=t:(this.dataJsonObj.dataList=[],this.resetDefaultQuestionObj())}set isCapyFile(t){this.dataJsonObj.isCapFile=t}set isDraggerFile(t){this.dataJsonObj.isDraggerFile=t}set isValidateQuestions(t){t&&this.validateAllQuestionsData()}constructor(t,n){this.commonService=t,this.translateService=n}ngOnInit(){this.dataJsonObj.optionCount=0}changeQuestionTextFieldData(t,n){this.errorObj={},n.question=t.inputValue,n.quizImage=t.imagechange,this.valueChange.emit(JSON.parse(JSON.stringify(this.dataJsonObj.dataList)))}changeAnswerTextFieldData(t,n){this.errorObj={},n.option=t.inputValue,n.option_image=t.imagechange,n.is_correct=t.checkBoxValue,this.valueChange.emit(JSON.parse(JSON.stringify(this.dataJsonObj.dataList)))}addOption(t,n){-1===(t.options?.length>0?t.options.findIndex(s=>!s.option||""===s.option.trim()):-1)?t.options.push({option:"",option_id:t.options?.length>0?t.options[t.options.length-1].option_id+1:1,is_correct:!1,option_image:""}):this.errorObj[n+""]="Answers should not be Empty"}getQuizData(){this.valueChange.emit(this.dataJsonObj.dataList)}getActionsBlockWidth(){this.actionsBlockDiv?this.actionsBlockInnerWidth=this.actionsBlockDiv.nativeElement.clientWidth:console.warn("actionsBlockDiv is not defined")}addQuestion(){var t=this;return(0,T.Z)(function*(){const n=t.dataJsonObj.dataList?t.dataJsonObj.dataList.length-1:-1;(yield t.validateQuestionDataObj(n))&&(t.valueChange.emit(JSON.parse(JSON.stringify(t.dataJsonObj.dataList))),t.resetDefaultQuestionObj()),t.commonService.isDesktop()&&setTimeout(()=>t.getActionsBlockWidth(),0)})()}deleteQuestion(t){try{ne().fire({title:"",text:this.translateService.instant("COMMON_CONFIRM_MESSAGES.CONFIRM_RECORD_DELETE")}).then(n=>{n.value&&this.dataJsonObj.dataList.splice(t,1)})}catch{}}optionDeleted(t,n){this.errorObj={},this.dataJsonObj.dataList[t]?.options.splice(n,1)}validateAllQuestionsData(){var t=this;return(0,T.Z)(function*(){let n=!0;if(t.dataJsonObj.dataList.length>0){for(let a=0;a<t.dataJsonObj.dataList.length;a++)(yield t.validateQuestionDataObj(a))||(n=!1);n?t.valueChange.emit(JSON.parse(JSON.stringify(t.dataJsonObj.dataList))):t.clearSubmitClick.emit({})}})()}validateQuestionDataObj(t){var n=this;return(0,T.Z)(function*(){let a=!1;const s=-1!=t?n.dataJsonObj.dataList[t]:"";return s&&(s.question&&""!==s.question.trim()?s.options&&Array.isArray(s.options)?-1!==s.options.findIndex(u=>!u.option||""===u.option.trim())?n.errorObj[t+""]=s.options.length>2?"Answers should not be Empty":"Please provide at least two valid options":(n.errorObj[t+""]="",a=!0):n.errorObj[t+""]="Options are missing":n.errorObj[t+""]="Question can't be blank"),a})()}resetDefaultQuestionObj(){this.dataJsonObj.dataList.push({quizImage:"",question:"",display_sequence:this.dataJsonObj.dataList?.length>0?this.dataJsonObj.dataList[this.dataJsonObj.dataList.length-1].display_sequence+1:1,options:[{option:"",option_id:1,is_correct:!1,option_image:""},{option:"",option_id:2,is_correct:!1,option_image:""}]})}getQuetioValue(t){return t+1}getTextfieldId(t,n){return console.log("type + id",t+n),t+n}static \u0275fac=function(n){return new(n||i)(e.Y36(N.v),e.Y36(C.sK))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-quiz-question-answer-block"]],viewQuery:function(n,a){if(1&n&&(e.Gf(us,5),e.Gf(cs,5),e.Gf(gs,5)),2&n){let s;e.iGM(s=e.CRH())&&(a.answer=s.first),e.iGM(s=e.CRH())&&(a.question=s.first),e.iGM(s=e.CRH())&&(a.actionsBlockDiv=s.first)}},inputs:{className:"className",questionIsCheckBoxEnabled:"questionIsCheckBoxEnabled",answerCheckBoxEnabled:"answerCheckBoxEnabled",copFile:"copFile",questionFileTypes:"questionFileTypes",answerFileTypes:"answerFileTypes",isAddQuestionButtonEnable:"isAddQuestionButtonEnable",isAddAnswerButtonEnable:"isAddAnswerButtonEnable",isEnableOptionDeleteButton:"isEnableOptionDeleteButton",isQuestionDeleteButtonEnable:"isQuestionDeleteButtonEnable",data:"data",isCapyFile:"isCapyFile",isDraggerFile:"isDraggerFile",isValidateQuestions:"isValidateQuestions"},outputs:{valueChange:"valueChange",clearSubmitClick:"clearSubmitClick"},decls:2,vars:1,consts:[["class","quiz-input-container",4,"ngFor","ngForOf"],[1,"quiz-input-container"],["id","quiz-wrapper",1,"editor-wrapper"],[1,"item-wrapper"],[1,"editor-child-items","flex-column","flex-lg-row"],["class","quiz-item no-select",3,"ngStyle",4,"ngIf"],["class","position-relative",4,"ngIf"],["class","editor-add-item no-select","style","display: inline-block;",3,"click",4,"ngIf"],["class","row",4,"ngIf"],[1,"quiz-item","no-select",3,"ngStyle"],["quizitemblockdiv",""],[1,"quiz-item-label"],[3,"image","checkBox","inputValue","quetionValue","audio","fileTypes","isCheckBoxEnabled","textfieldImageId","valueChange"],["question",""],[1,"editor-child-items","flex-column","flex-lg-row","flex-lg-wrap"],["class","item-column column1",3,"ngStyle",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","flex-wrap","w-100","answers-footer"],[1,"require-all-wrapper","no-select",2,"display","block"],[1,"d-flex","flex-row","flex-wrap","pdl-5"],[1,"d-flex","flex-wrap"],[1,"d-flex","align-items-center"],["type","radio","name","q0-require-all","id","require-all-false","checked","","disabled",""],["for","q0-require-all-false"],["type","radio","name","q0-require-all","id","require-all-true","disabled",""],["for","q0-require-all-true"],["class","editor-add-item no-select d-flex justify-content-end align-items-center",3,"click",4,"ngIf"],[1,"item-column","column1",3,"ngStyle"],[3,"image","checkBox","checkBoxValue","inputValue","audio","isCheckBoxEnabled","fileTypes","textfieldImageId","ngClass","valueChange"],["answer",""],["class","item-media-holder empty no-select","name","0",3,"click",4,"ngIf"],["name","0",1,"item-media-holder","empty","no-select",3,"click"],[1,"item-media-icon","fa","fa-trash-alt"],[1,"editor-add-item","no-select","d-flex","justify-content-end","align-items-center",3,"click"],[1,"fas","fa-plus"],[1,"position-relative"],["actionsblockdiv",""],["class","item-remove no-select",3,"click",4,"ngIf"],["class","item-duplicate no-select",4,"ngIf"],["class","item-dragger",4,"ngIf"],[1,"item-remove","no-select",3,"click"],[1,"fa","fa-trash-alt"],[1,"item-duplicate","no-select"],[1,"fas","fa-copy"],[1,"item-dragger"],[1,"fa","fa-sort"],[1,"editor-add-item","no-select",2,"display","inline-block",3,"click"],[1,"row"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"]],template:function(n,a){1&n&&(e.ynx(0),e.YNc(1,As,8,4,"div",0),e.BQk()),2&n&&(e.xp6(1),e.Q6J("ngForOf",a.dataJsonObj.dataList))},dependencies:[j.mk,j.sg,j.O5,j.PC,ds,C.X$],styles:['.editor-child-items[_ngcontent-%COMP%]{display:flex;width:100%;float:left}.item[_ngcontent-%COMP%]{position:relative;float:left;width:100%;vertical-align:top;color:#222}.item[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.item[_ngcontent-%COMP%]   .answer-index[_ngcontent-%COMP%]{font-weight:600;font-size:15px;display:inline-block;float:left;width:30px;margin-top:11px;padding-left:13px;padding-right:19px}.item[_ngcontent-%COMP%]   .question-check[_ngcontent-%COMP%]{position:relative;top:5px;width:24pt;height:24pt;display:inline;margin:1px 5px;float:left;background:#f0f0f0;cursor:pointer;border:1px solid #aaa}.item[_ngcontent-%COMP%]   .question-check[_ngcontent-%COMP%]   .question-check-checked[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .question-check[_ngcontent-%COMP%]   .question-check-unchecked[_ngcontent-%COMP%]{text-align:center;position:absolute;font-size:18pt;width:100%;line-height:22pt}.item[_ngcontent-%COMP%]   .question-check[_ngcontent-%COMP%]   .question-check-checked[_ngcontent-%COMP%]{color:#349f30}.item[_ngcontent-%COMP%]   .question-check[_ngcontent-%COMP%]   .question-check-unchecked[_ngcontent-%COMP%]{color:#e70934}.item[_ngcontent-%COMP%]   .question-check[_ngcontent-%COMP%]   .question-check-back[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.item[_ngcontent-%COMP%]   .question-check[_ngcontent-%COMP%]   .question-check-checked.disabled[_ngcontent-%COMP%], .item[_ngcontent-%COMP%]   .question-check[_ngcontent-%COMP%]   .question-check-unchecked.disabled[_ngcontent-%COMP%]{color:#ddd}.item.answer-box[_ngcontent-%COMP%]{display:inline-block;height:47px;float:left;padding:1px 0;margin:-1px 0 0;vertical-align:top;background-color:#fff;border:1px solid #d8d8d8;border-bottom-color:silver}.item-column.column1[_ngcontent-%COMP%]{padding-top:1px;width:50%;float:left;flex-flow:row nowrap}.item-column.column1[_ngcontent-%COMP%]   .answer-inputbox-wrapper[_ngcontent-%COMP%]{width:calc(100% - 36px)}.item-column.column2[_ngcontent-%COMP%]{padding-top:1px;width:50%;float:right}.quiz-item[_ngcontent-%COMP%]{display:inline-block;width:88%;background-color:#f4f4f4;margin-bottom:0;margin-left:32px;float:left;border-radius:4px;width:calc(100% - 132px);padding:5px 7px 7px}.quiz-item[_ngcontent-%COMP%]   .quiz-item-label[_ngcontent-%COMP%]{padding:10px 2px 1px}.quiz-item[_ngcontent-%COMP%]   .quiz-item-label[_ngcontent-%COMP%]:first-child{padding-top:0;position:relative}.quiz-item[_ngcontent-%COMP%]   .item-index[_ngcontent-%COMP%]{font-weight:600;font-size:16px;display:inline-block;float:left;line-height:46px;height:100%;text-align:center;color:#202020;min-width:45px;margin-right:5px}.quiz-item[_ngcontent-%COMP%]   .item-media-holder[_ngcontent-%COMP%]{position:relative;float:left;height:35px;width:32px;margin:3px 3px 3px 2px;color:#404040;text-align:center;vertical-align:middle;font-size:10px;cursor:pointer;box-sizing:content-box;border:1px solid transparent}.quiz-item[_ngcontent-%COMP%]   .item-media-holder[_ngcontent-%COMP%]   .item-media-icon[_ngcontent-%COMP%]{padding:1px 0 0;font-size:18px;line-height:34px;color:#e70934;width:100%;height:100%}.quiz-item[_ngcontent-%COMP%]   .item-media-holder[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{display:block;width:auto;height:100%;margin:auto;position:relative}.quiz-item[_ngcontent-%COMP%]   .item-media-holder[_ngcontent-%COMP%]   .item-loading[_ngcontent-%COMP%]{position:absolute;margin:3px 5px;width:30px;height:30px;display:none}.quiz-item[_ngcontent-%COMP%]   .item-media-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.quiz-item[_ngcontent-%COMP%]   .item-media-holder[_ngcontent-%COMP%]   .item-number-prompt[_ngcontent-%COMP%]{display:inline-block;float:left;margin-top:12px;padding-left:10px;color:#888;font-size:11pt}.quiz-item[_ngcontent-%COMP%]   .item-media-holder.has-image[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:4px;bottom:4px;right:-4px;border-right:1px solid #e0e0e0}.quiz-item[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{display:none!important}.quiz-item[_ngcontent-%COMP%]   .item-media-holder.empty[_ngcontent-%COMP%]{float:right;margin-left:0}.quiz-item[_ngcontent-%COMP%]   .question-box[_ngcontent-%COMP%]{display:inline-block;width:100%;height:46px;position:relative;background-color:#fff;border:1px solid #d8d8d8;border-bottom-color:silver;margin-bottom:4px;padding:0 2px}.quiz-item[_ngcontent-%COMP%]   .question-box[_ngcontent-%COMP%]   .item-index[_ngcontent-%COMP%]{border:none;background:none;margin-left:-44px;float:left;font-size:21px;width:30px}.quiz-item[_ngcontent-%COMP%]   .item-input-wrapper[_ngcontent-%COMP%]{height:100%;overflow:hidden;padding-left:8px;padding-right:8px;position:relative}.quiz-item[_ngcontent-%COMP%]   .item-input-wrapper[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]{display:block;outline:none;vertical-align:middle;padding:0;border:none;cursor:text;width:100%;height:100%;color:#000;overflow:hidden;white-space:pre;line-height:44px}.quiz-item[_ngcontent-%COMP%]   .item-tools-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:10;text-align:center;height:30px;top:-30px;left:0;width:100%;pointer-events:none;display:flex;justify-content:center}.quiz-item[_ngcontent-%COMP%]   .item-tools-wrapper[_ngcontent-%COMP%]   .item-tools[_ngcontent-%COMP%]{height:30px;padding:2px 2px 0;border-top-left-radius:5px;border-top-right-radius:5px;background-color:#fff;border:1px solid #53bbf4;border-bottom-color:#fff;pointer-events:all;display:inline-block;margin:0;flex:0 0 auto}.quiz-item[_ngcontent-%COMP%]   .item-tools-wrapper[_ngcontent-%COMP%]   .item-tools[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;margin:1px 1px 0;border-radius:2px;color:#000;background-color:#fff;border:#bbb solid 1px;width:28px;height:25px;vertical-align:top;font-size:14px}.quiz-item[_ngcontent-%COMP%]   .item-tools-wrapper[_ngcontent-%COMP%]   .item-tools[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:800}.quiz-item[_ngcontent-%COMP%]   .item-index.question[_ngcontent-%COMP%]{border:none;background:none;margin-left:-44px;float:left;width:30px}.quiz-item[_ngcontent-%COMP%]   .selectable[_ngcontent-%COMP%]{-webkit-touch-callout:initial;-webkit-user-select:text;-o-user-select:text;user-select:text}.quiz-item[_ngcontent-%COMP%]   .answers-footer[_ngcontent-%COMP%]{background:#fdfdfd}.quiz-item[_ngcontent-%COMP%]   .answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%]{clear:both;padding:10px 10px 10px 0;text-align:left;color:#202020;background:#fdfdfd}.quiz-item[_ngcontent-%COMP%]   .answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{white-space:nowrap}.quiz-item[_ngcontent-%COMP%]   .answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{vertical-align:top;margin-left:.5em;margin-right:.5em}.quiz-item[_ngcontent-%COMP%]   .answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{font-weight:600}.quiz-item-label[_ngcontent-%COMP%]{padding:10px 2px 1px}.quiz-item-label[_ngcontent-%COMP%]:first-child{padding-top:0;position:relative}.item-index[_ngcontent-%COMP%]{font-weight:600;font-size:16px;display:inline-block;float:left;line-height:46px;height:100%;text-align:center;color:#202020;min-width:45px;margin-right:5px}.item-media-holder[_ngcontent-%COMP%]{position:relative;float:left;height:35px;width:32px;margin:3px 3px 3px 2px;color:#404040;text-align:center;vertical-align:middle;font-size:10px;cursor:pointer;box-sizing:content-box;border:1px solid transparent}.item-media-holder[_ngcontent-%COMP%]   .item-media-icon[_ngcontent-%COMP%]{padding:1px 0 0;font-size:18px;line-height:34px;color:#a0a0a0;width:100%;height:100%}.item-media-holder[_ngcontent-%COMP%]   .item-image[_ngcontent-%COMP%]{display:block;width:auto;height:100%;margin:auto;position:relative}.item-media-holder[_ngcontent-%COMP%]   .item-loading[_ngcontent-%COMP%]{position:absolute;margin:3px 5px;width:30px;height:30px;display:none}.item-media-holder[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.item-media-holder[_ngcontent-%COMP%]   .item-number-prompt[_ngcontent-%COMP%]{display:inline-block;float:left;margin-top:12px;padding-left:10px;color:#888;font-size:11pt}.item-media-holder.has-image[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;top:4px;bottom:4px;right:-4px;border-right:1px solid #e0e0e0}.hidden[_ngcontent-%COMP%]{display:none!important}.item-media-holder.empty[_ngcontent-%COMP%]{float:right;margin-left:0}.question-box[_ngcontent-%COMP%]{display:inline-block;width:100%;height:46px;position:relative;background-color:#fff;border:1px solid #d8d8d8;border-bottom-color:silver;margin-bottom:4px;padding:0 2px}.question-box[_ngcontent-%COMP%]   .item-index[_ngcontent-%COMP%]{border:none;background:none;margin-left:-44px;float:left;font-size:21px;width:30px}.item-input-wrapper[_ngcontent-%COMP%]{height:100%;overflow:hidden;padding-left:8px;padding-right:8px;position:relative}.item-input-wrapper[_ngcontent-%COMP%]   .item-input[_ngcontent-%COMP%]{display:block;outline:none;vertical-align:middle;padding:0;border:none;cursor:text;width:100%;height:100%;color:#000;overflow:hidden;white-space:pre;line-height:44px}.item-tools-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:10;text-align:center;height:30px;top:-30px;left:0;width:100%;pointer-events:none;display:flex;justify-content:center}.item-tools-wrapper[_ngcontent-%COMP%]   .item-tools[_ngcontent-%COMP%]{height:30px;padding:2px 2px 0;border-top-left-radius:5px;border-top-right-radius:5px;background-color:#fff;border:1px solid #53bbf4;border-bottom-color:#fff;pointer-events:all;display:inline-block;margin:0;flex:0 0 auto}.item-tools-wrapper[_ngcontent-%COMP%]   .item-tools[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;margin:1px 1px 0;border-radius:2px;color:#000;background-color:#fff;border:#bbb solid 1px;width:28px;height:25px;vertical-align:top;font-size:14px}.item-tools-wrapper[_ngcontent-%COMP%]   .item-tools[_ngcontent-%COMP%]   .toggle-button[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-weight:800}.item-index.question[_ngcontent-%COMP%]{border:none;background:none;margin-left:-44px;float:left;width:30px}.selectable[_ngcontent-%COMP%]{-webkit-touch-callout:initial;-webkit-user-select:text;-o-user-select:text;user-select:text}.answers-footer[_ngcontent-%COMP%]{background:#fdfdfd}.answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%]{clear:both;padding:10px 10px 10px 0;text-align:left;color:#202020;background:#fdfdfd}.answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{white-space:nowrap}.answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{vertical-align:top;margin-left:.5em;margin-right:.5em}.answers-footer[_ngcontent-%COMP%]   .require-all-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{font-weight:600}.item-remove[_ngcontent-%COMP%], .item-duplicate[_ngcontent-%COMP%], .item-dragger[_ngcontent-%COMP%]{color:#0000004d;float:right;width:32px;line-height:44px;font-size:20px;text-align:center;cursor:pointer}.item-remove[_ngcontent-%COMP%]{color:#e70934}.editor-add-item[_ngcontent-%COMP%]{font-weight:600;font-size:14px;cursor:pointer;padding:3px 10px 3px 3px;display:inline-block;width:350px;margin-bottom:10px;margin-top:5px;vertical-align:bottom;color:#222}.editor-add-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.no-select[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-o-user-select:none;user-select:none}.selected[_ngcontent-%COMP%]   .question-box[_ngcontent-%COMP%]{border-color:#53bbf4}@media screen and (max-width: 450px){.quiz-item[_ngcontent-%COMP%]{width:calc(100% - 36px)}}@media screen and (max-width: 1000px){.editor-child-items[_ngcontent-%COMP%]   .item-column.column1[_ngcontent-%COMP%], .editor-child-items[_ngcontent-%COMP%]   .item-column.column2[_ngcontent-%COMP%]{border:none;width:100%}}']})}return i})();const vs=["quiztitlevalid"],Es=["questionValid"],Ns=["optionvalidate"],Ss=["typeDropdown"],Zs=["quizinputDataList"],ys=["displayNameUpdate"],qs=["file1"],Ls=["file2"],Ds=["file3"],xs=["languageAdd"],Ms=["displayNameAdd"],zs=["file4"],ws=["file5"];function Qs(i,l){if(1&i&&(e.TgZ(0,"tr",76)(1,"td",77),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Us(i,l){if(1&i&&e.YNc(0,Qs,4,4,"tr",75),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.languagesData&&0===t.dataJsonObj.languagesData.length)}}function ks(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Vs(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,ks,3,3,"th",78),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Rs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",80),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editLanguages(s,o))}),e._UZ(1,"span",81),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," "),e.Q6J("pSelectableRow",n),e.xp6(1),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Fs(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Rs,2,5,"td",79),e.qZA()),2&i){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Ps(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",81)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Bs(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ps,7,4,"div",82),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function Gs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",83)(1,"ion-label",84),e.NdJ("click",function(){const a=e.CHM(t),s=a.index,o=a.$implicit,u=e.oxw();return e.KtG(u.editLanguages(s,o))}),e.TgZ(2,"span",85),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",86),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",86),e._uU(9),e.ALo(10,"translate"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(3),e.AsE(" ",e.lcZ(4,6,"PREFERENCES.LANGUAGE"),": ",null==t?null:t.language_name_value,""),e.xp6(3),e.AsE("",e.lcZ(7,8,"COMMON_FIELDS.DISPLAY_NAME"),": ",null==t?null:t.lookup_display_name," "),e.xp6(3),e.AsE("",e.lcZ(10,10,"COMMON_FIELDS.ENABLED"),": ",null==t?null:t.is_enabled_value," ")}}function Hs(i,l){1&i&&(e.TgZ(0,"p",87),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}function Ys(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",105)(2,"i",106),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changeTranslateImageRemove("welcome_screen"))}),e.qZA(),e._UZ(3,"img",107),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.welcome_screen,e.LSH)}}function $s(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",105)(2,"i",106),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changeTranslateImageRemove("success_screen"))}),e.qZA(),e._UZ(3,"img",107),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.success_screen,e.LSH)}}function Ks(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",105)(2,"i",106),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changeTranslateImageRemove("failure_screen"))}),e.qZA(),e._UZ(3,"img",107),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.failure_screen,e.LSH)}}function Ws(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",105)(2,"i",106),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changeTranslateImageRemove("congratulation_screen"))}),e.qZA(),e._UZ(3,"img",107),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.congratulation_screen,e.LSH)}}function Xs(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",57)(2,"div",8)(3,"div",9)(4,"app-dropdown-search",88,89),e.NdJ("selectedOption",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeLanguage(a))})("searchValueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.getLanguagesList(a))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",71)(8,"app-checkbox",90),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeLangTransQuestionCheckBox(a))}),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",9),e._UZ(11,"app-input",91),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",9)(14,"app-input",92,93),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeLangTransDisplayname(a))}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",69)(18,"app-textarea",94),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeLangTransDescription(a))}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",71)(21,"app-checkbox",90),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeLangTransCheckBox(a))}),e.qZA()(),e.TgZ(22,"div",12),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",95)(26,"div",17)(27,"div",9)(28,"input",96,97),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeTranslateImage(a,"welcome_screen"))}),e.qZA(),e.YNc(30,Ys,4,1,"div",58),e.TgZ(31,"app-button",98),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.triggerFile1())}),e.ALo(32,"translate"),e.qZA()(),e.TgZ(33,"div",9)(34,"input",99,100),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeTranslateImage(a,"success_screen"))}),e.qZA(),e.YNc(36,$s,4,1,"div",58),e.TgZ(37,"app-button",98),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.triggerFile2())}),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",9)(40,"input",101,102),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeTranslateImage(a,"failure_screen"))}),e.qZA(),e.YNc(42,Ks,4,1,"div",58),e.TgZ(43,"app-button",98),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.triggerFile3())}),e.ALo(44,"translate"),e.qZA()(),e.TgZ(45,"div",9)(46,"input",103,104),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeTranslateImage(a,"congratulation_screen"))}),e.qZA(),e.YNc(48,Ws,4,1,"div",58),e.TgZ(49,"app-button",98),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.triggerFile4())}),e.ALo(50,"translate"),e.qZA()()()()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.s9C("label",e.lcZ(6,23,"PREFERENCES.LANGUAGE")),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.translateLanguageOptions),e.xp6(4),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.languageTranslationEnableQuestionCheckbox)("checked",null==t.dataJsonObj?null:t.dataJsonObj.isLangTransQuestionCheckBoxEnabled),e.xp6(3),e.s9C("label",e.lcZ(12,25,"NEW_VARIABLES.NAME")),e.s9C("value",t.dataJsonObj.quizTitle),e.xp6(3),e.s9C("label",e.lcZ(16,27,"COMMON_FIELDS.DISPLAY_NAME")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(4),e.s9C("label",e.lcZ(19,29,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==t.dataJsonObj?null:t.dataJsonObj.langTransDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==t.dataJsonObj?null:t.dataJsonObj.isLangTransEnabled),e.xp6(2),e.hij(" ",e.lcZ(24,31,null==t.dataJsonObj?null:t.dataJsonObj.addPopupError)," "),e.xp6(7),e.Q6J("ngIf",null==t.dataJsonObj.islanguageImgEnable?null:t.dataJsonObj.islanguageImgEnable.welcome_screen),e.xp6(1),e.s9C("label",e.lcZ(32,33,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==t.dataJsonObj.islanguageImgEnable?null:t.dataJsonObj.islanguageImgEnable.success_screen),e.xp6(1),e.s9C("label",e.lcZ(38,35,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==t.dataJsonObj.islanguageImgEnable?null:t.dataJsonObj.islanguageImgEnable.failure_screen),e.xp6(1),e.s9C("label",e.lcZ(44,37,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==t.dataJsonObj.islanguageImgEnable?null:t.dataJsonObj.islanguageImgEnable.congratulation_screen),e.xp6(1),e.s9C("label",e.lcZ(50,39,"NEW_VARIABLES.CONGRATULATION_IMAGE"))}}function eo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",105)(2,"i",106),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changeTranslateImageRemove("question_screen","question"))}),e.qZA(),e._UZ(3,"img",107),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("src",t.dataJsonObj.question_screen,e.LSH)}}function to(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",95)(2,"div",17)(3,"div",9)(4,"app-dropdown-search",108,89),e.NdJ("selectedOption",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeLanguage(a))})("searchValueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.getLanguagesList(a))}),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",71)(8,"app-checkbox",90),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeLangTransQuestionCheckBox(a))}),e.qZA()()(),e.TgZ(9,"div",17)(10,"div",9)(11,"app-dropdown-singleselect",109,110),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeQuestionDropDown(a))}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",9)(15,"app-input",111,93),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeQuestionTranslation(a))}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",9)(19,"input",112,113),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeTranslateImage(a,"question_screen","question"))}),e.qZA(),e.YNc(21,eo,4,1,"div",58),e.TgZ(22,"app-button",98),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.triggerFile5())}),e.ALo(23,"translate"),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.s9C("label",e.lcZ(6,11,"PREFERENCES.LANGUAGE")),e.s9C("defaultValue",t.dataJsonObj.languageName),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.translateLanguageOptions),e.xp6(4),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.languageTranslationEnableQuestionCheckbox)("checked",null==t.dataJsonObj?null:t.dataJsonObj.isLangTransQuestionCheckBoxEnabled),e.xp6(3),e.s9C("label",e.lcZ(13,13,"COMMON_BLOCK_TITLES.QUESTIONS")),e.s9C("defaultValue",t.dataJsonObj.questionId),e.Q6J("options",t.dataJsonObj.quizQuestions),e.xp6(4),e.s9C("label",e.lcZ(17,15,"COMMON_PAGE_TITLES.TRANSLATIONS")),e.xp6(6),e.Q6J("ngIf",t.dataJsonObj.question_screen),e.xp6(1),e.s9C("label",e.lcZ(23,17,"NEW_VARIABLES.QUESTION_IMAGE"))}}function ao(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",95)(2,"div",17)(3,"div",9),e._UZ(4,"app-input",114),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",9)(7,"app-input",115),e.NdJ("valueChange",function(a){const o=e.CHM(t).index,u=e.oxw(2);return e.KtG(u.changeOptionTranslation(a,o))}),e.ALo(8,"translate"),e.qZA()()()()()}if(2&i){const t=l.$implicit;e.xp6(4),e.s9C("label",e.lcZ(5,4,"POLL.OPTIONS")),e.s9C("value",t.option),e.Q6J("maxlength",300),e.xp6(3),e.s9C("label",e.lcZ(8,6,"COMMON_PAGE_TITLES.TRANSLATIONS"))}}function no(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ao,9,8,"div",78),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.dataJsonObj.optionsArray)}}function io(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",105)(2,"i",106),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changeTranslateImageRemove("welcome_screen"))}),e.qZA(),e._UZ(3,"img",107),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.welcome_screen,e.LSH)}}function so(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",105)(2,"i",106),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changeTranslateImageRemove("success_screen"))}),e.qZA(),e._UZ(3,"img",107),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.success_screen,e.LSH)}}function oo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",105)(2,"i",106),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changeTranslateImageRemove("failure_screen"))}),e.qZA(),e._UZ(3,"img",107),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.failure_screen,e.LSH)}}function lo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",105)(2,"i",106),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changeTranslateImageRemove("congratulation_screen"))}),e.qZA(),e._UZ(3,"img",107),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.congratulation_screen,e.LSH)}}function ro(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",57)(2,"div",8)(3,"div",9),e._UZ(4,"app-input",116),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",9),e._UZ(7,"app-input",117),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",9)(10,"app-input",118,119),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeLangTransDisplayname(a))}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",69)(14,"app-textarea",120),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeLangTransDescription(a))}),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",121)(17,"div",17)(18,"div",9)(19,"input",96,97),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeTranslateImage(a,"welcome_screen"))}),e.qZA(),e.YNc(21,io,4,1,"div",58),e.TgZ(22,"app-button",98),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.triggerFile1())}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",9)(25,"input",99,100),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeTranslateImage(a,"success_screen"))}),e.qZA(),e.YNc(27,so,4,1,"div",58),e.TgZ(28,"app-button",122),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.triggerFile2())}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",9)(31,"input",101,102),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeTranslateImage(a,"failure_screen"))}),e.qZA(),e.YNc(33,oo,4,1,"div",58),e.TgZ(34,"app-button",122),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.triggerFile3())}),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"div",9)(37,"input",103,104),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeTranslateImage(a,"congratulation_screen"))}),e.qZA(),e.YNc(39,lo,4,1,"div",58),e.TgZ(40,"app-button",122),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.triggerFile4())}),e.ALo(41,"translate"),e.qZA()()()()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.s9C("label",e.lcZ(5,18,"NEW_VARIABLES.NAME")),e.s9C("value",t.dataJsonObj.quizTitle),e.xp6(3),e.s9C("label",e.lcZ(8,20,"PREFERENCES.LANGUAGE")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.languageName),e.xp6(3),e.s9C("label",e.lcZ(12,22,"COMMON_FIELDS.DISPLAY_NAME")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(4),e.s9C("label",e.lcZ(15,24,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==t.dataJsonObj?null:t.dataJsonObj.langTransDescription),e.Q6J("maxlength",2e3),e.xp6(7),e.Q6J("ngIf",null==t.dataJsonObj.islanguageImgEnable?null:t.dataJsonObj.islanguageImgEnable.welcome_screen),e.xp6(1),e.s9C("label",e.lcZ(23,26,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==t.dataJsonObj.islanguageImgEnable?null:t.dataJsonObj.islanguageImgEnable.success_screen),e.xp6(1),e.s9C("label",e.lcZ(29,28,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==t.dataJsonObj.islanguageImgEnable?null:t.dataJsonObj.islanguageImgEnable.failure_screen),e.xp6(1),e.s9C("label",e.lcZ(35,30,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==t.dataJsonObj.islanguageImgEnable?null:t.dataJsonObj.islanguageImgEnable.congratulation_screen),e.xp6(1),e.s9C("label",e.lcZ(41,32,"NEW_VARIABLES.CONGRATULATION_IMAGE"))}}function uo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",105)(2,"i",106),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.changeTranslateImageRemove("question_screen","question"))}),e.qZA(),e._UZ(3,"img",107),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.question_screen,e.LSH)}}function co(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",95)(2,"div",17)(3,"div",9),e._UZ(4,"app-input",123,93),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"div",9)(8,"app-input",92,93),e.NdJ("valueChange",function(a){const o=e.CHM(t).$implicit,u=e.oxw(2);return e.KtG(u.changeOptionTranslation(a,"",o.option_id))}),e.ALo(10,"translate"),e.qZA()()()()()}if(2&i){const t=l.$implicit;e.xp6(4),e.s9C("label",e.lcZ(6,6,"POLL.OPTIONS")),e.s9C("value",t.option),e.Q6J("maxlength",80),e.xp6(4),e.s9C("label",e.lcZ(10,8,"COMMON_PAGE_TITLES.TRANSLATIONS")),e.s9C("value",t.translation),e.Q6J("maxlength",80)}}function go(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",95)(2,"div",17)(3,"div",9),e._UZ(4,"app-input",117),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",17)(7,"div",9),e._UZ(8,"app-input",123,93),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",9)(12,"app-input",92,93),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeQuestionTranslation(a))}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",9)(16,"input",112,113),e.NdJ("change",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.changeTranslateImage(a,"question_screen","question"))}),e.qZA(),e.YNc(18,uo,4,1,"div",58),e.TgZ(19,"app-button",98),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.triggerFile5())}),e.ALo(20,"translate"),e.qZA()()()(),e.YNc(21,co,11,10,"div",78),e.qZA()}if(2&i){const t=e.oxw();e.xp6(4),e.s9C("label",e.lcZ(5,11,"PREFERENCES.LANGUAGE")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.languageName),e.xp6(4),e.s9C("label",e.lcZ(10,13,"COMMON_BLOCK_TITLES.QUESTIONS")),e.s9C("value",t.dataJsonObj.question),e.Q6J("maxlength",80),e.xp6(4),e.s9C("label",e.lcZ(14,15,"COMMON_PAGE_TITLES.TRANSLATIONS")),e.s9C("value",t.dataJsonObj.questionTranslatedValue),e.Q6J("maxlength",80),e.xp6(6),e.Q6J("ngIf",null==t.dataJsonObj?null:t.dataJsonObj.question_screen),e.xp6(1),e.s9C("label",e.lcZ(20,17,"NEW_VARIABLES.QUESTION_IMAGE")),e.xp6(2),e.Q6J("ngForOf",t.dataJsonObj.options)}}let po=(()=>{class i extends x.O{translateService;enterprisesService;loggerService;commonService;quizService;uiUtils;sanitizer;route;addQuizQuestionsTl(){throw new Error("Method not implemented.")}imageCropper;quiztitlevalid;questionValid;optionvalidate;typeDropdown;quizinputDataList;displayNameUpdate;fileInput1;fileInput2;fileInput3;languageAdd;displayNameAdd;fileInput4;fileInput5;dataJsonObj={};errorObj={};digitalAssetTypeOptions;digitalAssetTypeObj;digitalAssetTypeId;digitalAssetType;question;recordId;questionError;AnswerError;transform={};showCropper;imageChangedEvent;croppedImage;canvasRotation=0;canvasRotation1=0;digitalAssetUploadFileType;digitalAssetTypeName;assetTypeTag;assetTypeImage;assetTypeValue;videoType;audioType;imageType;assetTypeVideo;assetTypeAudio;documentType;fileSrc;previewFileSrc;error;previewImageChangedEvent;selectedFileName;imgCheck;fileType;selectedType;extension;imageExtensions;myObj;assetTypeError;assetFile;videoExtensions;mediaFile;digitalAssetFile;quizFileArray=[];fileSize;audioExtensions;documentExtensions;otherExtensions;imageMinSize;imageStatus;errMsg1;errMsg2;imageMaxSize;postType;videoMaxSize;videoMinSize;audioMaxSize;audioMinSize;documentMaxSize;documentMinSize;documentTypes;displaySequence;errorHtml;displaySequenceTl;addQuestionTlIndex;questionTlIndex;questionTlEditRowIndex;constructor(t,n,a,s,o,u,d,c){super(c,s),this.translateService=t,this.enterprisesService=n,this.loggerService=a,this.commonService=s,this.quizService=o,this.uiUtils=u,this.sanitizer=d,this.route=c,this.route.params.subscribe(_=>{_&&(this.recordId=_.parentId)}),this.route.queryParams.subscribe(_=>{this.dataJsonObj.queryParamsObj={defaultView:_.default_view,selectedMenuId:_.selectedMenuId,selectedSubMenuId:_.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.questionTranslatedValue="",this.dataJsonObj.quizQuestions=[],this.dataJsonObj.questionFileTypes=[r.vH.IMAGE],this.dataJsonObj.answerFileTypes=[],this.dataJsonObj.quizDatalist=[],this.displaySequence=0,this.dataJsonObj.optionsArrayTl=[],this.dataJsonObj.questionTl="",this.dataJsonObj.optionsArray=[],this.dataJsonObj.questionsDataList=[],this.dataJsonObj.quizQuestionsTl=[],this.dataJsonObj.languageImageApis={},this.dataJsonObj.islanguageImgEnable={welcome_screen:!1,success_screen:!1,failure_screen:!1,congratulation_screen:!1},this.dataJsonObj.languageImageApi={},this.dataJsonObj.pageName=r.hf.QUIZ,this.dataJsonObj.disableSubmitBtn=!1,this.dataJsonObj.languageTranslateImage={},this.dataJsonObj.languageQuestionImageApis={},this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.QUIZ",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.getDynamicJson([{folderName:r.sb.FACILITIES,jsonType:"list",storingFieldName:"facilitiesListJson"},{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}]),this.getEnterprisesViewData();const n=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.loginUserDateFormat=n.dateFormat,this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(n.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=n.timeZoneCode,this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(s=>{this.dataJsonObj.lookupCodesListJSON=s,this.getTimeZone(this.dataJsonObj.userTimeZoneObj.timeZoneCode),this.getDigitalAssetTypes(),this.getDocumentTypeLookups()}),this.dataJsonObj.utccurrentTime=(new Date).toISOString();const a=this.displayDateFormatter(this.dataJsonObj.utccurrentTime,!0,!0);this.dataJsonObj.startDate=a.startDate,this.dataJsonObj.endDate=a.endDate,this.dataJsonObj.loginUserObj=JSON.parse(localStorage.getItem(r.BU.USER)),this.dataJsonObj.languagesFromJson={},this.getLanguagesfromJson(),this.dataJsonObj.languagesData=[],this.dataJsonObj.quizLanguageTranslationsList=[],this.dataJsonObj.questionLanguageTranslationsList=[],this.dataJsonObj.blockContentHeader1=[[{headersort:"disableth",sortfield:"",field:"option",header:this.translateService.instant("POLL.OPTION"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"is_correct",header:this.translateService.instant("COMMON_FIELDS.IS_CORRECT"),class:"w-130"}]],this.dataJsonObj.blockContentHeader=[[{headersort:"disableth",sortfield:"",field:"question",header:this.translateService.instant("COMMON_FIELDS.QUESTION"),class:"w-130"}]],this.dataJsonObj.quizTlheaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-60"},{headersort:"disableth",field:"displayName",header:this.translateService.instant("COMMON_PAGE_TITLES.QUIZ")+" "+this.translateService.instant("NEW_VARIABLES.NAME")+"/"+this.translateService.instant("COMMON_FIELDS.QUESTION"),class:""},{headersort:"disableth",field:"displayNameTranslated",header:this.translateService.instant("COMMON_PAGE_TITLES.QUIZ")+" "+this.translateService.instant("NEW_VARIABLES.NAME")+"/"+this.translateService.instant("COMMON_FIELDS.QUESTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"description",header:this.translateService.instant("COMMON_FIELDS.DESCRIPTION"),class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.dataJsonObj.languageTranslationEnablecheckboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.dataJsonObj.languageTranslationEnableQuestionCheckbox=[{displayname:this.translateService.instant("COMMON_FIELDS.QUESTION")+" and "+this.translateService.instant("POLL.OPTIONS")}],this.dataJsonObj.disableTransAdd=!0,this.dataJsonObj.optionsCheckbox=[{displayname:this.translateService.instant("COMMON_FIELDS.IS_CORRECT")}],this.dataJsonObj.optionsCheckboxTl=[{displayname:this.translateService.instant("COMMON_FIELDS.IS_CORRECT")}],this.initializeDefaultQuestionObj()}getDynamicJson(t){var n=this;return(0,T.Z)(function*(){for(let a of t)n.dataJsonObj[a.storingFieldName]=yield n.commonService.getDynamicJson(n.dataJsonObj.selectedEnterpriseId,a.folderName,a.jsonType);n.getSelectedSubmenuDetails()})()}getLanguagesList(t){var n=this;return(0,T.Z)(function*(){try{n.quizService.getTranslateLanguages(n.dataJsonObj.selectedEnterpriseId).then(a=>{if(n.dataJsonObj.translateLanguageOptions=a[0].configoption_json.languages,n.dataJsonObj.translateLanguageOptions&&n.dataJsonObj.translateLanguageOptions.length>0){for(let s=0;s<n.dataJsonObj.translateLanguageOptions.length;s++)n.dataJsonObj.translateLanguageOptions[s].ID=n.dataJsonObj.translateLanguageOptions[s].language_id,n.dataJsonObj.translateLanguageOptions[s].NAME=n.dataJsonObj.languagesFromJson[n.dataJsonObj.translateLanguageOptions[s].language_name].language_display_name,n.dataJsonObj.translateLanguageOptions[s].language_code=n.dataJsonObj.translateLanguageOptions[s].language_code,n.dataJsonObj.translateLanguageOptions[s].language_id=n.dataJsonObj.translateLanguageOptions[s].language_id,n.dataJsonObj.translateLanguageOptions[s].language_name=n.dataJsonObj.translateLanguageOptions[s].language_name;if(n.dataJsonObj.translateLanguageOptions&&t){const s=n.dataJsonObj.translateLanguageOptions.filter(function(o){return o.NAME.toLowerCase().includes(t.toLowerCase())});n.dataJsonObj.translateLanguageOptions=s}}},a=>{n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",a)})}catch(a){n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",a)}})()}getSelectedSubmenuDetails(){var t=this;return(0,T.Z)(function*(){if(t.dataJsonObj?.queryParamsObj?.selectedMenuId&&t.dataJsonObj?.queryParamsObj?.selectedSubMenuId){const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a._id===parseInt(t.dataJsonObj.queryParamsObj.selectedMenuId,10)):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu.find(a=>a.submenu_id===parseInt(t.dataJsonObj.queryParamsObj.selectedSubMenuId,10)):{}}else{const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a.menu_page.page_name===t.dataJsonObj.pageName):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu[0]:{}}t.dataJsonObj.pageDetails=t.dataJsonObj.selectedSubmenuObj.submenu_page})()}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.dataJsonObj.selectedEnterpriseId).subscribe(t=>{this.dataJsonObj.enterpriseName=t.enterprise_name,this.dataJsonObj.defaultEnterprise=t._id,this.dataJsonObj.enterpriseShortName=t.short_name},t=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)}}displayDateFormatter(t,n,a){try{const s=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,o={startDate:"",endDate:""};if(o.startDate=this.commonService.convertDateToUserFormat(s,r.eZ.HOURS_MINS,!0,"",!1),n){const u=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,d=this.commonService.addHoursToDate(u,120);o.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return o}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",s)}}getLanguagesfromJson(){var t=this;return(0,T.Z)(function*(){t.dataJsonObj.languagesFromJson=yield t.commonService.getLanguagesListJson(t.dataJsonObj.selectedEnterpriseId)})()}getQuizName(t){try{this.errorObj.error2="",this.errorObj.error="",this.questionError="",this.dataJsonObj.quizTitle=t.value,this.dataJsonObj.disableTransAdd=!this.dataJsonObj.quizTitle}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getQuizName",n)}}changeLeaderboardUsersCount(t){this.errorObj.error="",this.questionError="",this.dataJsonObj.leaderboard_user_count=t.value}changeDescriptionName(t){this.errorObj.error="",this.questionError="",this.dataJsonObj.description=t.value}changeQuestionName(t){try{this.questionError="",this.dataJsonObj.question=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeQuestionName",n)}}changeTranslateQuestionName(t){try{this.questionError="",this.dataJsonObj.questionTl=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeQuestionName",n)}}changeAnswerName(t){try{this.questionError="",this.dataJsonObj.option=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAnswerName",n)}}changeAnswerNameTl(t){try{this.questionError="",this.dataJsonObj.optionTl=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAnswerName",n)}}changeQuestionDropDown(t){this.dataJsonObj.optionsArray=[];try{if(t.value){this.dataJsonObj.questionId=parseInt(t.value,10);const n=this.dataJsonObj.questionsDataList.filter(a=>a.display_sequence===this.dataJsonObj.questionId);this.dataJsonObj.optionsArray=n[0]?.options,this.dataJsonObj.selectedQuestion=n[0]?.question,this.dataJsonObj.question_screen="",this.dataJsonObj.languageQuestionImageApi=""}}catch{}}changeQuestionTranslation(t){this.dataJsonObj.questionTranslatedValue=t.value}changeOptionTranslation(t,n,a){this.dataJsonObj.optionIndex=a,this.dataJsonObj.optionTranslatedValue=t.value,t.value&&n>=0?this.addOptionsTl(n):t.value&&a>=0&&this.updateOptions(a)}addOptionsTl(t){this.dataJsonObj.optionTranslatedValue&&(this.dataJsonObj.optionsArrayTl[t]={question:this.dataJsonObj.questionTranslatedValue,option_id:this.dataJsonObj.optionsArrayTl.length>0?this.dataJsonObj.optionsArrayTl[this.dataJsonObj.optionsArrayTl.length-1].option_id+1:1,option:this.dataJsonObj.optionTranslatedValue,translation:this.dataJsonObj.optionTranslatedValue,is_correct:this.dataJsonObj.isOptionCorrectTl},this.dataJsonObj.optionTranslatedValue="",this.dataJsonObj.isOptionCorrectTl=!1,this.questionError="",$("#blockContentDetailsAdd1").modal("hide"))}updateOptions(t){const n=this.dataJsonObj.optionsArrayTl.find(a=>a.option_id===t);if(n){n.translation=this.dataJsonObj.optionTranslatedValue,n.question=this.dataJsonObj.questionTranslatedValue;const a=this.dataJsonObj.optionsArrayTl.findIndex(s=>s.option_id===t);-1!==a&&(this.dataJsonObj.optionsArrayTl[a]=n)}}addOptions(){this.dataJsonObj?.option?(this.dataJsonObj.optionsArray.push({question:this.dataJsonObj.question,option_id:this.dataJsonObj.optionsArray.length>0?this.dataJsonObj.optionsArray[this.dataJsonObj.optionsArray.length-1].option_id+1:1,option:this.dataJsonObj?.option,is_correct:this.dataJsonObj.isOptionCorrect}),this.dataJsonObj.option="",this.dataJsonObj.isOptionCorrect=!1,this.questionError=""):this.optionvalidate.throwError()}changeOptionCheckBox(t){t&&(this.dataJsonObj.isOptionCorrect=t.value)}changeOptionCheckBoxTl(t){t&&(this.dataJsonObj.isOptionCorrectTl=t.value)}updateQuizQuestionsTl(){const t=this.questionTlEditRowIndex;this.dataJsonObj.quizQuestionsTl.length>0&&(this.dataJsonObj.quizQuestionsTl[t].options=this.dataJsonObj.optionsArrayTl,this.dataJsonObj.quizQuestionsTl[t].languageTranslateImageObj=this.dataJsonObj.languageQuestionImageApis[this.questionTlIndex],document.getElementById("imagefileid5").value=""),$("#blockContentEdit").modal("hide")}addQuizQuestions(){if(this.dataJsonObj.question)if(this.dataJsonObj.optionsArray.length>1)if(this.dataJsonObj.optionsArray.find(n=>1==n.is_correct)){const n=this.dataJsonObj.displayImage,a=n?this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(n)):"";this.displaySequence=this.dataJsonObj.questionsDataList.length>0?this.dataJsonObj.questionsDataList[this.dataJsonObj.questionsDataList.length-1].display_sequence+1:1,this.dataJsonObj.questionsDataList.push({ID:this.displaySequence,NAME:this.dataJsonObj.question,display_sequence:this.displaySequence,quizImage:a,question:this.dataJsonObj.question,options:JSON.parse(JSON.stringify(this.dataJsonObj.optionsArray))}),this.digitalAssetFile&&this.quizFileArray.push({imagename:this.dataJsonObj.question+"-"+this.displaySequence,file:this.digitalAssetFile}),this.showCropper=!1,this.imageChangedEvent="",this.digitalAssetFile="",this.dataJsonObj.question="",this.dataJsonObj.option="",this.dataJsonObj.displayImage="",this.dataJsonObj.isOptionCorrect=!1,this.dataJsonObj.optionsArray=[],this.typeDropdown.clearSelectInput(),this.displaySequence=""}else this.questionError="COMMON_VALIDATION_MESSAGES.VALID_FILL_NUMBER_OF_CORRECT_OPTION";else this.questionError="COMMON_VALIDATION_MESSAGES.VALID_FILL_NUMBER_OF_OPTIONS";else this.questionValid.throwError()}deleteOptions(t){this.dataJsonObj.optionsArray?.splice(t,1)}deleteQuizQuestions(t){this.dataJsonObj.quizQuestions?.splice(t,1)}changeStartDate(t){try{const n=this.displayDateFormatter(t.value,!1,!1);this.dataJsonObj.startDate=n.startDate,this.errorObj.error=this.commonService.getUTCDateObj(this.dataJsonObj.startDate)>=this.commonService.getUTCDateObj(this.dataJsonObj.endDate)?"COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START":""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeStartDate",n)}this.questionError=""}getTimeZone(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.TIME_ZONES],t).then(n=>{if(this.dataJsonObj.timezoneOptions=n,this.dataJsonObj.timezoneOptions.length>0){for(let a=0;a<this.dataJsonObj.timezoneOptions.length;a++)this.dataJsonObj.timezoneOptions[a].NAME=this.dataJsonObj.timezoneOptions[a].lookup_display_name+" - "+this.dataJsonObj.timezoneOptions[a].description;this.dataJsonObj.timezoneOptions=this.dataJsonObj.timezoneOptions}})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getTimeZone",n)}}changeTimeZone(t){try{this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.description),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.lookup_name;const n=this.displayDateFormatter(this.dataJsonObj.utccurrentTime,!0,!0);this.dataJsonObj.startDate=n.startDate,this.dataJsonObj.endDate=n.endDate}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeTimeZone",n)}this.questionError=""}changeEndDate(t){try{const n=this.displayDateFormatter(t.value,!1,!1);this.dataJsonObj.endDate=n.startDate,this.errorObj.error=this.commonService.getUTCDateObj(this.dataJsonObj.endDate)<=this.commonService.getUTCDateObj(this.dataJsonObj.startDate)?"COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START":""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeEndDate",n)}this.questionError=""}onSubmitClicked(){this.dataJsonObj.isSubmitClicked=!0,this.dataJsonObj.isValidateQuestions=!0,this.createRecord()}clearSubmitClick(){this.dataJsonObj.isSubmitClicked=!1,this.dataJsonObj.isValidateQuestions=!1}createRecord(){var t=this;return(0,T.Z)(function*(){try{t.dataJsonObj.welcome_screenImagesArray=[],t.dataJsonObj.success_screenImagesArray=[],t.dataJsonObj.failure_screenImagesArray=[],t.dataJsonObj.congratulation_screenImagesArray=[],t.dataJsonObj.question_screenImagesArray=[],t.dataJsonObj.isSubmitClicked=!1,t.dataJsonObj.isValidateQuestions=!1;for(let n=0;n<t.dataJsonObj.languagesData.length;n++){const a=t.dataJsonObj.languagesData[n];if(a.languageTranslateImages){const s=a.languageTranslateImageObj?.welcome_screen,o=a.languageTranslateImageObj?.success_screen,u=a.languageTranslateImageObj?.failure_screen,d=a.languageTranslateImageObj?.congratulation_screen;for(let c=0;c<s?.length;c++)s[c]&&t.dataJsonObj?.welcome_screenImagesArray?.push(s[c]);for(let c=0;c<o?.length;c++)o[c]&&t.dataJsonObj?.success_screenImagesArray?.push(o[c]);for(let c=0;c<u?.length;c++)u[c]&&t.dataJsonObj?.failure_screenImagesArray?.push(u[c]);for(let c=0;c<d?.length;c++)d[c]&&t.dataJsonObj?.congratulation_screenImagesArray?.push(d[c])}if("question_screen"==a.languageTranslateImageObj.screen){const s=a.languageTranslateImageObj;s&&t.dataJsonObj?.question_screenImagesArray?.push(s)}}if(t.quiztitlevalid.isValid())if(t.commonService.getUTCDateObj(t.dataJsonObj.endDate)<t.commonService.getUTCDateObj(t.dataJsonObj.startDate))t.errorObj.error="COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START";else{const n={enterprise:{enterprise_id:t.dataJsonObj.defaultEnterprise,enterprise_name:t.dataJsonObj.enterpriseName,short_name:t.dataJsonObj.enterpriseShortName},title:t.dataJsonObj.quizTitle,start_datetime:t.commonService.convertUserTimeZoneDateToUTC(t.dataJsonObj.startDate,t.dataJsonObj.userTimeZoneObj.utcMinutes,t.dataJsonObj.userTimeZoneObj.utcMinutesSign),end_datetime:t.commonService.convertUserTimeZoneDateToUTC(t.dataJsonObj.endDate,t.dataJsonObj.userTimeZoneObj.utcMinutes,t.dataJsonObj.userTimeZoneObj.utcMinutesSign),description:t.dataJsonObj.description,leaderboard_user_count:t.dataJsonObj.leaderboard_user_count,quizQuestinData:t.dataJsonObj.questionsDataList,organizer:{user_profile_id:t.dataJsonObj.loginUserObj?.user_profile_id},page:t.dataJsonObj.pageDetails,language_translations:t.dataJsonObj.quizLanguageTranslationsList,question_language_translations:t.dataJsonObj.questionLanguageTranslationsList},a={};a.welcomeImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.welcomeImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.welcomeImage,"image/jpeg"):"",a.successImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.successImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.successImage,"image/jpeg"):"",a.failureImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.failureImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.failureImage,"image/jpeg"):"",a.congratulationImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.congratulationImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.congratulationImage,"image/jpeg"):"",t.dataJsonObj.disableSubmitBtn=!0,yield t.quizService.create(n,a,t.quizFileArray,t.dataJsonObj.welcome_screenImagesArray,t.dataJsonObj.success_screenImagesArray,t.dataJsonObj.failure_screenImagesArray,t.dataJsonObj.congratulation_screenImagesArray,t.dataJsonObj.question_screenImagesArray),t.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),t.commonService.redirectToPreviousUrl()}}catch(n){t.dataJsonObj.disableSubmitBtn=!1,t.commonErrorCodes(JSON.parse(n)),t.loggerService.setLoggerError(t.constructor.name,"createRecord",n)}})()}changeFile(t,n,a){try{this.dataJsonObj.filesObj||(this.dataJsonObj.filesObj={}),this.errorObj.filesObj||(this.errorObj.filesObj={}),""===t.error?(this.errorObj.filesObj[n]="",this.dataJsonObj.filesObj[n]=t.value,a&&(a[n]=t.value)):this.errorObj.filesObj[n]=t.error}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeFile",s)}this.questionError=""}removeFile(t){try{this.errorObj.filesObj[t]="",this.dataJsonObj.filesObj[t]=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"removeFile",n)}}commonErrorCodes(t){409===JSON.parse(t[r.BU.STATUS])&&(this.errorObj.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelBtn",t)}}rotateLeft(){this.canvasRotation--}rotateRight(){this.canvasRotation++}rotateLeft1(){this.canvasRotation1--}rotateRight1(){this.canvasRotation1++}fileChangeEvent(t,n){try{this.digitalAssetUploadFileType=n,this.digitalAssetTypeName===r.Cv.VIDEO?(this.assetTypeTag="",this.assetTypeImage="",setTimeout(()=>{this.assetTypeValue=this.videoType,this.assetTypeTag="testVideo",this.assetTypeImage=""},10)):this.digitalAssetTypeName===r.Cv.AUDIO?(this.assetTypeTag="",this.assetTypeImage="",setTimeout(()=>{this.assetTypeValue=this.audioType,this.assetTypeTag="testAudio",this.assetTypeImage=""},10)):this.digitalAssetTypeName===r.Cv.IMAGE&&(this.assetTypeTag="testImage",this.assetTypeValue=this.imageType),this.stopDisplayFileNameAndCroppedSize(n),t.target.files.length>0&&("File"===n?this.fileSrc=null:this.previewFileSrc=null,this.digitalAssetTypeName===r.Cv.IMAGE&&(this.validSelectedImageFileType(t.target.files[0])?(this.error="","File"===n&&(this.imageChangedEvent=t),this.selectedFileName=t.target.files[0].name,this.imgCheck=!0):("File"===n?this.imageChangedEvent=null:this.previewImageChangedEvent=null,this.imgCheck=!1)),this.questionError="")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"fileChangeEvent",a)}}stopDisplayFileNameAndCroppedSize(t){try{"File"===t?document.getElementById("profileimg").innerHTML="":document.getElementById("previewimg").innerHTML=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"stopDisplayFileNameAndCroppedSize",n)}}validSelectedImageFileType(t){try{if(this.dataJsonObj.displayImage=t,this.fileType=t.type,this.selectedType=this.fileType.toString().split("/")[0],this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.imageExtensions=this.commonService.getExtension(r.P7),this.myObj={imageTypes:this.imageExtensions},this.assetTypeError=!0,"image"===this.selectedType)for(let n=0;n<this.myObj.imageTypes.length;n++)if(this.myObj.imageTypes[n].indexOf(this.extension)>-1&&this.assetTypeImage===r.Cv.IMAGE)return!0;return this.assetTypeError=!1,!1}catch(n){this.loggerService.setLoggerError(this.constructor.name,"validSelectedImageFileType",n)}}imageUploaded(t){try{this.error="";const n=t.target.files;n.length>0&&(this.assetFile=n[0]);const a=new Array("Bytes","KB","MB","GB");let s=this.assetFile.size,o=0;for(;s>900;)s/=1024,o++;const u=Math.round(100*s)/100,d=a[o];this.fileType=this.assetFile.type;const c=this.fileType.split("/")[0];if(this.fileSrc=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(this.assetFile)),setTimeout(()=>{},500),"image"===c&&this.assetTypeImage===r.Cv.IMAGE)this.assetTypeError=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.imageExtensions=this.commonService.getExtension(r.P7),this.myObj={imageTypes:this.imageExtensions};else if("video"===c&&this.digitalAssetTypeName===r.Cv.VIDEO){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.videoExtensions=this.commonService.getExtension(r.sc),this.myObj={imageTypes:this.videoExtensions},this.assetTypeError=!0;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g,this.digitalAssetFile=this.assetFile},this.fileSize=this.assetFile.size/1024/1024}else if("audio"===c&&this.digitalAssetTypeName===r.Cv.AUDIO){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.audioExtensions=this.commonService.getExtension(r.wE),this.myObj={imageTypes:this.audioExtensions},this.fileSize=this.assetFile.size/1024/1024,this.assetTypeError=!0,this.digitalAssetFile=this.assetFile;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g}}else if("application"===c&&this.digitalAssetTypeName===r.Cv.DOCUMENT){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.documentExtensions=this.commonService.getExtension(r.Do),this.myObj={imageTypes:this.documentExtensions},this.fileSize=this.assetFile.size/1024/1024,this.assetTypeError=!0,this.digitalAssetFile=this.assetFile;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g}}else this.otherExtensions=this.commonService.getExtension(r.XF),this.myObj={imageTypes:this.otherExtensions},this.assetTypeError=!1;let _=!0;for(let h=0;h<this.myObj.imageTypes.length;h++){let m=this.myObj.imageTypes[h].indexOf(this.extension);if(m>-1&&this.assetTypeImage===r.Cv.IMAGE&&!0===this.assetTypeError){_=!1,this.assetTypeError=!1,this.error="",this.imageMinSize>u||"KB"!==d||u>this.imageMaxSize||"KB"!==d?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART2"),this.error=this.errMsg1+" "+this.imageMinSize+" & "+this.imageMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.VIDEO&&!0===this.assetTypeError){_=!1,this.imgCheck=!0,this.error="",this.fileSize>this.videoMaxSize||this.fileSize<this.videoMinSize?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.VIDEO_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.videoMinSize+" & "+this.videoMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.AUDIO&&!0===this.assetTypeError){_=!1,this.fileSize>this.audioMaxSize||this.fileSize<this.audioMinSize?(this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.AUDIO_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.audioMinSize+" & "+this.audioMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.DOCUMENT&&!0===this.assetTypeError){_=!1,this.fileSize>this.documentMaxSize||this.fileSize<this.documentMinSize?(this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.DOCUMENT_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.documentMinSize+" & "+this.documentMaxSize+" "+this.errMsg2):this.imageStatus=!0,this.imageStatus=!0;break}}_&&(this.assetTypeError=!0,this.fileSrc="",this.mediaFile="",this.imgCheck=!1);const J=document.getElementById("profileimg");let b=this.assetFile.name;null!=b&&""!==b&&this.assetFile.name.length>10&&(b=b.substring(0,10)+".."+this.assetFile.name.split(".")[1]),!0===this.imgCheck&&(J.innerHTML=b)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"imageUploaded",n)}}dataURItoBlob(t,n){try{const a=window.atob(t),s=new ArrayBuffer(a.length),o=new Uint8Array(s);for(let d=0;d<a.length;d++)o[d]=a.charCodeAt(d);return new Blob([o],{type:n})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"dataURItoBlob",a)}}imageCropped(t){try{if(t.blob){const n=this.commonService.getFileReader();n.onloadend=()=>{this.croppedImage=n.result,this.validCroppedImageSize(this.croppedImage)&&(this.fileSrc=this.croppedImage,this.mediaFile=this.croppedImage)},n.readAsDataURL(t.blob)}else console.error("No blob found in the event.")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"imageCropped",n)}}dataURItoImgBlob(t,n){var a;a=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);var s=new Uint8Array(a.length);for(let o=0;o<a.length;o++)s[o]=a.charCodeAt(o);return new Blob([s],{type:n})}validCroppedImageSize(t){try{this.assetFile=t,this.digitalAssetFile=this.dataURItoImgBlob(this.assetFile,"image/jpeg");let n=this.assetFile.size,a=0;for(;n>900;)n/=1024,a++;const s=Math.round(100*n)/100;return this.displayFileNameAndCroppedSize(this.selectedFileName,s,"File"),s>this.imageMaxSize?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART2"),this.error=this.errMsg1+" "+this.imageMinSize+" & "+this.imageMaxSize+" "+this.errMsg2,!1):(this.imageStatus=!0,this.error="",!0)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"validCroppedImageSize",n)}}displayFileNameAndCroppedSize(t,n,a){try{let s;switch(a){case"File":s=document.getElementById("profileimg");break;case"Preview":s=document.getElementById("previewimg");break;case"Thumbnail":s=document.getElementById("thumbnailimg");default:s=document.getElementById("profileimg")}let o=t;null!=o&&""!==o&&o.split(".")[0].length>10&&(o=o.split(".")[0].substring(0,10)+".."+o.split(".")[1]),s.innerHTML=this.selectedFileName}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayFileNameAndCroppedSize",s)}}getDigitalAssetTypes(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.DIGITAL_ASSET_TYPES],"").then(t=>{this.digitalAssetTypeOptions=t.filter(n=>"IMAGE"==n.lookup_name),this.digitalAssetTypeName&&(this.digitalAssetTypeObj=this.digitalAssetTypeOptions.find(n=>"IMAGE"==n.lookup_name),this.digitalAssetTypeId=this.digitalAssetTypeObj._id,this.digitalAssetType=this.digitalAssetTypeObj.NAME,this.digitalAssetTypeName=this.digitalAssetTypeObj.lookup_name)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getDigitalAssetTypes",t)}}getFileAcceptType(){switch(this.digitalAssetTypeName){case r.Cv.VIDEO:return"video/*";case r.Cv.AUDIO:return"audio/*";case r.Cv.IMAGE:return"image/*";case r.Cv.DOCUMENT:return".xlsx,.xls,.pdf,.doc,.docx,.txt,.odt,.ods,.odp,.csv,.ppt,.pptx";default:return""}}changeDigitalAssetType(t){try{if(this.error="",this.imageChangedEvent="",document.getElementById("profileimg")){const n=document.getElementById("profileimg");n.innerHTML=n.innerHTML?"":n.innerHTML,this.fileSrc=""}if(document.getElementById("previewimg")){const n=document.getElementById("previewimg");n.innerHTML=n.innerHTML?"":n.innerHTML,this.previewFileSrc=""}this.digitalAssetTypeId=t.value,this.digitalAssetTypeObj=this.digitalAssetTypeOptions.find(n=>n.ID===parseInt(this.digitalAssetTypeId,10)),this.digitalAssetTypeName=this.digitalAssetTypeObj.lookup_name,this.dataJsonObj.isLiveStreamUrlFieldEnabled=this.digitalAssetTypeName===r.Cv.LIVE_STREAM}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeDigitalAssetType",n)}this.questionError=""}getAssetType(t){try{switch(this.error="",t){case this.videoType.lookup_name:this.postType=r.Cv.VIDEO,this.assetTypeVideo=r.Cv.VIDEO;break;case this.audioType.lookup_name:this.postType=r.Cv.AUDIO,this.assetTypeAudio=r.Cv.AUDIO;break;case this.imageType.lookup_name:this.postType=r.Cv.IMAGE,this.assetTypeImage=r.Cv.IMAGE}}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getAssetType",n)}}getDocumentTypeLookups(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.DIGITAL_ASSET_TYPES],"").then(t=>{this.documentTypes=t;for(let n=0;n<t.length;n++)t[n].lookup_name===r.Cv.AUDIO?this.audioType=t[n]:t[n].lookup_name===r.Cv.VIDEO?this.videoType=t[n]:t[n].lookup_name===r.Cv.IMAGE?this.imageType=t[n]:t[n].lookup_name===r.Cv.DOCUMENT&&(this.documentType=t[n])}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getDocumentTypeLookups",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getDocumentTypeLookups",t)}}imageLoaded(){this.showCropper=!0}changeDisplaySequence(t){this.displaySequence=t.value,this.errorHtml="",this.dataJsonObj.errorMessage=""}removeImage(){this.digitalAssetFile="",this.imageChangedEvent="",this.showCropper=!1}languagesAdd(t){try{this.dataJsonObj.disableTransAdd||(t.stopPropagation(),this.dataJsonObj.isValidateQuestions?this.languagesAddPopup():this.dataJsonObj.isValidateQuestions=!0)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"languagesAdd",n)}}languagesAddPopup(){try{if(this.dataJsonObj.isValidateQuestions=!1,this.dataJsonObj.createRowIndex=this.getNextRecordNumber(),this.dataJsonObj.index=this.dataJsonObj.createRowIndex,this.displayNameAdd.clearmessage(),this.languageAdd.clearmessage(),this.languageAdd.clearSelectInput(),this.dataJsonObj.languageCode="",this.dataJsonObj.languageName="",this.dataJsonObj.languageId="",this.dataJsonObj.addPopupError="",this.dataJsonObj.langTransDisplayname="",this.dataJsonObj.langTransDescription="",this.dataJsonObj.isLangTransEnabled="",this.dataJsonObj.isLangTransQuestionCheckBoxEnabled=!1,this.dataJsonObj.questionId="",this.dataJsonObj.welcome_screen="",this.dataJsonObj.success_screen="",this.dataJsonObj.failure_screen="",this.dataJsonObj.question_screen="",this.dataJsonObj.congratulation_screen="",this.dataJsonObj.quizQuestionsTl=[],this.dataJsonObj.islanguageImgEnable={welcome_screen:!1,success_screen:!1,failure_screen:!1,congratulation_screen:!1},this.dataJsonObj.optionsArrayTl=[],this.dataJsonObj.addQuizQuestionsTl=[],this.getLanguagesList(""),this.dataJsonObj.optionsArray=[],this.dataJsonObj.questionsDataList)for(let t=0;t<this.dataJsonObj.questionsDataList.length;t++){const n=this.dataJsonObj.questionsDataList[t]?.question;this.dataJsonObj.quizQuestions.some(s=>s.question===n)||this.dataJsonObj.quizQuestions.push({ID:this.dataJsonObj.questionsDataList[t]?.display_sequence,NAME:this.dataJsonObj.questionsDataList[t]?.question,display_sequence:this.dataJsonObj.questionsDataList[t]?.display_sequence,quizImage:this.dataJsonObj.questionsDataList[t]?.quizImage,question:this.dataJsonObj.questionsDataList[t]?.question,options:this.dataJsonObj.questionsDataList[t]?.options})}$("#addLanguagePopup").modal("show"),$(".modal-backdrop").insertAfter("#addLanguagePopup")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesAdd",t)}}changeLanguage(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.languageId=t.ID,this.dataJsonObj.languageName=t.NAME,this.dataJsonObj.language=t.language_name,this.dataJsonObj.languageCode=t.language_code)}changeLangTransDisplayname(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.langTransDisplayname=t.value)}changeLangTransDescription(t){t&&(this.dataJsonObj.langTransDescription=t.value)}quizTranslationCreate(){try{if(this.dataJsonObj.languageDatavalid=this.dataJsonObj.languagesData.find(t=>t.language.language_id===this.dataJsonObj.languageId&&(t.title===this.dataJsonObj.quizTitle.toString()||t.questionId===this.dataJsonObj.questionId)),this.dataJsonObj.languageDatavalid)this.dataJsonObj.addPopupError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS";else{if(this.dataJsonObj?.isLangTransQuestionCheckBoxEnabled){if(this.dataJsonObj?.isLangTransQuestionCheckBoxEnabled){const n={language:{language_id:this.dataJsonObj.languageId,language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode},language_name_value:this.dataJsonObj.languageName,question_and_options_checkbox:this.dataJsonObj.isLangTransQuestionCheckBoxEnabled,languageTranslateImageObj:this.dataJsonObj.languageQuestionImageApi,quiz_question_index:this.dataJsonObj.questionId,question:this.dataJsonObj.questionTranslatedValue,questionId:this.dataJsonObj.questionId,questionTranslation:this.dataJsonObj.questionTranslatedValue,displayName:this.dataJsonObj.selectedQuestion,displayNameTranslated:this.dataJsonObj.questionTranslatedValue,options:JSON.parse(JSON.stringify(this.dataJsonObj.optionsArrayTl))};this.dataJsonObj.questionLanguageTranslationsList.push(n)}}else this.dataJsonObj.quizLanguageTranslationsList.push({language:{language_id:this.dataJsonObj.languageId,language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode},quiz_display_name:this.dataJsonObj.quizTitle,displayName:this.dataJsonObj.quizTitle,displayNameTranslated:this.dataJsonObj.langTransDisplayname,title:this.dataJsonObj.langTransDisplayname,language_name_value:this.dataJsonObj.languageName,description:this.dataJsonObj.langTransDescription,is_enabled:!0,is_enabled_value:this.dataJsonObj.isLangTransEnabled?"Yes":"No",languageTranslateImages:this.dataJsonObj.languageTranslateImage,languageTranslateImageObj:this.dataJsonObj.languageImageApis[this.dataJsonObj.index]}),document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="";this.dataJsonObj.languagesData=this.dataJsonObj.quizLanguageTranslationsList.concat(this.dataJsonObj.questionLanguageTranslationsList),$("#addLanguagePopup").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"quizTranslationCreate",t)}}editLanguages(t,n){try{if(this.dataJsonObj.editRowIndex=t,this.dataJsonObj.index=this.dataJsonObj.editRowIndex+1,this.dataJsonObj.languageCode=n.language?.language_code,this.dataJsonObj.languageId=n.language?.language_id,this.dataJsonObj.languageName=n.language_name_value,this.dataJsonObj.langTransDisplayname=n.title,this.dataJsonObj.langTransDescription=n.description,this.dataJsonObj.isLangTransEnabled=n.is_enabled,this.dataJsonObj.islanguageImgEnable.welcome_screen=!(!n?.languageTranslateImages?.welcome_screen||!n?.languageTranslateImages?.welcome_screen.length||!n?.languageTranslateImages?.welcome_screen[this.dataJsonObj.index]),this.dataJsonObj.islanguageImgEnable.success_screen=!(!n?.languageTranslateImages?.success_screen||!n?.languageTranslateImages?.success_screen.length||!n?.languageTranslateImages?.success_screen[this.dataJsonObj.index]),this.dataJsonObj.islanguageImgEnable.failure_screen=!(!n?.languageTranslateImages?.failure_screen||!n?.languageTranslateImages?.failure_screen.length||!n?.languageTranslateImages?.failure_screen[this.dataJsonObj.index]),this.dataJsonObj.islanguageImgEnable.congratulation_screen=!(!n?.languageTranslateImages?.congratulation_screen||!n?.languageTranslateImages?.congratulation_screen.length||!n?.languageTranslateImages?.congratulation_screen[this.dataJsonObj.index]),this.dataJsonObj.welcome_screen=n?.languageTranslateImages?.welcome_screen&&n?.languageTranslateImages?.welcome_screen.length?n?.languageTranslateImages?.welcome_screen[this.dataJsonObj.index]:"",this.dataJsonObj.success_screen=n?.languageTranslateImages?.success_screen&&n?.languageTranslateImages?.success_screen.length?n?.languageTranslateImages?.success_screen[this.dataJsonObj.index]:"",this.dataJsonObj.failure_screen=n?.languageTranslateImages?.failure_screen&&n?.languageTranslateImages?.failure_screen.length?n?.languageTranslateImages?.failure_screen[this.dataJsonObj.index]:"",this.dataJsonObj.congratulation_screen=n?.languageTranslateImages?.congratulation_screen&&n?.languageTranslateImages?.congratulation_screen.length?n?.languageTranslateImages?.congratulation_screen[this.dataJsonObj.index]:"",this.dataJsonObj.showPopup=!!n?.questionId,this.dataJsonObj.showPopup){const a=this.dataJsonObj.languagesData.filter(o=>o.questionId===n?.questionId);this.dataJsonObj.question=a[0].question;const s=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(n?.languageTranslateImageObj?.file));this.dataJsonObj.question_screen=s,this.dataJsonObj.options=a[0].options,this.dataJsonObj.questionTranslatedValue=n?.questionTranslation}this.dataJsonObj.quizQuestionsTl=n.questionTranslations,this.displayNameUpdate?.clearmessage(),$("#updateLanguagePopup").modal("show"),$(".modal-backdrop").insertAfter("#updateLanguagePopup")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editLanguages",a)}}languagesEditSubmit(){try{const t=this.dataJsonObj.editRowIndex;if(this.displayNameUpdate.isValid()&&!this.dataJsonObj.languagesData[t]?.questionId){this.dataJsonObj.languagesData[t].language={language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode,language_id:this.dataJsonObj.languageId};const a=this.dataJsonObj.languageQuestionImageApi;this.dataJsonObj.languagesData[t].language_name_value=this.dataJsonObj.languageName,this.dataJsonObj.languagesData[t].title=this.dataJsonObj.langTransDisplayname,this.dataJsonObj.languagesData[t].description=this.dataJsonObj.langTransDescription,this.dataJsonObj.languagesData[t].is_enabled=this.dataJsonObj.isLangTransEnabled,this.dataJsonObj.languagesData[t].is_enabled_value=!0===this.dataJsonObj.isLangTransEnabled?"Yes":"No",this.dataJsonObj.languagesData[t].languageTranslateImageObj=a,this.dataJsonObj.languagesData[t].displayName=this.dataJsonObj.quizTitle,this.dataJsonObj.languagesData[t].displayNameTranslated=this.dataJsonObj.langTransDisplayname,document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",$("#updateLanguagePopup").modal("hide")}const n=this.dataJsonObj.editRowIndex;this.dataJsonObj.languagesData[n]&&this.dataJsonObj.languagesData[n].questionId&&(this.dataJsonObj.languagesData[n].language={language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode,language_id:this.dataJsonObj.languageId},this.dataJsonObj.languagesData[n].languageTranslateImageObj=this.dataJsonObj.languageQuestionImageApi,this.dataJsonObj.languagesData[n].language_name_value=this.dataJsonObj.languageName,this.dataJsonObj.languagesData[n].options?.find(o=>o.option_id===this.dataJsonObj.optionIndex),this.dataJsonObj.languagesData[n].displayName=this.dataJsonObj.selectedQuestion,this.dataJsonObj.languagesData[n].displayNameTranslated=this.dataJsonObj.questionTranslatedValue,this.dataJsonObj.languagesData[n].options=JSON.parse(JSON.stringify(this.dataJsonObj.optionsArrayTl)),document.getElementById("imagefileid4")&&(document.getElementById("imagefileid4").value=""),$("#updateLanguagePopup").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesEditSubmit",t)}}cancelPopUpButton(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",t)}}changeTranslateImage(t,n,a){try{if(a){if(t.target.files.length>0){this.dataJsonObj.languageQuestionImageApi={screen:n,imageFileName:"quizScreen"+this.dataJsonObj.questionId+this.dataJsonObj.languageCode,file:t.target.files[0]};const s=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t.target.files[0]));this.dataJsonObj[n]=s}document.getElementById("imagefileid5").value=""}else{if(this.dataJsonObj.islanguageImgEnable[n]=!0,t.target.files.length>0){this.dataJsonObj.languageImageApi={screen:n,imageFileName:t.target.files[0].name,file:t.target.files[0]},this.dataJsonObj.languageImageApis[this.dataJsonObj.index]||(this.dataJsonObj.languageImageApis[this.dataJsonObj.index]={}),this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n]||(this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n]=[]),this.dataJsonObj.languageTranslateImage[n]=this.dataJsonObj.languageTranslateImage[n]||[];const s=this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n].findIndex(u=>u.screen===n);-1!==s?this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n][s]=this.dataJsonObj.languageImageApi:this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n].push(this.dataJsonObj.languageImageApi),this.dataJsonObj.languageTranslateImage[n][this.dataJsonObj.index]=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t.target.files[0])),this.dataJsonObj[n]=this.dataJsonObj.languageTranslateImage[n][this.dataJsonObj.index]}document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value=""}}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeTranslateImage",s)}}changeTranslateImageRemove(t,n){try{this.dataJsonObj.islanguageImgEnable[t]=!1,this.dataJsonObj.languageTranslateImage[t][this.dataJsonObj.index]=""}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeTranslateImageRemove",a)}}triggerFile1(){this.fileInput1.nativeElement.click()}triggerFile2(){this.fileInput2.nativeElement.click()}triggerFile3(){this.fileInput3.nativeElement.click()}triggerFile4(){this.fileInput4.nativeElement.click()}triggerFile5(){this.fileInput5.nativeElement.click()}getNextRecordNumber(){return this.dataJsonObj.languagesData.length+1}getNextQuestionNumber(){return this.dataJsonObj.quizQuestionsTl.length+1}questionTlAdd(t){try{t.stopPropagation(),this.addQuestionTlIndex=this.getNextQuestionNumber(),this.questionTlIndex=this.addQuestionTlIndex,this.dataJsonObj.islanguageImgEnable.question_screen=!1,this.dataJsonObj.question_screen="",this.dataJsonObj.questionTl="",this.dataJsonObj.optionsArrayTl=[],$("#blockContentDetailsAdd").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDetailsAdd")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"questionTlAdd",n)}}removeBlockContentDetails(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.screenTypeObjectId=n.object_name,this.dataJsonObj.accordionCheckbox=n.is_display_as_accordion,this.dataJsonObj.defaultScreenType=n?.link_to_screen?.screen_type?.lookup_id?this.lookupLanguageTranslations(n.link_to_screen.screen_type.lookup_id):"",this.dataJsonObj.defaultPositionType=n?.position?.lookup_id?this.lookupLanguageTranslations(n.position.lookup_id):"",this.dataJsonObj.blockContentTitle=n.block_content_title,$("#blockContentDelete").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDelete")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeBlockContentDetails",a)}}editQuestionTl(t,n){try{this.dataJsonObj.currentQuestion=n.display_sequence,this.questionTlEditRowIndex=t,this.questionTlIndex=this.questionTlEditRowIndex+1,this.dataJsonObj.rowdata=n,this.dataJsonObj.questionTl=n.question,this.dataJsonObj.optionsArrayTl=n.options,this.dataJsonObj.islanguageImgEnable.question_screen=!(!n?.languageTranslateImages?.question_screen||!n?.languageTranslateImages?.question_screen.length||!n?.languageTranslateImages?.question_screen[this.questionTlIndex]),this.dataJsonObj.question_screen=n?.languageTranslateImages?.question_screen&&n?.languageTranslateImages?.question_screen.length?n?.languageTranslateImages?.question_screen[this.questionTlIndex]:"",$("#blockContentEdit").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editQuestionTl",a)}}optinsTlAdd1(t){try{t.stopPropagation(),this.dataJsonObj.optionTl="",$("#blockContentDetailsAdd1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDetailsAdd1")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"optinsTlAdd1",n)}}removeBlockContentDetails1(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.screenTypeObjectId=n.object_name,this.dataJsonObj.accordionCheckbox=n.is_display_as_accordion,this.dataJsonObj.defaultScreenType=n?.link_to_screen?.screen_type?.lookup_id?this.lookupLanguageTranslations(n.link_to_screen.screen_type.lookup_id):"",this.dataJsonObj.defaultPositionType=n?.position?.lookup_id?this.lookupLanguageTranslations(n.position.lookup_id):"",this.dataJsonObj.blockContentTitle=n.block_content_title,$("#blockContentDelete1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDelete1")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeBlockContentDetails1",a)}}editOptionsTl(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.rowdata=n,$("#blockContentEdit1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit1")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editOptionsTl",a)}}onClick(t){t.stopPropagation()}deleteBlockContentDetails(){}blockContentEditSubmit(){}changeLangTransCheckBox(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.isLangTransEnabled=t.value)}changeLangTransQuestionCheckBox(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.isLangTransQuestionCheckBoxEnabled=t.value)}languagesDeleteSubmit(){try{this.dataJsonObj.languagesData.splice(this.dataJsonObj.deleteRowIndex,1),$("#exampleModal7").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesDeleteSubmit",t)}}getQuizListData(t){this.quizFileArray=[],this.dataJsonObj.questionsDataList=[];const n=t;for(let a of n)this.dataJsonObj.questionsDataList.push({display_sequence:a.display_sequence,options:a.options,question:a.question});this.quizFileArrayData(n),this.dataJsonObj.isSubmitClicked?this.createRecord():this.dataJsonObj.isValidateQuestions&&this.languagesAddPopup()}quizFileArrayData(t){for(let n=0;n<t.length;n++){t[n].quizImage&&this.quizFileArray.push({imagename:t[n].question+"-"+t[n].display_sequence,file:this.dataURItoImgBlob(t[n].quizImage,"image/jpeg")});for(let a=0;a<t[n].options.length;a++)t[n].options[a].option_image&&this.quizFileArray.push({imagename:t[n].question+"-"+t[n].display_sequence+"-"+t[n].options[a].option_id,file:this.dataURItoImgBlob(t[n].options[a].option_image,"image/jpeg")})}}initializeDefaultQuestionObj(){this.dataJsonObj.quizDatalist.push({id:this.dataJsonObj.quizDatalist.length,quizImage:"",question:"",options:[{option:"",option_id:1,is_correct:!1,imageurl:""},{option:"",option_id:2,is_correct:!1,imageurl:""}]})}static \u0275fac=function(n){return new(n||i)(e.Y36(C.sK),e.Y36(H.e),e.Y36(y.m),e.Y36(N.v),e.Y36(S),e.Y36(M.s),e.Y36(z.H7),e.Y36(I.gz))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-quiz-create-v2"]],viewQuery:function(n,a){if(1&n&&(e.Gf(F.ap,5),e.Gf(vs,5),e.Gf(Es,5),e.Gf(Ns,5),e.Gf(Ss,5),e.Gf(Zs,5),e.Gf(ys,5),e.Gf(qs,5),e.Gf(Ls,5),e.Gf(Ds,5),e.Gf(xs,5),e.Gf(Ms,5),e.Gf(zs,5),e.Gf(ws,5)),2&n){let s;e.iGM(s=e.CRH())&&(a.imageCropper=s.first),e.iGM(s=e.CRH())&&(a.quiztitlevalid=s.first),e.iGM(s=e.CRH())&&(a.questionValid=s.first),e.iGM(s=e.CRH())&&(a.optionvalidate=s.first),e.iGM(s=e.CRH())&&(a.typeDropdown=s.first),e.iGM(s=e.CRH())&&(a.quizinputDataList=s.first),e.iGM(s=e.CRH())&&(a.displayNameUpdate=s.first),e.iGM(s=e.CRH())&&(a.fileInput1=s.first),e.iGM(s=e.CRH())&&(a.fileInput2=s.first),e.iGM(s=e.CRH())&&(a.fileInput3=s.first),e.iGM(s=e.CRH())&&(a.languageAdd=s.first),e.iGM(s=e.CRH())&&(a.displayNameAdd=s.first),e.iGM(s=e.CRH())&&(a.fileInput4=s.first),e.iGM(s=e.CRH())&&(a.fileInput5=s.first)}},features:[e.qOj],decls:170,vars:162,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["autoCaseFlag","false","mandatory","true","disabled","false","id","treasurehunt-create-facilityname",3,"minlength","maxlength","label","value","valueChange"],["quiztitlevalid",""],[1,"error-msg","col-md-10","text-danger","text-center","mb-0"],[1,"col-md-2"],["autoCaseFlag","true","mandatory","false","disabled","false","id","treasure-hunt-clues-create-leaderboardUsersCount",3,"label","value","maxlength","valueChange"],["leaderboardUsersCountInputNumber",""],[1,"col-lg-7","col-md-7","datetimepicker"],[1,"row"],[1,"col-lg-6","col-md-6","datetimepicker"],[1,"col-8","col-md-8","pe-0"],["mandatory","true","disabled","false","id","surveys-create-start-date",3,"placeholder","dateformat","defaultDate","editvalueChange"],["startDatetimePicker",""],[1,"col-4","col-md-4","ps-2"],["disabled","false","mandatory","true",3,"label","options","defaultValue","selectedOption","searchValueChange"],["mandatory","true","disabled","false","id","polls-create-end-date",3,"placeholder","defaultDate","dateformat","editvalueChange"],["mandatory","false","disabled","false","id","enterprise-create-description",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalid",""],[1,"col-md-2","pdl-1","order-md-1","imagewith-label"],["type","file","btnHide","true","action","create","imageid","welcomeImage","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","valueChange","imageRemove"],["type","file","btnHide","true","action","create","imageid","successImage","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","valueChange","imageRemove"],["type","file","btnHide","true","action","create","imageid","failureImage","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","valueChange","imageRemove"],["type","file","btnHide","true","action","create","imageid","congratulationImage","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","valueChange","imageRemove"],[1,"col-md-12","text-end","mt-2","mb-2","btns-group","order-md-1","order-2"],["className","btn btn-primary btn-sm","id","treasurehunt-create-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","treasurehunt-create-cancel",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"card-body"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["data","",3,"copFile","isQuestionDeleteButtonEnable","isAddQuestionButtonEnable","isAddAnswerButtonEnable","isEnableOptionDeleteButton","questionFileTypes","answerFileTypes","questionIsCheckBoxEnabled","answerCheckBoxEnabled","isValidateQuestions","isCapyFile","isDraggerFile","audio","valueChange","clearSubmitClick"],[1,"list-accordion-tab",3,"selected"],["label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","treasure-hunt-create-translationsadd",3,"disabled","isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","hidden-md-down","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"hidden-md-up"],["lines","full","class","pdl-0 pdr-0",4,"ngFor","ngForOf"],["class","text-center text-danger mb-0 no-data-txt",4,"ngIf"],["id","addLanguagePopup","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[4,"ngIf"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","treasure-hunt-create-translationsadd-add-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasure-hunt-create-translationsadd-cancel-btn",3,"label","buttonOnClick"],["id","updateLanguagePopup","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["className","btn btn-primary btn-sm","id","treasure-hunt-create-translationsedit-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasure-hunt-create-translationsedit-cancel-btn",3,"label","buttonOnClick"],["id","exampleModal7","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","treasure-hunt-create-translations-delete-name",3,"label","value"],["mandatory","false","disabled","true","id","treasure-hunt-create-translations-delete-language",3,"label","value"],["disabled","true","id","treasure-hunt-create-translations-delete-displayname","mandatory","true",3,"label","value"],[1,"col-md-10"],["disabled","true","id","treasure-hunt-create-translations-delete-description",3,"label","defaultvalue"],[1,"col-md-2","d-flex","align-items-center"],["label","","mandatory","false","id","treasure-hunt-create-translations-delete-checkboxoption","disabled","true",3,"options","checked"],["className","btn btn-primary btn-sm","id","treasure-hunt-create-translations-delete-delete-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasure-hunt-create-translations-delete-cancel-btn",3,"label","buttonOnClick"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#updateLanguagePopup",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#updateLanguagePopup",3,"pSelectableRow","click"],[3,"innerHTML"],["class","col-md-12",4,"ngFor","ngForOf"],["lines","full",1,"pdl-0","pdr-0"],[1,"mg-0",3,"click"],["color","primary",1,"mg-0","fs-13","h3"],[1,"mg-0","fs-11"],[1,"text-center","text-danger","mb-0","no-data-txt"],["mandatory","true","id","treasure-hunt-create-translationsadd-languagename",3,"label","options","selectedOption","searchValueChange"],["languageAdd",""],["label","","mandatory","true","id","treasure-hunt-create-translationsadd-checkboxoptions",3,"options","checked","valueChange"],["disabled","true","id","treasure-hunt-create-translationsadd-name",3,"label","value"],["disabled","false","mandatory","true","autoCaseFlag","false","id","treasure-hunt-create-translationsadd-displayname",3,"label","value","maxlength","valueChange"],["displayNameAdd",""],["mandatory","false","disabled","false","id","treasure-hunt-create-translationsadd-description",3,"label","defaultvalue","maxlength","valueChange"],[1,"col-md-12","text-center","mt-2"],["size","12","multiple","","type","file","id","imagefileid1","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file1",""],["id","create_fileclick_video_id","className","btn btn-primary btn-sm mt-2","btnIcon","fas fa-image mgr-5","id","lookupcode-translations-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["size","12","multiple","","type","file","id","imagefileid2","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file2",""],["size","12","multiple","","type","file","id","imagefileid3","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file3",""],["size","12","multiple","","type","file","id","imagefileid4","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file4",""],[1,"static-content-img"],[1,"fas","fa-times","floatright","cursor-pointer","clear-icon-btn",3,"click"],["alt","",1,"img-thumbnail",3,"src"],["mandatory","true","id","treasure-hunt-create-translationsadd-languagename",3,"label","options","defaultValue","selectedOption","searchValueChange"],["mandatory","false","id","digitalassets-create-assetType",3,"label","options","defaultValue","valueChange"],["digitalAssetTypeDropdown",""],["disabled","false","mandatory","false","autoCaseFlag","false","id","treasure-hunt-create-translationsadd-displayname",3,"label","maxlength","valueChange"],["size","12","multiple","","type","file","id","imagefileid5","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file5",""],["mandatory","true","disabled","true","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","value","maxlength"],["mandatory","false","disabled","false","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","maxlength","valueChange"],["disabled","true","id","treasure-hunt-create-translationsedit-name",3,"label","value"],["mandatory","true","disabled","true","id","treasure-hunt-create-translationsedit-language",3,"label","value"],["disabled","false","mandatory","true","autoCaseFlag","false","id","treasure-hunt-create-translationsedit-displayname",3,"label","value","maxlength","valueChange"],["displayNameUpdate",""],["mandatory","false","disabled","false","id","treasure-hunt-create-translationsedit-description",3,"label","defaultvalue","maxlength","valueChange"],[1,"col-md-12","text-center","d-flex","align-items-center","justify-content-center","mt-2"],["id","create_fileclick_video_id","className","btn btn-primary btn-sm","btnIcon","fas fa-image mgr-5","id","lookupcode-translations-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["disabled","true","mandatory","true","autoCaseFlag","false","id","treasure-hunt-create-translationsadd-displayname",3,"label","value","maxlength"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"app-input",10,11),e.NdJ("valueChange",function(o){return a.getQuizName(o)}),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",12),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",13)(17,"app-inputnumber",14,15),e.NdJ("valueChange",function(o){return a.changeLeaderboardUsersCount(o)}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",17)(24,"div",19)(25,"app-datetimepicker",20,21),e.NdJ("editvalueChange",function(o){return a.changeStartDate(o)}),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",22)(29,"app-dropdown-search",23),e.NdJ("selectedOption",function(o){return a.changeTimeZone(o)})("searchValueChange",function(o){return a.getTimeZone(o)}),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"div",18)(32,"div",17)(33,"div",19)(34,"app-datetimepicker",24),e.NdJ("editvalueChange",function(o){return a.changeEndDate(o)}),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"div",22)(37,"app-dropdown-search",23),e.NdJ("selectedOption",function(o){return a.changeTimeZone(o)})("searchValueChange",function(o){return a.getTimeZone(o)}),e.ALo(38,"translate"),e.qZA()()()()()(),e.TgZ(39,"div",3)(40,"app-textarea",25,26),e.NdJ("valueChange",function(o){return a.changeDescriptionName(o)}),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",3)(44,"div",17)(45,"div",27)(46,"label"),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"app-imageupload",28),e.NdJ("valueChange",function(o){return a.changeFile(o,"welcomeImage","")})("imageRemove",function(){return a.removeFile("welcomeImage")}),e.qZA()(),e.TgZ(50,"div",27)(51,"label"),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"app-imageupload",29),e.NdJ("valueChange",function(o){return a.changeFile(o,"successImage","")})("imageRemove",function(){return a.removeFile("successImage")}),e.qZA()(),e.TgZ(55,"div",27)(56,"label"),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"app-imageupload",30),e.NdJ("valueChange",function(o){return a.changeFile(o,"failureImage","")})("imageRemove",function(){return a.removeFile("failureImage")}),e.qZA()(),e.TgZ(60,"div",27)(61,"label"),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"app-imageupload",31),e.NdJ("valueChange",function(o){return a.changeFile(o,"congratulationImage","")})("imageRemove",function(){return a.removeFile("congratulationImage")}),e.qZA()()()(),e.TgZ(65,"div",32)(66,"app-button",33),e.NdJ("buttonOnClick",function(){return a.onSubmitClicked()}),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"app-button",34),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(69,"translate"),e.qZA()(),e.TgZ(70,"div",35),e._uU(71),e.ALo(72,"translate"),e.qZA()(),e.TgZ(73,"div",2)(74,"div",3)(75,"div",4)(76,"div",36)(77,"div",17)(78,"div",3)(79,"div",37)(80,"div",38)(81,"p-accordion")(82,"p-accordionTab",39)(83,"p-header",40)(84,"span"),e._uU(85),e.ALo(86,"translate"),e.qZA()(),e.TgZ(87,"app-quiz-question-answer-block",41),e.NdJ("valueChange",function(o){return a.getQuizListData(o)})("clearSubmitClick",function(){return a.clearSubmitClick()}),e.qZA()(),e.TgZ(88,"p-accordionTab",42)(89,"p-header",40)(90,"span"),e._uU(91),e.ALo(92,"translate"),e.qZA(),e.TgZ(93,"app-button",43),e.NdJ("buttonOnClick",function(o){return a.languagesAdd(o)}),e.qZA()(),e.TgZ(94,"p-table",44),e.YNc(95,Us,1,1,"ng-template",45),e.YNc(96,Vs,2,1,"ng-template",46),e.YNc(97,Fs,2,1,"ng-template",47),e.YNc(98,Bs,4,2,"ng-template",48),e.qZA(),e.TgZ(99,"div",49)(100,"ion-list"),e.YNc(101,Gs,11,12,"ion-item",50),e.qZA(),e.YNc(102,Hs,3,3,"p",51),e.qZA()()()()()()()()()()()()()()()()(),e.TgZ(103,"div",52)(104,"div",53)(105,"div",54)(106,"div",55)(107,"div",56),e._uU(108),e.ALo(109,"translate"),e.ALo(110,"translate"),e.qZA()(),e.TgZ(111,"div",57)(112,"div",8),e.YNc(113,Xs,51,41,"div",58),e.YNc(114,to,24,19,"div",58),e.YNc(115,no,2,1,"div",58),e.TgZ(116,"div",12),e._uU(117),e.ALo(118,"translate"),e.qZA(),e.TgZ(119,"div",59)(120,"app-button",60),e.NdJ("buttonOnClick",function(){return a.quizTranslationCreate()}),e.ALo(121,"translate"),e.qZA(),e.TgZ(122,"app-button",61),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(123,"translate"),e.qZA()()()()()()(),e.TgZ(124,"div",62)(125,"div",53)(126,"div",54)(127,"div",55)(128,"div",56),e._uU(129),e.ALo(130,"translate"),e.ALo(131,"translate"),e.qZA()(),e.TgZ(132,"div",57)(133,"div",8),e.YNc(134,ro,42,34,"div",58),e.YNc(135,go,22,19,"div",58),e.TgZ(136,"div",59)(137,"app-button",63),e.NdJ("buttonOnClick",function(){return a.languagesEditSubmit()}),e.ALo(138,"translate"),e.qZA(),e.TgZ(139,"app-button",64),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(140,"translate"),e.qZA()()()()()()(),e.TgZ(141,"div",65)(142,"div",53)(143,"div",54)(144,"div",55)(145,"div",56),e._uU(146),e.ALo(147,"translate"),e.ALo(148,"translate"),e.qZA()(),e.TgZ(149,"div",57)(150,"div",8)(151,"div",9),e._UZ(152,"app-input",66),e.ALo(153,"translate"),e.qZA(),e.TgZ(154,"div",9),e._UZ(155,"app-input",67),e.ALo(156,"translate"),e.qZA(),e.TgZ(157,"div",9),e._UZ(158,"app-input",68),e.ALo(159,"translate"),e.qZA(),e.TgZ(160,"div",69),e._UZ(161,"app-textarea",70),e.ALo(162,"translate"),e.qZA(),e.TgZ(163,"div",71),e._UZ(164,"app-checkbox",72),e.qZA(),e.TgZ(165,"div",59)(166,"app-button",73),e.NdJ("buttonOnClick",function(){return a.languagesDeleteSubmit()}),e.ALo(167,"translate"),e.qZA(),e.TgZ(168,"app-button",74),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(169,"translate"),e.qZA()()()()()()()),2&n&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(12,94,"NEW_VARIABLES.QUIZ_TITLE")),e.s9C("value",a.dataJsonObj.quizTitle),e.Q6J("minlength",3)("maxlength",120),e.xp6(4),e.hij(" ",e.lcZ(15,96,a.errorObj.error2)," "),e.xp6(3),e.s9C("label",e.lcZ(19,98,"NEW_VARIABLES.LEADERBOARD_USERS_COUNT")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.leaderboard_user_count),e.Q6J("maxlength",3),e.xp6(8),e.s9C("placeholder",e.lcZ(27,100,"COMMON_FIELDS.START_DATE")),e.Q6J("dateformat",a.dataJsonObj.loginUserDateFormat)("defaultDate",a.dataJsonObj.startDate),e.xp6(4),e.s9C("label",e.lcZ(30,102,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",null==a.dataJsonObj.userTimeZoneObj?null:a.dataJsonObj.userTimeZoneObj.timeZoneCode),e.Q6J("options",a.dataJsonObj.timezoneOptions),e.xp6(5),e.s9C("placeholder",e.lcZ(35,104,"COMMON_FIELDS.END_DATE")),e.Q6J("defaultDate",a.dataJsonObj.endDate)("dateformat",a.dataJsonObj.loginUserDateFormat),e.xp6(3),e.s9C("label",e.lcZ(38,106,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",a.dataJsonObj.userTimeZoneObj.timeZoneCode),e.Q6J("options",a.dataJsonObj.timezoneOptions),e.xp6(3),e.s9C("label",e.lcZ(42,108,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.description),e.Q6J("maxlength",2e3),e.xp6(7),e.Oqu(e.lcZ(48,110,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(2),e.Q6J("maintainAspectRatio",!1),e.xp6(3),e.Oqu(e.lcZ(53,112,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(2),e.Q6J("maintainAspectRatio",!1),e.xp6(3),e.Oqu(e.lcZ(58,114,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(2),e.Q6J("maintainAspectRatio",!1),e.xp6(3),e.Oqu(e.lcZ(63,116,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(2),e.Q6J("maintainAspectRatio",!1),e.xp6(2),e.s9C("label",e.lcZ(67,118,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.s9C("disabled",a.dataJsonObj.disableSubmitBtn),e.xp6(2),e.s9C("label",e.lcZ(69,120,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(72,122,a.errorObj.error)," "),e.xp6(11),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(86,124,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(2),e.Q6J("copFile",!0)("isQuestionDeleteButtonEnable",!0)("isAddQuestionButtonEnable",!0)("isAddAnswerButtonEnable",!0)("isEnableOptionDeleteButton",!0)("questionFileTypes",a.dataJsonObj.questionFileTypes)("answerFileTypes",a.dataJsonObj.answerFileTypes)("questionIsCheckBoxEnabled",!1)("answerCheckBoxEnabled",!0)("isValidateQuestions",a.dataJsonObj.isValidateQuestions)("isCapyFile",!1)("isDraggerFile",!1)("audio",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(92,126,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")),e.xp6(2),e.s9C("disabled",null==a.dataJsonObj?null:a.dataJsonObj.disableTransAdd),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",null==a.dataJsonObj?null:a.dataJsonObj.quizTlheaders)("value",a.dataJsonObj.languagesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(7),e.Q6J("ngForOf",a.dataJsonObj.languagesData),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.languagesData&&0===a.dataJsonObj.languagesData.length),e.xp6(6),e.AsE("",e.lcZ(109,128,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(110,130,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(5),e.Q6J("ngIf",!(null!=a.dataJsonObj&&a.dataJsonObj.isLangTransQuestionCheckBoxEnabled)),e.xp6(1),e.Q6J("ngIf",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransQuestionCheckBoxEnabled),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.optionsArray),e.xp6(2),e.hij(" ",e.lcZ(118,132,null==a.dataJsonObj?null:a.dataJsonObj.addPopupError)," "),e.xp6(3),e.s9C("label",e.lcZ(121,134,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(123,136,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(130,138,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(131,140,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(5),e.Q6J("ngIf",!a.dataJsonObj.showPopup),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.showPopup),e.xp6(2),e.s9C("label",e.lcZ(138,142,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(140,144,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(147,146,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(148,148,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(153,150,"NEW_VARIABLES.NAME")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.treasureHuntDisplayName),e.xp6(3),e.s9C("label",e.lcZ(156,152,"PREFERENCES.LANGUAGE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.languageName),e.xp6(3),e.s9C("label",e.lcZ(159,154,"COMMON_FIELDS.DISPLAY_NAME")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.langTransDisplayname),e.xp6(3),e.s9C("label",e.lcZ(162,156,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.langTransDescription),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransEnabled),e.xp6(2),e.s9C("label",e.lcZ(167,158,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(169,160,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[j.sg,j.O5,f.Ie,f.Q$,f.q_,L.r,D.a,U.k,k.b,V.R,R.K,w.f,P.L,B.C,Q.q,X,A.UQ,A.US,E.h4,E.jx,v.iA,v.Ei,C.X$],styles:[".greyhr40[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:0}.fab-textarea[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding:13px;background-color:#0057b2;border-radius:50px;color:#f9f7f7;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.chat-profile-pic[_ngcontent-%COMP%]{width:50px;height:50px}.postbtn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{float:none;margin:0 auto}ion-textarea[_ngcontent-%COMP%]{min-height:80px}ion-select.createpost[_ngcontent-%COMP%]   .select-text[_ngcontent-%COMP%]{color:#000!important;opacity:1!important;line-height:20px!important}ion-textarea.editposttextarea[_ngcontent-%COMP%]{border:1px solid #f7f6f6;box-shadow:.1px .1px .1px .1px #0000001a}ion-grid.creatpost-block[_ngcontent-%COMP%]{padding-bottom:10px}.taged-users[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:5px;display:inherit}ion-col#profileimg[_ngcontent-%COMP%]{display:block}.uploaded-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;float:none;margin:0 auto}.paudiencelbl[_ngcontent-%COMP%]{display:flex;align-items:center}.createform[_ngcontent-%COMP%]   ion-col.paudiencelbl[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-top:0}ion-grid.creatpost-block[_ngcontent-%COMP%]   .uploaded-img[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center;display:block}ion-modal[_ngcontent-%COMP%]   button.floatright[_ngcontent-%COMP%]{margin:5px 16px 0 0}.fab-list-side-start[_ngcontent-%COMP%]{margin-inline:55px}.fab-list-side-end[_ngcontent-%COMP%]{margin-inline:50px}.fab-list-active[_ngcontent-%COMP%]{align-items:flex-start}.fab-button-attachment[_ngcontent-%COMP%]{position:relative;left:auto;right:auto;bottom:auto}@media (max-width: 575px){.close[_ngcontent-%COMP%]{float:left}ion-grid.creatpost-block[_ngcontent-%COMP%]{padding-bottom:30px}}@media (max-width: 991px) and (min-width: 768px){.close[_ngcontent-%COMP%]{float:left}ion-grid.creatpost-block[_ngcontent-%COMP%]{padding-bottom:30px}}.cdk-overlay-pane[_ngcontent-%COMP%]   .mat-mdc-select-panel[_ngcontent-%COMP%]{max-height:100px!important}"]})}return i})();const mo=["treasureHuntNamevalid"],_o=["treasureHuntDisplayNamevalid"],ho=["organizerDropDown"],bo=["validLatitude"],Oo=["validLongitude"],To=["validRadius"],Jo=["addressline1Input"],fo=["countryInput"],jo=["stateInput"],Co=["cityInput"],Io=["zipInput"],Ao=["languageAdd"],vo=["displayNameAdd"],Eo=["displayNameUpdate"],No=["file1"],So=["file2"],Zo=["file3"],yo=["file4"];function qo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"app-quiz-question-answer-block",89),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.getQuizListData(a))})("clearSubmitClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearSubmitClick())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("copFile",!0)("isQuestionDeleteButtonEnable",!1)("isAddQuestionButtonEnable",!1)("isAddAnswerButtonEnable",!1)("isEnableOptionDeleteButton",!1)("questionFileTypes",t.dataJsonObj.questionFileTypes)("questionFileTypes",t.dataJsonObj.questionFileTypes)("answerFileTypes",t.dataJsonObj.answerFileTypes)("questionIsCheckBoxEnabled",!1)("answerCheckBoxEnabled",!0)("isSubmitClicked",t.dataJsonObj.isSubmitClicked)("isCapyFile",!1)("isDraggerFile",!1)("data",t.dataJsonObj.quizQuestionData)("audio",!0)}}function Lo(i,l){if(1&i&&(e.TgZ(0,"tr",91)(1,"td",92),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Do(i,l){if(1&i&&e.YNc(0,Lo,4,4,"tr",90),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.languagesData&&0==t.dataJsonObj.languagesData.length)}}function xo(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Mo(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,xo,3,3,"th",93),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function zo(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",95),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editLanguages(s,o))}),e._UZ(1,"span",96),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," "),e.Q6J("pSelectableRow",n),e.xp6(1),e.Q6J("innerHTML",n[t.field],e.oJD)}}function wo(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,zo,2,5,"td",94),e.qZA()),2&i){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Qo(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",96)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Uo(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Qo,7,4,"div",97),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function ko(i,l){1&i&&(e.TgZ(0,"p",98),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}function Vo(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",106),e._UZ(2,"img",107),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.welcome_screen,e.LSH)}}function Ro(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",106),e._UZ(2,"img",107),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.failure_screen,e.LSH)}}function Fo(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",106),e._UZ(2,"img",107),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.congratulation_screen,e.LSH)}}function Po(i,l){if(1&i&&(e.TgZ(0,"div")(1,"div",99)(2,"div",9),e._UZ(3,"app-input",100),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",9),e._UZ(6,"app-input",101),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"div",9),e._UZ(9,"app-input",102,103),e.ALo(11,"translate"),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",104),e._UZ(14,"app-textarea",105),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",69)(17,"div",9),e.YNc(18,Vo,3,1,"div",59),e.qZA(),e.TgZ(19,"div",9)(20,"span",106),e._UZ(21,"img",107),e.qZA()()(),e.TgZ(22,"div",9),e.YNc(23,Ro,3,1,"div",59),e.qZA(),e.TgZ(24,"div",9),e.YNc(25,Fo,3,1,"div",59),e.qZA()()()),2&i){const t=e.oxw();e.xp6(3),e.s9C("label",e.lcZ(4,15,"NEW_VARIABLES.TITLE")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.quizViewData?null:t.dataJsonObj.quizViewData.title),e.xp6(3),e.s9C("label",e.lcZ(7,17,"PREFERENCES.LANGUAGE")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.languageName),e.xp6(3),e.hYB("label","",e.lcZ(11,19,"NEW_VARIABLES.TITLE")," (",e.lcZ(12,21,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(5),e.s9C("label",e.lcZ(15,23,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==t.dataJsonObj?null:t.dataJsonObj.langTransDescription),e.Q6J("maxlength",2e3),e.xp6(4),e.Q6J("ngIf",null==t.dataJsonObj.islanguageImgEnable?null:t.dataJsonObj.islanguageImgEnable.welcome_screen),e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.success_screen,e.LSH),e.xp6(2),e.Q6J("ngIf",null==t.dataJsonObj.islanguageImgEnable?null:t.dataJsonObj.islanguageImgEnable.failure_screen),e.xp6(2),e.Q6J("ngIf",null==t.dataJsonObj.islanguageImgEnable?null:t.dataJsonObj.islanguageImgEnable.congratulation_screen)}}function Bo(i,l){if(1&i&&(e.TgZ(0,"div")(1,"div",69)(2,"div",17)(3,"div",9),e._UZ(4,"app-input",108),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",9),e._UZ(7,"app-input",108),e.ALo(8,"translate"),e.ALo(9,"translate"),e.qZA()()()()),2&i){const t=l.$implicit;e.xp6(4),e.s9C("label",e.lcZ(5,7,"POLL.OPTIONS")),e.s9C("value",t.originalOption),e.Q6J("maxlength",40),e.xp6(3),e.hYB("label","",e.lcZ(8,9,"POLL.OPTIONS"),"(",e.lcZ(9,11,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",t.NAME),e.Q6J("maxlength",40)}}function Go(i,l){if(1&i&&(e.TgZ(0,"div")(1,"div",69)(2,"div",17)(3,"div",9),e._UZ(4,"app-input",108),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",9)(7,"app-input",108),e.ALo(8,"translate"),e.ALo(9,"translate"),e._uU(10,">"),e.qZA()(),e.TgZ(11,"div",9)(12,"label"),e._uU(13),e.ALo(14,"translate"),e.ALo(15,"translate"),e.qZA(),e._UZ(16,"app-imageupload",109),e.qZA()()(),e.YNc(17,Bo,10,13,"div",93),e.qZA()),2&i){const t=l.$implicit;e.xp6(4),e.MGl("label","",e.lcZ(5,10,"COMMON_BLOCK_TITLES.QUESTIONS")," "),e.s9C("value",t.displayName),e.Q6J("maxlength",40),e.xp6(3),e.hYB("label","",e.lcZ(8,12,"COMMON_BLOCK_TITLES.QUESTIONS"),"(",e.lcZ(9,14,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",t.question),e.Q6J("maxlength",40),e.xp6(6),e.AsE('"',e.lcZ(14,16,"COMMON_BLOCK_TITLES.QUESTIONS")," ",e.lcZ(15,18,"COMMON_BUTTONS.BUTTON_IMAGE"),'"'),e.xp6(4),e.Q6J("ngForOf",t.orginalOptions)}}function Ho(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Go,18,20,"div",93),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.dataJsonObj.questionLanguageTranslationsList)}}function Yo(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",106),e._UZ(2,"img",107),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.question_screen,e.LSH)}}function $o(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",92),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Ko(i,l){if(1&i&&e.YNc(0,$o,4,4,"tr",59),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.optionsArrayTl&&0==t.dataJsonObj.optionsArrayTl.length)}}function Wo(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Xo(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",110),e.YNc(2,Wo,3,3,"th",93),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function el(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",114),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editOptionTl(s,o))}),e.TgZ(1,"span",115)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",116),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function tl(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",111),e._UZ(2,"div",112),e.qZA(),e.YNc(3,el,7,8,"td",113),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function al(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",96)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function nl(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,al,7,4,"div",97),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function il(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",106),e._UZ(2,"img",107),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.question_screen,e.LSH)}}function sl(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",92),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function ol(i,l){if(1&i&&e.YNc(0,sl,4,4,"tr",59),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.optionsArrayTl&&0==t.dataJsonObj.optionsArrayTl.length)}}function ll(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function rl(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",110),e.YNc(2,ll,3,3,"th",93),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function dl(i,l){if(1&i&&(e.TgZ(0,"td",118)(1,"span",115)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",116),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function ul(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"td",111),e.YNc(2,dl,7,8,"td",117),e.qZA()),2&i){const t=l.columns;e.xp6(2),e.Q6J("ngForOf",t[0])}}function cl(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",96)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function gl(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,cl,7,4,"div",97),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}const pl=function(){return{"view-only":!0}};let ml=(()=>{class i extends x.O{apiEndPointUrl;QuizService;commonService;route;translateService;loggerService;navigationService;router;sanitizer;uiUtils;treasureHuntNamevalid;treasureHuntDisplayNamevalid;organizerDropDown;validLatitude;validLongitude;validRadius;addressline1Input;countryInput;stateInput;cityInput;zipInput;languageAdd;displayNameAdd;displayNameUpdate;fileInput1;fileInput2;fileInput3;fileInput4;dataJsonObj={};errorObj={};metadataJson;navpathimgFile;boundariesJson;postType2;questionError;postTypeTag1;postTypeValue2;imageType1;postTypeVideo1;imgCheck=!1;treasureHuntImageFile;imgFile=[];selectedAccordian=!1;displaySequence;errorHtml;quizFileArray;digitalAssetTypeOptions;digitalAssetTypeObj;digitalAssetTypeId;digitalAssetType;question;recordId;AnswerError;transform={};showCropper;imageChangedEvent;croppedImage;canvasRotation=0;canvasRotation1=0;digitalAssetUploadFileType;digitalAssetTypeName;assetTypeTag;assetTypeImage;assetTypeValue;videoType;audioType;imageType;assetTypeVideo;assetTypeAudio;documentType;fileSrc;previewFileSrc;error;previewImageChangedEvent;selectedFileName;fileType;selectedType;extension;imageExtensions;myObj;assetTypeError;assetFile;videoExtensions;mediaFile;digitalAssetFile;fileSize;audioExtensions;documentExtensions;otherExtensions;imageMinSize;imageStatus;errMsg1;errMsg2;imageMaxSize;postType;videoMaxSize;videoMinSize;audioMaxSize;audioMinSize;documentMaxSize;documentMinSize;documentTypes;questionTlIndex;questionTlEditRowIndex;constructor(t,n,a,s,o,u,d,c,_,J){super(s,a),this.apiEndPointUrl=t,this.QuizService=n,this.commonService=a,this.route=s,this.translateService=o,this.loggerService=u,this.navigationService=d,this.router=c,this.sanitizer=_,this.uiUtils=J,this.route.params.subscribe(b=>{this.dataJsonObj.recordId=b.id})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.questionFileTypes=[r.vH.IMAGE],this.dataJsonObj.orginalOptions=[],this.dataJsonObj.quizQuestions=[],this.dataJsonObj.pageName=r.hf.QUIZ,this.dataJsonObj.userTimeZoneObj={},this.quizFileArray=[],this.dataJsonObj.imageDelete={},this.dataJsonObj.imageDelete.welcome_screen=[],this.dataJsonObj.imageDelete.failure_screen=[],this.dataJsonObj.imageDelete.success_screen=[],this.dataJsonObj.imageDelete.congratulation_screen=[],this.dataJsonObj.selectedorganizerObj=[],this.dataJsonObj.languageTranslateImageDisplay={},this.dataJsonObj.languageTranslateImageDisplay.welcome_screen=[],this.dataJsonObj.languageTranslateImageDisplay.failure_screen=[],this.dataJsonObj.languageTranslateImageDisplay.success_screen=[],this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen=[],this.dataJsonObj.disableSubmitBtn=!1,this.dataJsonObj.newLanguageData=[],this.dataJsonObj.languageTranslateImage={},this.dataJsonObj.islanguageImgEnable={},this.dataJsonObj.deleteImage={},this.dataJsonObj.deleteOriginalImage={},this.dataJsonObj.deleteImage.welcome_screen=[],this.dataJsonObj.deleteImage.success_screen=[],this.dataJsonObj.deleteImage.failure_screen=[],this.dataJsonObj.deleteImage.congratulation_screen=[],this.dataJsonObj.deleteOriginalImage.welcome_screen=[],this.dataJsonObj.deleteOriginalImage.success_screen=[],this.dataJsonObj.deleteOriginalImage.failure_screen=[],this.dataJsonObj.deleteOriginalImage.congratulation_screen=[],this.dataJsonObj.languageImageApis={},this.dataJsonObj.languageImageApi={},this.dataJsonObj.languageTranslateImage.welcome_screen="",this.dataJsonObj.languageTranslateImage.success_screen="",this.dataJsonObj.languageTranslateImage.failure_screen="",this.dataJsonObj.languageTranslateImage.congratulation_screen="",this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.deletetedQuestions=[],this.dataJsonObj.languagesData=[],this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl;const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.loginUserDateFormat=t.dateFormat,this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(a=>{this.dataJsonObj.lookupCodesListJSON=a,this.getTimeZone(this.dataJsonObj.userTimeZoneObj.timeZoneCode),this.getTimeZone(this.dataJsonObj.userTimeZoneObj.timeZoneCode)}),this.getDynamicJson([{folderName:r.sb.FACILITIES,jsonType:"list",storingFieldName:"facilitiesListJson"}]),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.getRecordById(),this.dataJsonObj.enableimageDeleteValue=!0,this.dataJsonObj.languagesFromJson={},this.getLanguagesfromJson(),this.dataJsonObj.disableTransAdd=!1,this.dataJsonObj.languagesData=[],this.dataJsonObj.deleted_translation_ids=[],this.dataJsonObj.languageTranslationEnablecheckboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.dataJsonObj.quizLanguageTranslationsList=[],this.dataJsonObj.questionLanguageTranslationsList=[],this.dataJsonObj.quizTlHeaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-60"},{headersort:"disableth",field:"displayName",header:this.translateService.instant("COMMON_PAGE_TITLES.QUIZ")+" "+this.translateService.instant("NEW_VARIABLES.NAME")+"/"+this.translateService.instant("COMMON_FIELDS.QUESTION"),class:""},{headersort:"disableth",field:"displayNameTranslated",header:this.translateService.instant("COMMON_PAGE_TITLES.QUIZ")+" "+this.translateService.instant("NEW_VARIABLES.NAME")+"/"+this.translateService.instant("COMMON_FIELDS.QUESTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"description",header:this.translateService.instant("COMMON_FIELDS.DESCRIPTION"),class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"},{headersort:"disableth",field:"is_question_enabled_value",header:"COMMON_FIELDS.QUESTION",class:"w-60"}]],this.dataJsonObj.optionsTlHeaders=[[{headersort:"disableth",sortfield:"",field:"original_option",header:this.translateService.instant("POLL.OPTION"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"option",header:this.translateService.instant("POLL.OPTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:"w-130"},{headersort:"disableth",sortfield:"",field:"is_correct",header:this.translateService.instant("COMMON_FIELDS.IS_CORRECT"),class:"w-130"}]],this.dataJsonObj.questionsTlHeaders=[[{headersort:"disableth",sortfield:"",field:"original_question",header:this.translateService.instant("COMMON_FIELDS.QUESTION"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"question",header:this.translateService.instant("COMMON_FIELDS.QUESTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:"w-130"}]],this.dataJsonObj.treasureHuntTlheaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-60"},{headersort:"disableth",field:"treasure_hunt_display_name",header:"NEW_VARIABLES.NAME",class:"w-120"},{headersort:"disableth",field:"display_name",header:this.translateService.instant("NEW_VARIABLES.NAME")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"description",header:this.translateService.instant("COMMON_FIELDS.DESCRIPTION"),class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.dataJsonObj.optionsCheckbox=[{displayname:this.translateService.instant("COMMON_FIELDS.IS_CORRECT")}]}getDynamicJson(t){var n=this;return(0,T.Z)(function*(){for(let a of t)n.dataJsonObj[a.storingFieldName]=yield n.commonService.getDynamicJson(n.dataJsonObj.selectedEnterpriseId,a.folderName,a.jsonType);n.getSelectedSubmenuDetails()})()}getSelectedSubmenuDetails(){var t=this;return(0,T.Z)(function*(){if(t.dataJsonObj?.queryParamsObj?.selectedMenuId&&t.dataJsonObj?.queryParamsObj?.selectedSubMenuId){const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a._id===parseInt(t.dataJsonObj.queryParamsObj.selectedMenuId,10)):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu.find(a=>a.submenu_id===parseInt(t.dataJsonObj.queryParamsObj.selectedSubMenuId,10)):{}}else{const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a.menu_page.page_name===t.dataJsonObj.pageName):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu[0]:{}}t.dataJsonObj.pageDetails=t.dataJsonObj.selectedSubmenuObj.submenu_page})()}getRecordById(){try{const t={};this.QuizService.get(this.dataJsonObj.recordId).subscribe(n=>{this.dataJsonObj.quizViewData=n,this.dataJsonObj.quizQuestionData=n?.quizQuestionsData?n?.quizQuestionsData:[];const a={},s={};for(let d of this.dataJsonObj.quizQuestionData){s||(s[d._id]={}),s[d._id]=d.question,a[d._id]||(a[d._id]={});for(let c of d.options)a[d._id][c.option_id]=c.option,c.ID=c.option_id,c.NAME=c.option,this.dataJsonObj.orginalOptions.push(c);d.ID=d.display_sequence,d.NAME=d.question,d.quizImage=d?.file_path&&d?.file_name?this.dataJsonObj.apiEndPoint+d?.file_path+"/"+d?.file_name:""}if(this.dataJsonObj.quizViewData.language_translations?.length>0)for(let d of this.dataJsonObj.quizViewData.language_translations)this.dataJsonObj.quizLanguageTranslationsList.push({language:d.language,quiz_display_name:this.dataJsonObj.quizViewData.title,displayName:d.title,displayNameTranslated:d.title,title:this.dataJsonObj.langTransDisplayname,language_name_value:this.dataJsonObj.languagesFromJson[d.language.language_name]?.language_display_name,description:d.description,is_enabled:d.is_enabled,is_enabled_value:d.is_enabled?"Yes":"No"});if(this.dataJsonObj.quizViewData.questionTranslations?.length>0)for(let d of this.dataJsonObj.quizViewData.questionTranslations){const c={language:d.language,language_name_value:this.dataJsonObj.languagesFromJson[d.language.language_name]?.language_display_name,quiz_question_id:d.quiz_question_id,question:d.question,questionId:d.quiz_question_id,questionTranslation:d.question,displayName:s[d.quiz_question_id],orginalOptions:d.options.map(_=>({ID:_.option_id,NAME:_.option,originalOption:a[d.quiz_question_id]?.[_.option_id]||_.option})),displayNameTranslated:d.question,options:JSON.parse(JSON.stringify(d.options)),is_enabled:d.is_enabled,is_enabled_value:d.is_enabled?"Yes":"No"};this.dataJsonObj.questionLanguageTranslationsList.push(c)}this.dataJsonObj.languagesData=this.dataJsonObj.quizLanguageTranslationsList.concat(this.dataJsonObj.questionLanguageTranslationsList),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.QUIZ",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}];const o=this.displayDateFormatter(this.dataJsonObj.quizViewData.start_datetime,!1,!0);this.dataJsonObj.startDate=o.startDate;const u=this.displayDateFormatter(this.dataJsonObj.quizViewData.end_datetime,!1,!0);if(this.dataJsonObj.endDate=u.startDate,this.dataJsonObj.quizViewData.welcome_screen.dispayImage=this.dataJsonObj.quizViewData.welcome_screen.image_name&&this.dataJsonObj.quizViewData.welcome_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.welcome_screen.image_path+"/"+this.dataJsonObj.quizViewData.welcome_screen.image_name:"",this.dataJsonObj.quizViewData.success_screen.dispayImage=this.dataJsonObj.quizViewData.success_screen.image_name&&this.dataJsonObj.quizViewData.success_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.success_screen.image_path+"/"+this.dataJsonObj.quizViewData.success_screen.image_name:"",this.dataJsonObj.quizViewData.failure_screen.dispayImage=this.dataJsonObj.quizViewData.failure_screen.image_name&&this.dataJsonObj.quizViewData.failure_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.failure_screen.image_path+"/"+this.dataJsonObj.quizViewData.failure_screen.image_name:"",this.dataJsonObj.quizViewData.congratulation_screen.dispayImage=this.dataJsonObj.quizViewData.congratulation_screen.image_name&&this.dataJsonObj.quizViewData.congratulation_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.congratulation_screen.image_path+"/"+this.dataJsonObj.quizViewData.congratulation_screen.image_name:"",this.dataJsonObj.quizViewData?.questionTranslations)for(let d of this.dataJsonObj.quizViewData?.questionTranslations){d.original_question=s[d.quiz_question_id];for(let c of d.options)c.original_option=a[d.quiz_question_id][c.option_id];t[d?.language?.language_code]||(t[d?.language?.language_code]=[]),t[d?.language?.language_code].push(d)}})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)}}getTimeZone(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.TIME_ZONES],t).then(n=>{if(this.dataJsonObj.timezoneOptions=n,this.dataJsonObj.timezoneOptions.length>0){for(let a=0;a<this.dataJsonObj.timezoneOptions.length;a++)this.dataJsonObj.timezoneOptions[a].NAME=this.dataJsonObj.timezoneOptions[a].NAME+" - "+this.dataJsonObj.timezoneOptions[a].description;this.dataJsonObj.timezoneOptions=this.dataJsonObj.timezoneOptions}},n=>{this.loggerService.setLoggerError(this.constructor.name,"getLookupTypes",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getTimeZone",n)}}deleteUpload(){this.dataJsonObj.treasureHuntImageFileSrc="",this.postTypeVideo1="",this.imgCheck=!1}getQuizName(t){try{this.errorObj.error2="",this.dataJsonObj.quizViewData.title=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getFacilityName",n)}}close(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Close",t)}}displayDateFormatter(t,n,a){try{const s=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,o={startDate:"",endDate:""};if(o.startDate=this.commonService.convertDateToUserFormat(s,r.eZ.HOURS_MINS,!0,"",!1),n){const u=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,d=this.commonService.addHoursToDate(u,120);o.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return o}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",s)}}getNextRecordNumber(){return this.dataJsonObj.languagesData.length+1}languagesAdd(t){try{this.dataJsonObj.disableTransAdd||(t.stopPropagation(),this.dataJsonObj.islanguageImgEnable.congratulation_screen=!1,this.dataJsonObj.createRowIndex=this.getNextRecordNumber(),this.dataJsonObj.index=this.dataJsonObj.createRowIndex,this.displayNameAdd.clearmessage(),this.languageAdd.clearmessage(),this.languageAdd.clearSelectInput(),this.dataJsonObj.languageCode="",this.dataJsonObj.languageName="",this.dataJsonObj.addPopupError="",this.dataJsonObj.langTransDisplayname="",this.dataJsonObj.langTransDescription="",this.dataJsonObj.isLangTransEnabled=!0,this.dataJsonObj.languageTranslateImage.welcome_screen="",this.dataJsonObj.languageTranslateImage.success_screen="",this.dataJsonObj.languageTranslateImage.failure_screen="",this.dataJsonObj.languageTranslateImage.congratulation_screen="",this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.islanguageImgEnable.congratulation_screen=!1,this.getLanguagesList(""),$("#exampleModal5").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal5"))}catch(n){this.loggerService.setLoggerError(this.constructor.name,"languagesAdd",n)}}removeLanguages(t,n){try{this.dataJsonObj.deleteRowIndex=t,this.dataJsonObj.languageCode=n.language.language_code,this.dataJsonObj.languageId=n.language.language_id,this.dataJsonObj.languageName=n.language_name_value,this.dataJsonObj.langTransDisplayname=n.display_name,this.dataJsonObj.langTransDescription=n.description,this.dataJsonObj.isLangTransEnabled=n.is_enabled,$("#exampleModal7").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal7")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeLanguages",a)}}editLanguages(t,n){try{this.dataJsonObj.editRowIndex=t,this.dataJsonObj.index=this.dataJsonObj.editRowIndex+1,this.dataJsonObj.languageId=n.language.language_id,this.dataJsonObj.languageName=n.language_name_value,this.dataJsonObj.languageCode=n.language.language_code,this.dataJsonObj.language=n.language.language_name,this.dataJsonObj.langTransDisplayname=n.title,this.dataJsonObj.langTransDescription=n.description,this.dataJsonObj.isLangTransEnabled=n.is_enabled,this.dataJsonObj.imageDelete.failure_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.welcome_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.success_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.congratulation_screen[this.dataJsonObj.index]=!1,n.welcome_screen_image?(this.dataJsonObj.islanguageImgEnable.welcome_screen=!0,this.dataJsonObj.languageTranslateImage.welcome_screen=n.welcome_screen_image):n.welcome_screen&&n.welcome_screen.image_name&&n.welcome_screen.image_path?(this.dataJsonObj.islanguageImgEnable.welcome_screen=!0,this.dataJsonObj.languageTranslateImage.welcome_screen=this.dataJsonObj.apiEndPoint+n.welcome_screen.image_path+"/"+n.welcome_screen.image_name):(this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.languageTranslateImage.welcome_screen=""),n.success_screen_image?(this.dataJsonObj.islanguageImgEnable.success_screen=!0,this.dataJsonObj.languageTranslateImage.success_screen=n.success_screen_image):n.success_screen&&n.success_screen.image_name&&n.success_screen.image_path?(this.dataJsonObj.islanguageImgEnable.success_screen=!0,this.dataJsonObj.languageTranslateImage.success_screen=this.dataJsonObj.apiEndPoint+n.success_screen.image_path+"/"+n.success_screen.image_name):(this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.languageTranslateImage.success_screen=""),n.failure_screen_image?(this.dataJsonObj.islanguageImgEnable.failure_screen=!0,this.dataJsonObj.languageTranslateImage.failure_screen=n.failure_screen_image):n.failure_screen&&n.failure_screen.image_name&&n.failure_screen.image_path?(this.dataJsonObj.islanguageImgEnable.failure_screen=!0,this.dataJsonObj.languageTranslateImage.failure_screen=this.dataJsonObj.apiEndPoint+n.failure_screen.image_path+"/"+n.failure_screen.image_name):(this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.languageTranslateImage.failure_screen=""),n.congratulation_screen_image?(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!0,this.dataJsonObj.languageTranslateImage.congratulation_screen=n.congratulation_screen_image):n.congratulation_screen&&n.congratulation_screen.image_name&&n.congratulation_screen.image_path?(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!0,this.dataJsonObj.languageTranslateImage.congratulation_screen=this.dataJsonObj.apiEndPoint+n.congratulation_screen.image_path+"/"+n.congratulation_screen.image_name):(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!1,this.dataJsonObj.languageTranslateImage.congratulation_screen=""),this.dataJsonObj.quizQuestionsTl=n.questionTranslations?n.questionTranslations:[],this.dataJsonObj.quizQuestions=!!n?.quiz_question_id,this.dataJsonObj.questionsDataList&&(this.dataJsonObj.quetion=n),$("#exampleModal6").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal6")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editLanguages",a)}}treasureHuntLanguageTranslationCreate(){try{this.dataJsonObj.languageTranslateImage.welcome_screen||(this.dataJsonObj.languageImageApi={}),this.dataJsonObj.languageTranslateImage.success_screen||(this.dataJsonObj.languageImageApi={}),this.dataJsonObj.languageTranslateImage.failure_screen||(this.dataJsonObj.languageImageApi={}),this.languageAdd.isValid()&&this.displayNameAdd.isValid()&&(this.dataJsonObj.languageDatavalid=this.dataJsonObj.languagesData.find(t=>t.treasure_hunt_display_name===this.dataJsonObj.treasureHuntDisplayName.toString()&&t.language.language_id===this.dataJsonObj.languageId),this.dataJsonObj.languageDatavalid?this.dataJsonObj.addPopupError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS":(this.dataJsonObj.languagesData.push({language:{language_id:this.dataJsonObj.languageId,language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode},treasure_hunt_display_name:this.dataJsonObj.treasureHuntDisplayName?this.dataJsonObj.treasureHuntDisplayName:this.dataJsonObj.quizViewData.display_name,language_name_value:this.dataJsonObj.languageName,display_name:this.dataJsonObj.langTransDisplayname,description:this.dataJsonObj.langTransDescription,is_enabled:this.dataJsonObj.isLangTransEnabled,is_enabled_value:this.dataJsonObj.isLangTransEnabled?"Yes":"No",languageTranslateImages:this.dataJsonObj.languageTranslateImage,languageTranslateImageObj:this.dataJsonObj.languageImageApis[this.dataJsonObj.index],welcome_screen:this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index],success_screen:this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index],failure_screen:this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index],congratulation_screen:this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index]}),document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",$("#exampleModal5").modal("hide")))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"treasureHuntLanguageTranslationCreate",t)}}getLanguagesfromJson(){var t=this;return(0,T.Z)(function*(){t.dataJsonObj.languagesFromJson=yield t.commonService.getLanguagesListJson(t.dataJsonObj.selectedEnterpriseId)})()}getLanguagesList(t){var n=this;return(0,T.Z)(function*(){try{const a={};yield n.QuizService.getTranslateLanguages(n.dataJsonObj.selectedEnterpriseId).then(s=>{if(n.dataJsonObj.translateLanguageOptions=s[0].configoption_json.languages,n.dataJsonObj.translateLanguageOptions&&n.dataJsonObj.translateLanguageOptions.length>0)for(let o=0;o<n.dataJsonObj.translateLanguageOptions.length;o++)a[n.dataJsonObj.translateLanguageOptions[o].language_name]||(a[n.dataJsonObj.translateLanguageOptions[o].language_name]={}),a[n.dataJsonObj.translateLanguageOptions[o].language_name].languageName=n.dataJsonObj.translateLanguageOptions[o].language_name,a[n.dataJsonObj.translateLanguageOptions[o].language_name].language_id=n.dataJsonObj.translateLanguageOptions[o].language_id},s=>{n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",s)}),yield n.commonService.getDynamicJsonByPath(`assets/enterprises/${n.dataJsonObj.selectedEnterpriseId}/languages/`,"languages.json").then(s=>{for(let o=0;o<s.length;o++)a[s[o].language_name]&&(n.dataJsonObj.translateLanguageOptions[o].ID=s[o].language_id,n.dataJsonObj.translateLanguageOptions[o].NAME=s[o].language_display_name,n.dataJsonObj.translateLanguageOptions[o].language_code=s[o].language_code,n.dataJsonObj.translateLanguageOptions[o].language_id=s[o].language_id,n.dataJsonObj.translateLanguageOptions[o].language_name=s[o].language_name);if(n.dataJsonObj.translateLanguageOptions&&t){const o=n.dataJsonObj.translateLanguageOptions.filter(function(u){return u.NAME.toLowerCase().includes(t.toLowerCase())});n.dataJsonObj.translateLanguageOptions=o}})}catch(a){n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",a)}})()}languagesEditSubmit(){try{if(this.displayNameUpdate.isValid()){for(let t=0;t<this.dataJsonObj.languagesData.length;t++)this.dataJsonObj.imageDelete.welcome_screen[t]||(this.dataJsonObj.imageDelete.welcome_screen[t]=!1),this.dataJsonObj.imageDelete.success_screen[t]||(this.dataJsonObj.imageDelete.success_screen[t]=!1),this.dataJsonObj.imageDelete.failure_screen[t]||(this.dataJsonObj.imageDelete.failure_screen[t]=!1),this.dataJsonObj.imageDelete.congratulation_screen[t]||(this.dataJsonObj.imageDelete.congratulation_screen[t]=!1),this.dataJsonObj.languagesData[t].deleteWelcomeImage||(this.dataJsonObj.languagesData[t].deleteWelcomeImage=""),this.dataJsonObj.languagesData[t].deleteSuccessImage||(this.dataJsonObj.languagesData[t].deleteSuccessImage=""),this.dataJsonObj.languagesData[t].deleteFailureImage||(this.dataJsonObj.languagesData[t].deleteFailureImage=""),this.dataJsonObj.languagesData[t].deleteCongratulationImage||(this.dataJsonObj.languagesData[t].deleteCongratulationImage=""),t===this.dataJsonObj.editRowIndex&&(this.dataJsonObj.languagesData[t].language={language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode,language_id:this.dataJsonObj.languageId},this.dataJsonObj.languagesData[t].language_name_value=this.dataJsonObj.languageName,this.dataJsonObj.languagesData[t].display_name=this.dataJsonObj.langTransDisplayname,this.dataJsonObj.languagesData[t].description=this.dataJsonObj.langTransDescription,this.dataJsonObj.languagesData[t].is_enabled=this.dataJsonObj.isLangTransEnabled,this.dataJsonObj.languagesData[t].is_enabled_value=!0===this.dataJsonObj.isLangTransEnabled?"Yes":"No",this.dataJsonObj.languagesData[t].languageTranslateImages=this.dataJsonObj.languageTranslateImage,this.dataJsonObj.languagesData[t].languageTranslateImageObj=this.dataJsonObj.languageImageApis[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].welcome_screen=this.dataJsonObj.deleteImage.welcome_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.welcome_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].success_screen=this.dataJsonObj.deleteImage.success_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.success_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].failure_screen=this.dataJsonObj.deleteImage.failure_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.failure_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].congratulation_screen=this.dataJsonObj.deleteImage.congratulation_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.congratulation_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].deleteWelcomeImage=this.dataJsonObj.deleteImage.welcome_screen[t]?this.dataJsonObj.deleteImage.welcome_screen[t]:"",this.dataJsonObj.languagesData[t].deleteSuccessImage=this.dataJsonObj.deleteImage.success_screen[t]?this.dataJsonObj.deleteImage.success_screen[t]:"",this.dataJsonObj.languagesData[t].deleteFailureImage=this.dataJsonObj.deleteImage.failure_screen[t]?this.dataJsonObj.deleteImage.failure_screen[t]:"",this.dataJsonObj.languagesData[t].deleteCongratulationImage=this.dataJsonObj.deleteImage.congratulation_screen[t]?this.dataJsonObj.deleteImage.congratulation_screen[t]:"",document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="");$("#exampleModal6").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesEditSubmit",t)}}changeLangTransCheckBox(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.isLangTransEnabled=t.value)}languagesDeleteSubmit(){try{for(let t=0;t<this.dataJsonObj.languagesData.length;t++)this.dataJsonObj.deleteRowIndex===t&&this.dataJsonObj.languagesData[t]._id&&this.dataJsonObj.deleted_translation_ids.push(this.dataJsonObj.languagesData[t]._id);this.dataJsonObj.languagesData.splice(this.dataJsonObj.deleteRowIndex,1),$("#exampleModal7").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesDeleteSubmit",t)}}clearMessage(){this.dataJsonObj.errorHtml=""}cancelPopUpButton(){try{document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",t)}}editOptionTl(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.rowdata=n,$("#blockContentEdit1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit1")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editOptionTl",a)}}editQuestionTl(t,n){try{this.dataJsonObj.currentQuestion=n.display_sequence,this.questionTlEditRowIndex=t,this.questionTlIndex=this.questionTlEditRowIndex+1,this.dataJsonObj.rowdata=n,this.dataJsonObj.questionTl=n.question,this.dataJsonObj.optionsArrayTl=n.options,this.dataJsonObj.questionId=n.quiz_question_id?n.quiz_question_id:"",this.dataJsonObj.islanguageImgEnable.question_screen=!!n?.languageTranslateImages||!(!n.file_path||!n.file_name),this.dataJsonObj.question_screen=n?.languageTranslateImages?n?.languageTranslateImages:n.file_path&&n.file_name?this.dataJsonObj.apiEndPoint+n?.file_path+"/"+n?.file_name:"",$("#blockContentEdit").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editQuestionTl",a)}}static \u0275fac=function(n){return new(n||i)(e.Y36("apiEndPoint"),e.Y36(S),e.Y36(N.v),e.Y36(I.gz),e.Y36(C.sK),e.Y36(y.m),e.Y36(G.f),e.Y36(I.F0),e.Y36(z.H7),e.Y36(M.s))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-quiz-view-v2"]],viewQuery:function(n,a){if(1&n&&(e.Gf(mo,5),e.Gf(_o,5),e.Gf(ho,5),e.Gf(bo,5),e.Gf(Oo,5),e.Gf(To,5),e.Gf(Jo,5),e.Gf(fo,5),e.Gf(jo,5),e.Gf(Co,5),e.Gf(Io,5),e.Gf(Ao,5),e.Gf(vo,5),e.Gf(Eo,5),e.Gf(No,5),e.Gf(So,5),e.Gf(Zo,5),e.Gf(yo,5)),2&n){let s;e.iGM(s=e.CRH())&&(a.treasureHuntNamevalid=s.first),e.iGM(s=e.CRH())&&(a.treasureHuntDisplayNamevalid=s.first),e.iGM(s=e.CRH())&&(a.organizerDropDown=s.first),e.iGM(s=e.CRH())&&(a.validLatitude=s.first),e.iGM(s=e.CRH())&&(a.validLongitude=s.first),e.iGM(s=e.CRH())&&(a.validRadius=s.first),e.iGM(s=e.CRH())&&(a.addressline1Input=s.first),e.iGM(s=e.CRH())&&(a.countryInput=s.first),e.iGM(s=e.CRH())&&(a.stateInput=s.first),e.iGM(s=e.CRH())&&(a.cityInput=s.first),e.iGM(s=e.CRH())&&(a.zipInput=s.first),e.iGM(s=e.CRH())&&(a.languageAdd=s.first),e.iGM(s=e.CRH())&&(a.displayNameAdd=s.first),e.iGM(s=e.CRH())&&(a.displayNameUpdate=s.first),e.iGM(s=e.CRH())&&(a.fileInput1=s.first),e.iGM(s=e.CRH())&&(a.fileInput2=s.first),e.iGM(s=e.CRH())&&(a.fileInput3=s.first),e.iGM(s=e.CRH())&&(a.fileInput4=s.first)}},features:[e._Bn([oe.I]),e.qOj],decls:257,vars:224,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["autoCaseFlag","false","mandatory","true","disabled","true","id","treasurehunt-create-facilityname",3,"minlength","maxlength","label","value"],["treasureHuntNamevalid",""],[1,"error-msg","col-md-10","text-danger","text-center","mb-0"],[1,"col-md-2"],["autoCaseFlag","true","mandatory","false","disabled","true","id","treasure-hunt-clues-edit-leaderboardUsersCount",3,"label","value","maxlength"],["leaderboardUsersCountInputNumber",""],[1,"col-lg-7","col-md-7","datetimepicker"],[1,"row"],[1,"col-lg-6","col-md-6","datetimepicker"],[1,"col-8","col-md-8","pr-0"],["mandatory","true","disabled","true","id","surveys-create-start-date",3,"placeholder","dateformat","defaultDate"],["startDatetimePicker",""],[1,"col-4","col-md-4","pl-1"],["disabled","true","mandatory","true",3,"label","options","defaultValue","searchValueChange"],["mandatory","true","disabled","true","id","polls-create-end-date",3,"placeholder","defaultDate","dateformat"],[1,"col-md-12","order-md-1","order-2"],["mandatory","false","disabled","true","id","enterprise-edit-enterprisedescription",3,"label","defaultvalue","maxlength"],["descriptionvalid",""],[1,"col-md-2","pdl-1","order-md-1","imagewith-label"],["imageAlignmentClass","mg-0",1,"edit-pic",3,"defaultImage","imageName"],[1,"col-md-3","pdl-1","order-md-1","imagewith-label"],["imageid","congratulationImage","imageAlignmentClass","mg-0",1,"edit-pic",3,"defaultImage","imageName"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"col-md-12","text-end","mt-2","mb-2","btns-group","order-md-1","order-2"],["className","btn btn-danger btn-sm","id","quiz-view-close",3,"label","buttonOnClick"],[1,"card-body"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],[3,"ngClass"],[3,"copFile","isQuestionDeleteButtonEnable","isAddQuestionButtonEnable","isAddAnswerButtonEnable","isEnableOptionDeleteButton","questionFileTypes","answerFileTypes","questionIsCheckBoxEnabled","answerCheckBoxEnabled","isSubmitClicked","isCapyFile","isDraggerFile","data","audio","valueChange","clearSubmitClick",4,"ngIf"],[1,"card-content"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],["selectionMode","single","dataKey","LineNum",1,"ptable","hidden-md-down","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"hidden-md-up"],["class","text-center text-danger mb-0 no-data-txt",4,"ngIf"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],["id","exampleModal6","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[4,"ngIf"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasurehunt-edit-translationsedit-cancel-btn",3,"label","buttonOnClick"],["id","blockContentDetailsAdd","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],[1,"col-md-3"],["mandatory","true","id","digitalassets-create-assetType",3,"label","options","defaultValue"],["digitalAssetTypeDropdown",""],["mandatory","true","disabled","true","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","value","maxlength"],["blockTitleInput",""],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"col-md-12","text-center","mt-2"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-addpopup-cancel",3,"label"],["id","blockContentDelete","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["mandatory","false","disabled","true","id","create-addpopup-blocktitle",3,"label","value"],["mandatory","false","disabled","true","id","create-deletepopup-positionType",3,"label","value"],["mandatory","false","disabled","true","id","create-deletepopup-screenType",3,"label","value"],["mandatory","false","disabled","true","id","create-deletepopup-object",3,"label","value"],[1,"col-md-4","d-flex","align-items-center"],["label","","id","create-primary","disabled","true",3,"options","checked"],[1,"col-md-12","pdt-14"],[1,"fs-12"],["className","btn btn-primary btn-sm","data-bs-dismiss","modal","id","create-deletepopup-delete",1,"mgr-5",3,"label"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-deletepopup-cancel",3,"label"],["id","blockContentEdit","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["mandatory","false","disabled","true","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","value","maxlength"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-editpopup-cancel",3,"label"],["id","blockContentDetailsAdd1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel1","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],[1,"col-md-2","d-flex","align-items-center"],["label","","mandatory","true","disabled","true","id","treasure-hunt-create-translationsadd-checkboxoptions",3,"options","checked"],[3,"copFile","isQuestionDeleteButtonEnable","isAddQuestionButtonEnable","isAddAnswerButtonEnable","isEnableOptionDeleteButton","questionFileTypes","answerFileTypes","questionIsCheckBoxEnabled","answerCheckBoxEnabled","isSubmitClicked","isCapyFile","isDraggerFile","data","audio","valueChange","clearSubmitClick"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","click"],[3,"innerHTML"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"text-center","text-danger","mb-0","no-data-txt"],[1,"row","no-gutter","form-bs"],["disabled","true","id","treasurehunt-edit-translationsadd-name",3,"label","value"],["mandatory","true","disabled","true","id","treasurehunt-edit-translationsedit-language",3,"label","value"],["disabled","true","mandatory","true","autoCaseFlag","false","id","treasurehunt-edit-translationsedit-displayname",3,"label","value","maxlength"],["displayNameUpdate",""],[1,"col-md-10"],["mandatory","false","disabled","true","id","treasurehunt-edit-translationsedit-description",3,"label","defaultvalue","maxlength"],[1,"static-content-img"],["alt","",1,"img-thumbnail",3,"src"],["mandatory","true","disabled","true","autoCaseFlag","false",3,"label","value","maxlength"],["defaultImage","","imageName","",1,"thumbnail-view"],[1,"checkboxcol",2,"width","2em"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#blockContentEdit",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#blockContentEdit",3,"pSelectableRow","click"],[1,"ui-column-title","d-md-none","d-lg-none"],[1,"ui-column-values",3,"innerHTML"],["data-toggle","modal",3,"pSelectableRow","class",4,"ngFor","ngForOf"],["data-toggle","modal",3,"pSelectableRow"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10,11),e.ALo(12,"translate"),e.TgZ(13,"div",12),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",13),e._UZ(17,"app-inputnumber",14,15),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",17)(24,"div",19),e._UZ(25,"app-datetimepicker",20,21),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"div",22)(29,"app-dropdown-search",23),e.NdJ("searchValueChange",function(o){return a.getTimeZone(o)}),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"div",18)(32,"div",17)(33,"div",19),e._UZ(34,"app-datetimepicker",24),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"div",22)(37,"app-dropdown-search",23),e.NdJ("searchValueChange",function(o){return a.getTimeZone(o)}),e.ALo(38,"translate"),e.qZA()()()()()(),e.TgZ(39,"div",25),e._UZ(40,"app-textarea",26,27),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"div",28)(44,"label"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e._UZ(47,"app-imageupload",29),e.qZA(),e.TgZ(48,"div",28)(49,"label"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e._UZ(52,"app-imageupload",29),e.qZA(),e.TgZ(53,"div",28)(54,"label"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e._UZ(57,"app-imageupload",29),e.qZA(),e.TgZ(58,"div",30)(59,"label"),e._uU(60),e.ALo(61,"translate"),e.qZA(),e._UZ(62,"app-imageupload",31),e.qZA(),e.TgZ(63,"div",32),e._uU(64),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"div",33)(67,"app-button",34),e.NdJ("buttonOnClick",function(){return a.close()}),e.ALo(68,"translate"),e.qZA()()(),e.TgZ(69,"div",2)(70,"div",3)(71,"div",4)(72,"div",35)(73,"div",17)(74,"div",3)(75,"div",36)(76,"div",37)(77,"p-accordion")(78,"p-accordionTab",38)(79,"p-header",39)(80,"span"),e._uU(81),e.ALo(82,"translate"),e.qZA()(),e.TgZ(83,"div",40),e.YNc(84,qo,1,15,"app-quiz-question-answer-block",41),e.qZA()()()()()()()()()()(),e.TgZ(85,"div",17)(86,"div",3)(87,"div",36)(88,"div",42)(89,"p-accordion",43)(90,"p-accordionTab",44)(91,"p-header",39)(92,"span"),e._uU(93),e.ALo(94,"translate"),e.qZA()(),e.TgZ(95,"p-table",45),e.YNc(96,Do,1,1,"ng-template",46),e.YNc(97,Mo,2,1,"ng-template",47),e.YNc(98,wo,2,1,"ng-template",48),e.YNc(99,Uo,4,2,"ng-template",49),e.qZA(),e.TgZ(100,"div",50),e.YNc(101,ko,3,3,"p",51),e.qZA()(),e._UZ(102,"app-recordhistory",52),e.qZA()()()()()()()()()()(),e.TgZ(103,"div",53)(104,"div",54)(105,"div",55)(106,"div",56)(107,"div",57),e._uU(108),e.ALo(109,"translate"),e.ALo(110,"translate"),e.qZA()(),e.TgZ(111,"div",58),e.YNc(112,Po,26,25,"div",59),e.YNc(113,Ho,2,1,"div",59),e.TgZ(114,"div",60)(115,"app-button",61),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(116,"translate"),e.qZA()()()()()(),e.TgZ(117,"div",62)(118,"div",54)(119,"div",55)(120,"div",56)(121,"div",57),e._uU(122),e.ALo(123,"translate"),e.ALo(124,"translate"),e.qZA()(),e.TgZ(125,"div",58)(126,"div",1)(127,"div",8)(128,"div",63),e._UZ(129,"app-dropdown-singleselect",64,65),e.ALo(131,"translate"),e.qZA(),e.TgZ(132,"div",9),e._UZ(133,"app-input",66,67),e.ALo(135,"translate"),e.ALo(136,"translate"),e.qZA(),e.TgZ(137,"div",68),e._uU(138),e.ALo(139,"translate"),e.qZA(),e.TgZ(140,"div",69)(141,"div",17)(142,"div",9),e.YNc(143,Yo,3,1,"div",59),e.qZA()()(),e.TgZ(144,"div",3)(145,"div",36)(146,"div",42)(147,"p-accordion",43)(148,"p-accordionTab",44)(149,"p-header",39)(150,"span"),e._uU(151),e.ALo(152,"translate"),e.qZA()(),e.TgZ(153,"p-table",70),e.YNc(154,Ko,1,1,"ng-template",46),e.YNc(155,Xo,3,1,"ng-template",47),e.YNc(156,tl,4,1,"ng-template",48),e.YNc(157,nl,4,2,"ng-template",49),e.qZA()()()()()(),e.TgZ(158,"div",60),e._UZ(159,"app-button",71),e.ALo(160,"translate"),e.qZA()()()()()()(),e.TgZ(161,"div",72)(162,"div",54)(163,"div",55)(164,"div",56)(165,"div",57),e._uU(166),e.ALo(167,"translate"),e.ALo(168,"translate"),e.qZA()(),e.TgZ(169,"div",58)(170,"div",1)(171,"div",8)(172,"div",9),e._UZ(173,"app-input",73),e.ALo(174,"translate"),e.qZA(),e.TgZ(175,"div",9),e._UZ(176,"app-input",74),e.ALo(177,"translate"),e.qZA(),e.TgZ(178,"div",9),e._UZ(179,"app-input",75),e.ALo(180,"translate"),e.qZA(),e.TgZ(181,"div",9),e._UZ(182,"app-input",76),e.ALo(183,"translate"),e.qZA(),e.TgZ(184,"div",77),e._UZ(185,"app-checkbox",78),e.qZA(),e.TgZ(186,"div",79)(187,"ion-label",80),e._uU(188),e.ALo(189,"translate"),e.qZA()(),e.TgZ(190,"div",60),e._UZ(191,"app-button",81),e.ALo(192,"translate"),e._UZ(193,"app-button",82),e.ALo(194,"translate"),e.qZA()()()()()()(),e.TgZ(195,"div",83)(196,"div",54)(197,"div",55)(198,"div",56)(199,"div",57),e._uU(200),e.ALo(201,"translate"),e.ALo(202,"translate"),e.qZA()(),e.TgZ(203,"div",58)(204,"div",1)(205,"div",8)(206,"div",9),e._UZ(207,"app-input",84),e.ALo(208,"translate"),e.qZA(),e.TgZ(209,"div",69)(210,"div",17)(211,"div",9),e.YNc(212,il,3,1,"div",59),e.qZA()()(),e.TgZ(213,"div",3)(214,"div",36)(215,"div",42)(216,"p-accordion",43)(217,"p-accordionTab",44)(218,"p-header",39)(219,"span"),e._uU(220),e.ALo(221,"translate"),e.qZA()(),e.TgZ(222,"p-table",70),e.YNc(223,ol,1,1,"ng-template",46),e.YNc(224,rl,3,1,"ng-template",47),e.YNc(225,ul,3,1,"ng-template",48),e.YNc(226,gl,4,2,"ng-template",49),e.qZA()()()()()(),e.TgZ(227,"div",60),e._UZ(228,"app-button",85),e.ALo(229,"translate"),e.qZA()()()()()()(),e.TgZ(230,"div",86)(231,"div",54)(232,"div",55)(233,"div",56)(234,"div",57),e._uU(235),e.ALo(236,"translate"),e.ALo(237,"translate"),e.qZA()(),e.TgZ(238,"div",58)(239,"div",1)(240,"div",8)(241,"div",9)(242,"div",63),e._UZ(243,"app-dropdown-singleselect",64,65),e.ALo(245,"translate"),e.qZA(),e._UZ(246,"app-input",66,67),e.ALo(248,"translate"),e.qZA(),e.TgZ(249,"div",87),e._UZ(250,"app-checkbox",88),e.qZA(),e.TgZ(251,"div",68),e._uU(252),e.ALo(253,"translate"),e.qZA(),e.TgZ(254,"div",60),e._UZ(255,"app-button",71),e.ALo(256,"translate"),e.qZA()()()()()()()),2&n&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(12,129,"NEW_VARIABLES.QUIZ_TITLE")),e.s9C("value",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.title),e.Q6J("minlength",3)("maxlength",120),e.xp6(4),e.hij(" ",e.lcZ(15,131,a.errorObj.error2)," "),e.xp6(3),e.s9C("label",e.lcZ(19,133,"NEW_VARIABLES.LEADERBOARD_USERS_COUNT")),e.s9C("value",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.leaderboard_user_count),e.Q6J("maxlength",3),e.xp6(8),e.s9C("placeholder",e.lcZ(27,135,"COMMON_FIELDS.START_DATE")),e.Q6J("dateformat",a.dataJsonObj.loginUserDateFormat)("defaultDate",a.dataJsonObj.startDate),e.xp6(4),e.s9C("label",e.lcZ(30,137,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",null==a.dataJsonObj.userTimeZoneObj?null:a.dataJsonObj.userTimeZoneObj.timeZoneCode),e.Q6J("options",a.dataJsonObj.timezoneOptions),e.xp6(5),e.s9C("placeholder",e.lcZ(35,139,"COMMON_FIELDS.END_DATE")),e.Q6J("defaultDate",a.dataJsonObj.endDate)("dateformat",a.dataJsonObj.loginUserDateFormat),e.xp6(3),e.s9C("label",e.lcZ(38,141,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",a.dataJsonObj.userTimeZoneObj.timeZoneCode),e.Q6J("options",a.dataJsonObj.timezoneOptions),e.xp6(3),e.s9C("label",e.lcZ(42,143,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.description),e.Q6J("maxlength",2e3),e.xp6(5),e.Oqu(e.lcZ(46,145,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.welcome_screen?null:a.dataJsonObj.quizViewData.welcome_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.welcome_screen?null:a.dataJsonObj.quizViewData.welcome_screen.image_name),e.xp6(3),e.Oqu(e.lcZ(51,147,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.success_screen?null:a.dataJsonObj.quizViewData.success_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.success_screen?null:a.dataJsonObj.quizViewData.success_screen.image_name),e.xp6(3),e.Oqu(e.lcZ(56,149,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.failure_screen?null:a.dataJsonObj.quizViewData.failure_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.failure_screen?null:a.dataJsonObj.quizViewData.failure_screen.image_name),e.xp6(3),e.Oqu(e.lcZ(61,151,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.congratulation_screen?null:a.dataJsonObj.quizViewData.congratulation_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.congratulation_screen?null:a.dataJsonObj.quizViewData.congratulation_screen.image_name),e.xp6(2),e.hij(" ",e.lcZ(65,153,a.errorObj.error)," "),e.xp6(3),e.s9C("label",e.lcZ(68,155,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(11),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(82,157,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(2),e.Q6J("ngClass",e.DdM(223,pl)),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.quizQuestionData),e.xp6(5),e.Q6J("multiple",!1),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(94,159,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")),e.xp6(2),e.Q6J("columns",null==a.dataJsonObj?null:a.dataJsonObj.quizTlHeaders)("value",a.dataJsonObj.languagesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.Q6J("ngIf",a.dataJsonObj.languagesData&&0==a.dataJsonObj.languagesData.length),e.xp6(1),e.Q6J("createdBy",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.created_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.updated_by)("creationDate",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.createdAt)("lastUpdatedDate",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.updatedAt),e.xp6(6),e.AsE("",e.lcZ(109,161,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(110,163,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(4),e.Q6J("ngIf",!a.dataJsonObj.quizQuestions),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.quizQuestions),e.xp6(2),e.s9C("label",e.lcZ(116,165,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(123,167,"COMMON_BLOCK_TITLES.QUESTIONS")," - ",e.lcZ(124,169,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(7),e.s9C("label",e.lcZ(131,171,"COMMON_BLOCK_TITLES.QUESTIONS")),e.s9C("defaultValue",a.dataJsonObj.questionId),e.Q6J("options",a.dataJsonObj.quizQuestionData),e.xp6(4),e.hYB("label","",e.lcZ(135,173,"COMMON_FIELDS.QUESTION")," (",e.lcZ(136,175,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",a.dataJsonObj.questionTl),e.Q6J("maxlength",40),e.xp6(5),e.hij(" ",e.lcZ(139,177,a.errorHtml)," "),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.question_screen),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(152,179,"POLL.OPTIONS")),e.xp6(2),e.Q6J("columns",a.dataJsonObj.optionsTlHeaders)("value",a.dataJsonObj.optionsArrayTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(160,181,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(167,183,"FACILITY_SPOTLIGHT_CONFIGURATIONS.BLOCK_CONTENT")," - ",e.lcZ(168,185,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(7),e.s9C("label",e.lcZ(174,187,"FACILITY_SPOTLIGHT_CONFIGURATIONS.BLOCK_TITLE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.blockContentTitle),e.xp6(3),e.s9C("label",e.lcZ(177,189,"FACILITY_SPOTLIGHT_CONFIGURATIONS.POSITION")),e.s9C("value",a.dataJsonObj.defaultPositionType),e.xp6(3),e.s9C("label",e.lcZ(180,191,"FACILITY_SPOTLIGHT_CONFIGURATIONS.SCREEN_TYPE")),e.s9C("value",a.dataJsonObj.defaultScreenType),e.xp6(3),e.s9C("label",e.lcZ(183,193,"FACILITY_SPOTLIGHT_CONFIGURATIONS.OBJECT")),e.s9C("value",a.dataJsonObj.screenTypeObjectId),e.xp6(3),e.Q6J("options",a.dataJsonObj.displayAsAccordion)("checked",a.dataJsonObj.accordionCheckbox),e.xp6(3),e.hij(" ",e.lcZ(189,195,"FACILITY_SPOTLIGHT_CONFIGURATIONS.CONTENT")," "),e.xp6(3),e.s9C("label",e.lcZ(192,197,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(194,199,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(201,201,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")," - ",e.lcZ(202,203,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(7),e.s9C("label",e.lcZ(208,205,"COMMON_FIELDS.QUESTION")),e.s9C("value",a.dataJsonObj.questionTl),e.Q6J("maxlength",40),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.question_screen),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(221,207,"POLL.OPTIONS")),e.xp6(2),e.Q6J("columns",a.dataJsonObj.optionsTlHeaders)("value",a.dataJsonObj.optionsArrayTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(229,209,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(236,211,"POLL.OPTIONS")," - ",e.lcZ(237,213,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(8),e.s9C("label",e.lcZ(245,215,"POLL.OPTIONS")),e.s9C("defaultValue",a.dataJsonObj.optionId),e.Q6J("options",a.dataJsonObj.optionsData),e.xp6(3),e.s9C("label",e.lcZ(248,217,"POLL.OPTION")),e.s9C("value",a.dataJsonObj.optionTl),e.Q6J("maxlength",40),e.xp6(4),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.optionsCheckbox)("checked",a.dataJsonObj.isOptionCorrectTl),e.xp6(2),e.hij(" ",e.lcZ(253,219,a.errorHtml)," "),e.xp6(3),e.s9C("label",e.lcZ(256,221,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[j.mk,j.sg,j.O5,f.Q$,L.r,D.a,U.k,k.b,V.R,R.K,w.f,P.L,B.C,Y.W,Q.q,X,A.UQ,A.US,E.h4,E.jx,v.iA,v.Ei,C.X$],styles:[".view-only[_ngcontent-%COMP%]{pointer-events:none}"]})}return i})();const _l=["treasureHuntNamevalid"],hl=["treasureHuntDisplayNamevalid"],bl=["optionvalidate"],Ol=["languageAdd"],Tl=["displayNameAdd"],Jl=["displayNameUpdate"],fl=["typeDropdown"],jl=["questionValid"],Cl=["quiztitlevalid"],Il=["file1"],Al=["file2"],vl=["file3"],El=["file4"],Nl=["file5"];function Sl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"app-quiz-question-answer-block",120),e.NdJ("valueChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.getQuizListData(a))})("clearSubmitClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.clearSubmitClick())}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("copFile",!0)("isQuestionDeleteButtonEnable",!0)("isAddQuestionButtonEnable",!0)("isAddAnswerButtonEnable",!0)("isEnableOptionDeleteButton",!0)("questionFileTypes",t.dataJsonObj.questionFileTypes)("answerFileTypes",t.dataJsonObj.answerFileTypes)("questionIsCheckBoxEnabled",!1)("answerCheckBoxEnabled",!0)("isValidateQuestions",t.dataJsonObj.isValidateQuestions)("isCapyFile",!1)("isDraggerFile",!1)("data",t.dataJsonObj.quizQuestionData)("audio",!0)}}function Zl(i,l){if(1&i&&(e.TgZ(0,"tr",122)(1,"td",123),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function yl(i,l){if(1&i&&e.YNc(0,Zl,4,4,"tr",121),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.languagesData&&0==t.dataJsonObj.languagesData.length)}}function ql(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Ll(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,ql,3,3,"th",124),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Dl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",126),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editLanguages(s,o))}),e._UZ(1,"span",127),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," "),e.Q6J("pSelectableRow",n),e.xp6(1),e.Q6J("innerHTML",n[t.field],e.oJD)}}function xl(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Dl,2,5,"td",125),e.qZA()),2&i){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Ml(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",127)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function zl(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ml,7,4,"div",128),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function wl(i,l){1&i&&(e.TgZ(0,"p",129),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}function Ql(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",130)(2,"i",131),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("welcome_screen"))}),e.qZA(),e._UZ(3,"img",132),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.welcome_screen,e.LSH)}}function Ul(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",130)(2,"i",131),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("success_screen"))}),e.qZA(),e._UZ(3,"img",132),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.success_screen,e.LSH)}}function kl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",130)(2,"i",131),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("failure_screen"))}),e.qZA(),e._UZ(3,"img",132),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.failure_screen,e.LSH)}}function Vl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",130)(2,"i",131),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("congratulation_screen"))}),e.qZA(),e._UZ(3,"img",132),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.congratulation_screen,e.LSH)}}function Rl(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",123),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Fl(i,l){if(1&i&&e.YNc(0,Rl,4,4,"tr",75),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.addQuizQuestionsTl&&0==t.dataJsonObj.addQuizQuestionsTl.length)}}function Pl(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Bl(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",133),e.YNc(2,Pl,3,3,"th",124),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Gl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",137),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editQuestionTl(s,o))}),e.TgZ(1,"span",138)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",139),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Hl(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",134),e._UZ(2,"div",135),e.qZA(),e.YNc(3,Gl,7,8,"td",136),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function Yl(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",127)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function $l(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Yl,7,4,"div",128),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function Kl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",130)(2,"i",131),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("welcome_screen"))}),e.qZA(),e._UZ(3,"img",132),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.welcome_screen,e.LSH)}}function Wl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",130)(2,"i",131),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("success_screen"))}),e.qZA(),e._UZ(3,"img",132),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.success_screen,e.LSH)}}function Xl(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",130)(2,"i",131),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("failure_screen"))}),e.qZA(),e._UZ(3,"img",132),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.failure_screen,e.LSH)}}function er(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",130)(2,"i",131),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("congratulation_screen"))}),e.qZA(),e._UZ(3,"img",132),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj.languageTranslateImage?null:t.dataJsonObj.languageTranslateImage.congratulation_screen,e.LSH)}}function tr(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",123),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function ar(i,l){if(1&i&&e.YNc(0,tr,4,4,"tr",75),2&i){const t=e.oxw();e.Q6J("ngIf",(null==t.dataJsonObj?null:t.dataJsonObj.quizQuestionsTl)&&0==(null==t.dataJsonObj.quizQuestionsTl?null:t.dataJsonObj.quizQuestionsTl.length))}}function nr(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function ir(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",133),e.YNc(2,nr,3,3,"th",124),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function sr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",137),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editQuestionTl(s,o))}),e.TgZ(1,"span",138)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",139),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function or(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",134),e._UZ(2,"div",135),e.qZA(),e.YNc(3,sr,7,8,"td",136),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function lr(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",127)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function rr(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,lr,7,4,"div",128),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function dr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"span",130)(2,"i",131),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.changeTranslateImageRemove("question_screen","question"))}),e.qZA(),e._UZ(3,"img",132),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.question_screen,e.LSH)}}function ur(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",123),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function cr(i,l){if(1&i&&e.YNc(0,ur,4,4,"tr",75),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.optionsArrayTl&&0==t.dataJsonObj.optionsArrayTl.length)}}function gr(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function pr(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",133),e.YNc(2,gr,3,3,"th",124),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function mr(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",137),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),s=a.rowIndex,o=a.$implicit,u=e.oxw();return e.KtG(u.editOptionTl(s,o))}),e.TgZ(1,"span",138)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",139),e.qZA()}if(2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function _r(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",134),e._UZ(2,"div",135),e.qZA(),e.YNc(3,mr,7,8,"td",136),e.qZA()),2&i){const t=l.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function hr(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",127)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function br(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,hr,7,4,"div",128),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function Or(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",130),e._UZ(2,"img",132),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("src",null==t.dataJsonObj?null:t.dataJsonObj.question_screen,e.LSH)}}function Tr(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",123),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Jr(i,l){if(1&i&&e.YNc(0,Tr,4,4,"tr",75),2&i){const t=e.oxw();e.Q6J("ngIf",t.dataJsonObj.optionsArrayTl&&0==t.dataJsonObj.optionsArrayTl.length)}}function fr(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function jr(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",133),e.YNc(2,fr,3,3,"th",124),e.qZA()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Cr(i,l){if(1&i&&(e.TgZ(0,"td",141)(1,"span",138)(2,"strong"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._uU(5,": "),e.qZA(),e._UZ(6,"span",139),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",n),e.xp6(3),e.Oqu(e.lcZ(4,6,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function Ir(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"td",134),e.YNc(2,Cr,7,8,"td",140),e.qZA()),2&i){const t=l.columns;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Ar(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",127)(6,"br"),e.qZA()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",n[t.field],e.oJD)}}function vr(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ar,7,4,"div",128),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}const Nr=[{path:"",data:{title:"quiz"},children:[{path:"quiz/create",component:wt,canActivate:[q.P],data:{object_type:r.hf.QUIZ,title:"Quiz Create",pageName:r.hf.QUIZ,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}},{path:"quiz/createv2",component:po,canActivate:[q.P],data:{object_type:r.hf.QUIZ,title:"Quiz Create",pageName:r.hf.QUIZ,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}},{path:"quiz/:id/edit",component:_n,canActivate:[q.P],data:{object_type:r.hf.QUIZ,title:"Quiz Edit",pageName:r.hf.QUIZ,pageSetting:r.AM.ACTIONS,settingField:r.In.EDIT}},{path:"quiz/:id/editv2",component:(()=>{class i extends x.O{apiEndPointUrl;QuizService;commonService;route;translateService;loggerService;navigationService;router;sanitizer;uiUtils;treasureHuntNamevalid;treasureHuntDisplayNamevalid;optionvalidate;languageAdd;displayNameAdd;displayNameUpdate;typeDropdown;questionValid;quiztitlevalid;fileInput1;fileInput2;fileInput3;fileInput4;fileInput5;dataJsonObj={};errorObj={};metadataJson;navpathimgFile;boundariesJson;postType2;questionError;postTypeTag1;postTypeValue2;imageType1;postTypeVideo1;imgCheck=!1;treasureHuntImageFile;imgFile=[];selectedAccordian=!1;displaySequence;errorHtml;quizFileArray;digitalAssetTypeOptions;digitalAssetTypeObj;digitalAssetTypeId;digitalAssetType;question;recordId;AnswerError;transform={};showCropper;imageChangedEvent;croppedImage;canvasRotation=0;canvasRotation1=0;digitalAssetUploadFileType;digitalAssetTypeName;assetTypeTag;assetTypeImage;assetTypeValue;videoType;audioType;imageType;assetTypeVideo;assetTypeAudio;documentType;fileSrc;previewFileSrc;error;previewImageChangedEvent;selectedFileName;fileType;selectedType;extension;imageExtensions;myObj;assetTypeError;assetFile;videoExtensions;mediaFile;digitalAssetFile;fileSize;audioExtensions;documentExtensions;otherExtensions;imageMinSize;imageStatus;errMsg1;errMsg2;imageMaxSize;postType;videoMaxSize;videoMinSize;audioMaxSize;audioMinSize;documentMaxSize;documentMinSize;documentTypes;displaySequenceTl;addQuestionTlIndex;questionTlIndex;questionTlEditRowIndex;constructor(t,n,a,s,o,u,d,c,_,J){super(s,a),this.apiEndPointUrl=t,this.QuizService=n,this.commonService=a,this.route=s,this.translateService=o,this.loggerService=u,this.navigationService=d,this.router=c,this.sanitizer=_,this.uiUtils=J,this.route.params.subscribe(b=>{this.dataJsonObj.recordId=b.id})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.questionFileTypes=[r.vH.IMAGE],this.dataJsonObj.answerFileTypes=[],this.dataJsonObj.optionsArrayTl=[],this.dataJsonObj.questionTl="",this.dataJsonObj.optionsArray=[],this.dataJsonObj.questionTranslateImage={},this.dataJsonObj.optionsData=[],this.dataJsonObj.languageQuestionImageApi={},this.dataJsonObj.quizQuestions=[],this.dataJsonObj.quizQuestionsTl=[],this.dataJsonObj.pageName=r.hf.QUIZ,this.dataJsonObj.userTimeZoneObj={},this.quizFileArray=[],this.dataJsonObj.imageDelete={},this.dataJsonObj.imageDelete.welcome_screen=[],this.dataJsonObj.imageDelete.question_screen=[],this.dataJsonObj.imageDelete.failure_screen=[],this.dataJsonObj.imageDelete.success_screen=[],this.dataJsonObj.imageDelete.congratulation_screen=[],this.dataJsonObj.selectedorganizerObj=[],this.dataJsonObj.languageTranslateImageDisplay={},this.dataJsonObj.languageTranslateImageDisplay.welcome_screen=[],this.dataJsonObj.languageTranslateImageDisplay.failure_screen=[],this.dataJsonObj.languageTranslateImageDisplay.success_screen=[],this.dataJsonObj.languageTranslateImageDisplay.question_screen=[],this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen=[],this.dataJsonObj.disableSubmitBtn=!1,this.dataJsonObj.newLanguageData=[],this.dataJsonObj.languageTranslateImage={},this.dataJsonObj.islanguageImgEnable={},this.dataJsonObj.deleteImage={},this.dataJsonObj.deleteOriginalImage={},this.dataJsonObj.deleteImage.welcome_screen=[],this.dataJsonObj.deleteImage.success_screen=[],this.dataJsonObj.deleteImage.failure_screen=[],this.dataJsonObj.deleteImage.question_screen=[],this.dataJsonObj.deleteImage.congratulation_screen=[],this.dataJsonObj.deleteOriginalImage.welcome_screen=[],this.dataJsonObj.deleteOriginalImage.success_screen=[],this.dataJsonObj.deleteOriginalImage.failure_screen=[],this.dataJsonObj.deleteOriginalImage.question_screen=[],this.dataJsonObj.deleteOriginalImage.congratulation_screen=[],this.dataJsonObj.languageImageApis={},this.dataJsonObj.languageImageApi={},this.dataJsonObj.languageTranslateImage.welcome_screen="",this.dataJsonObj.languageTranslateImage.success_screen="",this.dataJsonObj.languageTranslateImage.failure_screen="",this.dataJsonObj.languageTranslateImage.question_screen="",this.dataJsonObj.languageTranslateImage.congratulation_screen="",this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.islanguageImgEnable.question_screen=!1,this.dataJsonObj.deletetedQuestions=[],this.dataJsonObj.loginUserObj=JSON.parse(localStorage.getItem(r.BU.USER)),this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl;const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.loginUserDateFormat=t.dateFormat,this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(a=>{this.dataJsonObj.lookupCodesListJSON=a,this.getTimeZone(this.dataJsonObj.userTimeZoneObj.timeZoneCode),this.getTimeZone(this.dataJsonObj.userTimeZoneObj.timeZoneCode),this.getDigitalAssetTypes(),this.getDocumentTypeLookups()}),this.getDynamicJson([{folderName:r.sb.FACILITIES,jsonType:"list",storingFieldName:"facilitiesListJson"}]),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.QUIZ,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.getRecordById(),this.dataJsonObj.enableimageDeleteValue=!0,this.dataJsonObj.languagesFromJson={},this.getLanguagesfromJson(),this.dataJsonObj.disableTransAdd=!1,this.dataJsonObj.languagesData=[],this.dataJsonObj.deleted_translation_ids=[],this.dataJsonObj.languageTranslationEnablecheckboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.dataJsonObj.quizTlHeaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-60"},{headersort:"disableth",field:"title",header:this.translateService.instant("NEW_VARIABLES.NAME")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:""},{headersort:"disableth",field:"description",header:this.translateService.instant("COMMON_FIELDS.DESCRIPTION"),class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.dataJsonObj.optionsTlHeaders=[[{headersort:"disableth",sortfield:"",field:"original_option",header:this.translateService.instant("POLL.OPTION"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"option",header:this.translateService.instant("POLL.OPTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:"w-130"},{headersort:"disableth",sortfield:"",field:"is_correct",header:this.translateService.instant("COMMON_FIELDS.IS_CORRECT"),class:"w-130"}]],this.dataJsonObj.questionsTlHeaders=[[{headersort:"disableth",sortfield:"",field:"original_question",header:this.translateService.instant("COMMON_FIELDS.QUESTION"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"question",header:this.translateService.instant("COMMON_FIELDS.QUESTION")+" ("+this.translateService.instant("NEW_VARIABLES.TRANSLATED")+")",class:"w-130"}]],this.dataJsonObj.optionsCheckbox=[{displayname:this.translateService.instant("COMMON_FIELDS.IS_CORRECT")}],this.dataJsonObj.optionsCheckboxTl=[{displayname:this.translateService.instant("COMMON_FIELDS.IS_CORRECT")}]}getDynamicJson(t){var n=this;return(0,T.Z)(function*(){for(let a of t)n.dataJsonObj[a.storingFieldName]=yield n.commonService.getDynamicJson(n.dataJsonObj.selectedEnterpriseId,a.folderName,a.jsonType);n.getSelectedSubmenuDetails()})()}getSelectedSubmenuDetails(){var t=this;return(0,T.Z)(function*(){if(t.dataJsonObj?.queryParamsObj?.selectedMenuId&&t.dataJsonObj?.queryParamsObj?.selectedSubMenuId){const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a._id===parseInt(t.dataJsonObj.queryParamsObj.selectedMenuId,10)):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu.find(a=>a.submenu_id===parseInt(t.dataJsonObj.queryParamsObj.selectedSubMenuId,10)):{}}else{const n=t.dataJsonObj.menuDataJson?t.dataJsonObj.menuDataJson.find(a=>a.menu_page.page_name===t.dataJsonObj.pageName):{};t.dataJsonObj.selectedSubmenuObj=n&&n.submenu?n.submenu[0]:{}}t.dataJsonObj.pageDetails=t.dataJsonObj.selectedSubmenuObj.submenu_page})()}getRecordById(){try{const t={};this.QuizService.get(this.dataJsonObj.recordId).subscribe(n=>{this.dataJsonObj.quizViewData=n,this.dataJsonObj.quizQuestionData=n?.quizQuestionsData?n?.quizQuestionsData:[];const a={},s={};for(let d of this.dataJsonObj.quizQuestionData){s||(s[d._id]={}),s[d._id]=d.question,a[d._id]||(a[d._id]={});for(let c of d.options)a[d._id][c.option_id]=c.option,c.ID=c.option_id,c.NAME=c.option;d.ID=d.display_sequence,d.NAME=d.option,d.quizImage=d?.file_path&&d?.file_name?this.dataJsonObj.apiEndPoint+d?.file_path+"/"+d?.file_name:""}this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.QUIZ",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}];const o=this.displayDateFormatter(this.dataJsonObj.quizViewData.start_datetime,!1,!0);this.dataJsonObj.startDate=o.startDate;const u=this.displayDateFormatter(this.dataJsonObj.quizViewData.end_datetime,!1,!0);if(this.dataJsonObj.endDate=u.startDate,this.dataJsonObj.quizViewData.welcome_screen.dispayImage=this.dataJsonObj.quizViewData.welcome_screen.image_name&&this.dataJsonObj.quizViewData.welcome_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.welcome_screen.image_path+"/"+this.dataJsonObj.quizViewData.welcome_screen.image_name:"",this.dataJsonObj.quizViewData.success_screen.dispayImage=this.dataJsonObj.quizViewData.success_screen.image_name&&this.dataJsonObj.quizViewData.success_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.success_screen.image_path+"/"+this.dataJsonObj.quizViewData.success_screen.image_name:"",this.dataJsonObj.quizViewData.failure_screen.dispayImage=this.dataJsonObj.quizViewData.failure_screen.image_name&&this.dataJsonObj.quizViewData.failure_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.failure_screen.image_path+"/"+this.dataJsonObj.quizViewData.failure_screen.image_name:"",this.dataJsonObj.quizViewData.congratulation_screen.dispayImage=this.dataJsonObj.quizViewData.congratulation_screen.image_name&&this.dataJsonObj.quizViewData.congratulation_screen.image_path?this.dataJsonObj.apiEndPoint+this.dataJsonObj.quizViewData.congratulation_screen.image_path+"/"+this.dataJsonObj.quizViewData.congratulation_screen.image_name:"",this.dataJsonObj.quizViewData?.questionTranslations)for(let d of this.dataJsonObj.quizViewData?.questionTranslations){d.original_question=s[d.quiz_question_id];for(let c of d.options)c.original_option=a[d.quiz_question_id][c.option_id];t[d?.language?.language_code]||(t[d?.language?.language_code]=[]),t[d?.language?.language_code].push(d)}if(this.dataJsonObj.quizViewData.language_translations){this.dataJsonObj.languagesData=[];for(let d=0;d<this.dataJsonObj.quizViewData?.language_translations.length;d++)this.dataJsonObj.quizViewData.language_translations[d].questionTranslations=t?t[this.dataJsonObj.quizViewData?.language_translations[d]?.language?.language_code]:[],this.dataJsonObj.quizViewData.language_translations[d].language_name_value=this.dataJsonObj.languagesFromJson[this.dataJsonObj.quizViewData?.language_translations[d]?.language?.language_name]?.language_display_name,this.dataJsonObj.quizViewData.language_translations[d].is_enabled_value=!0===this.dataJsonObj.quizViewData.language_translations[d].is_enabled?"Yes":"No",this.dataJsonObj.quizViewData.language_translations[d].original_welcome_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.welcome_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.welcome_screen.image_name:"",this.dataJsonObj.quizViewData.language_translations[d].original_failure_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.failure_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.failure_screen.image_name:"",this.dataJsonObj.quizViewData.language_translations[d].original_success_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.success_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.success_screen.image_name:"",this.dataJsonObj.quizViewData.language_translations[d].original_question_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.question_screen?.file_name?this.dataJsonObj.quizViewData?.language_translations[d]?.question_screen.file_path:"",this.dataJsonObj.quizViewData.language_translations[d].original_congratulation_screen_image_name=this.dataJsonObj.quizViewData?.language_translations[d]?.congratulation_screen.image_name?this.dataJsonObj.quizViewData.language_translations[d]?.congratulation_screen.image_name:"",this.dataJsonObj.deleteOriginalImage.welcome_screen[d]=this.dataJsonObj.quizViewData?.language_translations[d]?.welcome_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.welcome_screen.image_name:"",this.dataJsonObj.deleteOriginalImage.success_screen[d]=this.dataJsonObj.quizViewData?.language_translations[d]?.success_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.success_screen.image_name:"",this.dataJsonObj.deleteOriginalImage.failure_screen[d]=this.dataJsonObj.quizViewData?.language_translations[d]?.failure_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.failure_screen.image_name:"",this.dataJsonObj.deleteOriginalImage.question_screen[d]=this.dataJsonObj.quizViewData?.language_translations[d]?.question_screen?.file_name?this.dataJsonObj.quizViewData?.language_translations[d]?.question_screen.file_name:"",this.dataJsonObj.deleteOriginalImage.congratulation_screen[d]=this.dataJsonObj.quizViewData?.language_translations[d]?.congratulation_screen.image_name?this.dataJsonObj.quizViewData?.language_translations[d]?.congratulation_screen.image_name:"",this.dataJsonObj.languagesData.push(this.dataJsonObj.quizViewData?.language_translations[d])}})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)}}changeStartDate(t){try{const n=this.displayDateFormatter(t.value,!1,!1);this.dataJsonObj.startDate=n.startDate,this.errorObj.error=this.commonService.getUTCDateObj(this.dataJsonObj.startDate)>=this.commonService.getUTCDateObj(this.dataJsonObj.endDate)?"COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START":""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeStartDate",n)}this.questionError=""}changeEndDate(t){try{const n=this.displayDateFormatter(t.value,!1,!1);this.dataJsonObj.endDate=n.startDate,this.errorObj.error=this.commonService.getUTCDateObj(this.dataJsonObj.endDate)<=this.commonService.getUTCDateObj(this.dataJsonObj.startDate)?"COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START":""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeEndDate",n)}this.questionError=""}changeTimeZone(t){try{this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.description),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.lookup_name;const n=this.displayDateFormatter((new Date).toISOString(),!0,!0);this.dataJsonObj.startDate=n.startDate,this.dataJsonObj.endDate=n.endDate}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeTimeZone",n)}this.questionError=""}getTimeZone(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.TIME_ZONES],t).then(n=>{if(this.dataJsonObj.timezoneOptions=n,this.dataJsonObj.timezoneOptions.length>0){for(let a=0;a<this.dataJsonObj.timezoneOptions.length;a++)this.dataJsonObj.timezoneOptions[a].NAME=this.dataJsonObj.timezoneOptions[a].lookup_display_name+" - "+this.dataJsonObj.timezoneOptions[a].description;this.dataJsonObj.timezoneOptions=this.dataJsonObj.timezoneOptions}},n=>{this.loggerService.setLoggerError(this.constructor.name,"getLookupTypes",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getTimeZone",n)}}onFileChange(t){try{"Image"===this.postType2&&(this.postTypeTag1="",setTimeout(()=>{this.postTypeValue2=this.imageType1,this.postTypeTag1="testImage"},500)),t.target.files.length>0&&(this.dataJsonObj.treasureHuntImageFileSrc=null)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"onFileChange",n)}this.questionError=""}deleteUpload(){this.dataJsonObj.treasureHuntImageFileSrc="",this.postTypeVideo1="",this.imgCheck=!1}getQuizName(t){try{this.errorObj.error2="",this.dataJsonObj.quizViewData.title=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getFacilityName",n)}}changeTranslateDisplayName(t){try{this.dataJsonObj.langTransDisplayname=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeFacilityDisplayName",n)}this.questionError=""}updateRecord(){var t=this;return(0,T.Z)(function*(){try{t.dataJsonObj.welcome_screenImagesArray=[],t.dataJsonObj.success_screenImagesArray=[],t.dataJsonObj.failure_screenImagesArray=[],t.dataJsonObj.congratulation_screenImagesArray=[],t.dataJsonObj.question_screenImagesArray=[],t.dataJsonObj.isSubmitClicked=!1,t.dataJsonObj.isValidateQuestions=!1;for(let b=0;b<t.dataJsonObj.languagesData?.length;b++){const h=t.dataJsonObj?.languagesData[b],m=h?.questionTranslations;if(Array.isArray(h?.questionTranslations)||(h.questionTranslations=[]),h?.languageTranslateImages?.welcome_screen){const p=h?.languageTranslateImageObj?.welcome_screen;for(let g=0;g<p?.length;g++)p[g]&&t.dataJsonObj?.welcome_screenImagesArray?.push(p[g])}if(h?.languageTranslateImages?.success_screen){const p=h?.languageTranslateImageObj?.success_screen;for(let g=0;g<p?.length;g++)p[g]&&t.dataJsonObj?.success_screenImagesArray?.push(p[g])}if(h?.languageTranslateImages?.failure_screen){const p=h?.languageTranslateImageObj?.failure_screen;for(let g=0;g<p?.length;g++)p[g]&&t.dataJsonObj?.failure_screenImagesArray?.push(p[g])}if(h?.languageTranslateImages?.congratulation_screen){const p=h?.languageTranslateImageObj?.congratulation_screen;for(let g=0;g<p?.length;g++)p[g]&&t.dataJsonObj?.success_screenImagesArray?.push(p[g])}for(let p=0;p<m?.length;p++){const g=m[p];if(g.languageTranslateImages){const Z=g.languageTranslateImageObj;Z&&t.dataJsonObj?.question_screenImagesArray?.push(Z)}}}for(let b=0;b<t.dataJsonObj.quizQuestionData.length;b++)delete t.dataJsonObj.quizQuestionData[b].quizImage;const n=t.metadataJson?t.metadataJson.type:"",o=(n.substring(n.lastIndexOf("/")),t.navpathimgFile?t.navpathimgFile.type:""),c=(o.substring(o.lastIndexOf("/")),t.boundariesJson?t.boundariesJson.type:"");if(c.substring(c.lastIndexOf("/")),t.quiztitlevalid.isValid())if(t.commonService.getUTCDateObj(t.dataJsonObj.endDate)<t.commonService.getUTCDateObj(t.dataJsonObj.startDate))t.errorObj.error=t.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START");else{t.dataJsonObj.disableSubmitBtn=!0,t.dataJsonObj.quizcreateObj={enterprise:t.dataJsonObj.quizViewData.enterprise,title:t.dataJsonObj.quizViewData?.title,start_datetime:t.commonService.convertUserTimeZoneDateToUTC(t.dataJsonObj.startDate,t.dataJsonObj.userTimeZoneObj.utcMinutes,t.dataJsonObj.userTimeZoneObj.utcMinutesSign),end_datetime:t.commonService.convertUserTimeZoneDateToUTC(t.dataJsonObj.endDate,t.dataJsonObj.userTimeZoneObj.utcMinutes,t.dataJsonObj.userTimeZoneObj.utcMinutesSign),description:t.dataJsonObj.quizViewData?.description,leaderboard_user_count:t.dataJsonObj.quizViewData?.leaderboard_user_count,organizer:{user_profile_id:t.dataJsonObj.loginUserObj?.user_profile_id},language_translations:t.dataJsonObj.languagesData,quizQuestionData:t.dataJsonObj.quizQuestionData,deletedQuestions:t.dataJsonObj.deletetedQuestions,page:t.dataJsonObj.quizViewData?.pageDetails,record_id:t.dataJsonObj.quizViewData?.record_id,welcome_screen:t.dataJsonObj.quizViewData.welcome_screen,success_screen:t.dataJsonObj.quizViewData.success_screen,failure_screen:t.dataJsonObj.quizViewData.failure_screen,congratulation_screen:t.dataJsonObj.quizViewData.congratulation_screen,original_welcome_screen_image_name:t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.welcomeImage?t.dataJsonObj.quizViewData?.welcome_screen.image_name:"",original_success_screen_image_name:t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.successImage?t.dataJsonObj.quizViewData?.success_screen.image_name:"",original_failure_screen_image_name:t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.failureImage?t.dataJsonObj.quizViewData?.failure_screen.image_name:"",original_congratulation_screen_image_name:t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.congratulationImage?t.dataJsonObj.quizViewData?.congratulation_screen.image_name:""};const b={};b.welcomeImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.welcomeImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.welcomeImage,"image/jpeg"):"",b.successImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.successImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.successImage,"image/jpeg"):"",b.failureImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.failureImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.failureImage,"image/jpeg"):"",b.congratulationImage=t.dataJsonObj.filesObj&&t.dataJsonObj.filesObj.congratulationImage?t.commonService.dataURItoImgBlob(t.dataJsonObj.filesObj.congratulationImage,"image/jpeg"):"",yield t.QuizService.update(t.dataJsonObj.quizcreateObj,t.dataJsonObj.recordId,b,t.quizFileArray,t.dataJsonObj?.welcome_screenImagesArray,t.dataJsonObj?.success_screenImagesArray,t.dataJsonObj?.failure_screenImagesArray,t.dataJsonObj?.congratulation_screenImagesArray,t.dataJsonObj?.question_screenImagesArray),t.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),t.dataJsonObj.disableSubmitBtn=!1,t.commonService.redirectToPreviousUrl()}}catch(n){t.dataJsonObj.disableSubmitBtn=!1,t.commonErrorCodes(JSON.parse(n))}})()}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Close",t)}}displayDateFormatter(t,n,a){try{const s=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,o={startDate:"",endDate:""};if(o.startDate=this.commonService.convertDateToUserFormat(s,r.eZ.HOURS_MINS,!0,"",!1),n){const u=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,d=this.commonService.addHoursToDate(u,120);o.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return o}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",s)}}changeDescriptionName(t){this.errorObj.error="",this.questionError="",this.dataJsonObj.quizViewData.description=t.value}changeLeaderboardUsersCount(t){this.errorObj.error="",this.questionError="",this.dataJsonObj.quizViewData.leaderboard_user_count=t.value}changeTranslateImage(t,n,a){try{if(a)this.dataJsonObj.islanguageImgEnable[n]=!0,t.target.files.length>0&&(this.dataJsonObj.languageQuestionImageApi={screen:n,imageFileName:t.target.files[0].name,file:t.target.files[0]},this.dataJsonObj.questionTranslateImage||(this.dataJsonObj.questionTranslateImage={}),this.dataJsonObj.questionTranslateImage[n]=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t.target.files[0])),this.dataJsonObj[n]=this.dataJsonObj.questionTranslateImage[n]),document.getElementById("imagefileid5").value="";else{if(this.dataJsonObj.islanguageImgEnable[n]=!0,t.target.files.length>0){this.dataJsonObj.languageImageApi={screen:n,imageFileName:t.target.files[0].name,file:t.target.files[0]},this.dataJsonObj.languageImageApis[this.dataJsonObj.index]||(this.dataJsonObj.languageImageApis[this.dataJsonObj.index]={}),this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n]||(this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n]=[]),this.dataJsonObj.languageTranslateImageDisplay[n][this.dataJsonObj.index]&&(this.dataJsonObj.languageTranslateImageDisplay[n][this.dataJsonObj.index]=""),this.dataJsonObj.languageTranslateImage[n]=this.dataJsonObj.languageTranslateImage[n]||[];const s=this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n].findIndex(u=>u.screen===n);-1!==s?this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n][s]=this.dataJsonObj.languageImageApi:this.dataJsonObj.languageImageApis[this.dataJsonObj.index][n].push(this.dataJsonObj.languageImageApi),this.dataJsonObj.languageTranslateImage[n]=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(t.target.files[0])),this.dataJsonObj.languageTranslateImageDisplay[n][this.dataJsonObj.index]=this.dataJsonObj.languageTranslateImage[n]}document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value=""}this.questionError=""}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeTranslateImage",s)}}changeTranslateImageRemove(t){try{this.dataJsonObj.deleteImage[t][this.dataJsonObj.editRowIndex]||(this.dataJsonObj.deleteImage[t][this.dataJsonObj.editRowIndex]=""),this.dataJsonObj.imageDelete[t][this.dataJsonObj.index]||(this.dataJsonObj.imageDelete[t][this.dataJsonObj.index]=!1),this.dataJsonObj.deleteImage[t][this.dataJsonObj.editRowIndex]=this.dataJsonObj.deleteOriginalImage[t][this.dataJsonObj.editRowIndex],this.dataJsonObj.imageDelete[t][this.dataJsonObj.index]=!0,this.dataJsonObj.languageTranslateImageDisplay[t][this.dataJsonObj.index]="",this.dataJsonObj.islanguageImgEnable[t]=!1,this.dataJsonObj.languageTranslateImage[t]=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeTranslateImageRemove",n)}}triggerFile1(){this.fileInput1.nativeElement.click()}triggerFile2(){this.fileInput2.nativeElement.click()}triggerFile3(){this.fileInput3.nativeElement.click()}triggerFile4(){this.fileInput4.nativeElement.click()}triggerFile5(){this.fileInput5.nativeElement.click()}changeFile(t,n,a){try{this.dataJsonObj.filesObj||(this.dataJsonObj.filesObj={}),this.errorObj.filesObj||(this.errorObj.filesObj={}),""===t.error?(this.errorObj.filesObj[n]="",this.dataJsonObj.filesObj[n]=t.value,a&&(a[n]=t.value)):this.errorObj.filesObj[n]=t.error,this.questionError=""}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeFile",s)}}removeFile(t){try{this.errorObj.filesObj[t]="",this.dataJsonObj.filesObj[t]=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"removeFile",n)}}deleteImgClick(t,n){if(t.value==r.A0.DELETE)switch(n){case"welcomeImage":this.dataJsonObj.quizViewData.welcome_screen.image_path="";break;case"successImage":this.dataJsonObj.quizViewData.success_screen.image_path="";break;case"failureImage":this.dataJsonObj.quizViewData.failure_screen.image_path="";break;case"congratulationImage":this.dataJsonObj.quizViewData.congratulation_screen.image_path=""}}commonErrorCodes(t){409===JSON.parse(t[r.BU.STATUS])&&(this.errorObj.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}getNextRecordNumber(){return this.dataJsonObj.languagesData.length+1}languagesAdd(t){try{this.dataJsonObj.disableTransAdd||(t.stopPropagation(),this.dataJsonObj.isValidateQuestions?this.languagesAddPopup():this.dataJsonObj.isValidateQuestions=!0)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"languagesAdd",n)}}languagesAddPopup(){try{if(this.dataJsonObj.createRowIndex=this.getNextRecordNumber(),this.dataJsonObj.index=this.dataJsonObj.createRowIndex,this.displayNameAdd.clearmessage(),this.languageAdd.clearmessage(),this.languageAdd.clearSelectInput(),this.dataJsonObj.languageCode="",this.dataJsonObj.languageName="",this.dataJsonObj.languageId="",this.dataJsonObj.addPopupError="",this.dataJsonObj.langTransDisplayname="",this.dataJsonObj.langTransDescription="",this.dataJsonObj.isLangTransEnabled="",this.dataJsonObj.isLangTransQuestionCheckBoxEnabled=!1,this.dataJsonObj.questionId="",this.dataJsonObj.welcome_screen="",this.dataJsonObj.success_screen="",this.dataJsonObj.failure_screen="",this.dataJsonObj.congratulation_screen="",this.dataJsonObj.quizQuestionsTl=[],this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.islanguageImgEnable.congratulation_screen=!1,this.dataJsonObj.addQuizQuestionsTl=[],this.getLanguagesList(""),this.dataJsonObj.optionsArray=[],this.dataJsonObj.questionsDataList)for(let t=0;t<this.dataJsonObj.questionsDataList.length;t++){const n=this.dataJsonObj.questionsDataList[t]?.question;this.dataJsonObj.quizQuestions.some(s=>s.question===n)||this.dataJsonObj.quizQuestions.push({ID:this.dataJsonObj.questionsDataList[t]?.display_sequence,NAME:this.dataJsonObj.questionsDataList[t]?.question,display_sequence:this.dataJsonObj.questionsDataList[t]?.display_sequence,quizImage:this.dataJsonObj.questionsDataList[t]?.quizImage,question:this.dataJsonObj.questionsDataList[t]?.question,options:this.dataJsonObj.questionsDataList[t]?.options})}$("#addLanguagePopup").modal("show"),$(".modal-backdrop").insertAfter("#addLanguagePopup")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesAdd",t)}}removeLanguages(t,n){try{this.dataJsonObj.deleteRowIndex=t,this.dataJsonObj.languageCode=n.language.language_code,this.dataJsonObj.languageId=n.language.language_id,this.dataJsonObj.languageName=n.language_name_value,this.dataJsonObj.langTransDisplayname=n.display_name,this.dataJsonObj.langTransDescription=n.description,this.dataJsonObj.isLangTransEnabled=n.is_enabled,$("#exampleModal7").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal7")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeLanguages",a)}}editLanguages(t,n){try{this.dataJsonObj.editRowIndex=t,this.dataJsonObj.index=this.dataJsonObj.editRowIndex+1,this.dataJsonObj.languageId=n.language.language_id,this.dataJsonObj.languageName=n.language_name_value,this.dataJsonObj.languageCode=n.language.language_code,this.dataJsonObj.language=n.language.language_name,this.dataJsonObj.langTransDisplayname=n.title,this.dataJsonObj.langTransDescription=n.description,this.dataJsonObj.isLangTransEnabled=n.is_enabled,this.dataJsonObj.imageDelete.failure_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.welcome_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.success_screen[this.dataJsonObj.index]=!1,this.dataJsonObj.imageDelete.congratulation_screen[this.dataJsonObj.index]=!1,n.welcome_screen_image?(this.dataJsonObj.islanguageImgEnable.welcome_screen=!0,this.dataJsonObj.languageTranslateImage.welcome_screen=n.welcome_screen_image):n.welcome_screen&&n.welcome_screen.image_name&&n.welcome_screen.image_path?(this.dataJsonObj.islanguageImgEnable.welcome_screen=!0,this.dataJsonObj.languageTranslateImage.welcome_screen=this.dataJsonObj.apiEndPoint+n.welcome_screen.image_path+"/"+n.welcome_screen.image_name):(this.dataJsonObj.islanguageImgEnable.welcome_screen=!1,this.dataJsonObj.languageTranslateImage.welcome_screen=""),n.success_screen_image?(this.dataJsonObj.islanguageImgEnable.success_screen=!0,this.dataJsonObj.languageTranslateImage.success_screen=n.success_screen_image):n.success_screen&&n.success_screen.image_name&&n.success_screen.image_path?(this.dataJsonObj.islanguageImgEnable.success_screen=!0,this.dataJsonObj.languageTranslateImage.success_screen=this.dataJsonObj.apiEndPoint+n.success_screen.image_path+"/"+n.success_screen.image_name):(this.dataJsonObj.islanguageImgEnable.success_screen=!1,this.dataJsonObj.languageTranslateImage.success_screen=""),n.failure_screen_image?(this.dataJsonObj.islanguageImgEnable.failure_screen=!0,this.dataJsonObj.languageTranslateImage.failure_screen=n.failure_screen_image):n.failure_screen&&n.failure_screen.image_name&&n.failure_screen.image_path?(this.dataJsonObj.islanguageImgEnable.failure_screen=!0,this.dataJsonObj.languageTranslateImage.failure_screen=this.dataJsonObj.apiEndPoint+n.failure_screen.image_path+"/"+n.failure_screen.image_name):(this.dataJsonObj.islanguageImgEnable.failure_screen=!1,this.dataJsonObj.languageTranslateImage.failure_screen=""),n.congratulation_screen_image?(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!0,this.dataJsonObj.languageTranslateImage.congratulation_screen=n.congratulation_screen_image):n.congratulation_screen&&n.congratulation_screen.image_name&&n.congratulation_screen.image_path?(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!0,this.dataJsonObj.languageTranslateImage.congratulation_screen=this.dataJsonObj.apiEndPoint+n.congratulation_screen.image_path+"/"+n.congratulation_screen.image_name):(this.dataJsonObj.islanguageImgEnable.congratulation_screen=!1,this.dataJsonObj.languageTranslateImage.congratulation_screen=""),this.dataJsonObj.quizQuestionsTl=n.questionTranslations?n.questionTranslations:[],this.displayNameUpdate.clearmessage(),$("#exampleModal6").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal6")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editLanguages",a)}}quizLanguageTranslationCreate(){try{this.languageAdd.isValid()&&this.displayNameAdd.isValid()&&(this.dataJsonObj.languageDatavalid=this.dataJsonObj.languagesData.find(n=>n.quiz_display_name===this.dataJsonObj.quizViewData?.title.toString()&&n.language.language_id===this.dataJsonObj.languageId),this.dataJsonObj.languagesData.push({language:{language_id:this.dataJsonObj.languageId,language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode},quiz_display_name:this.dataJsonObj.quizViewData.title,language_name_value:this.dataJsonObj.languageName,title:this.dataJsonObj.langTransDisplayname,description:this.dataJsonObj.langTransDescription,is_enabled:this.dataJsonObj.isLangTransEnabled,is_enabled_value:this.dataJsonObj.isLangTransEnabled?"Yes":"No",languageTranslateImages:this.dataJsonObj.languageTranslateImage,languageTranslateImageObj:this.dataJsonObj.languageImageApis[this.dataJsonObj.index],welcome_screen:this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index],success_screen:this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index],failure_screen:this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index],congratulation_screen:this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index],questionTranslations:this.dataJsonObj.quizQuestionsTl}),document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",$("#exampleModal5").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"quizLanguageTranslationCreate",t)}}getLanguagesfromJson(){var t=this;return(0,T.Z)(function*(){t.dataJsonObj.languagesFromJson=yield t.commonService.getLanguagesListJson(t.dataJsonObj.selectedEnterpriseId)})()}getLanguagesList(t){var n=this;return(0,T.Z)(function*(){try{const a={};yield n.QuizService.getTranslateLanguages(n.dataJsonObj.selectedEnterpriseId).then(s=>{if(n.dataJsonObj.translateLanguageOptions=s[0].configoption_json.languages,n.dataJsonObj.translateLanguageOptions&&n.dataJsonObj.translateLanguageOptions.length>0)for(let o=0;o<n.dataJsonObj.translateLanguageOptions.length;o++)a[n.dataJsonObj.translateLanguageOptions[o].language_name]||(a[n.dataJsonObj.translateLanguageOptions[o].language_name]={}),a[n.dataJsonObj.translateLanguageOptions[o].language_name].languageName=n.dataJsonObj.translateLanguageOptions[o].language_name,a[n.dataJsonObj.translateLanguageOptions[o].language_name].language_id=n.dataJsonObj.translateLanguageOptions[o].language_id},s=>{n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",s)}),yield n.commonService.getDynamicJsonByPath(`assets/enterprises/${n.dataJsonObj.selectedEnterpriseId}/languages/`,"languages.json").then(s=>{for(let o=0;o<s.length;o++)a[s[o].language_name]&&(n.dataJsonObj.translateLanguageOptions[o].ID=s[o].language_id,n.dataJsonObj.translateLanguageOptions[o].NAME=s[o].language_display_name,n.dataJsonObj.translateLanguageOptions[o].language_code=s[o].language_code,n.dataJsonObj.translateLanguageOptions[o].language_id=s[o].language_id,n.dataJsonObj.translateLanguageOptions[o].language_name=s[o].language_name);if(n.dataJsonObj.translateLanguageOptions&&t){const o=n.dataJsonObj.translateLanguageOptions.filter(function(u){return u.NAME.toLowerCase().includes(t.toLowerCase())});n.dataJsonObj.translateLanguageOptions=o}})}catch(a){n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",a)}})()}changeLanguage(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.languageId=t.ID,this.dataJsonObj.languageName=t.NAME,this.dataJsonObj.language=t.language_name,this.dataJsonObj.languageCode=t.language_code)}changeLangTransDisplayname(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.langTransDisplayname=t.value)}changeLangTransDescription(t){t&&(this.dataJsonObj.langTransDescription=t.value)}languagesEditSubmit(){try{if(this.displayNameUpdate.isValid()){for(let t=0;t<this.dataJsonObj.languagesData.length;t++)this.dataJsonObj.imageDelete.welcome_screen[t]||(this.dataJsonObj.imageDelete.welcome_screen[t]=!1),this.dataJsonObj.imageDelete.success_screen[t]||(this.dataJsonObj.imageDelete.success_screen[t]=!1),this.dataJsonObj.imageDelete.failure_screen[t]||(this.dataJsonObj.imageDelete.failure_screen[t]=!1),this.dataJsonObj.imageDelete.congratulation_screen[t]||(this.dataJsonObj.imageDelete.congratulation_screen[t]=!1),this.dataJsonObj.languagesData[t].deleteWelcomeImage||(this.dataJsonObj.languagesData[t].deleteWelcomeImage=""),this.dataJsonObj.languagesData[t].deleteSuccessImage||(this.dataJsonObj.languagesData[t].deleteSuccessImage=""),this.dataJsonObj.languagesData[t].deleteFailureImage||(this.dataJsonObj.languagesData[t].deleteFailureImage=""),this.dataJsonObj.languagesData[t].deleteCongratulationImage||(this.dataJsonObj.languagesData[t].deleteCongratulationImage=""),t===this.dataJsonObj.editRowIndex&&(this.dataJsonObj.languagesData[t].language={language_name:this.dataJsonObj.language,language_code:this.dataJsonObj.languageCode,language_id:this.dataJsonObj.languageId},this.dataJsonObj.languagesData[t].language_name_value=this.dataJsonObj.languageName,this.dataJsonObj.languagesData[t].title=this.dataJsonObj.langTransDisplayname,this.dataJsonObj.languagesData[t].description=this.dataJsonObj.langTransDescription,this.dataJsonObj.languagesData[t].is_enabled=this.dataJsonObj.isLangTransEnabled,this.dataJsonObj.languagesData[t].is_enabled_value=!0===this.dataJsonObj.isLangTransEnabled?"Yes":"No",this.dataJsonObj.languagesData[t].languageTranslateImages=this.dataJsonObj.languageTranslateImage,this.dataJsonObj.languagesData[t].languageTranslateImageObj=this.dataJsonObj.languageImageApis[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].welcome_screen_image=this.dataJsonObj.deleteImage.welcome_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.welcome_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.welcome_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].success_screen_image=this.dataJsonObj.deleteImage.success_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.success_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.success_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].failure_screen_image=this.dataJsonObj.deleteImage.failure_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.failure_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.failure_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].congratulation_screen_image=this.dataJsonObj.deleteImage.congratulation_screen[t]&&!this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index]||this.dataJsonObj.imageDelete.congratulation_screen[this.dataJsonObj.index]&&!this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index]?"":this.dataJsonObj.languageTranslateImageDisplay.congratulation_screen[this.dataJsonObj.index],this.dataJsonObj.languagesData[t].deleteWelcomeImage=this.dataJsonObj.deleteImage.welcome_screen[t]?this.dataJsonObj.deleteImage.welcome_screen[t]:"",this.dataJsonObj.languagesData[t].deleteSuccessImage=this.dataJsonObj.deleteImage.success_screen[t]?this.dataJsonObj.deleteImage.success_screen[t]:"",this.dataJsonObj.languagesData[t].deleteFailureImage=this.dataJsonObj.deleteImage.failure_screen[t]?this.dataJsonObj.deleteImage.failure_screen[t]:"",this.dataJsonObj.languagesData[t].deleteCongratulationImage=this.dataJsonObj.deleteImage.congratulation_screen[t]?this.dataJsonObj.deleteImage.congratulation_screen[t]:"",document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",this.dataJsonObj.languagesData[t].questionTranslations=this.dataJsonObj.quizQuestionsTl);$("#exampleModal6").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesEditSubmit",t)}}changeLangTransCheckBox(t){this.dataJsonObj.addPopupError="",t&&(this.dataJsonObj.isLangTransEnabled=t.value)}languagesDeleteSubmit(){try{for(let t=0;t<this.dataJsonObj.languagesData.length;t++)this.dataJsonObj.deleteRowIndex===t&&this.dataJsonObj.languagesData[t]._id&&this.dataJsonObj.deleted_translation_ids.push(this.dataJsonObj.languagesData[t]._id);this.dataJsonObj.languagesData.splice(this.dataJsonObj.deleteRowIndex,1),$("#exampleModal7").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesDeleteSubmit",t)}}clearMessage(){this.dataJsonObj.errorHtml=""}cancelPopUpButton(){try{document.getElementById("imagefileid1").value="",document.getElementById("imagefileid2").value="",document.getElementById("imagefileid3").value="",document.getElementById("imagefileid4").value="",document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",t)}}changeQuestionName(t){try{this.questionError="",this.dataJsonObj.question=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeQuestionName",n)}}changeAnswerName(t){try{this.questionError="",this.dataJsonObj.option=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAnswerName",n)}}addOptions(){this.dataJsonObj?.option?(this.dataJsonObj.optionsArray.push({ID:this.dataJsonObj.optionsArray.length>0?this.dataJsonObj.optionsArray[this.dataJsonObj.optionsArray.length-1].option_id+1:1,NAME:this.dataJsonObj.option,question:this.dataJsonObj.question,option_id:this.dataJsonObj.optionsArray.length>0?this.dataJsonObj.optionsArray[this.dataJsonObj.optionsArray.length-1].option_id+1:1,option:this.dataJsonObj?.option,is_correct:this.dataJsonObj.isOptionCorrect}),this.dataJsonObj.option="",this.dataJsonObj.isOptionCorrect=!1,this.questionError=""):this.optionvalidate.throwError()}changeOptionCheckBox(t){t&&(this.dataJsonObj.isOptionCorrect=t.value)}addQuizQuestions(){if(this.dataJsonObj.question)if(this.dataJsonObj.optionsArray.length>1)if(this.dataJsonObj.optionsArray.find(n=>1==n.is_correct)){this.dataJsonObj.quizQuestionData||(this.dataJsonObj.quizQuestionData=[]);const n=this.dataJsonObj.displayImage,a=n?this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(n)):"";this.displaySequence=this.dataJsonObj.quizQuestionData.length>0?this.dataJsonObj.quizQuestionData[this.dataJsonObj.quizQuestionData.length-1].display_sequence+1:1,this.dataJsonObj.quizQuestionData.push({ID:this.displaySequence,NAME:this.dataJsonObj.question,quizImage:a,display_sequence:this.displaySequence,question:this.dataJsonObj.question,options:JSON.parse(JSON.stringify(this.dataJsonObj.optionsArray))}),this.digitalAssetFile&&this.quizFileArray.push({imagename:this.dataJsonObj.question+"-"+this.displaySequence,file:this.digitalAssetFile}),this.showCropper=!1,this.imageChangedEvent="",this.dataJsonObj.question="",this.dataJsonObj.displayImage="",this.digitalAssetFile="",this.dataJsonObj.option="",this.digitalAssetTypeId="",this.dataJsonObj.isOptionCorrect=!1,this.typeDropdown.clearSelectInput(),this.dataJsonObj.optionsArray=[],this.questionError=""}else this.questionError="COMMON_VALIDATION_MESSAGES.VALID_FILL_NUMBER_OF_CORRECT_OPTION";else this.questionError="COMMON_VALIDATION_MESSAGES.VALID_FILL_NUMBER_OF_OPTIONS";else this.questionValid.throwError()}deleteOptions(t){this.dataJsonObj.optionsArray?.splice(t,1)}deleteQuizQuestions(t){this.dataJsonObj.deletetedQuestions.push(this.dataJsonObj.quizQuestionData[t]._id),this.dataJsonObj.quizQuestionData?.splice(t,1)}changeDisplaySequence(t){this.displaySequence=t.value,this.errorHtml=""}rotateLeft(){this.canvasRotation--}rotateRight(){this.canvasRotation++}rotateLeft1(){this.canvasRotation1--}rotateRight1(){this.canvasRotation1++}fileChangeEvent(t,n){try{this.digitalAssetUploadFileType=n,this.digitalAssetTypeName===r.Cv.VIDEO?(this.assetTypeTag="",this.assetTypeImage="",setTimeout(()=>{this.assetTypeValue=this.videoType,this.assetTypeTag="testVideo",this.assetTypeImage=""},10)):this.digitalAssetTypeName===r.Cv.AUDIO?(this.assetTypeTag="",this.assetTypeImage="",setTimeout(()=>{this.assetTypeValue=this.audioType,this.assetTypeTag="testAudio",this.assetTypeImage=""},10)):this.digitalAssetTypeName===r.Cv.IMAGE&&(this.assetTypeTag="testImage",this.assetTypeValue=this.imageType),this.stopDisplayFileNameAndCroppedSize(n),t.target.files.length>0&&("File"===n?this.fileSrc=null:this.previewFileSrc=null,this.digitalAssetTypeName===r.Cv.IMAGE&&(this.validSelectedImageFileType(t.target.files[0])?(this.error="","File"===n&&(this.imageChangedEvent=t),this.selectedFileName=t.target.files[0].name,this.imgCheck=!0):("File"===n?this.imageChangedEvent=null:this.previewImageChangedEvent=null,this.imgCheck=!1))),this.questionError=""}catch(a){this.loggerService.setLoggerError(this.constructor.name,"fileChangeEvent",a)}}stopDisplayFileNameAndCroppedSize(t){try{"File"===t?document.getElementById("profileimg").innerHTML="":document.getElementById("previewimg").innerHTML=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"stopDisplayFileNameAndCroppedSize",n)}}validSelectedImageFileType(t){try{if(this.dataJsonObj.displayImage=t,this.fileType=t.type,this.selectedType=this.fileType.toString().split("/")[0],this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.imageExtensions=this.commonService.getExtension(r.P7),this.myObj={imageTypes:this.imageExtensions},this.assetTypeError=!0,"image"===this.selectedType)for(let n=0;n<this.myObj.imageTypes.length;n++)if(this.myObj.imageTypes[n].indexOf(this.extension)>-1&&this.assetTypeImage===r.Cv.IMAGE)return!0;return this.assetTypeError=!1,!1}catch(n){this.loggerService.setLoggerError(this.constructor.name,"validSelectedImageFileType",n)}}imageUploaded(t){try{this.error="";const n=t.target.files;n.length>0&&(this.assetFile=n[0]);const a=new Array("Bytes","KB","MB","GB");let s=this.assetFile.size,o=0;for(;s>900;)s/=1024,o++;const u=Math.round(100*s)/100,d=a[o];this.fileType=this.assetFile.type;const c=this.fileType.split("/")[0];if(this.fileSrc=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(this.assetFile)),setTimeout(()=>{},500),"image"===c&&this.assetTypeImage===r.Cv.IMAGE)this.assetTypeError=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.imageExtensions=this.commonService.getExtension(r.P7),this.myObj={imageTypes:this.imageExtensions};else if("video"===c&&this.digitalAssetTypeName===r.Cv.VIDEO){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.videoExtensions=this.commonService.getExtension(r.sc),this.myObj={imageTypes:this.videoExtensions},this.assetTypeError=!0;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g,this.digitalAssetFile=this.assetFile},this.fileSize=this.assetFile.size/1024/1024}else if("audio"===c&&this.digitalAssetTypeName===r.Cv.AUDIO){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.audioExtensions=this.commonService.getExtension(r.wE),this.myObj={imageTypes:this.audioExtensions},this.fileSize=this.assetFile.size/1024/1024,this.assetTypeError=!0,this.digitalAssetFile=this.assetFile;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g}}else if("application"===c&&this.digitalAssetTypeName===r.Cv.DOCUMENT){this.imgCheck=!0,this.extension=this.fileType.substring(this.fileType.lastIndexOf("/")),this.documentExtensions=this.commonService.getExtension(r.Do),this.myObj={imageTypes:this.documentExtensions},this.fileSize=this.assetFile.size/1024/1024,this.assetTypeError=!0,this.digitalAssetFile=this.assetFile;const h=t.target.files[0],m=this.commonService.getFileReader();m.readAsDataURL(h),m.onloadend=p=>{const g=m.result.toString().split(",")[1];this.mediaFile=g}}else this.otherExtensions=this.commonService.getExtension(r.XF),this.myObj={imageTypes:this.otherExtensions},this.assetTypeError=!1;let _=!0;for(let h=0;h<this.myObj.imageTypes.length;h++){let m=this.myObj.imageTypes[h].indexOf(this.extension);if(m>-1&&this.assetTypeImage===r.Cv.IMAGE&&!0===this.assetTypeError){_=!1,this.assetTypeError=!1,this.error="",this.imageMinSize>u||"KB"!==d||u>this.imageMaxSize||"KB"!==d?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART2"),this.error=this.errMsg1+" "+this.imageMinSize+" & "+this.imageMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.VIDEO&&!0===this.assetTypeError){_=!1,this.imgCheck=!0,this.error="",this.fileSize>this.videoMaxSize||this.fileSize<this.videoMinSize?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.VIDEO_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.videoMinSize+" & "+this.videoMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.AUDIO&&!0===this.assetTypeError){_=!1,this.fileSize>this.audioMaxSize||this.fileSize<this.audioMinSize?(this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.AUDIO_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.audioMinSize+" & "+this.audioMaxSize+" "+this.errMsg2):this.imageStatus=!0;break}if(m>-1&&this.postType===r.Cv.DOCUMENT&&!0===this.assetTypeError){_=!1,this.fileSize>this.documentMaxSize||this.fileSize<this.documentMinSize?(this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.DOCUMENT_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART3"),this.error=this.errMsg1+" "+this.documentMinSize+" & "+this.documentMaxSize+" "+this.errMsg2):this.imageStatus=!0,this.imageStatus=!0;break}}_&&(this.assetTypeError=!0,this.fileSrc="",this.mediaFile="",this.imgCheck=!1);const J=document.getElementById("profileimg");let b=this.assetFile.name;null!=b&&""!==b&&this.assetFile.name.length>10&&(b=b.substring(0,10)+".."+this.assetFile.name.split(".")[1]),!0===this.imgCheck&&(J.innerHTML=b)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"imageUploaded",n)}}dataURItoBlob(t,n){try{const a=window.atob(t),s=new ArrayBuffer(a.length),o=new Uint8Array(s);for(let d=0;d<a.length;d++)o[d]=a.charCodeAt(d);return new Blob([o],{type:n})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"dataURItoBlob",a)}}imageCropped(t){try{if(t.blob){const n=this.commonService.getFileReader();n.onloadend=()=>{this.croppedImage=n.result,this.validCroppedImageSize(this.croppedImage)&&(this.fileSrc=this.croppedImage,this.mediaFile=this.croppedImage)},n.readAsDataURL(t.blob)}else console.error("No blob found in the event.")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"imageCropped",n)}}dataURItoImgBlob(t,n){var a;a=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);var s=new Uint8Array(a.length);for(let o=0;o<a.length;o++)s[o]=a.charCodeAt(o);return new Blob([s],{type:n})}validCroppedImageSize(t){try{this.assetFile=t,this.digitalAssetFile=this.dataURItoImgBlob(this.assetFile,"image/jpeg");let n=this.assetFile.size,a=0;for(;n>900;)n/=1024,a++;const s=Math.round(100*n)/100;return this.displayFileNameAndCroppedSize(this.selectedFileName,s,"File"),s>this.imageMaxSize?(this.imageStatus=!1,this.errMsg1=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART1"),this.errMsg2=this.translateService.instant("COMMON_RECORD_ICON_BLOCK.ICON_SIZE_VALIDATION_PART2"),this.error=this.errMsg1+" "+this.imageMinSize+" & "+this.imageMaxSize+" "+this.errMsg2,!1):(this.imageStatus=!0,this.error="",!0)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"validCroppedImageSize",n)}}displayFileNameAndCroppedSize(t,n,a){try{let s;switch(a){case"File":s=document.getElementById("profileimg");break;case"Preview":s=document.getElementById("previewimg");break;case"Thumbnail":s=document.getElementById("thumbnailimg");default:s=document.getElementById("profileimg")}let o=t;null!=o&&""!==o&&o.split(".")[0].length>10&&(o=o.split(".")[0].substring(0,10)+".."+o.split(".")[1]),s.innerHTML=this.selectedFileName}catch(s){this.loggerService.setLoggerError(this.constructor.name,"displayFileNameAndCroppedSize",s)}}getDigitalAssetTypes(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.DIGITAL_ASSET_TYPES],"").then(t=>{this.digitalAssetTypeOptions=t.filter(n=>"IMAGE"==n.lookup_name),this.digitalAssetTypeName&&(this.digitalAssetTypeObj=this.digitalAssetTypeOptions.find(n=>"IMAGE"==n.lookup_name),this.digitalAssetTypeId=this.digitalAssetTypeObj._id,this.digitalAssetType=this.digitalAssetTypeObj.NAME,this.digitalAssetTypeName=this.digitalAssetTypeObj.lookup_name)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getDigitalAssetTypes",t)}}getFileAcceptType(){switch(this.digitalAssetTypeName){case r.Cv.VIDEO:return"video/*";case r.Cv.AUDIO:return"audio/*";case r.Cv.IMAGE:return"image/*";case r.Cv.DOCUMENT:return".xlsx,.xls,.pdf,.doc,.docx,.txt,.odt,.ods,.odp,.csv,.ppt,.pptx";default:return""}}changeDigitalAssetType(t){try{if(this.error="",this.imageChangedEvent="",document.getElementById("profileimg")){const n=document.getElementById("profileimg");n.innerHTML=n.innerHTML?"":n.innerHTML,this.fileSrc=""}if(document.getElementById("previewimg")){const n=document.getElementById("previewimg");n.innerHTML=n.innerHTML?"":n.innerHTML,this.previewFileSrc=""}this.digitalAssetTypeId=t.value,this.digitalAssetTypeObj=this.digitalAssetTypeOptions.find(n=>n.ID===parseInt(this.digitalAssetTypeId,10)),this.digitalAssetTypeName=this.digitalAssetTypeObj.lookup_name,this.dataJsonObj.isLiveStreamUrlFieldEnabled=this.digitalAssetTypeName===r.Cv.LIVE_STREAM,this.questionError=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeDigitalAssetType",n)}}getAssetType(t){try{switch(this.error="",t){case this.videoType.lookup_name:this.postType=r.Cv.VIDEO,this.assetTypeVideo=r.Cv.VIDEO;break;case this.audioType.lookup_name:this.postType=r.Cv.AUDIO,this.assetTypeAudio=r.Cv.AUDIO;break;case this.imageType.lookup_name:this.postType=r.Cv.IMAGE,this.assetTypeImage=r.Cv.IMAGE}}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getAssetType",n)}}getDocumentTypeLookups(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.DIGITAL_ASSET_TYPES],"").then(t=>{this.documentTypes=t;for(let n=0;n<t.length;n++)t[n].lookup_name===r.Cv.AUDIO?this.audioType=t[n]:t[n].lookup_name===r.Cv.VIDEO?this.videoType=t[n]:t[n].lookup_name===r.Cv.IMAGE?this.imageType=t[n]:t[n].lookup_name===r.Cv.DOCUMENT&&(this.documentType=t[n])}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getDocumentTypeLookups",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getDocumentTypeLookups",t)}}imageLoaded(){this.showCropper=!0}removeImage(){this.digitalAssetFile="",this.imageChangedEvent="",this.showCropper=!1}addQuizQuestionsTl(){this.dataJsonObj.questionTl?this.dataJsonObj.optionsArrayTl.length>1?(this.dataJsonObj.quizQuestionsTl||(this.dataJsonObj.quizQuestionsTl=[]),this.dataJsonObj.quizQuestionsTl.find(n=>n.quiz_question_id===this.dataJsonObj.questionId)||(this.dataJsonObj.quizQuestionsTl.push({languageTranslateImages:this.dataJsonObj.questionTranslateImage,languageTranslateImageObj:this.dataJsonObj.languageQuestionImageApi,quiz_question_id:this.dataJsonObj.questionId,question:this.dataJsonObj.questionTl,options:JSON.parse(JSON.stringify(this.dataJsonObj.optionsArrayTl))}),this.dataJsonObj.addQuizQuestionsTl=this.dataJsonObj.quizQuestionsTl,this.dataJsonObj.questionTranslateImage="",this.dataJsonObj.languageQuestionImageApi="",this.dataJsonObj.questionTl="",this.dataJsonObj.optionTl="",this.dataJsonObj.questionId="",this.dataJsonObj.optionsArrayTl=[],this.displaySequence="",$("#blockContentDetailsAdd").modal("hide"))):this.questionError="COMMON_VALIDATION_MESSAGES.VALID_FILL_NUMBER_OF_OPTIONS":this.questionValid.throwError()}updateQuizQuestionsTl(){const t=this.questionTlEditRowIndex;this.dataJsonObj.quizQuestionsTl.length>0&&(this.dataJsonObj.quizQuestionsTl[t].quiz_question_id=this.dataJsonObj.questionId,this.dataJsonObj.quizQuestionsTl[t].options=this.dataJsonObj.optionsArrayTl,this.dataJsonObj.quizQuestionsTl[t].languageTranslateImages=this.dataJsonObj.questionTranslateImage,this.dataJsonObj.quizQuestionsTl[t].languageTranslateImageObj=this.dataJsonObj.languageQuestionImageApi,document.getElementById("imagefileid5").value=""),$("#blockContentEdit").modal("hide")}changeQuestionDropDown(t){try{if(t.value){this.dataJsonObj.questionId=parseInt(t.value,10),this.dataJsonObj.optionsData=this.dataJsonObj.quizQuestionData?.find(a=>a.ID===this.dataJsonObj.questionId)?.options;const n=this.dataJsonObj.quizQuestionData?.find(a=>a.ID===this.dataJsonObj.questionId);this.dataJsonObj.originalQuestion=n.question}}catch{}}changeOptionsDropDown(t){try{if(t.value){this.dataJsonObj.optionId=parseInt(t.value,10);const n=this.dataJsonObj.optionsData?.find(a=>a.ID===this.dataJsonObj.optionId);this.dataJsonObj.originalOption=n.option,this.dataJsonObj.isOptionCorrectTl=n.is_correct}}catch{}}getNextQuestionNumber(){return this.dataJsonObj.quizQuestionsTl||(this.dataJsonObj.quizQuestionsTl=[]),this.dataJsonObj.quizQuestionsTl.length+1}questionTlAdd(t){try{t.stopPropagation(),this.addQuestionTlIndex=this.getNextQuestionNumber(),this.questionTlIndex=this.addQuestionTlIndex,this.dataJsonObj.questionTl="",this.dataJsonObj.optionsArrayTl=[],this.dataJsonObj.languageTranslateImage.question_screen="",this.dataJsonObj.islanguageImgEnable.question_screen=!1,$("#blockContentDetailsAdd").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDetailsAdd")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"questionTlAdd",n)}}removeBlockContentDetails(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.screenTypeObjectId=n.object_name,this.dataJsonObj.accordionCheckbox=n.is_display_as_accordion,this.dataJsonObj.defaultScreenType=n?.link_to_screen?.screen_type?.lookup_id?this.lookupLanguageTranslations(n.link_to_screen.screen_type.lookup_id):"",this.dataJsonObj.defaultPositionType=n?.position?.lookup_id?this.lookupLanguageTranslations(n.position.lookup_id):"",this.dataJsonObj.blockContentTitle=n.block_content_title,$("#blockContentDelete").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDelete")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeBlockContentDetails",a)}}editQuestionTl(t,n){try{this.dataJsonObj.currentQuestion=n.display_sequence,this.questionTlEditRowIndex=t,this.questionTlIndex=this.questionTlEditRowIndex+1,this.dataJsonObj.rowdata=n,this.dataJsonObj.questionTl=n.question,this.dataJsonObj.optionsArrayTl=n.options,this.dataJsonObj.questionId=n.quiz_question_id?n.quiz_question_id:"",this.dataJsonObj.islanguageImgEnable.question_screen=!!n?.languageTranslateImages||!(!n.file_path||!n.file_name),this.dataJsonObj.question_screen=n?.languageTranslateImages?n?.languageTranslateImages:n.file_path&&n.file_name?this.dataJsonObj.apiEndPoint+n?.file_path+"/"+n?.file_name:"",$("#blockContentEdit").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editQuestionTl",a)}}editOptionTl(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.rowdata=n,$("#blockContentEdit1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentEdit1")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editOptionTl",a)}}onClick(t){t.stopPropagation()}optinsTlAdd(t){try{t.stopPropagation(),this.dataJsonObj.blockContentTitle="",this.dataJsonObj.isOptionCorrectTl=!1,$("#blockContentDetailsAdd1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDetailsAdd1")}catch(n){this.loggerService.setLoggerError(this.constructor.name,"blockContentAdd11",n)}}removeBlockContentDetails1(t,n){try{this.dataJsonObj.rowIndex=t,this.dataJsonObj.screenTypeObjectId=n.object_name,this.dataJsonObj.accordionCheckbox=n.is_display_as_accordion,this.dataJsonObj.defaultScreenType=n?.link_to_screen?.screen_type?.lookup_id?this.lookupLanguageTranslations(n.link_to_screen.screen_type.lookup_id):"",this.dataJsonObj.defaultPositionType=n?.position?.lookup_id?this.lookupLanguageTranslations(n.position.lookup_id):"",this.dataJsonObj.blockContentTitle=n.block_content_title,$("#blockContentDelete1").modal("show"),$(".modal-backdrop").insertAfter("#blockContentDelete1")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeBlockContentDetails1",a)}}changeTranslateQuestionName(t){try{this.questionError="",this.dataJsonObj.questionTl=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeQuestionName",n)}}changeAnswerNameTl(t){try{this.questionError="",this.dataJsonObj.optionTl=t.value}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeAnswerName",n)}}changeOptionCheckBoxTl(t){t&&(this.dataJsonObj.isOptionCorrectTl=t.value)}addOptionsTl(){this.dataJsonObj?.optionTl&&(this.dataJsonObj.optionsArrayTl.find(n=>n.option_id===this.dataJsonObj.optionId)||(this.dataJsonObj.optionsArrayTl.push({original_question:this.dataJsonObj.originalQuestion,original_option:this.dataJsonObj.originalOption,question:this.dataJsonObj.questionTl,option_id:this.dataJsonObj.optionId,option:this.dataJsonObj?.optionTl,is_correct:this.dataJsonObj.isOptionCorrectTl}),this.dataJsonObj.optionTl="",this.dataJsonObj.isOptionCorrectTl=!1,this.questionError="",$("#blockContentDetailsAdd1").modal("hide")))}deleteBlockContentDetails(){}blockContentEditSubmit(){}quizFileArrayData(t){for(let n=0;n<t.length;n++){t[n].quizImage&&this.quizFileArray.push({imagename:t[n].question+"-"+t[n].display_sequence,file:this.dataURItoImgBlob(t[n].quizImage,"image/jpeg")});for(let a=0;a<t[n].options.length;a++)t[n].options[a].option_image&&this.quizFileArray.push({imagename:t[n].question+"-"+t[n].display_sequence+"-"+t[n].options[a].option_id,file:this.dataURItoImgBlob(t[n].options[a].option_image,"image/jpeg")})}}getQuizListData(t){this.quizFileArray=[],this.dataJsonObj.questionsDataList=t,this.quizFileArrayData(this.dataJsonObj.questionsDataList),this.dataJsonObj.isSubmitClicked?this.updateRecord():this.dataJsonObj.isValidateQuestions&&this.languagesAddPopup()}clearSubmitClick(){this.dataJsonObj.isSubmitClicked=!1,this.dataJsonObj.isValidateQuestions=!1}onSubmitClicked(){this.dataJsonObj.isSubmitClicked=!0,this.dataJsonObj.isValidateQuestions=!0}static \u0275fac=function(n){return new(n||i)(e.Y36("apiEndPoint"),e.Y36(S),e.Y36(N.v),e.Y36(I.gz),e.Y36(C.sK),e.Y36(y.m),e.Y36(G.f),e.Y36(I.F0),e.Y36(z.H7),e.Y36(M.s))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-quiz-edit-v2"]],viewQuery:function(n,a){if(1&n&&(e.Gf(_l,5),e.Gf(hl,5),e.Gf(bl,5),e.Gf(Ol,5),e.Gf(Tl,5),e.Gf(Jl,5),e.Gf(fl,5),e.Gf(jl,5),e.Gf(Cl,5),e.Gf(Il,5),e.Gf(Al,5),e.Gf(vl,5),e.Gf(El,5),e.Gf(Nl,5)),2&n){let s;e.iGM(s=e.CRH())&&(a.treasureHuntNamevalid=s.first),e.iGM(s=e.CRH())&&(a.treasureHuntDisplayNamevalid=s.first),e.iGM(s=e.CRH())&&(a.optionvalidate=s.first),e.iGM(s=e.CRH())&&(a.languageAdd=s.first),e.iGM(s=e.CRH())&&(a.displayNameAdd=s.first),e.iGM(s=e.CRH())&&(a.displayNameUpdate=s.first),e.iGM(s=e.CRH())&&(a.typeDropdown=s.first),e.iGM(s=e.CRH())&&(a.questionValid=s.first),e.iGM(s=e.CRH())&&(a.quiztitlevalid=s.first),e.iGM(s=e.CRH())&&(a.fileInput1=s.first),e.iGM(s=e.CRH())&&(a.fileInput2=s.first),e.iGM(s=e.CRH())&&(a.fileInput3=s.first),e.iGM(s=e.CRH())&&(a.fileInput4=s.first),e.iGM(s=e.CRH())&&(a.fileInput5=s.first)}},features:[e.qOj],decls:396,vars:361,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["autoCaseFlag","false","mandatory","true","disabled","false","id","treasurehunt-create-facilityname",3,"minlength","maxlength","label","value","valueChange"],["quiztitlevalid",""],[1,"error-msg","col-md-10","text-danger","text-center","mb-0"],[1,"col-md-2"],["autoCaseFlag","true","mandatory","false","disabled","false","id","treasure-hunt-clues-edit-leaderboardUsersCount",3,"label","value","maxlength","valueChange"],["leaderboardUsersCountInputNumber",""],[1,"col-lg-7","col-md-7","datetimepicker"],[1,"row"],[1,"col-lg-6","col-md-6","datetimepicker"],[1,"col-8","col-md-8","pr-0"],["mandatory","true","disabled","false","id","surveys-create-start-date",3,"placeholder","dateformat","defaultDate","editvalueChange"],["startDatetimePicker",""],[1,"col-4","col-md-4","pl-1"],["disabled","false","mandatory","true",3,"label","options","defaultValue","selectedOption","searchValueChange"],["mandatory","true","disabled","false","id","polls-create-end-date",3,"placeholder","defaultDate","dateformat","editvalueChange"],[1,"col-md-12","order-md-1","order-2"],["mandatory","false","disabled","false","id","enterprise-edit-enterprisedescription",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalid",""],[1,"col-md-2","pdl-1","order-md-1","imagewith-label"],["type","file","btnHide","true","action","create","imageid","welcomeImage","imageAlignmentClass","mg-0","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","defaultImage","enableImageDelete","imageName","valueChange","imageRemove","deleteClick"],["type","file","btnHide","true","action","create","imageid","successImage","imageAlignmentClass","mg-0","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","defaultImage","enableImageDelete","imageName","valueChange","imageRemove","deleteClick"],["type","file","btnHide","true","action","create","imageid","failureImage","imageAlignmentClass","mg-0","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","defaultImage","enableImageDelete","imageName","valueChange","imageRemove","deleteClick"],[1,"col-md-3","pdl-1","order-md-1","imagewith-label"],["type","file","btnHide","true","action","create","imageid","congratulationImage","imageAlignmentClass","mg-0","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","defaultImage","enableImageDelete","imageName","valueChange","imageRemove","deleteClick"],[1,"col-md-12","text-end","mt-2","mb-2","btns-group","order-md-1","order-2"],["className","btn btn-primary btn-sm","id","treasurehunt-create-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","treasurehunt-create-cancel",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"card-body"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],[3,"copFile","isQuestionDeleteButtonEnable","isAddQuestionButtonEnable","isAddAnswerButtonEnable","isEnableOptionDeleteButton","questionFileTypes","answerFileTypes","questionIsCheckBoxEnabled","answerCheckBoxEnabled","isValidateQuestions","isCapyFile","isDraggerFile","data","audio","valueChange","clearSubmitClick",4,"ngIf"],[1,"card-content"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],["label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","treasurehunt-edit-translationsadd",3,"disabled","isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","hidden-md-down","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"hidden-md-up"],["class","text-center text-danger mb-0 no-data-txt",4,"ngIf"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],["id","exampleModal5","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"row","no-gutter","form-bs"],["disabled","true","id","treasurehunt-edit-translationsadd-name",3,"label","value"],["mandatory","true","id","treasurehunt-edit-translationsadd-languagename",3,"label","options","selectedOption","searchValueChange"],["languageAdd",""],["disabled","false","mandatory","true","autoCaseFlag","false","id","treasurehunt-edit-translationsadd-displayname",3,"label","value","maxlength","valueChange"],["displayNameAdd",""],[1,"col-md-10"],["mandatory","false","disabled","false","id","treasurehunt-edit-translationsadd-description",3,"label","defaultvalue","maxlength","valueChange"],[1,"col-md-2","d-flex","align-items-center"],["label","","mandatory","true","id","treasurehunt-edit-translationsadd-checkboxoptions",3,"options","checked","valueChange"],[1,"col-md-12","text-center","mt-2"],["size","12","multiple","","type","file","id","imagefileid1","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file1",""],[4,"ngIf"],["id","create_fileclick_video_id","className","btn btn-primary btn-sm mt-2","btnIcon","fas fa-image mgr-5","id","lookupcode-translations-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["size","12","multiple","","type","file","id","imagefileid2","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file2",""],["size","12","multiple","","type","file","id","imagefileid3","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file3",""],["size","12","multiple","","type","file","id","imagefileid4","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file4",""],["disabled","false","label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","create-addpopup-linesadd",3,"isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","treasurehunt-edit-translationsadd-add-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasurehunt-edit-translationsadd-cancel-btn",3,"label","buttonOnClick"],["id","exampleModal6","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","disabled","true","id","treasurehunt-edit-translationsedit-language",3,"label","value"],["disabled","false","mandatory","true","autoCaseFlag","false","id","treasurehunt-edit-translationsedit-displayname",3,"label","value","maxlength","valueChange"],["displayNameUpdate",""],["mandatory","false","disabled","false","id","treasurehunt-edit-translationsedit-description",3,"label","defaultvalue","maxlength","valueChange"],["label","","mandatory","true","id","treasurehunt-edit-translationsedit-checkboxoptions",3,"options","checked","valueChange"],["className","btn btn-primary btn-sm","id","treasurehunt-edit-translationsedit-update-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasurehunt-edit-translationsedit-cancel-btn",3,"label","buttonOnClick"],["id","exampleModal7","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","treasurehunt-edit-translations-delete-name",3,"label","value"],["mandatory","false","disabled","true","id","treasurehunt-edit-translations-delete-language",3,"label","value"],["disabled","true","id","treasurehunt-edit-translations-delete-displayname","mandatory","true",3,"label","value"],["disabled","true","id","treasurehunt-edit-translations-delete-description",3,"label","defaultvalue"],["label","","mandatory","false","id","treasurehunt-edit-translations-delete-checkboxoption","disabled","true",3,"options","checked"],["className","btn btn-primary btn-sm","id","treasurehunt-edit-translations-delete-delete-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","treasurehunt-edit-translations-delete-cancel-btn",3,"label","buttonOnClick"],["id","blockContentDetailsAdd","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],[1,"col-md-3"],["mandatory","true","id","digitalassets-create-assetType",3,"label","options","defaultValue","valueChange"],["digitalAssetTypeDropdown",""],["mandatory","true","disabled","false","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","value","maxlength","valueChange"],["blockTitleInput",""],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],["size","12","multiple","","type","file","id","imagefileid5","accept","image/*",1,"input-file",2,"display","none",3,"change"],["file5",""],["className","btn btn-primary btn-sm","id","create-addpopup-add",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-addpopup-cancel",3,"label"],["id","blockContentEdit","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["mandatory","false","disabled","true","autoCaseFlag","false","id","create-addpopup-blocktitle",3,"label","value","maxlength"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","create-editpopup-cancel",3,"label"],["id","blockContentDetailsAdd1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel1","aria-hidden","true",1,"modal","fade","spotlight-add-modal"],["label","","mandatory","true","disabled","true","id","treasure-hunt-create-translationsadd-checkboxoptions",3,"options","checked"],[3,"copFile","isQuestionDeleteButtonEnable","isAddQuestionButtonEnable","isAddAnswerButtonEnable","isEnableOptionDeleteButton","questionFileTypes","answerFileTypes","questionIsCheckBoxEnabled","answerCheckBoxEnabled","isValidateQuestions","isCapyFile","isDraggerFile","data","audio","valueChange","clearSubmitClick"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal6",3,"pSelectableRow","click"],[3,"innerHTML"],["class","col-md-12",4,"ngFor","ngForOf"],[1,"text-center","text-danger","mb-0","no-data-txt"],[1,"static-content-img"],[1,"fas","fa-times","floatright","cursor-pointer","clear-icon-btn",3,"click"],["alt","",1,"img-thumbnail",3,"src"],[1,"checkboxcol",2,"width","2em"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#blockContentEdit",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#blockContentEdit",3,"pSelectableRow","click"],[1,"ui-column-title","d-md-none","d-lg-none"],[1,"ui-column-values",3,"innerHTML"],["data-toggle","modal",3,"pSelectableRow","class",4,"ngFor","ngForOf"],["data-toggle","modal",3,"pSelectableRow"]],template:function(n,a){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"app-input",10,11),e.NdJ("valueChange",function(o){return a.getQuizName(o)}),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",12),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",13)(17,"app-inputnumber",14,15),e.NdJ("valueChange",function(o){return a.changeLeaderboardUsersCount(o)}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",17)(24,"div",19)(25,"app-datetimepicker",20,21),e.NdJ("editvalueChange",function(o){return a.changeStartDate(o)}),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",22)(29,"app-dropdown-search",23),e.NdJ("selectedOption",function(o){return a.changeTimeZone(o)})("searchValueChange",function(o){return a.getTimeZone(o)}),e.ALo(30,"translate"),e.qZA()()()(),e.TgZ(31,"div",18)(32,"div",17)(33,"div",19)(34,"app-datetimepicker",24),e.NdJ("editvalueChange",function(o){return a.changeEndDate(o)}),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"div",22)(37,"app-dropdown-search",23),e.NdJ("selectedOption",function(o){return a.changeTimeZone(o)})("searchValueChange",function(o){return a.getTimeZone(o)}),e.ALo(38,"translate"),e.qZA()()()()()(),e.TgZ(39,"div",25)(40,"app-textarea",26,27),e.NdJ("valueChange",function(o){return a.changeDescriptionName(o)}),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",28)(44,"label"),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"app-imageupload",29),e.NdJ("valueChange",function(o){return a.changeFile(o,"welcomeImage","")})("imageRemove",function(){return a.removeFile("welcomeImage")})("deleteClick",function(o){return a.deleteImgClick(o,"welcomeImage")}),e.qZA()(),e.TgZ(48,"div",28)(49,"label"),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"app-imageupload",30),e.NdJ("valueChange",function(o){return a.changeFile(o,"successImage","")})("imageRemove",function(){return a.removeFile("successImage")})("deleteClick",function(o){return a.deleteImgClick(o,"successImage")}),e.qZA()(),e.TgZ(53,"div",28)(54,"label"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"app-imageupload",31),e.NdJ("valueChange",function(o){return a.changeFile(o,"failureImage","")})("imageRemove",function(){return a.removeFile("failureImage")})("deleteClick",function(o){return a.deleteImgClick(o,"failureImage")}),e.qZA()(),e.TgZ(58,"div",32)(59,"label"),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"app-imageupload",33),e.NdJ("valueChange",function(o){return a.changeFile(o,"congratulationImage","")})("imageRemove",function(){return a.removeFile("congratulationImage")})("deleteClick",function(o){return a.deleteImgClick(o,"congratulationImage")}),e.qZA()(),e.TgZ(63,"div",34)(64,"app-button",35),e.NdJ("buttonOnClick",function(){return a.onSubmitClicked()}),e.ALo(65,"translate"),e.qZA(),e.TgZ(66,"app-button",36),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(67,"translate"),e.qZA()(),e.TgZ(68,"div",37),e._uU(69),e.ALo(70,"translate"),e.qZA()(),e.TgZ(71,"div",2)(72,"div",3)(73,"div",4)(74,"div",38)(75,"div",17)(76,"div",3)(77,"div",39)(78,"div",40)(79,"p-accordion")(80,"p-accordionTab",41)(81,"p-header",42)(82,"span"),e._uU(83),e.ALo(84,"translate"),e.qZA()(),e.YNc(85,Sl,1,14,"app-quiz-question-answer-block",43),e.qZA()()()()()()()()()(),e.TgZ(86,"div",17)(87,"div",3)(88,"div",39)(89,"div",44)(90,"p-accordion",45)(91,"p-accordionTab",46)(92,"p-header",42)(93,"span"),e._uU(94),e.ALo(95,"translate"),e.qZA(),e.TgZ(96,"app-button",47),e.NdJ("buttonOnClick",function(o){return a.languagesAdd(o)}),e.qZA()(),e.TgZ(97,"p-table",48),e.YNc(98,yl,1,1,"ng-template",49),e.YNc(99,Ll,2,1,"ng-template",50),e.YNc(100,xl,2,1,"ng-template",51),e.YNc(101,zl,4,2,"ng-template",52),e.qZA(),e.TgZ(102,"div",53),e.YNc(103,wl,3,3,"p",54),e.qZA()(),e._UZ(104,"app-recordhistory",55),e.qZA()()()()()()()()()()(),e.TgZ(105,"div",56)(106,"div",57)(107,"div",58)(108,"div",59)(109,"div",60),e._uU(110),e.ALo(111,"translate"),e.ALo(112,"translate"),e.qZA()(),e.TgZ(113,"div",61)(114,"div",62)(115,"div",9),e._UZ(116,"app-input",63),e.ALo(117,"translate"),e.qZA(),e.TgZ(118,"div",9)(119,"app-dropdown-search",64,65),e.NdJ("selectedOption",function(o){return a.changeLanguage(o)})("searchValueChange",function(o){return a.getLanguagesList(o)}),e.ALo(121,"translate"),e.qZA()(),e.TgZ(122,"div",9)(123,"app-input",66,67),e.NdJ("valueChange",function(o){return a.changeLangTransDisplayname(o)}),e.ALo(125,"translate"),e.ALo(126,"translate"),e.qZA()(),e.TgZ(127,"div",68)(128,"app-textarea",69),e.NdJ("valueChange",function(o){return a.changeLangTransDescription(o)}),e.ALo(129,"translate"),e.qZA()(),e.TgZ(130,"div",70)(131,"app-checkbox",71),e.NdJ("valueChange",function(o){return a.changeLangTransCheckBox(o)}),e.qZA()(),e.TgZ(132,"div",12),e._uU(133),e.ALo(134,"translate"),e.qZA(),e.TgZ(135,"div",72)(136,"div",17)(137,"div",9)(138,"input",73,74),e.NdJ("change",function(o){return a.changeTranslateImage(o,"welcome_screen")}),e.qZA(),e.YNc(140,Ql,4,1,"div",75),e.TgZ(141,"app-button",76),e.NdJ("buttonOnClick",function(){return a.triggerFile1()}),e.ALo(142,"translate"),e.qZA()(),e.TgZ(143,"div",9)(144,"input",77,78),e.NdJ("change",function(o){return a.changeTranslateImage(o,"success_screen")}),e.qZA(),e.YNc(146,Ul,4,1,"div",75),e.TgZ(147,"app-button",76),e.NdJ("buttonOnClick",function(){return a.triggerFile2()}),e.ALo(148,"translate"),e.qZA()(),e.TgZ(149,"div",9)(150,"input",79,80),e.NdJ("change",function(o){return a.changeTranslateImage(o,"failure_screen")}),e.qZA(),e.YNc(152,kl,4,1,"div",75),e.TgZ(153,"app-button",76),e.NdJ("buttonOnClick",function(){return a.triggerFile3()}),e.ALo(154,"translate"),e.qZA()(),e.TgZ(155,"div",9)(156,"input",81,82),e.NdJ("change",function(o){return a.changeTranslateImage(o,"congratulation_screen")}),e.qZA(),e.YNc(158,Vl,4,1,"div",75),e.TgZ(159,"app-button",76),e.NdJ("buttonOnClick",function(){return a.triggerFile4()}),e.ALo(160,"translate"),e.qZA()()()(),e.TgZ(161,"div",3)(162,"div",39)(163,"div",44)(164,"p-accordion",45)(165,"p-accordionTab",46)(166,"p-header",42)(167,"span"),e._uU(168),e.ALo(169,"translate"),e.qZA(),e.TgZ(170,"app-button",83),e.NdJ("buttonOnClick",function(o){return a.questionTlAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(171,"p-table",84),e.YNc(172,Fl,1,1,"ng-template",49),e.YNc(173,Bl,3,1,"ng-template",50),e.YNc(174,Hl,4,1,"ng-template",51),e.YNc(175,$l,4,2,"ng-template",52),e.qZA()()()()()(),e.TgZ(176,"div",85)(177,"app-button",86),e.NdJ("buttonOnClick",function(){return a.quizLanguageTranslationCreate()}),e.ALo(178,"translate"),e.qZA(),e.TgZ(179,"app-button",87),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(180,"translate"),e.qZA()()()()()()(),e.TgZ(181,"div",88)(182,"div",57)(183,"div",58)(184,"div",59)(185,"div",60),e._uU(186),e.ALo(187,"translate"),e.ALo(188,"translate"),e.qZA()(),e.TgZ(189,"div",61)(190,"div",62)(191,"div",9),e._UZ(192,"app-input",63),e.ALo(193,"translate"),e.qZA(),e.TgZ(194,"div",9),e._UZ(195,"app-input",89),e.ALo(196,"translate"),e.qZA(),e.TgZ(197,"div",9)(198,"app-input",90,91),e.NdJ("valueChange",function(o){return a.changeLangTransDisplayname(o)}),e.ALo(200,"translate"),e.ALo(201,"translate"),e.qZA()(),e.TgZ(202,"div",68)(203,"app-textarea",92),e.NdJ("valueChange",function(o){return a.changeLangTransDescription(o)}),e.ALo(204,"translate"),e.qZA()(),e.TgZ(205,"div",70)(206,"app-checkbox",93),e.NdJ("valueChange",function(o){return a.changeLangTransCheckBox(o)}),e.qZA()(),e.TgZ(207,"div",72)(208,"div",9)(209,"input",73,74),e.NdJ("change",function(o){return a.changeTranslateImage(o,"welcome_screen")}),e.qZA(),e.YNc(211,Kl,4,1,"div",75),e.TgZ(212,"app-button",76),e.NdJ("buttonOnClick",function(){return a.triggerFile1()}),e.ALo(213,"translate"),e.qZA()(),e.TgZ(214,"div",9)(215,"input",77,78),e.NdJ("change",function(o){return a.changeTranslateImage(o,"success_screen")}),e.qZA(),e.YNc(217,Wl,4,1,"div",75),e.TgZ(218,"app-button",76),e.NdJ("buttonOnClick",function(){return a.triggerFile2()}),e.ALo(219,"translate"),e.qZA()(),e.TgZ(220,"div",9)(221,"input",79,80),e.NdJ("change",function(o){return a.changeTranslateImage(o,"failure_screen")}),e.qZA(),e.YNc(223,Xl,4,1,"div",75),e.TgZ(224,"app-button",76),e.NdJ("buttonOnClick",function(){return a.triggerFile3()}),e.ALo(225,"translate"),e.qZA()(),e.TgZ(226,"div",9)(227,"input",81,82),e.NdJ("change",function(o){return a.changeTranslateImage(o,"congratulation_screen")}),e.qZA(),e.YNc(229,er,4,1,"div",75),e.TgZ(230,"app-button",76),e.NdJ("buttonOnClick",function(){return a.triggerFile4()}),e.ALo(231,"translate"),e.qZA()()(),e.TgZ(232,"div",3)(233,"div",39)(234,"div",44)(235,"p-accordion",45)(236,"p-accordionTab",46)(237,"p-header",42)(238,"span"),e._uU(239),e.ALo(240,"translate"),e.qZA(),e.TgZ(241,"app-button",83),e.NdJ("buttonOnClick",function(o){return a.questionTlAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(242,"p-table",84),e.YNc(243,ar,1,1,"ng-template",49),e.YNc(244,ir,3,1,"ng-template",50),e.YNc(245,or,4,1,"ng-template",51),e.YNc(246,rr,4,2,"ng-template",52),e.qZA()()()()()(),e.TgZ(247,"div",85)(248,"app-button",94),e.NdJ("buttonOnClick",function(){return a.languagesEditSubmit()}),e.ALo(249,"translate"),e.qZA(),e.TgZ(250,"app-button",95),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(251,"translate"),e.qZA()()()()()()(),e.TgZ(252,"div",96)(253,"div",57)(254,"div",58)(255,"div",59)(256,"div",60),e._uU(257),e.ALo(258,"translate"),e.ALo(259,"translate"),e.qZA()(),e.TgZ(260,"div",61)(261,"div",62)(262,"div",9),e._UZ(263,"app-input",97),e.ALo(264,"translate"),e.qZA(),e.TgZ(265,"div",9),e._UZ(266,"app-input",98),e.ALo(267,"translate"),e.qZA(),e.TgZ(268,"div",9),e._UZ(269,"app-input",99),e.ALo(270,"translate"),e.qZA(),e.TgZ(271,"div",68),e._UZ(272,"app-textarea",100),e.ALo(273,"translate"),e.qZA(),e.TgZ(274,"div",70),e._UZ(275,"app-checkbox",101),e.qZA(),e.TgZ(276,"div",85)(277,"app-button",102),e.NdJ("buttonOnClick",function(){return a.languagesDeleteSubmit()}),e.ALo(278,"translate"),e.qZA(),e.TgZ(279,"app-button",103),e.NdJ("buttonOnClick",function(){return a.cancelPopUpButton()}),e.ALo(280,"translate"),e.qZA()()()()()()(),e.TgZ(281,"div",104)(282,"div",57)(283,"div",58)(284,"div",59)(285,"div",60),e._uU(286),e.ALo(287,"translate"),e.ALo(288,"translate"),e.qZA()(),e.TgZ(289,"div",61)(290,"div",1)(291,"div",8)(292,"div",105)(293,"app-dropdown-singleselect",106,107),e.NdJ("valueChange",function(o){return a.changeQuestionDropDown(o)}),e.ALo(295,"translate"),e.qZA()(),e.TgZ(296,"div",9)(297,"app-input",108,109),e.NdJ("valueChange",function(o){return a.changeTranslateQuestionName(o)}),e.ALo(299,"translate"),e.ALo(300,"translate"),e.qZA()(),e.TgZ(301,"div",110),e._uU(302),e.ALo(303,"translate"),e.qZA(),e.TgZ(304,"div",72)(305,"div",17)(306,"div",9)(307,"input",111,112),e.NdJ("change",function(o){return a.changeTranslateImage(o,"question_screen","question")}),e.qZA(),e.YNc(309,dr,4,1,"div",75),e.TgZ(310,"app-button",76),e.NdJ("buttonOnClick",function(){return a.triggerFile5()}),e.ALo(311,"translate"),e.qZA()()()(),e.TgZ(312,"div",3)(313,"div",39)(314,"div",44)(315,"p-accordion",45)(316,"p-accordionTab",46)(317,"p-header",42)(318,"span"),e._uU(319),e.ALo(320,"translate"),e.qZA(),e.TgZ(321,"app-button",83),e.NdJ("buttonOnClick",function(o){return a.optinsTlAdd(o)})("buttonOnClick",function(o){return a.onClick(o)}),e.qZA()(),e.TgZ(322,"p-table",84),e.YNc(323,cr,1,1,"ng-template",49),e.YNc(324,pr,3,1,"ng-template",50),e.YNc(325,_r,4,1,"ng-template",51),e.YNc(326,br,4,2,"ng-template",52),e.qZA()()()()()(),e.TgZ(327,"div",85)(328,"app-button",113),e.NdJ("buttonOnClick",function(){return a.addQuizQuestionsTl()}),e.ALo(329,"translate"),e.qZA(),e._UZ(330,"app-button",114),e.ALo(331,"translate"),e.qZA()()()()()()(),e.TgZ(332,"div",115)(333,"div",57)(334,"div",58)(335,"div",59)(336,"div",60),e._uU(337),e.ALo(338,"translate"),e.ALo(339,"translate"),e.qZA()(),e.TgZ(340,"div",61)(341,"div",1)(342,"div",8)(343,"div",9),e._UZ(344,"app-input",116),e.ALo(345,"translate"),e.qZA(),e.TgZ(346,"div",72)(347,"div",17)(348,"div",9),e.YNc(349,Or,3,1,"div",75),e.qZA()()(),e.TgZ(350,"div",3)(351,"div",39)(352,"div",44)(353,"p-accordion",45)(354,"p-accordionTab",46)(355,"p-header",42)(356,"span"),e._uU(357),e.ALo(358,"translate"),e.qZA()(),e.TgZ(359,"p-table",84),e.YNc(360,Jr,1,1,"ng-template",49),e.YNc(361,jr,3,1,"ng-template",50),e.YNc(362,Ir,3,1,"ng-template",51),e.YNc(363,vr,4,2,"ng-template",52),e.qZA()()()()()(),e.TgZ(364,"div",85),e._UZ(365,"app-button",117),e.ALo(366,"translate"),e.qZA()()()()()()(),e.TgZ(367,"div",118)(368,"div",57)(369,"div",58)(370,"div",59)(371,"div",60),e._uU(372),e.ALo(373,"translate"),e.ALo(374,"translate"),e.qZA()(),e.TgZ(375,"div",61)(376,"div",1)(377,"div",8)(378,"div",9)(379,"div",105)(380,"app-dropdown-singleselect",106,107),e.NdJ("valueChange",function(o){return a.changeOptionsDropDown(o)}),e.ALo(382,"translate"),e.qZA()(),e.TgZ(383,"app-input",108,109),e.NdJ("valueChange",function(o){return a.changeAnswerNameTl(o)}),e.ALo(385,"translate"),e.qZA()(),e.TgZ(386,"div",70),e._UZ(387,"app-checkbox",119),e.qZA(),e.TgZ(388,"div",110),e._uU(389),e.ALo(390,"translate"),e.qZA(),e.TgZ(391,"div",85)(392,"app-button",113),e.NdJ("buttonOnClick",function(){return a.addOptionsTl()}),e.ALo(393,"translate"),e.qZA(),e._UZ(394,"app-button",114),e.ALo(395,"translate"),e.qZA()()()()()()()),2&n&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(12,209,"NEW_VARIABLES.QUIZ_TITLE")),e.s9C("value",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.title),e.Q6J("minlength",3)("maxlength",120),e.xp6(4),e.hij(" ",e.lcZ(15,211,a.errorObj.error2)," "),e.xp6(3),e.s9C("label",e.lcZ(19,213,"NEW_VARIABLES.LEADERBOARD_USERS_COUNT")),e.s9C("value",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.leaderboard_user_count),e.Q6J("maxlength",3),e.xp6(8),e.s9C("placeholder",e.lcZ(27,215,"COMMON_FIELDS.START_DATE")),e.Q6J("dateformat",a.dataJsonObj.loginUserDateFormat)("defaultDate",a.dataJsonObj.startDate),e.xp6(4),e.s9C("label",e.lcZ(30,217,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",null==a.dataJsonObj.userTimeZoneObj?null:a.dataJsonObj.userTimeZoneObj.timeZoneCode),e.Q6J("options",a.dataJsonObj.timezoneOptions),e.xp6(5),e.s9C("placeholder",e.lcZ(35,219,"COMMON_FIELDS.END_DATE")),e.Q6J("defaultDate",a.dataJsonObj.endDate)("dateformat",a.dataJsonObj.loginUserDateFormat),e.xp6(3),e.s9C("label",e.lcZ(38,221,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",a.dataJsonObj.userTimeZoneObj.timeZoneCode),e.Q6J("options",a.dataJsonObj.timezoneOptions),e.xp6(3),e.s9C("label",e.lcZ(42,223,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.description),e.Q6J("maxlength",2e3),e.xp6(5),e.Oqu(e.lcZ(46,225,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.welcome_screen?null:a.dataJsonObj.quizViewData.welcome_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.welcome_screen?null:a.dataJsonObj.quizViewData.welcome_screen.image_name),e.Q6J("maintainAspectRatio",!1)("enableImageDelete",null==a.dataJsonObj?null:a.dataJsonObj.enableImageDeleteValue),e.xp6(3),e.Oqu(e.lcZ(51,227,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.success_screen?null:a.dataJsonObj.quizViewData.success_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.success_screen?null:a.dataJsonObj.quizViewData.success_screen.image_name),e.Q6J("maintainAspectRatio",!1)("enableImageDelete",null==a.dataJsonObj?null:a.dataJsonObj.enableImageDeleteValue),e.xp6(3),e.Oqu(e.lcZ(56,229,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.failure_screen?null:a.dataJsonObj.quizViewData.failure_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.failure_screen?null:a.dataJsonObj.quizViewData.failure_screen.image_name),e.Q6J("maintainAspectRatio",!1)("enableImageDelete",null==a.dataJsonObj?null:a.dataJsonObj.enableImageDeleteValue),e.xp6(3),e.Oqu(e.lcZ(61,231,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.congratulation_screen?null:a.dataJsonObj.quizViewData.congratulation_screen.dispayImage),e.s9C("imageName",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData||null==a.dataJsonObj.quizViewData.congratulation_screen?null:a.dataJsonObj.quizViewData.congratulation_screen.image_name),e.Q6J("maintainAspectRatio",!1)("enableImageDelete",null==a.dataJsonObj?null:a.dataJsonObj.enableImageDeleteValue),e.xp6(2),e.s9C("label",e.lcZ(65,233,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.s9C("disabled",a.dataJsonObj.disableSubmitBtn),e.xp6(2),e.s9C("label",e.lcZ(67,235,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(70,237,a.errorObj.error)," "),e.xp6(11),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(84,239,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(2),e.Q6J("ngIf",a.dataJsonObj.quizQuestionData),e.xp6(5),e.Q6J("multiple",!1),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(95,241,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")),e.xp6(2),e.s9C("disabled",null==a.dataJsonObj?null:a.dataJsonObj.disableTransAdd),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",null==a.dataJsonObj?null:a.dataJsonObj.quizTlHeaders)("value",a.dataJsonObj.languagesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.Q6J("ngIf",a.dataJsonObj.languagesData&&0==a.dataJsonObj.languagesData.length),e.xp6(1),e.Q6J("createdBy",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.created_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.updated_by)("creationDate",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.createdAt)("lastUpdatedDate",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.updatedAt),e.xp6(6),e.AsE("",e.lcZ(111,243,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(112,245,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(117,247,"NEW_VARIABLES.NAME")),e.s9C("value",null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.title),e.xp6(3),e.s9C("label",e.lcZ(121,249,"PREFERENCES.LANGUAGE")),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.translateLanguageOptions),e.xp6(4),e.hYB("label","",e.lcZ(125,251,"NEW_VARIABLES.QUIZ_TITLE")," (",e.lcZ(126,253,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(5),e.s9C("label",e.lcZ(129,255,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.langTransDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransEnabled),e.xp6(2),e.hij(" ",e.lcZ(134,257,null==a.dataJsonObj?null:a.dataJsonObj.addPopupError)," "),e.xp6(7),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.welcome_screen),e.xp6(1),e.s9C("label",e.lcZ(142,259,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.success_screen),e.xp6(1),e.s9C("label",e.lcZ(148,261,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.failure_screen),e.xp6(1),e.s9C("label",e.lcZ(154,263,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.congratulation_screen),e.xp6(1),e.s9C("label",e.lcZ(160,265,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(169,267,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.dataJsonObj.questionsTlHeaders)("value",a.dataJsonObj.addQuizQuestionsTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(178,269,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(180,271,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(187,273,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(188,275,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(193,277,"NEW_VARIABLES.NAME")),e.s9C("value",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.title),e.xp6(3),e.s9C("label",e.lcZ(196,279,"PREFERENCES.LANGUAGE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.languageName),e.xp6(3),e.hYB("label","",e.lcZ(200,281,"NEW_VARIABLES.QUIZ_TITLE")," (",e.lcZ(201,283,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.langTransDisplayname),e.Q6J("maxlength",80),e.xp6(5),e.s9C("label",e.lcZ(204,285,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.langTransDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransEnabled),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.welcome_screen),e.xp6(1),e.s9C("label",e.lcZ(213,287,"NEW_VARIABLES.WELCOME_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.success_screen),e.xp6(1),e.s9C("label",e.lcZ(219,289,"NEW_VARIABLES.SUCCESS_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.failure_screen),e.xp6(1),e.s9C("label",e.lcZ(225,291,"NEW_VARIABLES.FAILURE_IMAGE")),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.congratulation_screen),e.xp6(1),e.s9C("label",e.lcZ(231,293,"NEW_VARIABLES.CONGRATULATION_IMAGE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(240,295,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.dataJsonObj.questionsTlHeaders)("value",null==a.dataJsonObj?null:a.dataJsonObj.quizQuestionsTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(249,297,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(251,299,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(258,301,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",e.lcZ(259,303,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(264,305,"NEW_VARIABLES.NAME")),e.s9C("value",null==a.dataJsonObj||null==a.dataJsonObj.quizViewData?null:a.dataJsonObj.quizViewData.display_name),e.xp6(3),e.s9C("label",e.lcZ(267,307,"PREFERENCES.LANGUAGE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.languageName),e.xp6(3),e.s9C("label",e.lcZ(270,309,"COMMON_FIELDS.DISPLAY_NAME")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.langTransDisplayname),e.xp6(3),e.s9C("label",e.lcZ(273,311,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj?null:a.dataJsonObj.langTransDescription),e.xp6(3),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.languageTranslationEnablecheckboxOptions)("checked",null==a.dataJsonObj?null:a.dataJsonObj.isLangTransEnabled),e.xp6(2),e.s9C("label",e.lcZ(278,313,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(280,315,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(287,317,"COMMON_BLOCK_TITLES.QUESTIONS")," - ",e.lcZ(288,319,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(7),e.s9C("label",e.lcZ(295,321,"COMMON_BLOCK_TITLES.QUESTIONS")),e.s9C("defaultValue",a.dataJsonObj.questionId),e.Q6J("options",a.dataJsonObj.quizQuestionData),e.xp6(4),e.hYB("label","",e.lcZ(299,323,"COMMON_FIELDS.QUESTION")," (",e.lcZ(300,325,"NEW_VARIABLES.TRANSLATED"),")"),e.s9C("value",a.dataJsonObj.questionTl),e.Q6J("maxlength",40),e.xp6(5),e.hij(" ",e.lcZ(303,327,a.errorHtml)," "),e.xp6(7),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.question_screen),e.xp6(1),e.s9C("label",e.lcZ(311,329,"NEW_VARIABLES.QUESTION_IMAGE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(320,331,"POLL.OPTIONS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.dataJsonObj.optionsTlHeaders)("value",a.dataJsonObj.optionsArrayTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(329,333,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(331,335,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(338,337,"COMMON_PAGE_TITLES.QUIZ_QUESTION_AND_OPTIONS")," - ",e.lcZ(339,339,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(7),e.s9C("label",e.lcZ(345,341,"COMMON_FIELDS.QUESTION")),e.s9C("value",a.dataJsonObj.questionTl),e.Q6J("maxlength",40),e.xp6(5),e.Q6J("ngIf",null==a.dataJsonObj.islanguageImgEnable?null:a.dataJsonObj.islanguageImgEnable.question_screen),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(358,343,"POLL.OPTIONS")),e.xp6(2),e.Q6J("columns",a.dataJsonObj.optionsTlHeaders)("value",a.dataJsonObj.optionsArrayTl)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(366,345,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(373,347,"POLL.OPTIONS")," - ",e.lcZ(374,349,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(8),e.s9C("label",e.lcZ(382,351,"POLL.OPTIONS")),e.s9C("defaultValue",a.dataJsonObj.optionId),e.Q6J("options",a.dataJsonObj.optionsData),e.xp6(3),e.s9C("label",e.lcZ(385,353,"POLL.OPTION")),e.s9C("value",a.dataJsonObj.optionTl),e.Q6J("maxlength",40),e.xp6(4),e.Q6J("options",null==a.dataJsonObj?null:a.dataJsonObj.optionsCheckbox)("checked",a.dataJsonObj.isOptionCorrectTl),e.xp6(2),e.hij(" ",e.lcZ(390,355,a.errorHtml)," "),e.xp6(3),e.s9C("label",e.lcZ(393,357,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(395,359,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[j.sg,j.O5,L.r,D.a,U.k,k.b,V.R,R.K,w.f,P.L,B.C,Y.W,Q.q,X,A.UQ,A.US,E.h4,E.jx,v.iA,v.Ei,C.X$],styles:[".greyhr40[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-left:0}.fab-textarea[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{padding:13px;background-color:#0057b2;border-radius:50px;color:#f9f7f7;display:flex;align-items:center;justify-content:center;width:100%;height:100%}.chat-profile-pic[_ngcontent-%COMP%]{width:50px;height:50px}.postbtn[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{float:none;margin:0 auto}ion-textarea[_ngcontent-%COMP%]{min-height:80px}ion-select.editpost[_ngcontent-%COMP%]   .select-text[_ngcontent-%COMP%]{color:#000!important;opacity:1!important;line-height:20px!important}ion-textarea.editposttextarea[_ngcontent-%COMP%]{border:1px solid #f7f6f6;box-shadow:.1px .1px .1px .1px #0000001a}ion-grid.creatpost-block[_ngcontent-%COMP%]{padding-bottom:10px}.taged-users[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-right:5px;display:inherit}ion-col#profileimg[_ngcontent-%COMP%]{display:block}.uploaded-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:200px;float:none;margin:0 auto}.paudiencelbl[_ngcontent-%COMP%]{display:flex;align-items:center}.editform[_ngcontent-%COMP%]   ion-col.paudiencelbl[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{padding-top:0}ion-grid.creatpost-block[_ngcontent-%COMP%]   .uploaded-img[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center;display:block}ion-modal[_ngcontent-%COMP%]   button.floatright[_ngcontent-%COMP%]{margin:5px 16px 0 0}.fab-list-side-start[_ngcontent-%COMP%]{margin-inline:55px}.fab-list-side-end[_ngcontent-%COMP%]{margin-inline:50px}.fab-list-active[_ngcontent-%COMP%]{align-items:flex-start}.fab-button-attachment[_ngcontent-%COMP%]{position:relative;left:auto;right:auto;bottom:auto}@media (max-width: 575px){.close[_ngcontent-%COMP%]{float:left}ion-grid.creatpost-block[_ngcontent-%COMP%]{padding-bottom:30px}}@media (max-width: 991px) and (min-width: 768px){.close[_ngcontent-%COMP%]{float:left}ion-grid.creatpost-block[_ngcontent-%COMP%]{padding-bottom:30px}}.cdk-overlay-pane[_ngcontent-%COMP%]   .mat-mdc-select-panel[_ngcontent-%COMP%]{max-height:100px!important}"]})}return i})(),canActivate:[q.P],data:{object_type:r.hf.QUIZ,title:"Quiz Edit",pageName:r.hf.QUIZ,pageSetting:r.AM.ACTIONS,settingField:r.In.EDIT}},{path:"quiz/:id/view",component:yi,canActivate:[q.P],data:{object_type:r.hf.QUIZ,title:"Quiz View",pageName:r.hf.QUIZ,pageSetting:r.AM.ACTIONS,settingField:r.In.VIEW}},{path:"quiz/:id/viewv2",component:ml,canActivate:[q.P],data:{object_type:r.hf.QUIZ,title:"Quiz View",pageName:r.hf.QUIZ,pageSetting:r.AM.ACTIONS,settingField:r.In.VIEW}},{path:"quiz/list",component:In,canActivate:[q.P],data:{object_type:r.hf.QUIZ,title:"Quiz List",pageName:r.hf.QUIZ}},{path:"play",component:es,canActivate:[q.P],data:{object_type:r.hf.QUIZ,title:"Quiz Play",pageName:r.hf.QUIZ,pageSetting:r.AM.ACTIONS,settingField:r.In.PLAY}}]}];let Sr=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[I.Bz.forChild(Nr),I.Bz]})}return i})();var re=O(24006),Zr=O(67375),yr=O(65673);let qr=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[j.ez,f.Pc,Sr,yr.Q,C.aw,A.fx,re.UX,re.u5,Zr.UM,v.U$,F.QG,K.Nh]})}return i})()}}]);