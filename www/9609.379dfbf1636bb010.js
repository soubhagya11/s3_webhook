"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9609],{49609:(k,h,s)=>{s.r(h),s.d(h,{ContentpagesModule:()=>B});var E=s(32174),g=s(36895),J=s(32137),m=s(15861),u=s(71568),i=s(32236),t=s(94650);let T=(()=>{class a{commonService;constructor(n){this.commonService=n}getContentPagesList(n){const e=localStorage.getItem(i.BU.LOGIN_USER_LANGUAGE)?localStorage.getItem(i.BU.LOGIN_USER_LANGUAGE):"en";return this.commonService.getStaticApiCall("assets/enterprises/"+n+"/custom_screen_static_content/"+e+".json","assets/enterprises/"+n+"/custom_screen_static_content/",e+".json")}static \u0275fac=function(e){return new(e||a)(t.LFG(u.v))};static \u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var D=s(42786),O=s(81145),S=s(63556),C=s(46448),d=s(62510),I=s(11481),f=s(30958),v=s(54463),_=s(37415),y=s(91749);const A=["content"];function N(a,l){if(1&a&&(t.TgZ(0,"div",12),t._UZ(1,"img",13),t.qZA()),2&a){const n=t.oxw();t.xp6(1),t.Q6J("src",n.dataJsonObj.contentDataDetailsJSon.contentImage,t.LSH)}}function U(a,l){if(1&a&&t._UZ(0,"ion-card-content",21),2&a){const n=t.oxw(2).$implicit;t.Q6J("innerHtml",null==n?null:n.block_description,t.oJD)}}function j(a,l){if(1&a){const n=t.EpF();t.TgZ(0,"ion-card",16)(1,"ion-item",17),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(),c=o.index,r=o.$implicit,p=t.oxw();return t.KtG(p.handleTab1(c,null==r?null:r.status))}),t._UZ(2,"ion-icon",18),t.TgZ(3,"ion-label",19),t._uU(4),t.qZA()(),t.YNc(5,U,1,1,"ion-card-content",20),t.qZA()}if(2&a){const n=t.oxw().$implicit;t.xp6(2),t.Q6J("name",null!=n&&n.status?"chevron-up":"chevron-down"),t.xp6(2),t.Oqu(null==n?null:n.block_name),t.xp6(1),t.Q6J("ngIf",null==n?null:n.status)}}function R(a,l){if(1&a&&(t.TgZ(0,"div",22)(1,"div",19),t._uU(2),t.qZA(),t.TgZ(3,"div",23),t._UZ(4,"p",24),t.qZA()()),2&a){const n=t.oxw().$implicit;t.xp6(2),t.Oqu(null==n?null:n.block_name),t.xp6(2),t.Q6J("innerHTML",null==n?null:n.block_description,t.oJD)}}function P(a,l){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,j,6,3,"ion-card",14),t.YNc(2,R,5,2,"div",15),t.qZA()),2&a){const n=l.$implicit;t.xp6(1),t.Q6J("ngIf",n&&(null==n?null:n.is_display_as_accordion)),t.xp6(1),t.Q6J("ngIf",n&&!(null!=n&&n.is_display_as_accordion))}}const M=[{path:"",data:{title:"contentpages"},children:[{path:":id/contentpages-view",component:(()=>{class a{apiEndPointUrl;contentpageService;loggerService;navigationService;router;sanitizer;commonServices;navCtrl;platform;route;syncService;translateService;imageTransformPipe;contentImage;contentPageObj;enterpriseId;forceRefresh=!1;langcode;publishEnabled=!1;recordId;staticEndPoint;syncEnabled=!1;syncFreq;dataJsonObj={};errorObj={};content;constructor(n,e,o,c,r,p,F,H,Y,G,Q,z,w){this.apiEndPointUrl=n,this.contentpageService=e,this.loggerService=o,this.navigationService=c,this.router=r,this.sanitizer=p,this.commonServices=F,this.navCtrl=H,this.platform=Y,this.route=G,this.syncService=Q,this.translateService=z,this.imageTransformPipe=w,this.route.params.subscribe($=>{this.recordId=$.id})}ngOnInit(){this.getRecordById(this.recordId),this.dataJsonObj.shareExternal=!!this.commonServices.roleRightsValidationByPage(i.hf.CUSTOM_SCREEN_STATIC_CONTENT,i.AM.ACTIONS,i.In.SHARE_EXTERNAL)&&this.commonServices.roleRightsValidationByPage(i.hf.CUSTOM_SCREEN_STATIC_CONTENT,i.AM.ACTIONS,i.In.SHARE_EXTERNAL),this.commonServices.roleRightsValidationByPage(i.hf.CUSTOM_SCREEN_STATIC_CONTENT,i.AM.ACTIONS,i.In.SHARE_EXTERNAL)&&!this.commonServices.isBrowserApp()&&(this.dataJsonObj.fabMobileactionsOptions=[{iconClass:"fas fa-share-alt",redirectUrl:"",actionType:i.gL.POPUP,actionName:"SocialShare"}]),this.dataJsonObj.pageName=i.hf.CONTENT_PAGES,this.staticEndPoint=localStorage.getItem(i.BU.S3_URL)?localStorage.getItem(i.BU.S3_URL):this.apiEndPointUrl,this.getsyncSettings()}getsyncSettings(){var n=this;return(0,m.Z)(function*(){const e=yield n.commonServices.getCacheSettings(i.hf.CUSTOM_SCREEN_STATIC_CONTENT);n.syncEnabled=e.cacheEnabled,n.syncFreq=e.syncFreq,n.forceRefresh=e.forceRefresh,n.publishEnabled=e.publishEnabled})()}ionViewWillEnter(){localStorage.setItem(i.BU.POIS,"true")}getRecordById(n){var e=this;return(0,m.Z)(function*(){try{e.langcode=localStorage.getItem(i.BU.LOGIN_USER_LANGUAGE)?localStorage.getItem(i.BU.LOGIN_USER_LANGUAGE):"en",e.enterpriseId=localStorage.getItem(i.BU.SELECTED_ENTERPRISE)?localStorage.getItem(i.BU.SELECTED_ENTERPRISE):localStorage.getItem(i.BU.PARENT_ENTERPRISE_ID);const o=yield e.commonServices.getDynamicJsonByPath(`assets/enterprises/${e.enterpriseId}/custom_screen_static_content/details/${n}/`,`${e.langcode}.json`);e.dataJsonObj.contentDataDetailsJSon=o||{},e.dataJsonObj.pageTitle=[{key:"",value:e.dataJsonObj.contentDataDetailsJSon.content_page_display_name,showSubMenuDisplayName:!1}],e.dataJsonObj.contentDataDetailsJSon.contentImage=e.dataJsonObj.contentDataDetailsJSon.image_path&&e.dataJsonObj.contentDataDetailsJSon.image_name?yield e.imageTransformPipe.transformAsync(e.dataJsonObj.contentDataDetailsJSon.image_path,e.dataJsonObj.contentDataDetailsJSon.image_name,e.publishEnabled,e.dataJsonObj.shareExternal):null,e.commonServices.trackView(i.sn.LEARN_MORE+"-"+e.dataJsonObj.contentDataDetailsJSon.content_page_display_name),e.commonServices.getDynamicHeight()}catch(o){e.loggerService.setLoggerError(e.constructor.name,"getRecordById",o)}})()}handleTab1(n,e){e=!e;for(let o=0;o<this.dataJsonObj.contentDataDetailsJSon.block_details.length;o++)o===n?this.dataJsonObj.contentDataDetailsJSon.block_details[n].status=e:this.dataJsonObj.contentDataDetailsJSon.block_details[o].status=!1}getMediaFiles(n){try{if(n.contentImage=this.staticEndPoint+n.image_path+"/"+n.image_name,this.platform.is("android")||this.platform.is("ios")||this.platform.is("ipad")||this.platform.is("iphone")||this.platform.is("tablet"))try{this.syncService.getMobileAssetsData(n.image_path,n.image_name,"image").then(e=>{let o=this.sanitizer.bypassSecurityTrustUrl(e);n.contentImage=o}).catch(e=>{this.loggerService.setLoggerError(this.constructor.name,"getMediaFiles->getMobileAssetsData",e)})}catch(e){this.loggerService.setLoggerError(this.constructor.name,"getMediaFiles->getMobileAssetsData",e)}}catch(e){this.loggerService.setLoggerError(this.constructor.name,"getMediaFiles",e)}}selectedFabAction(n){var e=this;return(0,m.Z)(function*(){n&&"SocialShare"===n.actionName&&e.commonServices.socialShare(e.content)})()}static \u0275fac=function(e){return new(e||a)(t.Y36("apiEndPoint"),t.Y36(T),t.Y36(D.m),t.Y36(C.f),t.Y36(d.F0),t.Y36(I.H7),t.Y36(u.v),t.Y36(f.SH),t.Y36(f.t4),t.Y36(d.gz),t.Y36(O._),t.Y36(v.sK),t.Y36(S.D))};static \u0275cmp=t.Xpm({type:a,selectors:[["app-contentpages"]],viewQuery:function(e,o){if(1&e&&t.Gf(A,5),2&e){let c;t.iGM(c=t.CRH())&&(o.content=c.first)}},features:[t._Bn([S.D])],decls:12,vars:8,consts:[[1,"container-fluid"],[1,"card","bd-0"],["content",""],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body","pdt-0","pdl-0","pdr-0","pdb-0"],["id","extraPaddingBottomID",1,"position-relative"],["class","mgt-5 mgl-10 mgr-10",4,"ngIf"],[1,"mgl-10","mgr-10"],["id","content-page-description",1,"mgt-5","mgb-0","fs-14",3,"innerHtml"],[4,"ngFor","ngForOf"],[3,"actionData","selectedAction"],[1,"mgt-5","mgl-10","mgr-10"],["id","imageid","onerror","this.onerror=null;this.src='assets/img/image_placeholder.jpg';",1,"img-detail",3,"src"],["class","detail-accordion-block",4,"ngIf"],["class","position-relative detail-accordion-block",4,"ngIf"],[1,"detail-accordion-block"],["lines","none",1,"ion-no-padding","header-title-item",3,"click"],["id","content-page-accordion-open-or-close","slot","end",3,"name"],["id","content-page-accordion-name",1,"fs-16","fw-600"],["id","content-page-content","class","fs-14",3,"innerHtml",4,"ngIf"],["id","content-page-content",1,"fs-14",3,"innerHtml"],[1,"position-relative","detail-accordion-block"],[1,"position-relative"],[3,"innerHTML"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),t._UZ(4,"app-pageheader",4),t.qZA(),t.TgZ(5,"div",5)(6,"div",6),t.YNc(7,N,2,1,"div",7),t.TgZ(8,"div",8),t._UZ(9,"p",9),t.YNc(10,P,3,2,"div",10),t.qZA()()()(),t.TgZ(11,"app-mobile-fab-button",11),t.NdJ("selectedAction",function(r){return o.selectedFabAction(r)}),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("pageName",o.dataJsonObj.pageName)("pageTitle",o.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),t.xp6(3),t.Q6J("ngIf",null==o.dataJsonObj||null==o.dataJsonObj.contentDataDetailsJSon?null:o.dataJsonObj.contentDataDetailsJSon.contentImage),t.xp6(2),t.Q6J("innerHtml",null==o.dataJsonObj.contentDataDetailsJSon?null:o.dataJsonObj.contentDataDetailsJSon.content_page_description,t.oJD),t.xp6(1),t.Q6J("ngForOf",null==o.dataJsonObj.contentDataDetailsJSon?null:o.dataJsonObj.contentDataDetailsJSon.block_details),t.xp6(1),t.Q6J("actionData",null==o.dataJsonObj?null:o.dataJsonObj.fabMobileactionsOptions))},dependencies:[g.sg,g.O5,_.q,y.J],styles:[".facedetection-img-bg[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:cover;max-height:380px;height:100%;max-width:100%}.quiz-img[_ngcontent-%COMP%]{border-radius:10px;position:relative;overflow:hidden;height:265px;width:300px;margin:0 auto}"]})}return a})()}]}];let Z=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=t.oAB({type:a});static \u0275inj=t.cJS({imports:[d.Bz.forChild(M),d.Bz]})}return a})();var b=s(24006),L=s(93144),x=s(65673);let B=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275mod=t.oAB({type:a});static \u0275inj=t.cJS({imports:[g.ez,v.aw,b.u5,b.UX,L.U$,E.fx,x.Q,J.D,Z]})}return a})()}}]);