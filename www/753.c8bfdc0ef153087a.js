"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[753],{753:(ut,S,o)=>{o.r(S),o.d(S,{StatSettingsModule:()=>ct});var g=o(32174),h=o(36895),N=o(32137),_=o(24006),D=o(11210),r=o(32236),c=o(62510),T=o(15861),O=o(42863),M=o(71568),v=o(82977),y=o(47561),I=o(28168),L=o(57936),A=o(30578),Z=o(42786),t=o(94650),x=o(70057),J=o(46448),m=o(54463),R=o(27601),u=o(93144),f=o(10805),j=o(2387),w=o(56368),U=o(9851),G=o(98621),P=o(47178),k=o(93837),B=o(37415),V=o(88425);const F=["applicationAdd"],Q=["datatableComponent"],Y=["moduleAdd"],H=["multiSelectenabledstats"],q=["multieditSelectenabledstats"];function K(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"app-button",52),t.NdJ("buttonOnClick",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.enableEditStatsettingsFlag())}),t.ALo(1,"translate"),t.qZA()}2&n&&t.s9C("label",t.lcZ(1,1,"COMMON_BUTTONS.BUTTON_EDIT"))}function z(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",41)(2,"div",42)(3,"p-accordion",43)(4,"p-accordionTab",44)(5,"p-header",45)(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.YNc(9,K,2,3,"app-button",46),t.qZA(),t.TgZ(10,"div",47)(11,"div",3)(12,"app-datatable",48,49),t.NdJ("redirectionEvent",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.mobileEventAction(a))})("loadPageData",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.loadPageData(a))}),t.qZA(),t.TgZ(14,"div",50)(15,"app-page-actions",51),t.NdJ("selectedAction",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.onPageLevelActionClicked(a))}),t.qZA()()()()()()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("multiple",!0),t.xp6(1),t.Q6J("selected",!0),t.xp6(3),t.Oqu(t.lcZ(8,19,"COMMON_PAGE_TITLES.STAT_SETTINGS")),t.xp6(2),t.Q6J("ngIf",e.roleRightsValidationByPage(e.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.STAT_SETTINGS,e.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,e.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.EDIT)),t.xp6(3),t.Q6J("header",e.tableColumnheaders)("totalPages",e.listingVariables.totalpages)("totalRecords",e.listingVariables.totalRecords)("data",e.listData)("paginator",!0)("mobileListData",e.statsettingsMobileListData)("listingVariables",e.listingVariables)("selectedDisplayViewType",e.dataJsonObj.selectedDisplayView)("selectedFilterType",e.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",e.dataJsonObj.selectedAdvancedSearchObj)("pageName",e.dataJsonObj.pageName)("selectedMenuId",null==e.dataJsonObj.queryParamsObj?null:e.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==e.dataJsonObj.queryParamsObj?null:e.dataJsonObj.queryParamsObj.selectedSubMenuId),t.xp6(3),t.Q6J("isFabDisplay",!0)("actionsList",e.dataJsonObj.pageActionsList)}}function X(n,d){if(1&n&&(t.TgZ(0,"tr",63)(1,"td",64),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.uIk("colspan",e[0].length+1),t.xp6(1),t.hij(" ",t.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function W(n,d){if(1&n&&t.YNc(0,X,4,4,"tr",62),2&n){const e=t.oxw(2);t.Q6J("ngIf",e.listData&&0==e.listData.length)}}function tt(n,d){if(1&n&&(t.TgZ(0,"th"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=d.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.header)," ")}}function et(n,d){if(1&n&&(t.TgZ(0,"tr"),t._UZ(1,"th",65),t.YNc(2,tt,3,3,"th",66),t.qZA()),2&n){const e=d.$implicit;t.xp6(2),t.Q6J("ngForOf",e[0])}}function at(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"td",71),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),s=a.rowIndex,l=a.$implicit,p=t.oxw(2);return t.KtG(p.statsettingsEdit(s,l))}),t._uU(1),t.qZA()}if(2&n){const e=d.$implicit,i=t.oxw().$implicit;t.Gre("",e.class," cursor-pointer"),t.Q6J("pSelectableRow",i),t.xp6(1),t.hij(" ",i[e.field]," ")}}function it(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td",67)(2,"div",68)(3,"span",69),t.NdJ("click",function(){const a=t.CHM(e),s=a.rowIndex,l=a.$implicit,p=t.oxw(2);return t.KtG(p.statsettingsDelete(s,l))}),t.qZA()()(),t.YNc(4,at,2,5,"td",70),t.qZA()}if(2&n){const e=d.columns;t.xp6(4),t.Q6J("ngForOf",e[0])}}function st(n,d){if(1&n&&(t.TgZ(0,"div",3)(1,"strong"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t._uU(4," : "),t._UZ(5,"span",73)(6,"br"),t.qZA()),2&n){const e=d.$implicit,i=t.oxw().$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,e.header)),t.xp6(3),t.Q6J("innerHTML",i[e.field],t.oJD)}}function nt(n,d){if(1&n&&(t.TgZ(0,"tr")(1,"td")(2,"div",2),t.YNc(3,st,7,4,"div",72),t.qZA()()()),2&n){const e=d.columns;t.xp6(1),t.uIk("colspan",e[0].length+2),t.xp6(2),t.Q6J("ngForOf",e[1])}}function lt(n,d){if(1&n){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",41)(2,"div",42)(3,"p-accordion",43)(4,"p-accordionTab",44)(5,"p-header",45)(6,"span"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"span",53)(10,"app-button",54),t.NdJ("buttonOnClick",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.linesAdd(a))})("buttonOnClick",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.onClick(a))}),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"app-button",55),t.NdJ("buttonOnClick",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.updateRecord(a))}),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"app-button",56),t.NdJ("buttonOnClick",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cancelBtn())}),t.ALo(15,"translate"),t.qZA()()(),t.TgZ(16,"p-table",57),t.YNc(17,W,1,1,"ng-template",58),t.YNc(18,et,3,1,"ng-template",59),t.YNc(19,it,5,1,"ng-template",60),t.YNc(20,nt,4,2,"ng-template",61),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("multiple",!0),t.xp6(1),t.Q6J("selected",!0),t.xp6(3),t.Oqu(t.lcZ(8,13,"COMMON_PAGE_TITLES.STAT_SETTINGS")),t.xp6(3),t.s9C("label",t.lcZ(11,15,"COMMON_BUTTONS.BUTTON_ADD")),t.Q6J("isEmitMouseEvent",!0),t.xp6(2),t.s9C("label",t.lcZ(13,17,"COMMON_BUTTONS.BUTTON_SUBMIT")),t.xp6(2),t.s9C("label",t.lcZ(15,19,"COMMON_BUTTONS.BUTTON_CANCEL")),t.xp6(2),t.Q6J("columns",e.headers)("value",e.listData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0)}}const rt=[{path:"",data:{title:"statsettings"},children:[{path:"",canActivate:[D.P],component:(()=>{class n extends y.O{ColumnHeader;actionSheetController;configOptionsService;enterprisesService;listingVariables;loggerService;navigationService;router;translateService;uiUtils;commonService;route;applicationAdd;datatableComponent;moduleAdd;multiSelectenabledstats;multieditSelectenabledstats;appicationsArrayData=[];applicationDisplayName;applicationId;applicationModuleJSON;applicationObj;applicationoptions=[];checkboxEnabledOptions;createdRecords=!1;deleteSelectedEnabledstats=[];displayError="";editStatsettingsFlag=!1;editenabledstatsOptions;editenabledstatsOptionsArray;enabled;enabledStatdisplay;enabledstatsObj;enabledstatsOptions;enterpriseData;enterpriseId;enterpriseName;enterpriseShortName;enterpriseid;error;headers;isLimit=!0;isalreadyExists;isalreadyrecordId;listData=[];mobileRoutesArray;noDuplicates=void 0;pageDisplayName;pageId;pageObj;pageoptions=[];rowIndex;rowdata;searchString;selectedEnabledstats=[];selectedOptions=[];spliceDeletedRecords=[];statsettingsData;statsettingsMobileListData;tableColumnheaders;updatedrecords=!1;dataJsonObj={};constructor(e,i,a,s,l,p,b,gt,ht,mt,C,E){super(E,C),this.ColumnHeader=e,this.actionSheetController=i,this.configOptionsService=a,this.enterprisesService=s,this.listingVariables=l,this.loggerService=p,this.navigationService=b,this.router=gt,this.translateService=ht,this.uiUtils=mt,this.commonService=C,this.route=E}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.STAT_SETTINGS,this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.STAT_SETTINGS",value:"",showSubMenuDisplayName:!0}],this.dataJsonObj.htmlPageRolesEnumValuesJson={pageEnum:r.hf,pageSettingEnum:r.AM,pageSettingFieldsEnum:r.In},this.commonService.trackView(r.sn.STAT_SETTINGS),this.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.objectType=this.route.snapshot.data.object_type,document.getElementsByTagName("body"),this.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.getEnterpriseRecordById(),this.listData=[],this.checkboxEnabledOptions=[{value:!1,displayname:"Enabled",key:"checkbox1"}],this.tableColumnheaders=this.ColumnHeader.getStatSettingsColumnHeaders(),this.headers=[[{headersort:"disableth",sortfield:"enterprise.short_name",field:"enterprise_short_name",header:this.translateService.instant("COMMON_PAGE_TITLES.ENTERPRISE"),class:"w-150"},{headersort:"disableth",sortfield:"application.lookup_name",field:"application_display_name",header:this.translateService.instant("GENERAL_SETTINGS.APPLICATIONS"),class:"w-130"},{headersort:"disableth",sortfield:"page.page_name",field:"page_display_name",header:this.translateService.instant("COMMON_FIELDS.PAGE"),class:"w-130"},{headersort:"disableth",sortfield:"",field:"enabled_stats_display",header:this.translateService.instant("STAT_SETTINGS.ENABLED_STATS"),class:""}],[]],this.dataJsonObj.pageActionsList=[],this.roleRightsValidation("CONFIG_OPTIONS","STAT_SETTINGS","CREATE"),this.dataJsonObj.addFiltersList=[],this.roleRightsValidation("CONFIG_OPTIONS","STAT_SETTINGS","FILTERS")}mobileEventAction(e){this.mobileRoutesArray=[],this.roleRightsValidationByPage(r.hf.STAT_SETTINGS,r.AM.ACTIONS,r.In.EDIT)&&this.mobileRoutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.editStatsettingsFlag=!0,this.getAllRecords()}}),this.presentActionSheet(e)}presentActionSheet(e){var i=this;return(0,T.Z)(function*(){yield(yield i.actionSheetController.create({cssClass:"actionsheet",buttons:i.mobileRoutesArray})).present()})()}getAllRecords(){try{this.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE);const e=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView);this.configOptionsService.getstatsettings(this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.listingVariables.sortOrderColumn,this.searchString,this.enterpriseId,e,this.isLimit,this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"").subscribe(a=>{if(this.listData=[],a.rows.length>0){this.statsettingsMobileListData&&this.statsettingsMobileListData.length>0||(this.statsettingsMobileListData=[]);for(let s=0;s<a.rows.length;s++){a.rows[s].recordId=a.rows[s]._id,a.rows[s].enterprise_short_name=a.rows[s].enterprise.short_name,a.rows[s].application_display_name=this.lookupLanguageTranslations(a.rows[s].application.lookup_id),a.rows[s].page_display_name=a.rows[s].page.page_display_name;let l="";for(let p=0;p<a.rows[s].enabled_stats.length;p++)l=l+";"+a.rows[s].enabled_stats[p].NAME;a.rows[s].enabled_stats_display=l.substring(1),this.statsettingsMobileListData=this.statsettingsMobileListData.filter(p=>p._id!==a.rows[s]._id),this.statsettingsMobileListData.push(a.rows[s])}a.totalCount&&(this.listingVariables.totalRecords=a.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=a.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.listData=this.listData.concat(a.rows)):this.listData=a.rows}else this.listData=[],this.statsettingsMobileListData=[]}).catch(a=>{this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",a)})}catch(e){this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",e)}}getEnterpriseRecordById(){try{this.enterprisesService.getEnterprisesViewData(this.enterpriseId).subscribe(e=>{this.enterpriseData=e,this.enterpriseName=e.enterprise_name,this.enterpriseid=e._id,this.enterpriseShortName=e.short_name},e=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterpriseRecordById",e)})}catch(e){this.loggerService.setLoggerError(this.constructor.name,"getEnterpriseRecordById",e)}}loadPageData(e){this.listingVariables.pageNumbers=e.listingVariables.pageNumbers,e.clearMobileData&&(this.statsettingsMobileListData=this.noDuplicates),e.isPaginationChange&&(this.dataJsonObj.selectedFilter=e.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=e.isLoadMoreClicked),this.getAllRecords()}getApplicationNames(){try{this.commonService.getApplicationNames(this.enterpriseId).then(e=>{this.appicationsArrayData=e,this.applicationoptions=[];const i=[];this.applicationModuleJSON={};for(let a=0;a<this.appicationsArrayData.length;a++){this.applicationModuleJSON[this.appicationsArrayData[a].application.lookup_name]||(this.applicationModuleJSON[this.appicationsArrayData[a].application.lookup_name]=[]);const s=this.appicationsArrayData[a].module;if(s.ID=this.appicationsArrayData[a].module.page_id,s.NAME=this.appicationsArrayData[a].module.page_display_name,this.applicationModuleJSON[this.appicationsArrayData[a].application.lookup_name].push(s),-1==i.indexOf(this.appicationsArrayData[a].application.lookup_id)){const l=this.appicationsArrayData[a].application;l.ID=this.appicationsArrayData[a].application.lookup_id,l.NAME=this.lookupLanguageTranslations(this.appicationsArrayData[a].application.lookup_id),this.applicationoptions.push(l),i.push(this.appicationsArrayData[a].application.lookup_id)}}}).catch(e=>{this.loggerService.setLoggerError(this.constructor.name,"getApplicationOptions",e)})}catch(e){this.loggerService.setLoggerError(this.constructor.name,"getApplicationOptions",e)}}changeApplicationName(e){try{this.applicationId=e.value,this.applicationObj=this.applicationoptions.find(i=>i.ID===parseInt(this.applicationId,10)),this.pageoptions=this.applicationModuleJSON[this.applicationObj.lookup_name],this.pageId="",this.pageObj="",this.moduleAdd.clearSelectInput()}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeApplicationName",i)}}changePageName(e){e.value&&(this.multiSelectenabledstats.clearSelectInput(),this.multiSelectenabledstats.clearmessage(),this.pageId=e.value,this.pageObj=this.pageoptions.find(i=>i.ID===parseInt(this.pageId,10)),this.getpagelevelStatdefinitions(""))}getpagelevelStatdefinitions(e){try{this.commonService.getpagestats(this.enterpriseId,this.applicationObj.lookup_name,this.pageObj.page_name,e).then(i=>{this.enabledstatsOptions=i},i=>{this.loggerService.setLoggerError(this.constructor.name,"getpagelevelStatdefinitions",i)})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getpagelevelStatdefinitions",i)}}changeSelectedEnabledstats(e){try{let i="";this.enabledstatsObj=[];const a=e.value.map(function(s){return s.NAME});if(e.value.length>0){for(let s=0;s<e.value.length;s++){const l=e.value[s].ID,p=this.enabledstatsOptions.find(b=>b.ID===parseInt(l,10));this.enabledstatsObj.push(p)}if(a)for(let s=0;s<a.length;s++)i=i+";"+a[s];this.enabledStatdisplay=i.substring(1),this.getpagelevelStatdefinitions("")}}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeSelectedEnabledstats",i)}}geteditpagelevelStatdefinitions(e){try{this.editenabledstatsOptions=[],this.commonService.getpagestats(this.enterpriseId,this.rowdata.application.lookup_name,this.rowdata.page.page_name,e).then(i=>{this.editenabledstatsOptions=i,this.editenabledstatsOptionsArray=[];for(let a=0;a<this.editenabledstatsOptions.length;a++)for(let s=0;s<this.listData.length;s++)for(let l=0;l<this.listData[s].enabled_stats.length;l++)this.editenabledstatsOptions[a].NAME===this.listData[s].enabled_stats[l].NAME&&this.editenabledstatsOptionsArray.push(this.editenabledstatsOptions[a])})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getdeviceTypeOptions",i)}}changeStatsDef(e){try{e.value&&(this.enabledstatsObj=e.value)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changedeviceType",i)}}cancelBtn(){try{this.editStatsettingsFlag=!1,this.isLimit=!0,this.spliceDeletedRecords=[],this.getAllRecords()}catch(e){this.loggerService.setLoggerError(this.constructor.name,"cancelBtn",e)}}enableEditStatsettingsFlag(){this.editStatsettingsFlag=!0,this.spliceDeletedRecords=[],this.isLimit=!1,this.listingVariables.pageNumbers=1,this.listData=[],this.getAllRecords()}onClick(e){e.stopPropagation()}changeCheckBox(e){this.enabled=e.value}linesAdd(e){try{this.error="",this.enabled=!0,this.getApplicationNames(),this.applicationAdd.clearSelectInput(),this.applicationAdd.clearmessage(),this.moduleAdd.clearSelectInput(),this.moduleAdd.clearmessage(),this.multiSelectenabledstats.clearSelectInput(),this.multiSelectenabledstats.clearmessage(),$("#exampleModal1").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal1")}catch(i){this.loggerService.setLoggerError(this.constructor.name,"linesAdd",i)}}linesAddSubmit(){try{if(this.applicationAdd.isValid()&&this.moduleAdd.isValid()&&this.multiSelectenabledstats.isValid()){this.statsettingsData={enterprise:{enterprise_id:this.enterpriseData._id,enterprise_name:this.enterpriseData.enterprise_name,short_name:this.enterpriseData.short_name},enterprise_short_name:this.enterpriseData.short_name,application:this.applicationObj,application_display_name:this.lookupLanguageTranslations(this.applicationObj.lookup_id),page:this.pageObj,page_display_name:this.pageObj.page_display_name,enabled_stats:this.enabledstatsObj,enabled_stats_display:this.enabledStatdisplay,is_enabled:this.enabled};let e=!1;for(let i=0;i<this.listData.length;i++)this.listData[i].application.lookup_name===this.statsettingsData.application.lookup_name&&this.listData[i].page.page_name===this.statsettingsData.page.page_name&&(e=!0);e?this.error="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS":(this.listData.push(this.statsettingsData),$("#exampleModal1").modal("hide"))}}catch(e){this.loggerService.setLoggerError(this.constructor.name,"configAdd",e)}}statsettingsEdit(e,i){try{this.displayError="",this.rowIndex=e,this.rowdata=i,this.applicationDisplayName=i.application_display_name,this.pageDisplayName=i.page_display_name,this.selectedEnabledstats=i.enabled_stats,this.enabled=i.is_enabled,this.geteditpagelevelStatdefinitions(""),$("#exampleModal2").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal2")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"configHighlightsEdit",a)}}statsettingsEditSubmit(){try{if(this.multieditSelectenabledstats.isValid()){let e="";for(let i=0;i<this.enabledstatsObj.length;i++)e=e+";"+this.enabledstatsObj[i].NAME;this.listData[this.rowIndex].enabled_stats_display=e.substring(1),this.listData[this.rowIndex].enabled_stats=this.enabledstatsObj,this.listData[this.rowIndex].is_enabled=this.enabled,this.listData[this.rowIndex].updateRecord=!0,$("#exampleModal2").modal("hide")}}catch(e){this.loggerService.setLoggerError(this.constructor.name,"statsettingsEditSubmit",e)}}statsettingsDelete(e,i){try{this.rowIndex=e,this.rowdata=i,this.applicationDisplayName=i.application_display_name,this.pageDisplayName=i.page_display_name,this.deleteSelectedEnabledstats=[];for(let a=0;a<i.enabled_stats.length;a++)this.deleteSelectedEnabledstats.push(i.enabled_stats[a].ID);this.enabled=i.is_enabled,this.geteditpagelevelStatdefinitions(""),$("#exampleModal3").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal3")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"statsettingsDelete",a)}}Delete(){this.listData[this.rowIndex]._id&&this.spliceDeletedRecords.push(this.listData[this.rowIndex]._id),this.listData.splice(this.rowIndex,1),$("#exampleModal3").modal("hide")}updateRecord(){var e=this;return(0,T.Z)(function*(){try{let i=[];if(e.listData.length>0){e.spliceDeletedRecords.length>0&&(yield e.configOptionsService.deleteStatsettings(e.spliceDeletedRecords).then(a=>{}).catch(a=>{e.loggerService.setLoggerError(e.constructor.name,"updateRecord",a)}));for(let a=0;a<e.listData.length;a++)e.listData[a]._id&&!0===e.listData[a].updateRecord?yield e.configOptionsService.updateStatsettings(e.listData[a]._id,e.listData[a]).then(s=>{}).catch(s=>{e.loggerService.setLoggerError(e.constructor.name,"updateRecord",s)}):e.listData[a]._id||(yield e.configOptionsService.postStatsettings(e.listData[a]).then(s=>{}).catch(s=>{e.loggerService.setLoggerError(e.constructor.name,"updateRecord",s)})),i.push(e.listData[a]);setTimeout(()=>{e.isLimit=!0,e.editStatsettingsFlag=!1,e.listData=[],e.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),e.getAllRecords()},3e3)}else e.displayError="Please select atleast one record"}catch(i){e.loggerService.setLoggerError(e.constructor.name,"updateRecord",i)}})()}selectedViewType(e){this.dataJsonObj.selectedDisplayView=e}selectedFilterType(e){e||(this.dataJsonObj.selectedFilter="")}onPageLevelActionClicked(e){}static \u0275fac=function(i){return new(i||n)(t.Y36(O.Y),t.Y36(x.BX),t.Y36(v.W),t.Y36(L.e),t.Y36(A.v),t.Y36(Z.m),t.Y36(J.f),t.Y36(c.F0),t.Y36(m.sK),t.Y36(R.s),t.Y36(M.v),t.Y36(c.gz))};static \u0275cmp=t.Xpm({type:n,selectors:[["app-statsettings"]],viewQuery:function(i,a){if(1&i&&(t.Gf(F,5),t.Gf(Q,5),t.Gf(Y,5),t.Gf(H,5),t.Gf(q,5)),2&i){let s;t.iGM(s=t.CRH())&&(a.applicationAdd=s.first),t.iGM(s=t.CRH())&&(a.datatableComponent=s.first),t.iGM(s=t.CRH())&&(a.moduleAdd=s.first),t.iGM(s=t.CRH())&&(a.multiSelectenabledstats=s.first),t.iGM(s=t.CRH())&&(a.multieditSelectenabledstats=s.first)}},features:[t._Bn([v.W,A.v,O.Y]),t.qOj],decls:104,vars:104,consts:[[1,"container-fluid","config-optns"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body","pdt-0","bdt-lightblue"],["class","col-md-12",4,"ngIf"],["id","exampleModal1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body"],[1,"row","form-bs"],[1,"col-md-3"],["disabled","true","id","statdefinations-create-enterprise",3,"label","value"],["disabled","false","mandatory","true","id","listview-create-application",3,"label","defaultValue","options","valueChange"],["applicationAdd",""],["disabled","false","mandatory","true","id","listview-create-module",3,"label","defaultValue","options","valueChange"],["moduleAdd",""],["disabled","false","mandatory","true","id","build-manager-create-enterprises",3,"label","options","selectedOptions","valueChange","searchValueChange"],["multiSelectenabledstats",""],[1,"col-md-3","d-flex","align-items-center"],["label","","mandatory","true","disabled","false",3,"options","checked","valueChange"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","configoptions-confighighlights-add",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","configoptions-confighighlights-cancel",3,"label"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],["id","exampleModal2","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true","id","statdefinations-view-application",3,"label","value"],["disabled","true","id","statdefinations-view-page",3,"label","value"],["multieditSelectenabledstats",""],["className","btn btn-primary btn-sm","id","configoptions-confighighlights-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","configoptions-confighighlights-edit-cancel",3,"label"],["id","exampleModal3","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["disabled","true",3,"label","options","defaultValue"],["label","","mandatory","true","disabled","true",3,"options","checked","valueChange"],["className","btn btn-primary btn-sm","id","configoptions-confighighlights-delete",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","configoptions-confighighlights-delete-cancel",3,"label"],[1,"card","bd-0"],[1,"card-content"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["id","dashboardsettings-list-button-edit","className","btn btn-danger btn-sm",3,"label","buttonOnClick",4,"ngIf"],[1,"row"],[1,"",3,"header","totalPages","totalRecords","data","paginator","mobileListData","listingVariables","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","selectedSubMenuId","redirectionEvent","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],["id","dashboardsettings-list-button-edit","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],[1,"d-flex"],["disabled","false","className","btn btn-danger btn-sm","id","configoptions-confighighlights-create-linesadd",1,"mgr-5",3,"label","isEmitMouseEvent","buttonOnClick"],["id","dashboardsettings-edit-BUTTON_SUBMIT","className","btn btn-danger btn-sm",1,"mgr-5",3,"label","buttonOnClick"],["id","dashboardsettings-edit-BUTTON_CANCEL","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[1,"checkboxcol",2,"width","2em"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#exampleModal3",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","click"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._UZ(6,"app-pageheader",6),t.qZA(),t.TgZ(7,"div",7),t.YNc(8,z,16,21,"div",8),t.YNc(9,lt,21,21,"div",8),t.qZA()()()()()(),t.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13),t._uU(15),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"div",14)(19,"div",15)(20,"div",16),t._UZ(21,"app-input",17),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"div",16)(24,"app-dropdown-singleselect",18,19),t.NdJ("valueChange",function(l){return a.changeApplicationName(l)}),t.ALo(26,"translate"),t.qZA()(),t.TgZ(27,"div",16)(28,"app-dropdown-singleselect",20,21),t.NdJ("valueChange",function(l){return a.changePageName(l)}),t.ALo(30,"translate"),t.qZA()(),t.TgZ(31,"div",16)(32,"app-dropdown-multiselect-v2",22,23),t.NdJ("valueChange",function(l){return a.changeSelectedEnabledstats(l)})("searchValueChange",function(l){return a.getpagelevelStatdefinitions(l)}),t.ALo(34,"translate"),t.qZA()(),t.TgZ(35,"div",24)(36,"app-checkbox",25),t.NdJ("valueChange",function(l){return a.changeCheckBox(l)}),t.qZA()(),t.TgZ(37,"div",26)(38,"app-button",27),t.NdJ("buttonOnClick",function(){return a.linesAddSubmit()}),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"app-button",28),t.ALo(41,"translate"),t.qZA(),t.TgZ(42,"div",29),t._uU(43),t.ALo(44,"translate"),t.qZA()()()()()(),t.TgZ(45,"div",30)(46,"div",10)(47,"div",11)(48,"div",12)(49,"div",13),t._uU(50),t.ALo(51,"translate"),t.ALo(52,"translate"),t.qZA()(),t.TgZ(53,"div",14)(54,"div",15)(55,"div",16),t._UZ(56,"app-input",17),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"div",16),t._UZ(59,"app-input",31),t.ALo(60,"translate"),t.qZA(),t.TgZ(61,"div",16),t._UZ(62,"app-input",32),t.ALo(63,"translate"),t.qZA(),t.TgZ(64,"div",16)(65,"app-dropdown-multiselect-v2",22,33),t.NdJ("valueChange",function(l){return a.changeStatsDef(l)})("searchValueChange",function(l){return a.geteditpagelevelStatdefinitions(l)}),t.ALo(67,"translate"),t.qZA()(),t.TgZ(68,"div",24)(69,"app-checkbox",25),t.NdJ("valueChange",function(l){return a.changeCheckBox(l)}),t.qZA()(),t.TgZ(70,"div",26)(71,"app-button",34),t.NdJ("buttonOnClick",function(){return a.statsettingsEditSubmit()}),t.ALo(72,"translate"),t.qZA(),t._UZ(73,"app-button",35),t.ALo(74,"translate"),t.qZA()()()()()(),t.TgZ(75,"div",36)(76,"div",10)(77,"div",11)(78,"div",12)(79,"div",13),t._uU(80),t.ALo(81,"translate"),t.ALo(82,"translate"),t.qZA()(),t.TgZ(83,"div",14)(84,"div",15)(85,"div",16),t._UZ(86,"app-input",17),t.ALo(87,"translate"),t.qZA(),t.TgZ(88,"div",16),t._UZ(89,"app-input",31),t.ALo(90,"translate"),t.qZA(),t.TgZ(91,"div",16),t._UZ(92,"app-input",32),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"div",16),t._UZ(95,"app-dropdown-multiselect",37),t.ALo(96,"translate"),t.qZA(),t.TgZ(97,"div",24)(98,"app-checkbox",38),t.NdJ("valueChange",function(l){return a.changeCheckBox(l)}),t.qZA()(),t.TgZ(99,"div",26)(100,"app-button",39),t.NdJ("buttonOnClick",function(){return a.Delete()}),t.ALo(101,"translate"),t.qZA(),t._UZ(102,"app-button",40),t.ALo(103,"translate"),t.qZA()()()()()()),2&i&&(t.xp6(6),t.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),t.xp6(2),t.Q6J("ngIf",!1===a.editStatsettingsFlag),t.xp6(1),t.Q6J("ngIf",!0===a.editStatsettingsFlag),t.xp6(6),t.AsE("",t.lcZ(16,54,"COMMON_PAGE_TITLES.STAT_SETTINGS")," - ",t.lcZ(17,56,"COMMON_BUTTONS.BUTTON_ADD"),""),t.xp6(6),t.s9C("label",t.lcZ(22,58,"COMMON_PAGE_TITLES.ENTERPRISE")),t.s9C("value",a.enterpriseShortName),t.xp6(3),t.s9C("label",t.lcZ(26,60,"GENERAL_SETTINGS.APPLICATIONS")),t.s9C("defaultValue",a.applicationId),t.Q6J("options",a.applicationoptions),t.xp6(4),t.s9C("label",t.lcZ(30,62,"COMMON_FIELDS.PAGE")),t.s9C("defaultValue",a.pageId),t.Q6J("options",a.pageoptions),t.xp6(4),t.s9C("label",t.lcZ(34,64,"STAT_SETTINGS.ENABLED_STATS")),t.Q6J("options",a.enabledstatsOptions)("selectedOptions",a.selectedOptions),t.xp6(4),t.Q6J("options",a.checkboxEnabledOptions)("checked",a.enabled),t.xp6(2),t.s9C("label",t.lcZ(39,66,"COMMON_BUTTONS.BUTTON_ADD")),t.xp6(2),t.s9C("label",t.lcZ(41,68,"COMMON_BUTTONS.BUTTON_CANCEL")),t.xp6(3),t.hij(" ",t.lcZ(44,70,a.error)," "),t.xp6(7),t.AsE("",t.lcZ(51,72,"COMMON_PAGE_TITLES.STAT_SETTINGS")," - ",t.lcZ(52,74,"COMMON_BUTTONS.BUTTON_UPDATE"),""),t.xp6(6),t.s9C("label",t.lcZ(57,76,"COMMON_PAGE_TITLES.ENTERPRISE")),t.s9C("value",a.enterpriseShortName),t.xp6(3),t.s9C("label",t.lcZ(60,78,"GENERAL_SETTINGS.APPLICATIONS")),t.s9C("value",a.applicationDisplayName),t.xp6(3),t.s9C("label",t.lcZ(63,80,"COMMON_FIELDS.PAGE")),t.s9C("value",a.pageDisplayName),t.xp6(3),t.s9C("label",t.lcZ(67,82,"STAT_SETTINGS.ENABLED_STATS")),t.Q6J("options",a.editenabledstatsOptions)("selectedOptions",a.selectedEnabledstats),t.xp6(4),t.Q6J("options",a.checkboxEnabledOptions)("checked",a.enabled),t.xp6(2),t.s9C("label",t.lcZ(72,84,"COMMON_BUTTONS.BUTTON_UPDATE")),t.xp6(2),t.s9C("label",t.lcZ(74,86,"COMMON_BUTTONS.BUTTON_CANCEL")),t.xp6(7),t.AsE("",t.lcZ(81,88,"COMMON_PAGE_TITLES.STAT_SETTINGS")," - ",t.lcZ(82,90,"COMMON_BUTTONS.BUTTON_DELETE"),""),t.xp6(6),t.s9C("label",t.lcZ(87,92,"COMMON_PAGE_TITLES.ENTERPRISE")),t.s9C("value",a.enterpriseShortName),t.xp6(3),t.s9C("label",t.lcZ(90,94,"GENERAL_SETTINGS.APPLICATIONS")),t.s9C("value",a.applicationDisplayName),t.xp6(3),t.s9C("label",t.lcZ(93,96,"COMMON_FIELDS.PAGE")),t.s9C("value",a.pageDisplayName),t.xp6(3),t.s9C("label",t.lcZ(96,98,"STAT_SETTINGS.ENABLED_STATS")),t.Q6J("options",a.editenabledstatsOptions)("defaultValue",a.deleteSelectedEnabledstats),t.xp6(3),t.Q6J("options",a.checkboxEnabledOptions)("checked",a.enabled),t.xp6(2),t.s9C("label",t.lcZ(101,100,"COMMON_BUTTONS.BUTTON_DELETE")),t.xp6(2),t.s9C("label",t.lcZ(103,102,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[h.sg,h.O5,u.iA,f.h4,f.jx,u.Ei,g.UQ,g.US,j.r,w.a,U.k,G.c,P.E,k.b,I.n,B.q,V.y,m.X$]})}return n})(),data:{object_type:r.hf.USERS,title:"statsettings List",responsibilityParam:r.bP.MENUS+"."+r.w1.CONFIG_OPTIONS+"."+r.bP.SUBMENUS+"."+r.R0.STAT_SETTINGS+"."+r.Iu.ENABLED}}]}];let dt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.oAB({type:n});static \u0275inj=t.cJS({imports:[c.Bz.forChild(rt),c.Bz]})}return n})();var pt=o(65673);let ct=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=t.oAB({type:n});static \u0275inj=t.cJS({imports:[dt,h.ez,m.aw,_.u5,_.UX,u.U$,g.fx,pt.Q,N.D]})}return n})()}}]);