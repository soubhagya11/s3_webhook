"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4648],{64648:(le,I,o)=>{o.r(I),o.d(I,{VisitorhistoryModule:()=>oe});var m=o(32174),g=o(36895),J=o(32137),T=o(24006),E=o(83748),b=o(93144),p=o(54463),_=o(65673),A=o(11210),r=o(32236),u=o(62510),C=o(15861),w=o(42863),D=o(71568),P=o(47561),F=o(28168),j=o(30578),V=o(42786),H=o(75875),Z=o(90313),e=o(94650),Y=o(80529);let y=(()=>{class s{http;authService;userToken=localStorage.getItem(r.BU.TOKEN);constructor(a,t){this.http=a,this.authService=t}getAll(a,t,i,n,l,c,v,h){const O=v||"",S=Z.L.isEmpty(h)?"":"&advSearchString="+JSON.stringify(h);return this.authService.getApiCall("api/v1/visitorshistory?&enterprise.enterprise_id="+t+"&skip="+l+"&limit="+n+"&sort="+i+"&search="+a+O+S,c)}get(a){return this.authService.getApiCall("api/v1/visitorshistory/"+a,!0)}static \u0275fac=function(t){return new(t||s)(e.LFG(Y.eN),e.LFG(H.e))};static \u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var N=o(70057),L=o(27601),R=o(37415),U=o(88425);const B=["datatableComponent"];let k=(()=>{class s extends P.O{actionSheetController;columnheaders;loggerService;router;translateService;commonService;listingVariables;route;toastController;uiUtils;visitorHistoryService;datatableComponent;actions;enterpriseId;forceRefresh;headers;mobileRoutesArray;noDuplicates=void 0;searchString;visitorHistoryListData;visitorHistoryMobileListData=[];dataJsonObj={};constructor(a,t,i,n,l,c,v,h,O,S,ne){super(h,c),this.actionSheetController=a,this.columnheaders=t,this.loggerService=i,this.router=n,this.translateService=l,this.commonService=c,this.listingVariables=v,this.route=h,this.toastController=O,this.uiUtils=S,this.visitorHistoryService=ne,this.route.queryParams.subscribe(f=>{this.dataJsonObj.queryParamsObj={defaultView:f.default_view,selectedMenuId:f.selectedMenuId,selectedSubMenuId:f.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.VISITOR_HISTORY,this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.VISITOR_HISTORY",value:"",showSubMenuDisplayName:!0}],this.headers=this.columnheaders.getVisitorHistoryHeaders(),this.searchString="",this.forceRefresh=!1,this.actions={LOCATE:this.roleRightsValidation(r.ox.ADMIN,r.hf.VISITOR_HISTORY,r.A0.LOCATE)},this.commonService.currentEvent.subscribe(a=>{"visitorhistory"===a&&(this.forceRefresh=!0)}),this.dataJsonObj.addFiltersList=[],this.dataJsonObj.pageActionsList=[],this.roleRightsValidation(r.hf.VISITOR_HISTORY,r.AM.ACTIONS,r.In.CREATE)&&this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:r.gL.URL,queryParams:"",iconClass:"fas fa-plus"}),this.roleRightsValidation(r.hf.VISITOR_HISTORY,r.AM.ACTIONS,r.In.FILTERS)}ionViewWillEnter(){this.actions={LOCATE:this.roleRightsValidationByPage(r.hf.VISITOR_HISTORY,r.AM.ACTIONS,r.In.LOCATE)}}getSearchResult(a){this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString=a,this.getAllRecords(),this.datatableComponent.reset()}searchClose(){this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString="",this.getAllRecords(),this.datatableComponent.reset()}getAllRecords(){try{this.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.visitorHistoryService.getAll(this.searchString,this.enterpriseId,this.listingVariables.sortOrderColumn,this.listingVariables.rowsPerPage,this.listingVariables.pageNumbers,this.forceRefresh,this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(t=>{if(t.rows.length>0){this.visitorHistoryMobileListData&&this.visitorHistoryMobileListData.length>0||(this.visitorHistoryMobileListData=[]);for(let i=0;i<t.rows.length;i++){t.rows[i].firstLineDisplay=t.rows[i].enterprise.enterprise_name,t.rows[i].secondLineDisplay=t.rows[i].visitor?t.rows[i].visitor.l_name+", "+t.rows[i].visitor.f_name:"",t.rows[i].thirdLineDisplay=t.rows[i].event.event_name,t.rows[i].enterprise.short_name='<a class="enable" id="enterprise.short_name'+t.rows[i]._id+'" href="enterprises/enterprises/'+t.rows[i].enterprise.enterprise_id+'/view" >'+t.rows[i].enterprise.short_name;const n={url:`admin/visitorhistory/${t.rows[i]._id}/view`,queryParams:this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:""},l=n.queryParams&&Object.keys(n.queryParams).length>0?`${n.url}?${JSON.stringify(n.queryParams)}`:n.url;t.rows[i].visitorName=`<a class="enable" id="visitorName${t.rows[i]._id}" href=${l}>${t.rows[i].visitor.l_name}${t.rows[i].visitor.f_name}`,t.rows[i].visitorActivityObj=t.rows[i].visitor_activities[0],this.visitorHistoryMobileListData=this.visitorHistoryMobileListData.filter(c=>c._id!==t.rows[i]._id),this.visitorHistoryMobileListData.push(t.rows[i])}t.totalCount&&(this.listingVariables.totalRecords=t.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=t.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.visitorHistoryListData=this.visitorHistoryListData.concat(t.rows)):this.visitorHistoryListData=t.rows}else this.visitorHistoryListData=[],this.visitorHistoryMobileListData=[]},t=>{this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",a)}}loadPageData(a){"visitorName"===this.listingVariables.sortField&&(this.listingVariables.sortField="visitor.f_name"),"visitor_activities.beacon"===this.listingVariables.sortField&&(this.listingVariables.sortField="visitor_activities.beacon.beacon_name"),"visitor_activities.facility"===this.listingVariables.sortField&&(this.listingVariables.sortField="visitor_activities.facility.facility_name"),this.listingVariables.pageNumbers=a.listingVariables.pageNumbers,a.clearMobileData&&(this.visitorHistoryMobileListData=this.noDuplicates),a.isPaginationChange&&(this.dataJsonObj.selectedFilter=a.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=a.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=a.selectedAdvancedSearchObj),this.getAllRecords()}onItemClicked(a){this.commonService.redirectToUrl(["..",a._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}mobileEventAction(a){try{this.mobileRoutesArray=[],this.roleRightsValidationByPage(r.hf.VISITOR_HISTORY,r.AM.ACTIONS,r.In.LOCATE)&&this.mobileRoutesArray.push({text:this.translateService.instant("NOTIFICATIONS.LOCATE"),handler:()=>{this.router.navigate(["/map"]),this.router.routeReuseStrategy.clearModuleRouteCache("visitorhistory")}}),this.presentActionSheet(a)}catch(t){this.loggerService.setLoggerError(this.constructor.name,"mobileEventAction",t)}}presentActionSheet(a){var t=this;return(0,C.Z)(function*(){yield(yield t.actionSheetController.create({cssClass:"actionsheet",buttons:t.mobileRoutesArray})).present()})()}onActionClicked(a){"LOCATE"===a.action&&(this.router.navigate(["/map"]),this.router.routeReuseStrategy.clearModuleRouteCache("visitorhistory"))}selectedViewType(a){this.dataJsonObj.selectedDisplayView=a}selectedFilterType(a){a?this.dataJsonObj.selectedFilter=a:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}onPageLevelActionClicked(a){}advancedSearchFilterClicked(a){this.dataJsonObj.selectedAdvancedSearchObj=a}onHeaderItemClick(a){switch(a.type){case"search":this.getSearchResult(a.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(a.event);break;case"filters":this.selectedFilterType(a.event);break;case"advanced_search":this.advancedSearchFilterClicked(a.event);break;case"page_actions":this.onPageLevelActionClicked(a.event)}}static \u0275fac=function(t){return new(t||s)(e.Y36(N.BX),e.Y36(w.Y),e.Y36(V.m),e.Y36(u.F0),e.Y36(p.sK),e.Y36(D.v),e.Y36(j.v),e.Y36(u.gz),e.Y36(N.yF),e.Y36(L.s),e.Y36(y))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-visitorhistory-list"]],viewQuery:function(t,i){if(1&t&&e.Gf(B,5),2&t){let n;e.iGM(n=e.CRH())&&(i.datatableComponent=n.first)}},features:[e._Bn([y,j.v,w.Y]),e.qOj],decls:9,vars:26,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],[3,"header","actions","data","totalRecords","paginator","totalPages","mobileListData","expand","listingVariables","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","selectedSubMenuId","actionClicked","itemClickEvent","redirectionEvent","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(l){return i.onHeaderItemClick(l)}),e.qZA()(),e.TgZ(4,"div",4)(5,"app-datatable",5,6),e.NdJ("actionClicked",function(l){return i.onActionClicked(l)})("itemClickEvent",function(l){return i.onItemClicked(l)})("redirectionEvent",function(l){return i.mobileEventAction(l)})("loadPageData",function(l){return i.loadPageData(l)}),e.qZA(),e.TgZ(7,"div",7)(8,"app-page-actions",8),e.NdJ("selectedAction",function(l){return i.onPageLevelActionClicked(l)}),e.qZA()()()()()),2&t&&(e.xp6(3),e.Q6J("pageName",i.dataJsonObj.pageName)("defaultView",null==i.dataJsonObj.queryParamsObj?null:i.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",i.dataJsonObj.pageActionsList)("pageTitle",i.dataJsonObj.pageTitle)("selectedMenuId",null==i.dataJsonObj.queryParamsObj?null:i.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==i.dataJsonObj.queryParamsObj?null:i.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(2),e.Q6J("header",i.headers)("actions",i.actions)("data",i.visitorHistoryListData)("totalRecords",i.listingVariables.totalRecords)("paginator",!0)("totalPages",i.listingVariables.totalpages)("mobileListData",i.visitorHistoryMobileListData)("expand",!1)("listingVariables",i.listingVariables)("selectedDisplayViewType",i.dataJsonObj.selectedDisplayView)("selectedFilterType",i.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",i.dataJsonObj.selectedAdvancedSearchObj)("pageName",i.dataJsonObj.pageName)("selectedMenuId",null==i.dataJsonObj.queryParamsObj?null:i.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==i.dataJsonObj.queryParamsObj?null:i.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",i.dataJsonObj.pageActionsList))},dependencies:[F.n,R.q,U.y]})}return s})();var q=o(46448),M=o(10805),Q=o(2387),$=o(56368),W=o(11735);function z(s,d){if(1&s&&(e.TgZ(0,"tr",27)(1,"td",28),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&s){const a=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",a[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function G(s,d){if(1&s&&e.YNc(0,z,4,4,"tr",26),2&s){const a=e.oxw();e.Q6J("ngIf",a.visitorActivitiesData&&0==a.visitorActivitiesData.length)}}function K(s,d){if(1&s&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&s){const a=d.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,a.header)," ")}}function X(s,d){if(1&s&&(e.TgZ(0,"tr"),e.YNc(1,K,3,3,"th",29),e.qZA()),2&s){const a=d.$implicit;e.xp6(1),e.Q6J("ngForOf",a[0])}}function x(s,d){if(1&s&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&s){const a=d.$implicit,t=e.oxw().$implicit;e.Tol(a.class),e.Q6J("pSelectableRow",t),e.xp6(1),e.hij(" ",t[a.field]," ")}}function ee(s,d){if(1&s&&(e.TgZ(0,"tr"),e.YNc(1,x,2,5,"td",30),e.qZA()),2&s){const a=d.columns;e.xp6(1),e.Q6J("ngForOf",a[0])}}function te(s,d){if(1&s&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",33)(6,"br"),e.qZA()),2&s){const a=d.$implicit,t=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,a.header)),e.xp6(3),e.Q6J("innerHTML",t[a.field],e.oJD)}}function ie(s,d){if(1&s&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,te,7,4,"div",32),e.qZA()()()),2&s){const a=d.columns;e.xp6(1),e.uIk("colspan",a[0].length+2),e.xp6(2),e.Q6J("ngForOf",a[1])}}const se=[{path:"",data:{title:"visitor history"},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:k,canActivate:[A.P],data:{responsibilityParam:r.bP.MENUS+"."+r.w1.ADMIN+"."+r.bP.SUBMENUS+"."+r.w1.VISITOR_HISTORY+"."+r.Iu.ENABLED,pageName:r.hf.VISITOR_HISTORY}},{path:":id/view",component:(()=>{class s{loggerService;navigationService;router;translateService;uiUtils;commonService;route;visitorHistoryService;enterpriseId;headers;recordId;viewData;visitorActivitiesData=[];visitorName;dataJsonObj;roleRightsValidationByPage;constructor(a,t,i,n,l,c,v,h){this.loggerService=a,this.navigationService=t,this.router=i,this.translateService=n,this.uiUtils=l,this.commonService=c,this.route=v,this.visitorHistoryService=h}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.VISITOR_HISTORY,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.VISITOR_HISTORY",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.headers=[[{headersort:"disableth",sortfield:"",field:"beaconName",header:this.translateService.instant("NEW_VARIABLES.BEACON_NAME"),class:"w-140"},{headersort:"disableth",field:"facilityName",header:this.translateService.instant("NEW_VARIABLES.FACILITY_NAME"),class:""},{headersort:"disableth",field:"kiosk_id",header:this.translateService.instant("NEW_VARIABLES.KIOSK_ID"),class:"w-60"},{headersort:"",field:"visitedAt",header:this.translateService.instant("NEW_VARIABLES.VISITED_AT"),class:"w-150 text-end"},{headersort:"",field:"facilityOwner",header:this.translateService.instant("NEW_VARIABLES.FACILITY_OWNER"),class:""}],[]],this.route.params.subscribe(t=>{this.recordId=t.id,this.getRecordById()}),this.route.queryParams.subscribe(t=>{this.dataJsonObj.queryParamsObj={defaultView:t.defaultView,selectedMenuId:t.selectedMenuId,selectedSubMenuId:t.selectedSubMenuId}}),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.VISITOR_HISTORY,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.dataJsonObj.selectedPage=r.hf.VISITOR_HISTORY,this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}])}getDynamicJson(a){var t=this;return(0,C.Z)(function*(){for(let i of a)t.dataJsonObj[i.storingFieldName]=yield t.commonService.getDynamicJson(t.enterpriseId,i.folderName,i.jsonType);t.dataJsonObj.selectedObj={},t.dataJsonObj.selectedObj.recordId=t.recordId,t.dataJsonObj.selectedObj.pageObj=t.dataJsonObj.menuDataJson.filter(i=>i.menu_page.page_name===t.dataJsonObj.selectedPage),t.dataJsonObj.selectedObjEnabled=!0})()}cancelBtn(){this.commonService.redirectToPreviousUrl()}getRecordById(){try{this.visitorHistoryService.get(this.recordId).subscribe(a=>{if(this.viewData=a,this.enterpriseId=this.viewData.enterprise.enterprise_id,this.visitorName=this.viewData.visitor.l_name+", "+this.viewData.visitor.f_name,this.visitorActivitiesData=[],this.viewData.visitor_activities.length>0)for(let t=0;t<this.viewData.visitor_activities.length;t++)this.viewData.visitor_activities[t].facilityOwner=this.viewData.visitor_activities[t].facility_owner?this.viewData.visitor_activities[t].facility_owner.l_name+", "+this.viewData.visitor_activities[t].facility_owner.f_name:"",this.viewData.visitor_activities[t].beaconName=this.viewData.visitor_activities[t].beacon.beacon_name,this.viewData.visitor_activities[t].facilityName=this.viewData.visitor_activities[t].facility.facility_name,this.viewData.visitor_activities[t].visitedAt=this.commonService.dbTimezoneFormatWithHours(this.viewData.visitor_activities[t].visitedAt),this.visitorActivitiesData.push(this.viewData.visitor_activities[t]);else this.visitorActivitiesData=[]},a=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",a)}}static \u0275fac=function(t){return new(t||s)(e.Y36(V.m),e.Y36(q.f),e.Y36(u.F0),e.Y36(p.sK),e.Y36(L.s),e.Y36(D.v),e.Y36(u.gz),e.Y36(y))};static \u0275cmp=e.Xpm({type:s,selectors:[["app-visitorhistory-view"]],decls:37,vars:36,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["disabled","true","id","visitorhistory-view-enterprise",3,"label","value"],["disabled","true","id","visitorhistory-view-visitorName",3,"label","value"],["disabled","true","id","visitorhistory-view-eventName",3,"label","value"],[1,"col-md-12","text-end","mt-2","mb-2","order-md-1","order-2"],["id","visitorhistory-view-close","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],[1,"row"],[1,"card"],[1,"card-content"],[1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[3,"createdBy","lastUpdatedBy","showrecordhistory","creationDate","lastUpdatedDate"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[4,"ngFor","ngForOf"],["data-toggle","modal",3,"pSelectableRow","class",4,"ngFor","ngForOf"],["data-toggle","modal",3,"pSelectableRow"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"app-input",11),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"app-input",12),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",13)(19,"app-button",14),e.NdJ("buttonOnClick",function(){return i.cancelBtn()}),e.ALo(20,"translate"),e.qZA()()(),e.TgZ(21,"div",15)(22,"div",3)(23,"div",16)(24,"div",17)(25,"p-accordion")(26,"p-accordionTab",18)(27,"p-header",19)(28,"span"),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"p-table",20),e.YNc(32,G,1,1,"ng-template",21),e.YNc(33,X,2,1,"ng-template",22),e.YNc(34,ee,2,1,"ng-template",23),e.YNc(35,ie,4,2,"ng-template",24),e.qZA()(),e._UZ(36,"app-recordhistory",25),e.qZA()()()()()()()()()()()),2&t&&(e.xp6(6),e.Q6J("pageName",i.dataJsonObj.pageName)("pageTitle",i.dataJsonObj.pageTitle)("selectedMenuId",null==i.dataJsonObj.queryParamsObj?null:i.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==i.dataJsonObj.queryParamsObj?null:i.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(4),e.s9C("label",e.lcZ(11,26,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",null==i.viewData||null==i.viewData.enterprise?null:i.viewData.enterprise.short_name),e.xp6(3),e.s9C("label",e.lcZ(14,28,"NEW_VARIABLES.VISITOR_NAME")),e.s9C("value",i.visitorName),e.xp6(3),e.s9C("label",e.lcZ(17,30,"NEW_VARIABLES.EVENT_NAME")),e.s9C("value",null==i.viewData||null==i.viewData.event?null:i.viewData.event.event_name),e.xp6(3),e.s9C("label",e.lcZ(20,32,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(7),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(30,34,"NEW_VARIABLES.VISITOR_ACTIVITIES")),e.xp6(2),e.Q6J("columns",i.headers)("value",i.visitorActivitiesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(5),e.Q6J("createdBy",null==i.viewData?null:i.viewData.created_by)("lastUpdatedBy",null==i.viewData?null:i.viewData.updated_by)("showrecordhistory",i.dataJsonObj.showrecordhistory)("creationDate",null==i.viewData?null:i.viewData.createdAt)("lastUpdatedDate",null==i.viewData?null:i.viewData.updatedAt))},dependencies:[m.UQ,m.US,M.h4,M.jx,g.sg,g.O5,b.iA,b.Ei,Q.r,$.a,W.W,R.q,p.X$]})}return s})(),canActivate:[A.P],data:{responsibilityParam:r.bP.MENUS+"."+r.w1.ADMIN+"."+r.bP.SUBMENUS+"."+r.w1.VISITOR_HISTORY+"."+r.In.VIEW,pageName:r.hf.VISITOR_HISTORY,pageSetting:r.AM.ACTIONS,settingField:r.In.VIEW}}]}];let re=(()=>{class s{static \u0275fac=function(t){return new(t||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({imports:[u.Bz.forChild(se),u.Bz]})}return s})(),oe=(()=>{class s{static \u0275fac=function(t){return new(t||s)};static \u0275mod=e.oAB({type:s});static \u0275inj=e.cJS({imports:[re,m.fx,g.ez,J.D,T.u5,T.UX,E.v,b.U$,p.aw,_.Q]})}return s})()}}]);