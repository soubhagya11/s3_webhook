"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7470],{97470:(xi,X,p)=>{p.r(X),p.d(X,{DashboardModule:()=>Ii});var y=p(32174),ee=p(27809),O=p(36895),me=p(32137),S=p(11210),P=p(15861),I=p(98407),j=(p(93077),p(71568)),Z=p(29583),te=p(95717),M=p(21413),ae=p(57936),ie=p(24754),x=p(42786),l=p(32236),J=p(81622),V=p(57530),e=p(94650),C=p(62510),be=p(11481),w=p(54463),R=p(27601),m=function(){function r(){}return r.mapToArray=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t},r.handleEvent=function(n,t,i){0<t.observers.length&&n.run(function(){t.emit(i)})},r}(),D=function(){function r(n,t){this.element=n,this.zone=t,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,I.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new e.vpe,this.zoomChange=new e.vpe,this.centerChange=new e.vpe,this.onClick=new e.vpe,this.onDoubleClick=new e.vpe,this.onMouseDown=new e.vpe,this.onMouseUp=new e.vpe,this.onMouseMove=new e.vpe,this.onMouseOver=new e.vpe,this.onMouseOut=new e.vpe,this.onMapMove=new e.vpe,this.onMapMoveStart=new e.vpe,this.onMapMoveEnd=new e.vpe,this.onMapZoom=new e.vpe,this.onMapZoomStart=new e.vpe,this.onMapZoomEnd=new e.vpe,this.mapEventHandlers={}}return r.prototype.ngOnInit=function(){var n=this;this.zone.runOutsideAngular(function(){n.map=(0,I.map)(n.element.nativeElement,n.options),n.addMapEventListeners()}),null!=this.center&&null!=this.zoom&&this.setView(this.center,this.zoom),null!=this.fitBounds&&this.setFitBounds(this.fitBounds),null!=this.maxBounds&&this.setMaxBounds(this.maxBounds),null!=this.minZoom&&this.setMinZoom(this.minZoom),null!=this.maxZoom&&this.setMaxZoom(this.maxZoom),this.doResize(),this.mapReady.emit(this.map)},r.prototype.ngOnChanges=function(n){n.zoom&&n.center&&null!=this.zoom&&null!=this.center?this.setView(n.center.currentValue,n.zoom.currentValue):n.zoom?this.setZoom(n.zoom.currentValue):n.center&&this.setCenter(n.center.currentValue),n.fitBounds&&this.setFitBounds(n.fitBounds.currentValue),n.maxBounds&&this.setMaxBounds(n.maxBounds.currentValue),n.minZoom&&this.setMinZoom(n.minZoom.currentValue),n.maxZoom&&this.setMaxZoom(n.maxZoom.currentValue)},r.prototype.ngOnDestroy=function(){this.map.remove()},r.prototype.getMap=function(){return this.map},r.prototype.onResize=function(){this.delayResize()},r.prototype.addMapEventListeners=function(){var n=this,t=function(a,o){n.mapEventHandlers[a]=o,n.map.on(a,o)};t("click",function(a){return m.handleEvent(n.zone,n.onClick,a)}),t("dblclick",function(a){return m.handleEvent(n.zone,n.onDoubleClick,a)}),t("mousedown",function(a){return m.handleEvent(n.zone,n.onMouseDown,a)}),t("mouseup",function(a){return m.handleEvent(n.zone,n.onMouseUp,a)}),t("mouseover",function(a){return m.handleEvent(n.zone,n.onMouseOver,a)}),t("mouseout",function(a){return m.handleEvent(n.zone,n.onMouseOut,a)}),t("mousemove",function(a){return m.handleEvent(n.zone,n.onMouseMove,a)}),t("zoomstart",function(a){return m.handleEvent(n.zone,n.onMapZoomStart,a)}),t("zoom",function(a){return m.handleEvent(n.zone,n.onMapZoom,a)}),t("zoomend",function(a){return m.handleEvent(n.zone,n.onMapZoomEnd,a)}),t("movestart",function(a){return m.handleEvent(n.zone,n.onMapMoveStart,a)}),t("move",function(a){return m.handleEvent(n.zone,n.onMapMove,a)}),t("moveend",function(a){return m.handleEvent(n.zone,n.onMapMoveEnd,a)});var i=function(){var a=n.map.getZoom();a!==n.zoom&&(n.zoom=a,m.handleEvent(n.zone,n.zoomChange,a));var o=n.map.getCenter();(null!=o||null!=n.center)&&((null==o||null==n.center)&&o!==n.center||o.lat!==n.center.lat||o.lng!==n.center.lng)&&(n.center=o,m.handleEvent(n.zone,n.centerChange,o))};t("moveend",i),t("zoomend",i)},r.prototype.doResize=function(){var n=this;this.zone.runOutsideAngular(function(){n.map.invalidateSize({})})},r.prototype.delayResize=function(){null!=this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)},r.prototype.setView=function(n,t){this.map&&null!=n&&null!=t&&this.map.setView(n,t,this.zoomPanOptions)},r.prototype.setZoom=function(n){this.map&&null!=n&&this.map.setZoom(n,this.zoomOptions)},r.prototype.setCenter=function(n){this.map&&null!=n&&this.map.panTo(n,this.panOptions)},r.prototype.setFitBounds=function(n){this.map&&null!=n&&this.map.fitBounds(n,this.fitBoundsOptions)},r.prototype.setMaxBounds=function(n){this.map&&null!=n&&this.map.setMaxBounds(n)},r.prototype.setMinZoom=function(n){this.map&&null!=n&&this.map.setMinZoom(n)},r.prototype.setMaxZoom=function(n){this.map&&null!=n&&this.map.setMaxZoom(n)},r.ctorParameters=function(){return[{type:e.SBq},{type:e.R0b}]},r.propDecorators={fitBoundsOptions:[{type:e.IIB,args:["leafletFitBoundsOptions"]}],panOptions:[{type:e.IIB,args:["leafletPanOptions"]}],zoomOptions:[{type:e.IIB,args:["leafletZoomOptions"]}],zoomPanOptions:[{type:e.IIB,args:["leafletZoomPanOptions"]}],options:[{type:e.IIB,args:["leafletOptions"]}],mapReady:[{type:e.r_U,args:["leafletMapReady"]}],zoom:[{type:e.IIB,args:["leafletZoom"]}],zoomChange:[{type:e.r_U,args:["leafletZoomChange"]}],center:[{type:e.IIB,args:["leafletCenter"]}],centerChange:[{type:e.r_U,args:["leafletCenterChange"]}],fitBounds:[{type:e.IIB,args:["leafletFitBounds"]}],maxBounds:[{type:e.IIB,args:["leafletMaxBounds"]}],minZoom:[{type:e.IIB,args:["leafletMinZoom"]}],maxZoom:[{type:e.IIB,args:["leafletMaxZoom"]}],onClick:[{type:e.r_U,args:["leafletClick"]}],onDoubleClick:[{type:e.r_U,args:["leafletDoubleClick"]}],onMouseDown:[{type:e.r_U,args:["leafletMouseDown"]}],onMouseUp:[{type:e.r_U,args:["leafletMouseUp"]}],onMouseMove:[{type:e.r_U,args:["leafletMouseMove"]}],onMouseOver:[{type:e.r_U,args:["leafletMouseOver"]}],onMouseOut:[{type:e.r_U,args:["leafletMouseOut"]}],onMapMove:[{type:e.r_U,args:["leafletMapMove"]}],onMapMoveStart:[{type:e.r_U,args:["leafletMapMoveStart"]}],onMapMoveEnd:[{type:e.r_U,args:["leafletMapMoveEnd"]}],onMapZoom:[{type:e.r_U,args:["leafletMapZoom"]}],onMapZoomStart:[{type:e.r_U,args:["leafletMapZoomStart"]}],onMapZoomEnd:[{type:e.r_U,args:["leafletMapZoomEnd"]}],onResize:[{type:e.L6J,args:["window:resize",[]]}]},r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.R0b))},r.\u0275dir=e.lG2({type:r,selectors:[["","leaflet",""]],hostBindings:function(t,i){1&t&&e.NdJ("resize",function(){return i.onResize()},!1,e.Jf7)},inputs:{fitBoundsOptions:["leafletFitBoundsOptions","fitBoundsOptions"],panOptions:["leafletPanOptions","panOptions"],zoomOptions:["leafletZoomOptions","zoomOptions"],zoomPanOptions:["leafletZoomPanOptions","zoomPanOptions"],options:["leafletOptions","options"],zoom:["leafletZoom","zoom"],center:["leafletCenter","center"],fitBounds:["leafletFitBounds","fitBounds"],maxBounds:["leafletMaxBounds","maxBounds"],minZoom:["leafletMinZoom","minZoom"],maxZoom:["leafletMaxZoom","maxZoom"]},outputs:{mapReady:"leafletMapReady",zoomChange:"leafletZoomChange",centerChange:"leafletCenterChange",onClick:"leafletClick",onDoubleClick:"leafletDoubleClick",onMouseDown:"leafletMouseDown",onMouseUp:"leafletMouseUp",onMouseMove:"leafletMouseMove",onMouseOver:"leafletMouseOver",onMouseOut:"leafletMouseOut",onMapMove:"leafletMapMove",onMapMoveStart:"leafletMapMoveStart",onMapMoveEnd:"leafletMapMoveEnd",onMapZoom:"leafletMapZoom",onMapZoomStart:"leafletMapZoomStart",onMapZoomEnd:"leafletMapZoomEnd"},features:[e.TTD]}),r}(),k=function(){function r(n){this.leafletDirective=n}return r.prototype.init=function(){},r.prototype.getMap=function(){return this.leafletDirective.getMap()},r}(),q=(function(){function r(n,t){this.zone=t,this.onAdd=new e.vpe,this.onRemove=new e.vpe,this.leafletDirective=new k(n)}r.prototype.ngOnInit=function(){this.leafletDirective.init()},r.prototype.ngOnDestroy=function(){null!=this.layer&&(this.removeLayerEventListeners(this.layer),this.layer.remove())},r.prototype.ngOnChanges=function(n){var t=this;if(n.layer){var i=n.layer.previousValue,a=n.layer.currentValue;this.zone.runOutsideAngular(function(){null!=i&&(t.removeLayerEventListeners(i),i.remove()),null!=a&&(t.addLayerEventListeners(a),t.leafletDirective.getMap().addLayer(a))})}},r.prototype.addLayerEventListeners=function(n){var t=this;this.onAddLayerHandler=function(i){return m.handleEvent(t.zone,t.onAdd,i)},n.on("add",this.onAddLayerHandler),this.onRemoveLayerHandler=function(i){return m.handleEvent(t.zone,t.onRemove,i)},n.on("remove",this.onRemoveLayerHandler)},r.prototype.removeLayerEventListeners=function(n){n.off("add",this.onAddLayerHandler),n.off("remove",this.onRemoveLayerHandler)},r.ctorParameters=function(){return[{type:D},{type:e.R0b}]},r.propDecorators={layer:[{type:e.IIB,args:["leafletLayer"]}],onAdd:[{type:e.r_U,args:["leafletLayerAdd"]}],onRemove:[{type:e.r_U,args:["leafletLayerRemove"]}]},r.\u0275fac=function(t){return new(t||r)(e.Y36(D),e.Y36(e.R0b))},r.\u0275dir=e.lG2({type:r,selectors:[["","leafletLayer",""]],inputs:{layer:["leafletLayer","layer"]},outputs:{onAdd:"leafletLayerAdd",onRemove:"leafletLayerRemove"},features:[e.TTD]})}(),function(){function r(n,t,i){this.differs=t,this.zone=i,this.leafletDirective=new k(n),this.layersDiffer=this.differs.find([]).create()}Object.defineProperty(r.prototype,"layers",{get:function(){return this.layersValue},set:function(n){this.layersValue=n,this.updateLayers()},enumerable:!1,configurable:!0}),r.prototype.ngDoCheck=function(){this.updateLayers()},r.prototype.ngOnInit=function(){this.leafletDirective.init(),this.updateLayers()},r.prototype.ngOnDestroy=function(){this.layers=[]},r.prototype.updateLayers=function(){var n=this.leafletDirective.getMap();if(null!=n&&null!=this.layersDiffer){var t=this.layersDiffer.diff(this.layersValue);null!=t&&this.zone.runOutsideAngular(function(){t.forEachRemovedItem(function(i){n.removeLayer(i.item)}),t.forEachAddedItem(function(i){n.addLayer(i.item)})})}},r.ctorParameters=function(){return[{type:D},{type:e.ZZ4},{type:e.R0b}]},r.propDecorators={layers:[{type:e.IIB,args:["leafletLayers"]}]},r.\u0275fac=function(t){return new(t||r)(e.Y36(D),e.Y36(e.ZZ4),e.Y36(e.R0b))},r.\u0275dir=e.lG2({type:r,selectors:[["","leafletLayers",""]],inputs:{layers:["leafletLayers","layers"]}})}(),function(){function r(){this.layersRemoved=0,this.layersChanged=0,this.layersAdded=0}return r.prototype.changed=function(){return!(0===this.layersRemoved&&0===this.layersChanged&&0===this.layersAdded)},r}()),re=function(){function r(n,t){this.zone=n,this.layersControlReady=t}return r.prototype.getLayersControl=function(){return this.layersControl},r.prototype.init=function(n,t){var i=this,a=n.baseLayers||{},o=n.overlays||{};return this.zone.runOutsideAngular(function(){i.layersControl=I.control.layers(a,o,t)}),this.layersControlReady.emit(this.layersControl),this.layersControl},r.prototype.applyBaseLayerChanges=function(n){var t=new q;return null!=this.layersControl&&(t=this.applyChanges(n,this.layersControl.addBaseLayer)),t},r.prototype.applyOverlayChanges=function(n){var t=new q;return null!=this.layersControl&&(t=this.applyChanges(n,this.layersControl.addOverlay)),t},r.prototype.applyChanges=function(n,t){var i=this,a=new q;return null!=n&&this.zone.runOutsideAngular(function(){n.forEachChangedItem(function(o){i.layersControl.removeLayer(o.previousValue),t.call(i.layersControl,o.currentValue,o.key),a.layersChanged++}),n.forEachRemovedItem(function(o){i.layersControl.removeLayer(o.previousValue),a.layersRemoved++}),n.forEachAddedItem(function(o){t.call(i.layersControl,o.currentValue,o.key),a.layersAdded++})}),a},r}(),Oe=function r(){this.baseLayers={},this.overlays={}},Ce=(function(){function r(n,t,i){this.differs=t,this.zone=i,this.layersControlReady=new e.vpe,this.leafletDirective=new k(n),this.controlLayers=new re(this.zone,this.layersControlReady),this.baseLayersDiffer=this.differs.find({}).create(),this.overlaysDiffer=this.differs.find({}).create()}Object.defineProperty(r.prototype,"layersControlConfig",{get:function(){return this.layersControlConfigValue},set:function(n){null==n&&(n=new Oe),null==n.baseLayers&&(n.baseLayers={}),null==n.overlays&&(n.overlays={}),this.layersControlConfigValue=n,this.updateLayers()},enumerable:!1,configurable:!0}),r.prototype.ngOnInit=function(){var n=this;this.leafletDirective.init(),this.zone.runOutsideAngular(function(){n.controlLayers.init({},n.layersControlOptions).addTo(n.leafletDirective.getMap())}),this.updateLayers()},r.prototype.ngOnDestroy=function(){this.layersControlConfig={baseLayers:{},overlays:{}},this.controlLayers.getLayersControl().remove()},r.prototype.ngDoCheck=function(){this.updateLayers()},r.prototype.updateLayers=function(){var n=this.leafletDirective.getMap(),t=this.controlLayers.getLayersControl();if(null!=n&&null!=t){if(null!=this.baseLayersDiffer&&null!=this.layersControlConfigValue.baseLayers){var i=this.baseLayersDiffer.diff(this.layersControlConfigValue.baseLayers);this.controlLayers.applyBaseLayerChanges(i)}null!=this.overlaysDiffer&&null!=this.layersControlConfigValue.overlays&&(i=this.overlaysDiffer.diff(this.layersControlConfigValue.overlays),this.controlLayers.applyOverlayChanges(i))}},r.ctorParameters=function(){return[{type:D},{type:e.aQg},{type:e.R0b}]},r.propDecorators={layersControlConfig:[{type:e.IIB,args:["leafletLayersControl"]}],layersControlOptions:[{type:e.IIB,args:["leafletLayersControlOptions"]}],layersControlReady:[{type:e.r_U,args:["leafletLayersControlReady"]}]},r.\u0275fac=function(t){return new(t||r)(e.Y36(D),e.Y36(e.aQg),e.Y36(e.R0b))},r.\u0275dir=e.lG2({type:r,selectors:[["","leafletLayersControl",""]],inputs:{layersControlConfig:["leafletLayersControl","layersControlConfig"],layersControlOptions:["leafletLayersControlOptions","layersControlOptions"]},outputs:{layersControlReady:"leafletLayersControlReady"}})}(),function(){function r(n,t,i){this.differs=t,this.zone=i,this.layersControlReady=new e.vpe,this.leafletDirective=new k(n),this.controlLayers=new re(this.zone,this.layersControlReady),this.baseLayersDiffer=this.differs.find({}).create()}Object.defineProperty(r.prototype,"baseLayers",{get:function(){return this.baseLayersValue},set:function(n){this.baseLayersValue=n,this.updateBaseLayers()},enumerable:!1,configurable:!0}),r.prototype.ngOnDestroy=function(){this.baseLayers={},this.controlLayers.getLayersControl().remove()},r.prototype.ngOnInit=function(){var n=this;this.leafletDirective.init(),this.zone.runOutsideAngular(function(){n.controlLayers.init({},n.layersControlOptions).addTo(n.leafletDirective.getMap())}),this.updateBaseLayers()},r.prototype.ngDoCheck=function(){this.updateBaseLayers()},r.prototype.updateBaseLayers=function(){var n=this.leafletDirective.getMap(),t=this.controlLayers.getLayersControl();if(null!=n&&null!=t&&null!=this.baseLayersDiffer){var i=this.baseLayersDiffer.diff(this.baseLayersValue);this.controlLayers.applyBaseLayerChanges(i).changed()&&this.syncBaseLayer()}},r.prototype.syncBaseLayer=function(){var a,n=this,t=this.leafletDirective.getMap(),i=m.mapToArray(this.baseLayers);t.eachLayer(function(o){a=i.find(function(s){return o===s})}),null!=a?this.baseLayer=a:i.length>0&&(this.baseLayer=i[0],this.zone.runOutsideAngular(function(){n.baseLayer.addTo(t)}))},r.ctorParameters=function(){return[{type:D},{type:e.aQg},{type:e.R0b}]},r.propDecorators={baseLayers:[{type:e.IIB,args:["leafletBaseLayers"]}],layersControlOptions:[{type:e.IIB,args:["leafletLayersControlOptions"]}],layersControlReady:[{type:e.r_U,args:["leafletLayersControlReady"]}]},r.\u0275fac=function(t){return new(t||r)(e.Y36(D),e.Y36(e.aQg),e.Y36(e.R0b))},r.\u0275dir=e.lG2({type:r,selectors:[["","leafletBaseLayers",""]],inputs:{baseLayers:["leafletBaseLayers","baseLayers"],layersControlOptions:["leafletLayersControlOptions","layersControlOptions"]},outputs:{layersControlReady:"leafletLayersControlReady"}})}(),function(){function r(){}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r}()),fe=(function(){function r(n,t,i){this.type=n,this.url=t,this.options=i}r.createTileLayer=function(n){return"xyz"===n.type?(0,I.tileLayer)(n.url,n.options):I.tileLayer.wms(n.url,n.options)},r.createTileLayers=function(n){var t={};for(var i in n)n.hasOwnProperty(i)&&(t[i]=r.createTileLayer(n[i]));return t},r.prototype.createTileLayer=function(){return r.createTileLayer(this)}}(),p(37377));function ve(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"mat-button-toggle",18),e.NdJ("click",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.changeView(a))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit,i=e.oxw();e.s9C("title",t.lookup_name),e.Q6J("ngClass",t.lookup_name===i.dataJsonObj.printvalue?"btn-primary":""),e.xp6(1),e.hij("",t.NAME," ")}}function we(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"mat-button-toggle",19),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.close())}),e.ALo(1,"translate"),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&r&&(e.s9C("title",e.lcZ(1,2,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(2),e.hij("",e.lcZ(3,4,"COMMON_BUTTONS.BUTTON_CLOSE")," "))}function Te(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"mat-button-toggle",19),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancel())}),e.ALo(1,"translate"),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&r&&(e.s9C("title",e.lcZ(1,2,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(2),e.hij("",e.lcZ(3,4,"COMMON_BUTTONS.BUTTON_CANCEL")," "))}function De(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"mat-button-toggle",20),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.edit())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.hij("",e.lcZ(2,1,"COMMON_BUTTONS.BUTTON_EDIT")," "))}function Ae(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"mat-button-toggle",21),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.save())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&r&&(e.xp6(1),e.hij("",e.lcZ(2,1,"COMMON_BUTTONS.BUTTON_SAVE")," "))}function ye(r,n){1&r&&(e.TgZ(0,"div",32)(1,"button",33),e._UZ(2,"span",34),e.qZA()())}function Ee(r,n){if(1&r&&e._UZ(0,"p",35),2&r){const t=e.oxw().$implicit;e.Q6J("innerHTML",t.googleAnalyticsHtml,e.oJD)}}function Se(r,n){if(1&r&&e._UZ(0,"span",35),2&r){const t=e.oxw().$implicit;e.Q6J("innerHTML",t.widget_html,e.oJD)}}function Ze(r,n){if(1&r&&(e.TgZ(0,"div")(1,"p",36),e._uU(2),e.qZA(),e._UZ(3,"ngx-chartjs",37),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.widgetBarHtml,""),e.xp6(1),e.Q6J("data",t.dataforbarchart)}}function Me(r,n){if(1&r&&(e.TgZ(0,"div")(1,"p",36),e._uU(2),e.qZA(),e._UZ(3,"ngx-chartjs",38),e.qZA()),2&r){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.widgetBarHtml,""),e.xp6(1),e.Q6J("data",t.dataforbarchart)}}function Ne(r,n){1&r&&(e.TgZ(0,"div",39)(1,"ion-col",40)(2,"div",41),e._UZ(3,"div",42)(4,"div",43),e.qZA()()())}function Ie(r,n){1&r&&(e.TgZ(0,"div",39)(1,"ion-col",40)(2,"div",44)(3,"div",45),e._UZ(4,"div",46)(5,"div",47),e.qZA()()()())}function je(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",48),e.NdJ("leafletMapReady",function(a){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onMapReady(a))}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("leafletOptions",t.Options)}}function Le(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",49)(2,"div",50),e._UZ(3,"i",51),e.qZA(),e.TgZ(4,"h3",52),e._uU(5),e.qZA(),e.TgZ(6,"p",53),e._uU(7,"BPM"),e.qZA()()()),2&r){const t=e.oxw(2);e.xp6(5),e.Oqu(t.bpmValue)}}function xe(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",54)(1,"ion-button",55),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.socialShare())}),e._UZ(2,"ion-icon",56),e.qZA()()}}function Je(r,n){if(1&r&&(e.TgZ(0,"div")(1,"ion-col",57)(2,"div",58)(3,"div",59)(4,"ion-label",60),e._uU(5),e.qZA()(),e.TgZ(6,"ion-item",61)(7,"ion-range",62)(8,"ion-text",63),e._uU(9),e.qZA()()(),e.TgZ(10,"div",64)(11,"ion-label",65),e._uU(12,"#DilIrrukku"),e.qZA()()()()()),2&r){const t=e.oxw(2);e.xp6(5),e.Oqu(t.webTotalHeartRageBar.totalSum),e.xp6(4),e.hij(" ",t.webTotalHeartRageBar.targetValue,"")}}function Re(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",66),e._UZ(2,"img",67),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.s9C("src",t.adImage,e.LSH)}}function ke(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div")(1,"div",49)(2,"div",68),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.getWhistlesCount())}),e._UZ(3,"i",69),e.qZA(),e.TgZ(4,"h3",52),e._uU(5),e.qZA(),e.TgZ(6,"p",53),e._uU(7,"whistle"),e.qZA()()()}if(2&r){const t=e.oxw(2);e.xp6(5),e.Oqu(t.remainingWhistles)}}function Ue(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",58)(2,"div",59)(3,"div",70)(4,"div",71),e._uU(5),e.TgZ(6,"span",72),e._uU(7,"(Cheers in last 30 Seconds)"),e.qZA()(),e.TgZ(8,"div",73),e._uU(9),e.TgZ(10,"span",72),e._uU(11,"(Total Cheers)"),e.qZA()()()(),e.TgZ(12,"div",74)(13,"div",75),e._UZ(14,"ion-range",76),e.qZA(),e.TgZ(15,"div",77)(16,"span",78),e._uU(17,"1B Cheers"),e.qZA()()()()()),2&r){const t=e.oxw(2);e.xp6(5),e.hij("",t.latestCheersCount," "),e.xp6(4),e.hij("",t.totalCheersCount," ")}}function Be(r,n){if(1&r&&(e.TgZ(0,"tr",95)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",96),e._UZ(4,"img",97),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA()()),2&r){const t=n.$implicit,i=n.index,a=e.oxw(3);e.xp6(2),e.Oqu(i),e.xp6(2),e.cQ8("src","",a.apiEndPoint,"",null==t?null:t.user_image_path,"/",null==t?null:t.user_image_name,"",e.LSH),e.xp6(1),e.AsE("",null==t?null:t.f_name," ",null==t?null:t.l_name,""),e.xp6(2),e.Oqu(null==t?null:t.Cheers),e.xp6(2),e.Oqu(null==t?null:t.Claps),e.xp6(2),e.Oqu(null==t?null:t.Whistles),e.xp6(2),e.Oqu(null==t?null:t.Wave),e.xp6(2),e.Oqu(null==t?null:t.Heart_Rate),e.xp6(2),e.Oqu(null==t?null:t.FANMETRIC_POINTS)}}function Pe(r,n){if(1&r&&(e.TgZ(0,"div")(1,"div",79)(2,"div",80)(3,"div",81)(4,"div",82)(5,"span",83),e._uU(6,"FANS LEADERBOARD 2021"),e.qZA()(),e.TgZ(7,"div",84)(8,"table",85)(9,"thead")(10,"td",86),e._uU(11,"Pos."),e.qZA(),e.TgZ(12,"td",87),e._uU(13,"Name"),e.qZA(),e.TgZ(14,"td"),e._UZ(15,"span",88),e.qZA(),e.TgZ(16,"td"),e._UZ(17,"span",89),e.qZA(),e.TgZ(18,"td"),e._UZ(19,"span",90),e.qZA(),e.TgZ(20,"td"),e._UZ(21,"span",91),e.qZA(),e.TgZ(22,"td"),e._UZ(23,"span",92),e.qZA(),e.TgZ(24,"td"),e._UZ(25,"span",93),e.qZA()(),e.TgZ(26,"tbody"),e.YNc(27,Be,18,12,"tr",94),e.qZA()()()()()()()),2&r){const t=e.oxw(2);e.xp6(27),e.Q6J("ngForOf",t.leaderBoardData)}}function Ve(r,n){if(1&r&&(e.TgZ(0,"div"),e._UZ(1,"iframe",98),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.week,e.uOi)}}function qe(r,n){if(1&r&&(e.TgZ(0,"div",99),e._UZ(1,"tinder-ui",100),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("cards",null==t.dashboardObj?null:t.dashboardObj.cards)}}function Fe(r,n){if(1&r&&(e.TgZ(0,"div")(1,"ion-item")(2,"ion-avatar",103),e._UZ(3,"img",104),e.qZA(),e.TgZ(4,"ion-label")(5,"p"),e._uU(6),e.qZA(),e.TgZ(7,"p"),e._uU(8),e.qZA()()()()),2&r){const t=n.$implicit,i=e.oxw(3);e.xp6(3),e.cQ8("src","",i.apiEndPoint,"",t.user_image_path,"/",t.user_image_name,"",e.LSH),e.xp6(3),e.AsE("",t.f_name," ",t.l_name,""),e.xp6(2),e.Oqu(t.value)}}function Ye(r,n){if(1&r&&(e.TgZ(0,"div",101),e.YNc(1,Fe,9,6,"div",102),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.widgetTopXUsersData)}}function He(r,n){if(1&r&&(e.TgZ(0,"gridster-item",22),e.YNc(1,ye,3,0,"div",23),e.TgZ(2,"div",24),e.YNc(3,Ee,1,1,"p",25),e.YNc(4,Se,1,1,"span",25),e.YNc(5,Ze,4,2,"div",26),e.YNc(6,Me,4,2,"div",26),e.YNc(7,Ne,5,0,"div",27),e.YNc(8,Ie,6,0,"div",27),e.YNc(9,je,1,1,"div",28),e.YNc(10,Le,8,1,"div",26),e.YNc(11,xe,3,0,"div",29),e.YNc(12,Je,13,2,"div",26),e.qZA(),e.YNc(13,Re,3,1,"div",26),e.YNc(14,ke,8,1,"div",26),e.YNc(15,Ue,18,2,"div",26),e.YNc(16,Pe,28,1,"div",26),e.YNc(17,Ve,2,1,"div",26),e.YNc(18,qe,2,1,"div",30),e.YNc(19,Ye,2,1,"div",31),e.qZA()),2&r){const t=n.$implicit,i=e.oxw();e.Q6J("item",t),e.xp6(1),e.Q6J("ngIf",i.dataJsonObj.editEnable),e.xp6(2),e.Q6J("ngIf","iframe"===i.googleAnalytics),e.xp6(1),e.Q6J("ngIf","graphs"!=t.widget_type),e.xp6(1),e.Q6J("ngIf","bar"===i.widgetType),e.xp6(1),e.Q6J("ngIf","pie"===i.widgetType),e.xp6(1),e.Q6J("ngIf",i.ifithtml===t.widget_html),e.xp6(1),e.Q6J("ngIf",i.iplayhtml===t.widget_html),e.xp6(1),e.Q6J("ngIf","Map"===i.TopwidgetHtml),e.xp6(1),e.Q6J("ngIf",i.ifitbpm===t.widget_html),e.xp6(1),e.Q6J("ngIf",i.ifitshare===t.widget_html),e.xp6(1),e.Q6J("ngIf",i.webTHRhtml===t.widget_html),e.xp6(1),e.Q6J("ngIf",i.iplayAds===t.widget_html),e.xp6(1),e.Q6J("ngIf",i.whistleValueHtml===t.widget_html),e.xp6(1),e.Q6J("ngIf",i.cheershtml===t.widget_html),e.xp6(1),e.Q6J("ngIf",i.leaderboardhtml===t.widget_html),e.xp6(1),e.Q6J("ngIf","graph"===i.graphWidgetHtml),e.xp6(1),e.Q6J("ngIf",i.starshtml==t.widget_html),e.xp6(1),e.Q6J("ngIf","Top"===i.TopwidgetHtml)}}let ne=(()=>{class r{apiEndPointUrl;dashboardService;loggerService;router;sanitizer;translateService;uiUtils;commonService;dashboardObj;enterprisesService;listingVariables;route;TinderUIComponent;apiEndPoint;AvgfanMetricnumberSlider;avgFMColor="#6a30b5";barchartOptions;barChatData;bpmValue;cards=[];cheerCount;cheerCountDisplayValue;cheershtml='<span type="cheers"></span><p></p>';count;currenturl;dataAsetsData=[];dataforbarchart;dataJsonObj={};deviceTypes;distancchildCircle;editObj;enterpriseId;enterpriseName;enterpriseObj;enterpriseShortName;eventId;eventName;eventObj;FanMetricnumberSlider;googleAnalytics;graphWidgetHtml;heatmapdata=[];ifitbpm='<span type="bpm"></span>';ifithtml='<span type="ifit"></span><p></p>';ifitshare='<span type="share"></span><p></p>';initialData;interval;iotEventId;iplayAds='<span type="Ads"></span><p></p>';iplayhtml='<span type="iplay"></span><p></p>';lableNames=[];latestCheersCount;leaderBoardData;leaderboardhtml='<span type="leaderboard"></span><p></p>';modalData;monthArray=[1,2,3,4,5,6,7,8,9,10,11,12];Options;options;paramaterConcatenation;recordId;reddemedWhistles;remainingWhistles;saveConfiguration=[];SrcwidgetHtml;starObj;starshtml='<span type="stars"></span><p></p>';stepsParentCircle;teamId;teamObj;TopwidgetHtml;totalCheersCount;totalWhistles;tournamentId;tournamentObj;unitofMeasure;userFMColor="#f97f06";userProfileId;webTHRhtml='<span type="webtotalhr"></span><p></p>';webTotalHeartRageBar={};week;wellnessElemenShortName;wellnessElement;wellnessElementName;wellnessElementNameId;wellnessElementObj;wellnessElementObject;wellnessElementTypeObj;wellnessTrxId;wellnessTrxObj;whistleValue;whistleValueHtml='<div type="whistle"></div>';widgetBarHtml;widgetDashboardId;widgetHtml=[];widgetsData;widgetsDataStatic;widgetTopXUsers;widgetTopXUsersData=[];widgetType;widgetsArray;constructor(t,i,a,o,s,c,u,g,h,b,f,v){this.apiEndPointUrl=t,this.dashboardService=i,this.loggerService=a,this.router=o,this.sanitizer=s,this.translateService=c,this.uiUtils=u,this.commonService=g,this.dashboardObj=h,this.enterprisesService=b,this.listingVariables=f,this.route=v}ngOnInit(){this.initializeComponent()}ngOnDestroy(){this.clearInterval()}clearInterval(){this.interval&&(clearInterval(this.interval),this.interval="")}initializeComponent(){this.clearInterval(),this.totalWhistles=0,this.reddemedWhistles=0,this.currenturl=this.router.url,this.currenturl=this.currenturl.split("/")[4],this.route.params.subscribe(t=>{this.recordId=t.id}),this.dataJsonObj.enterpriseId=J.h.hasValue(l.BU.SELECTED_ENTERPRISE)?localStorage.getItem(l.BU.SELECTED_ENTERPRISE):localStorage.getItem(l.BU.ENTERPRISE_ID),this.apiEndPoint=localStorage.getItem(l.BU.S3_URL)?localStorage.getItem(l.BU.S3_URL):this.apiEndPointUrl,this.count=0,this.cheerCount=0,this.dataJsonObj.dashboardDisplay=!1,this.dataJsonObj.editEnable=!1,this.getEnterprisesViewData(),this.commonService.getLookupCodesListJson(this.dataJsonObj.enterpriseId,"list").then(t=>{this.dataJsonObj.lookupCodesListJSON=t,this.getDeviceTypeOptions("")}),this.widgetOptions(),this.dataforbarchart={labels:[this.translateService.instant("COMMON_FIELDS.JAN"),this.translateService.instant("COMMON_FIELDS.FEB"),this.translateService.instant("COMMON_FIELDS.MAR"),this.translateService.instant("COMMON_FIELDS.APR"),this.translateService.instant("COMMON_FIELDS.MAY"),this.translateService.instant("COMMON_FIELDS.JUN"),this.translateService.instant("COMMON_FIELDS.JUL"),this.translateService.instant("COMMON_FIELDS.AUG"),this.translateService.instant("COMMON_FIELDS.SEP"),this.translateService.instant("COMMON_FIELDS.OCT"),this.translateService.instant("COMMON_FIELDS.NOV"),this.translateService.instant("COMMON_FIELDS.DEC")]},this.interval=setInterval(()=>{this.updateWhistle()},1e4)}itemChange(t){for(let i=0;i<this.saveConfiguration.length;i++)this.saveConfiguration[i].widget_id===t.widget_id&&(this.saveConfiguration[i].cols=t.cols,this.saveConfiguration[i].rows=t.rows,this.saveConfiguration[i].y=t.y,this.saveConfiguration[i].x=t.x);for(let i of this.widgetsArray)if(i.device_type.lookup_name===this.dataJsonObj.printvalue){i.widgets=this.saveConfiguration;break}}edit(){this.dataJsonObj.dashboardDisplay=!0,this.dataJsonObj.editEnable=!0,this.widgetOptions()}cancel(){this.dataJsonObj.dashboardDisplay=!1,this.dataJsonObj.editEnable=!1}itemResize(t){}getEnterprisesViewData(){this.enterprisesService.getEnterprisesViewData(this.dataJsonObj.enterpriseId).subscribe(t=>{this.dataJsonObj.enterpriseData=t,this.dataJsonObj.enterpriseId=t._id,this.enterpriseName=t.enterprise_name,this.enterpriseShortName=t.short_name},t=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)})}getCheerData(t){try{for(let a=0;a<this.dashboardObj.cards.length;a++)if(this.dashboardObj.cards[a]._id===t._id){this.dashboardObj.cards[a].cheerCount=t.cheerCount+1,this.dashboardObj.cards[a].cheerCountDisplayValue=this.dashboardObj.cards[a].cheerCount;break}let i=parseInt(J.h.getValue(l.BU.CHEER_COUNT),10);V.L.isEmpty(J.h.getValue(l.BU.CHEER_COUNT))?i=1:i+=1,J.h.storeValue(l.BU.CHEER_COUNT,i),this.count+=1,25===this.count&&(0!=this.totalWhistles?this.totalWhistles+=1:this.totalWhistles=1,this.count=0)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getCheerData",i)}setTimeout(()=>{this.updateCheersData(t.star_id,t),this.updateWhistle()},1e3)}getSuperCheerCount(){try{parseInt(localStorage.getItem(l.BU.WHISTLE_COUNT),10)>0?(this.totalWhistles=parseInt(localStorage.getItem(l.BU.WHISTLE_COUNT),10),this.reddemedWhistles=parseInt(localStorage.getItem(l.BU.REDDEMED_WHISTLE_COUNT),10),V.L.isEmpty(localStorage.getItem(l.BU.REDDEMED_WHISTLE_COUNT))?(this.remainingWhistles=this.totalWhistles,this.reddemedWhistles=""):(this.remainingWhistles=this.totalWhistles-this.reddemedWhistles,this.remainingWhistles=this.remainingWhistles>0?this.remainingWhistles:"")):this.remainingWhistles=""}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getSuperCheerCount",t)}}getDashboardJson(){this.dashboardObj.cards=this.modalData,this.dashboardObj.cards&&(this.dashboardObj.cards=this.dashboardObj.cards.sort(this.compare))}updateCheersData(t,i){const a=this.tournamentId,o=this.iotEventId,s=this.teamId,c=t,u=localStorage.getItem(l.BU.LOG_IN_USER_ID);this.dashboardService.getWidgetiplayboardResponse(this.dataJsonObj.enterpriseId,a,o,s,u,c).then(g=>{if(g.rows.length>0){if(g&&g.rows.length>0){const h=g.rows[0].object.star_profile.star_profile_id,b={value:g.rows[0].value>"0"?g.rows[0].value:i.cheerCountDisplayValue};this.dashboardService.editWellnessTrx(g.rows[0]._id,b).then(f=>{for(let v=0;v<this.dashboardObj.cards.length;v++)this.dashboardObj.cards[v].star_id===h&&(this.dashboardObj.cards[v].cheerCountDisplayValue=b.value)})}}else this.dashboardService.getWellnessdetails("enterprises",this.dataJsonObj.enterpriseId).then(h=>{this.enterpriseObj={enterprise_id:h._id,enterprise_name:h.enterprise_name,short_name:h.short_name}}),this.dashboardService.getWellnessdetails("tournaments",a).then(h=>{this.tournamentObj={tournament_id:h._id,tournament_name:h.tournament_name}}),this.dashboardService.getWellnessdetails("teams",s).then(h=>{this.teamObj={team_id:h._id,team_name:h.team_name}}),this.dashboardService.getWellnessdetails("iotevents",o).then(h=>{this.eventObj={iot_event_id:h._id,iot_event_name:h.iot_event_name}}),this.dashboardService.getWellnessdetails("starprofiles",c).then(h=>{this.starObj={star_profile_id:h._id,star_profile_name:h.display_name}}),this.dashboardService.getCheersData("CHEERS").then(h=>{this.wellnessElementObject={wellness_element_id:h[0]._id,wellness_element_name:h[0].wellness_element_name,wellness_element_short_name:h[0].wellness_element_short_name,unit_of_measure:h[0].unit_of_measure,wellness_element_type:{lookup_id:h[0].wellness_element_type.lookup_id,lookup_name:h[0].wellness_element_type.lookup_name}}}),setTimeout(()=>{const h={object:{enterprise:this.enterpriseObj,tournament:this.tournamentObj,iot_event:this.eventObj,team:this.teamObj,star_profile:this.starObj},user_profile_id:localStorage.getItem(l.BU.LOG_IN_USER_ID),wellness_element:this.wellnessElementObject,type:"Automated",value:i.cheerCountDisplayValue};this.dashboardService.createWellnessTrx(h).then(b=>{})},3e3)})}updateWhistle(){this.userProfileId=localStorage.getItem(l.BU.SELECTED_ENTERPRISE),this.eventId&&this.dashboardService.viewWellnessTrx(this.dataJsonObj.enterpriseId,this.userProfileId,this.eventId).then(t=>{t.rows.length>0?(t.rows[0].value=this.totalWhistles,t.rows[0].secondary_value=this.reddemedWhistles,this.wellnessTrxObj=t.rows[0],this.wellnessTrxId=t.rows[0]._id,this.dashboardService.editWellnessTrx(this.wellnessTrxId,this.wellnessTrxObj).then(i=>{this.remainingWhistles=this.totalWhistles-this.reddemedWhistles},i=>{})):(this.wellnessElement="WHISTLES",this.getWellnessName(),this.getEventData(),this.getEnterprisesViewData(),this.enterpriseName&&this.enterpriseShortName&&(this.wellnessTrxObj={object:{enterprise:{enterprise_id:this.dataJsonObj.enterpriseId,enterprise_name:this.enterpriseName,short_name:this.enterpriseShortName},iot_event:{iot_event_id:this.eventId,iot_event_name:this.eventName}},user_profile_id:localStorage.getItem(l.BU.SELECTED_ENTERPRISE),wellness_element:{wellness_element_id:this.wellnessElementNameId,wellness_element_name:this.wellnessElementName,wellness_element_short_name:this.wellnessElemenShortName,wellness_element_type:this.wellnessElementTypeObj,unit_of_measure:this.unitofMeasure},value:0,secondary_value:0},this.dashboardService.createHealthElementsTrx(this.wellnessTrxObj).then(i=>{},i=>{})))})}getEventData(){this.dashboardService.getEventsViewData(this.eventId).subscribe(t=>{this.eventName=t.iot_event_name})}getWellnessName(){this.dashboardService.getWellnessName(this.wellnessElement).then(t=>{this.wellnessElementObj=t,this.wellnessElementNameId=t[0].ID,this.wellnessElementName=t[0].NAME,this.wellnessElemenShortName=t[0].wellness_element_short_name,this.wellnessElementTypeObj=t[0].wellness_element_type,this.unitofMeasure=t[0].unit_of_measure})}compare(t,i){const a=t.sequence,o=i.sequence;let s=0;return a>o?s=1:a<o&&(s=-1),s}onMapReady(t){let i=this.heatmapdata.map(function(o){return[o[0],o[1]]});L.heatLayer(i).addTo(t)}widgetOptions(){this.options={gridType:Z.tQ.ScrollVertical,compactType:Z.RU.None,margin:5,outerMargin:!0,outerMarginTop:null,outerMarginRight:10,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,mobileBreakpoint:0,minCols:1,maxCols:100,minRows:1,maxRows:100,maxItemCols:100,minItemCols:1,maxItemRows:100,minItemRows:1,maxItemArea:2500,minItemArea:1,defaultItemCols:1,defaultItemRows:1,fixedColWidth:105,fixedRowHeight:105,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,scrollSensitivity:10,scrollSpeed:20,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{enabled:this.dataJsonObj.dashboardDisplay},resizable:{enabled:this.dataJsonObj.dashboardDisplay},swap:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:Z.KY.Always,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,itemChangeCallback:this.itemChange.bind(this),itemResizeCallback:this.itemResize.bind(this),allowMultiLayer:!0,defaultLayerIndex:1,baseLayerIndex:2,maxLayerIndex:2},this.widgetsDataStatic=[{cols:2,rows:1,y:0,x:0,widget_type:"bar"},{cols:2,rows:1,y:0,x:2,widget_type:"pie"}]}getWidgetsData(t,i){var a=this;return(0,P.Z)(function*(){try{const o=i||(a.commonService.isMobileWindow()?"mobile":"web");a.widgetsArray=[],a.widgetsData=[],a.saveConfiguration=[],a.dashboardService.get(t).subscribe(s=>{a.editObj=s,a.widgetDashboardId=a.editObj._id,a.widgetsArray=a.editObj.widgets;for(let c of a.widgetsArray)if(c.device_type.lookup_name===a.dataJsonObj.printvalue){a.widgetsData=c.widgets;break}a.widgetsDisplay(a.widgetsData,o)})}catch(o){a.loggerService.setLoggerError(a.constructor.name,"getWidgetsData",o)}a.barchartOptions={tooltips:{mode:"index"},title:{display:!0,text:"",fontFamily:"Open Sans",fontSize:18,fontWeight:600,fontColor:"#0057b2",padding:8},legend:{labels:{display:!0,fontFamily:"Open Sans",fontSize:12,fontWeight:600,fontColor:"#0057b2"}},animation:{duration:1e3,easing:"easeInQuad"},scales:{xAxes:[{type:"category",stacked:!0,ticks:{fontFamily:"Open Sans",fontWeight:600,fontColor:"#0057b2"}}],yAxes:[{stacked:!0,ticks:{fontFamily:"Open Sans",fontWeight:600,fontColor:"#0057b2",userCallback:function(o,s,c){return(o=o.toString()).length>3?(o=(o=(o=o.slice(0,-3)).split(/(?=(?:...)*$)/)).join(","))+"K":o}}}]}}})()}widgetsDisplay(t,i){if(t&&t.length>0){this.paramaterConcatenation=[];for(let a=0;a<t.length;a++){this.paramaterConcatenation=[];for(let d of t[a].widget_html)if(d.device_type.lookup_name===this.dataJsonObj.printvalue){t[a].widget_html=d.widget_html;break}t[a].widget_html.split('type="').length>1&&(this.graphWidgetHtml=t[a].widget_html.split('type="')[1].split('"')[0]),t[a].widget_html.split('src="').length>1&&(this.SrcwidgetHtml=t[a].widget_html.split('src="')[1].split('"')[0],this.week=this.sanitizer.bypassSecurityTrustResourceUrl(this.SrcwidgetHtml)),this.saveConfiguration.find(d=>d.widget_id===parseInt(t[a].widget_id,10))||this.saveConfiguration.push(t[a]);for(let d=0;d<t[a].widget_params.length;d++)"enterpriseId"===t[a].widget_params[d].parameter_name?this.paramaterConcatenation=this.paramaterConcatenation+"&"+t[a].widget_params[d].parameter_name+"="+(this.dataJsonObj.enterpriseId?this.dataJsonObj.enterpriseId:t[a].widget_params[d].param_value):"eventId"===t[a].widget_params[d].parameter_name?this.eventId=t[a].widget_params[d].param_value:"tournamentId"===t[a].widget_params[d].parameter_name?(this.tournamentId=t[a].widget_params[d].param_value,this.paramaterConcatenation=this.paramaterConcatenation+"&"+t[a].widget_params[d].parameter_name+"="+this.tournamentId):"iotEventId"===t[a].widget_params[d].parameter_name?(this.iotEventId=t[a].widget_params[d].param_value,this.paramaterConcatenation=this.paramaterConcatenation+"&"+t[a].widget_params[d].parameter_name+"="+this.iotEventId):"teamId"===t[a].widget_params[d].parameter_name?(this.teamId=t[a].widget_params[d].param_value,this.paramaterConcatenation=this.paramaterConcatenation+"&"+t[a].widget_params[d].parameter_name+"="+this.teamId):this.paramaterConcatenation=this.paramaterConcatenation+"&"+t[a].widget_params[d].parameter_name+"="+t[a].widget_params[d].param_value;const s=t[a].widget_query.split("const responseLabel = ["),c=s.length>1?s[1].split("];")[0].replace(/\'/gi,""):"",u=s.length>1?s[1].split("'wellness_element.wellness_element_name':"):[],h=(u.length>1?u[1].split("',")[0].trim().substring(1):"").split(" ").join("_"),b=c.split(","),f=localStorage.getItem(`dashboard_${this.editObj._id}_widget_${t[a].widget_id}_data`),v=f?JSON.parse(f):{},_e=Object.keys(v),z=s.length>1&&s[1].split("'user_profile_id':").length>1;if(v&&_e.length===b.length){const d=localStorage.getItem(`wellness_element_${h}_value`);d&&z&&(v[_e[0]]=d),this.getDynamicWidgetHTML(a,b,v,`dashboard_${this.editObj._id}_widget_${t[a].widget_id}_data`,z,t)}else this.dashboardService.getWidgetResponse(t[a].widget_id,this.paramaterConcatenation,i,this.dataJsonObj.enterpriseId).then(d=>{this.modalData=d,this.modalData&&t[a].widget_html===this.starshtml&&this.getDashboardJson(),this.modalData&&t[a].widget_html===this.leaderboardhtml&&(this.leaderBoardData=d);let A=t[a].widget_query.split("const responseLabel = [");if(A=A.length>1?A[1].split("];")[0]:"",'<div "type"="bar"></div>'===t[a].widget_html&&(this.widgetType="bar"),this.TopwidgetHtml=t[a].widget_html.split('type="').length>1?t[a].widget_html.split('type="')[1].split('"')[0]:"",t[a].widget_html.split("var=&#34;").length>1&&(this.widgetBarHtml=t[a].widget_html.split("var=&#34;")[1].split("&#34")[0]),"Map"===this.TopwidgetHtml){this.initialData=d[5].geo_coordinates;for(let _=0;_<d.length;_++)this.heatmapdata.push(d[_].geo_coordinates);this.Options={layers:[L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:""})],zoom:12,center:L.latLng(this.initialData)}}this.widgetTopXUsersData=d,t[a].widget_html===this.iplayhtml&&d[0]?(this.AvgfanMetricnumberSlider=d[0].value[0],this.FanMetricnumberSlider=d[1].value[0],this.AvgfanMetricnumberSlider&&this.getAvgfanMetricnumberSlider(this.AvgfanMetricnumberSlider),this.FanMetricnumberSlider&&this.getFanMetricnumberSlider(this.FanMetricnumberSlider)):(this.AvgfanMetricnumberSlider=1,this.FanMetricnumberSlider=1),t[a].widget_html===this.ifithtml?(this.stepsParentCircle=d[1].value[0],this.distancchildCircle=d[0].value[0],this.stepsParentCircle&&this.displyRoundSliderSteps(this.stepsParentCircle),this.distancchildCircle&&this.displyRoundSliderDistance(this.distancchildCircle)):(this.stepsParentCircle="",this.distancchildCircle=""),this.webTotalHeartRageBar=t[a].widget_html===this.webTHRhtml?d:{},t[a].widget_html===this.cheershtml?setTimeout(()=>{this.totalCheersCount=d[0].total_count,this.latestCheersCount=d[0].latest_count},1e3):(this.totalCheersCount=0,this.latestCheersCount=0),t[a].widget_html===this.cheershtml?setTimeout(()=>{this.bpmValue=d[0].totalSum},1e3):this.bpmValue="",t[a].widget_html===this.whistleValueHtml?setTimeout(()=>{d[0]?(this.totalWhistles=parseInt(d[0].value,10),this.reddemedWhistles=parseInt(d[0].secondary_value,10),this.remainingWhistles=this.totalWhistles-this.reddemedWhistles):this.remainingWhistles=6},1e3):this.remainingWhistles=0;const ji=[["rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)"],["rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)"],["rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)"],["rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)"],["rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)"],["rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)"],["rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)"],["rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)"],["rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)"],["rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)"],["rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)"],["rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)"]];if(this.lableNames=[],this.barChatData=[],this.dataAsetsData=[],"bar"===this.widgetType||"pie"===this.widgetType){for(let _=0;_<d.length;_++){this.barChatData[d[_]._id.status]||(this.barChatData[d[_]._id.status]=[0,0,0,0,0,0,0,0,0,0,0,0]);const K=this.monthArray.indexOf(d[_]._id.month);this.barChatData[d[_]._id.status][K]=d[_].monthCount,this.lableNames=this.lableNames.filter(function(Li){return Li._id.status!==d[_]._id.status}),this.lableNames.push(d[_])}for(let _=0;_<this.lableNames.length;_++){const K={label:this.translateService.instant(this.lableNames[_]._id.status),data:this.barChatData[this.lableNames[_]._id.status],fill:!1,backgroundColor:ji[_],borderWidth:1};this.dataAsetsData.push(K)}this.dataforbarchart={labels:[this.translateService.instant("COMMON_FIELDS.JAN"),this.translateService.instant("COMMON_FIELDS.FEB"),this.translateService.instant("COMMON_FIELDS.MAR"),this.translateService.instant("COMMON_FIELDS.APR"),this.translateService.instant("COMMON_FIELDS.MAY"),this.translateService.instant("COMMON_FIELDS.JUN"),this.translateService.instant("COMMON_FIELDS.JUL"),this.translateService.instant("COMMON_FIELDS.AUG"),this.translateService.instant("COMMON_FIELDS.SEP"),this.translateService.instant("COMMON_FIELDS.OCT"),this.translateService.instant("COMMON_FIELDS.NOV"),this.translateService.instant("COMMON_FIELDS.DEC")],datasets:this.dataAsetsData}}else{A=A.replace(/\'/gi,"");const _=A.split(",");d[0]&&this.getDynamicWidgetHTML(a,_,d[0],`dashboard_${this.editObj._id}_widget_${t[a].widget_id}_data`,z,t)}})}}}getDynamicWidgetHTML(t,i,a,o,s,c){for(let u=0;u<i.length;u++)if(i[u]=i[u].trim(),c[t].widget_html.indexOf("{{"+i[u]+"}}")>-1){const h=parseInt(a[i[u]],10),b=h?h.toFixed(0):a[i[u]];c[t].widget_html=c[t].widget_html.replace("{{"+i[u]+"}}",b||"--")}else c[t].widget_html=c[t].widget_html;s&&a&&localStorage.setItem(o,JSON.stringify(a))}getWhistlesCount(){try{this.totalWhistles>0&&(V.L.isEmpty(this.reddemedWhistles)?(this.remainingWhistles=this.totalWhistles,this.reddemedWhistles=""):(0!=this.remainingWhistles&&(this.reddemedWhistles=parseInt(this.reddemedWhistles,10)+1),this.remainingWhistles=this.totalWhistles-this.reddemedWhistles,this.remainingWhistles=this.remainingWhistles>0?this.remainingWhistles:0))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getWhistlesCount",t)}setTimeout(()=>{this.updateWhistle()},1e3)}changedOptions(){try{this.options.api.optionsChanged()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"changedOptions",t)}}displyRoundSliderSteps(t){try{$("#slider").roundSlider({sliderType:"min-range",responsive:!0,animation:!0,radius:60,value:t,readOnly:!0,keyboardAction:!1,handleSize:"+16",handleShape:"steps",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,showTooltip:!1,max:"10000",startAngle:90,pathColor:"#eee",rangeColor:"#f97f06"})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"displyRoundSliderSteps",i)}}displyRoundSliderDistance(t){try{$("#slider2").roundSlider({sliderType:"min-range",animation:!0,responsive:!0,radius:90,value:t,readOnly:!0,keyboardAction:!1,handleSize:"+16",handleShape:"steps",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,pathColor:"#eee",rangeColor:"#e5b900",showTooltip:!1,max:"500",startAngle:90})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"displyRoundSliderDistance",i)}}getDeviceTypeOptions(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[l.ox.WIDGET_TYPES],t).then(i=>{this.deviceTypes=i,this.dataJsonObj.printvalue=this.deviceTypes[0].lookup_name,this.dataJsonObj.printDisplayValue=this.dataJsonObj.printvalue.replace("_","").toLowerCase(),this.getWidgetsData(this.recordId,this.dataJsonObj.printDisplayValue)},i=>{this.loggerService.setLoggerError(this.constructor.name,"getDeviceTypeOptions",i)})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getDeviceTypeOptions",i)}}changeView(t){try{this.widgetsData=[],this.dataJsonObj.printvalue=t.target.title,this.dataJsonObj.printDisplayValue=this.dataJsonObj.printvalue.replace("_","").toLowerCase();for(let i of this.widgetsArray)if(i.device_type.lookup_name===this.dataJsonObj.printvalue){this.widgetsData=i.widgets;break}this.widgetsDisplay(this.widgetsData,this.dataJsonObj.printDisplayValue)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeView",i)}}save(){try{this.editObj.widgets=this.widgetsArray,this.dashboardService.editModuleConfigurations(this.recordId,this.editObj,"").then(t=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),this.dataJsonObj.editEnable=!1,this.dataJsonObj.dashboardDisplay=!1})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"save",t)}}socialShare(){this.router.navigate(["iotplay/socialshare/"+this.widgetDashboardId])}close(){try{this.router.navigateByUrl("/dashboard")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"close",t)}}getAvgfanMetricnumberSlider(t){try{$("#avgfanMetricnumberSlider").roundSlider({sliderType:"min-range",animation:!0,radius:90,responsive:!0,value:t,readOnly:!0,keyboardAction:!1,handleSize:"+16",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,pathColor:"#eee",rangeColor:this.avgFMColor,circleShape:"half-top",showTooltip:!1,max:30,handleShape:"fanmetricavg"})}catch{}}getFanMetricnumberSlider(t){try{$("#fanMetricnumberSlider").roundSlider({sliderType:"min-range",animation:!0,radius:65,responsive:!0,value:t,readOnly:!0,keyboardAction:!1,handleSize:"+16",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,pathColor:"#eee",rangeColor:this.userFMColor,circleShape:"half-top",showTooltip:!1,max:30,handleShape:"fanmetric"})}catch{}}static \u0275fac=function(i){return new(i||r)(e.Y36("apiEndPoint"),e.Y36(M.s),e.Y36(x.m),e.Y36(C.F0),e.Y36(be.H7),e.Y36(w.sK),e.Y36(R.s),e.Y36(j.v),e.Y36(te.v),e.Y36(ae.e),e.Y36(ie.v),e.Y36(C.gz))};static \u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard-arrange"]],inputs:{TinderUIComponent:"TinderUIComponent"},features:[e._Bn([ie.v,te.v])],decls:20,vars:9,consts:[[1,"container-fluid","webdashboard-page"],[1,"card","bdt-0"],[1,"dashboard-container","fs-12"],[1,"form"],[1,"row","fs-12","p-1"],[1,"col-md-12","text-start","widget-btns","pdr-10"],[1,"btn-group-sm"],["class","btn btn-sm mgr-5",3,"title","ngClass","click",4,"ngFor","ngForOf"],[1,"btn-group-sm","float-end"],["class","btn btn-sm btn-primary mgr-5",3,"title","click",4,"ngIf"],["title","Edit","class","btn btn-sm btn-primary mgr-5",3,"click",4,"ngIf"],["title","Save","class","btn btn-sm btn-primary mgr-5",3,"click",4,"ngIf"],[1,"container-fluid"],[3,"ngClass"],[1,"dashboard-page"],[1,"content"],[3,"options"],[3,"item",4,"ngFor","ngForOf"],[1,"btn","btn-sm","mgr-5",3,"title","ngClass","click"],[1,"btn","btn-sm","btn-primary","mgr-5",3,"title","click"],["title","Edit",1,"btn","btn-sm","btn-primary","mgr-5",3,"click"],["title","Save",1,"btn","btn-sm","btn-primary","mgr-5",3,"click"],[3,"item"],["class","text-end move-btn",4,"ngIf"],[1,"button-holder"],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],["style","height: 100vh;","leaflet","",3,"leafletOptions","leafletMapReady",4,"ngIf"],["class","share-icon",4,"ngIf"],["class","team-cheer-block slide-block",4,"ngIf"],["class","TopUserscroll",4,"ngIf"],[1,"text-end","move-btn"],["mat-icon-button","","mat-raised-button","",1,"drag-handler"],[1,"fas","fa-arrows-alt"],[3,"innerHTML"],[1,"fs-20"],["type","bar","height","100%",3,"data"],["type","pie","height","100%",3,"data"],[1,"d-flex","justify-content-center"],["size","6",1,"rangebar","ion-text-center","justify-content-center"],[1,"circle-parent"],["id","slider",1,"circle-child"],["id","slider2",1,"circle-child2"],[1,"progress-main"],[1,"dashboard-circle-parent"],["id","fanMetricnumberSlider",1,"circle-child"],["id","avgfanMetricnumberSlider",1,"circle-child2"],["leaflet","",2,"height","100vh",3,"leafletOptions","leafletMapReady"],[1,"card-header","bd-0","card-header-icon"],[1,"card-icon"],[1,"icon-bp","txt-danger","fs-36"],[1,"card-title"],[1,"card-category"],[1,"share-icon"],["fill","clear",3,"click"],[1,"icon-shares","txt-danger","fs-36"],["size","8",1,"ion-no-padding","ion-text-center"],[1,"bg-white","user-goal"],[1,"pdb-10"],[1,"txt-primary","fs-30","fw-600"],["lines","none",1,""],["pin","true","min","1","max","5000","step","2500",1,"ion-range","pd-0","pdl-20"],["slot","end",1,"txt-primary","fs-30","fw-600","pdl-10"],[1,"pdt-20"],[1,"txt-primary","fs-30","fw-600","webpagetitle"],[1,"ad-img"],[3,"src"],[1,"card-icon",3,"click"],[1,"icon-whistle","txt-danger","fs-36"],[1,"txt-primary","fs-30","fw-600","row"],[1,"last30sec","col-md-6","text-lg-start"],[1,"pt-1"],[1,"total","col-md-6","text-lg-end"],[1,"row","g-0"],[1,"col-md-9"],["pin","true","min","1","max","5000","value","1000","step","2500",1,"ion-range","pd-0","mgt-15"],[1,"col-md-3"],[1,"fs-30","fw-600","txt-orange","mgtlabe"],[1,"main1","mgt-20"],[1,"main2","table-responsive"],[1,"bd-0","bg-transparent","card"],["id","cardheader",1,"card-header","card-header-primary","d-block","pdb-10","pdt-20","text-center"],[1,"card-title","text-center"],[1,"card-body"],[1,"table"],[1,"text"],[1,"name","text"],[1,"fas","fa-thumbs-up","tdthumb"],[1,"icon-claps"],[1,"icon-whistle-f"],[1,"icon-wave-down"],[1,"icon-heart"],[1,"icon-temprature"],["class","top",4,"ngFor","ngForOf"],[1,"top"],[1,"name"],["onError","this.onerror=null;this.src='/assets/images/profile-pic.png';",1,"logo",3,"src"],["width","452","height","229","seamless","","frameborder","0","scrolling","yes",3,"src"],[1,"team-cheer-block","slide-block"],[1,"tinder-cards",3,"cards"],[1,"TopUserscroll"],[4,"ngFor","ngForOf"],["slot","start",1,"bd-1"],["onError","this.onerror=null;this.src='/assets/img/image_placeholder.jpg';",3,"src"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"mat-button-toggle-group",6),e.YNc(7,ve,2,3,"mat-button-toggle",7),e.qZA(),e.TgZ(8,"mat-button-toggle-group",8),e.YNc(9,we,4,6,"mat-button-toggle",9),e.YNc(10,Te,4,6,"mat-button-toggle",9),e.YNc(11,De,3,3,"mat-button-toggle",10),e.YNc(12,Ae,3,3,"mat-button-toggle",11),e.qZA()()()()()(),e.TgZ(13,"div",12)(14,"div",13)(15,"div",13)(16,"div",14)(17,"div",15)(18,"gridster",16),e.YNc(19,He,20,19,"gridster-item",17),e.qZA()()()()()()()),2&i&&(e.xp6(7),e.Q6J("ngForOf",a.deviceTypes),e.xp6(2),e.Q6J("ngIf",!a.dataJsonObj.editEnable),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.editEnable),e.xp6(1),e.Q6J("ngIf",!a.dataJsonObj.editEnable),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.editEnable),e.xp6(2),e.Q6J("ngClass","BIG_SCREEN"===a.dataJsonObj.printvalue||"MOBILE"===a.dataJsonObj.printvalue||"TAB"===a.dataJsonObj.printvalue||"WEB"===a.dataJsonObj.printvalue?"device-view-wrapper":""),e.xp6(1),e.Q6J("ngClass",a.dataJsonObj.printDisplayValue),e.xp6(3),e.Q6J("options",a.options),e.xp6(1),e.Q6J("ngForOf",a.widgetsData))},dependencies:[O.mk,O.sg,O.O5,Z.sm,Z.IM,ee.d,D,fe.d,w.X$],styles:['[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column nowrap;overflow:hidden}.dashboard-container[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;flex:1 1 100%}.dashboard-container[_ngcontent-%COMP%]   .dashboard-page[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}.btn-group[_ngcontent-%COMP%]{margin-left:.5rem}.toggle-switch[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:2px;position:relative;top:1px}.toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000}.ad-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;display:block}.sortgroup[_ngcontent-%COMP%]{margin:1px 0 0;width:20px;height:17px;background:#e3d8d8}.sortgroup[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{display:block;padding:0;width:20px;height:8px;line-height:3px;margin:0;border-radius:0;color:#636060}.sortgroup[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{color:#efe7e7}.sortgroup[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0!important;line-height:8px}.web[_ngcontent-%COMP%]{transform-origin:0 0;transform:scale(.6) translate(-50%);left:50%;position:absolute;width:1414px;height:800px;border-radius:6px;border-style:solid;border-color:#000;border-width:24px 24px 80px;background-color:#000}.web[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:1600px;height:60px;margin:80px 0 0 -110px;background:black;border-radius:6px}.web[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:250px;height:30px;bottom:-110px;left:50%;transform:translate(-50%);background:#f1f1f1;border-bottom-left-radius:5px;border-bottom-right-radius:5px;z-index:1}.web[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:1366px;height:800px;overflow:hidden;border:none}.tab[_ngcontent-%COMP%]{position:relative;width:460px;height:100%;margin:auto;border:16px black solid;border-top-width:60px;border-bottom-width:60px;border-radius:36px}.tab[_ngcontent-%COMP%]:before{content:"";display:block;width:60px;height:5px;position:absolute;top:-30px;left:50%;transform:translate(-50%,-50%);background:#333;border-radius:10px}.tab[_ngcontent-%COMP%]:after{content:"";display:block;width:35px;height:35px;position:absolute;left:50%;bottom:-65px;transform:translate(-50%,-50%);background:#333;border-radius:50%}.tab[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;background:white;margin:-1px}.mobile[_ngcontent-%COMP%]{position:relative;width:368px;height:100%;margin:auto;border:16px black solid;border-top-width:60px;border-bottom-width:60px;border-radius:36px}.mobile[_ngcontent-%COMP%]:before{content:"";display:block;width:60px;height:5px;position:absolute;top:-30px;left:50%;transform:translate(-50%,-50%);background:#333;border-radius:10px}.mobile[_ngcontent-%COMP%]:after{content:"";display:block;width:35px;height:35px;position:absolute;left:50%;bottom:-65px;transform:translate(-50%,-50%);background:#333;border-radius:50%}.mobile[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;background:white}gridster.scrollVertical[_ngcontent-%COMP%]{height:calc(100vh - 116px);background-color:transparent}.tab[_ngcontent-%COMP%]   gridster.scrollVertical[_ngcontent-%COMP%]{height:calc(100vh - 286px);background-color:transparent}.mobile[_ngcontent-%COMP%]   gridster.scrollVertical[_ngcontent-%COMP%]{height:calc(100vh - 286px);background-color:transparent}.web[_ngcontent-%COMP%]   gridster.scrollVertical[_ngcontent-%COMP%]{height:calc(100vh - 116px);background-color:transparent}.panel[_ngcontent-%COMP%]{box-shadow:0 2px #0000000d;border-radius:0;border:0;margin-bottom:24px}.panel-dark.panel-colorful[_ngcontent-%COMP%]{background-color:#3b4146;border-color:#3b4146;color:#fff;height:100}.tab[_ngcontent-%COMP%]   .dashboard-page[_ngcontent-%COMP%], .mobile[_ngcontent-%COMP%]   .dashboard-page[_ngcontent-%COMP%]{height:100%}.device-view-wrapper[_ngcontent-%COMP%]{position:relative;overflow-y:auto;height:78vh}.move-btn[_ngcontent-%COMP%]{position:absolute;right:0}']})}return r})();var oe=p(42863),U=p(47561),se=p(28168),le=p(30578),Qe=p(70057),B=p(37415),We=p(88425);const Ge=["datatableComponent"];let ze=(()=>{class r extends U.O{actionSheetController;columnheaders;dashboardService;loggerService;router;translateService;commonService;listingVariables;route;uiUtils;searchValueChange=new e.vpe;datatableComponent;actions;dashboardSubscribe;deviceType=[];fabMobileactions;headers;isFilterClicked=!1;listData;mobileData;mobileroutesArray;show=!0;recordId;searchString;status;statusObj;dataJsonObj={};constructor(t,i,a,o,s,c,u,g,h,b){super(h,u),this.actionSheetController=t,this.columnheaders=i,this.dashboardService=a,this.loggerService=o,this.router=s,this.translateService=c,this.commonService=u,this.listingVariables=g,this.route=h,this.uiUtils=b,this.route.queryParams.subscribe(f=>{this.dataJsonObj.queryParamsObj={defaultView:f.default_view,selectedMenuId:f.selectedMenuId,selectedSubMenuId:f.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=l.hf.DASHBOARD,this.dataJsonObj.htmlPageRolesEnumValuesJson={pageEnum:l.hf,pageSettingEnum:l.AM,pageSettingFieldsEnum:l.In},this.dataJsonObj.noDuplicates=void 0,this.dataJsonObj.enterpriseId=localStorage.getItem(l.BU.SELECTED_ENTERPRISE),JSON.parse(localStorage.getItem(l.BU.MENU_CLICK_ITEM)),this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.DASHBOARDS",value:"",showSubMenuDisplayName:!0}],this.searchString="",this.headers=this.columnheaders.getDashboardWidgetsConfiguration(),this.actions={ARRANGE:this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.ARRANGE),EDIT:this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.EDIT),PREVIEW:this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.PREVIEW),VIEW:this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.VIEW)},this.getSportsDropdown(),this.dataJsonObj.addFiltersList=[],this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.CREATE)&&this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:l.gL.URL,redirectURL:"/dashboard/dashboard/create",queryParams:"",iconClass:"fas fa-plus"}),this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.FILTERS)}getSearchResult(t){try{this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString=t,this.getAllRecords(),this.datatableComponent.reset(),this.searchValueChange.emit(t)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getSearchResult",i)}}searchClose(){try{this.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.getAllRecords(),this.datatableComponent.reset(),this.searchValueChange.emit("")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"searchClose",t)}}getSportsDropdown(){this.commonService.getJsonData(`assets/enterprises/${this.dataJsonObj.enterpriseId}/sports/`,"sports.json").then(t=>{this.dataJsonObj.sportOptions=this.commonService.getFormattedSportsJSONBySport(t)})}getAllRecords(){try{const t=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView),i=this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"";this.dashboardSubscribe&&(this.dashboardSubscribe.unsubscribe(),this.dashboardSubscribe=void 0),this.status=this.statusObj,this.dashboardSubscribe=this.dashboardService.getAll(this.dataJsonObj.enterpriseId,this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.listingVariables.sortOrderColumn,this.searchString,this.status,t,i).subscribe(a=>{if(this.dashboardSubscribe.unsubscribe(),this.dashboardSubscribe=void 0,a.rows.length>0){this.mobileData&&this.mobileData.length>0||(this.mobileData=[]);for(let o=0;o<a.rows.length;o++){a.rows[o].page_name="dashboard",a.rows[o].enterprise.short_name='<a class="enable" id="enterprise.short_name'+a.rows[o]._id+'" href="enterprises/enterprises/'+a.rows[o].enterprise.enterprise_id+'/view" >'+a.rows[o].enterprise.short_name,a.rows[o].firstLineDisplay=a.rows[o].enterprise.enterprise_name,a.rows[o].secondLineDisplay=a.rows[o].dashboard_name,a.rows[o].is_enabled=!0===a.rows[o].is_enabled?"Yes":"No",a.rows[o].thirdLineDisplay="Enabled:"+a.rows[o].is_enabled;let s="";for(let c of a.rows[o].dashboard_type)s=s+(s?", ":"")+this.lookupLanguageTranslations(c.lookup_id);a.rows[o].sport_id&&(a.rows[o].sportName=this.dataJsonObj.sportOptions[a.rows[o].sport_id+""]?.NAME),a.rows[o].deviceTypes=s,this.mobileData=this.mobileData.filter(c=>c._id!==a.rows[o]._id),this.mobileData.push(a.rows[o])}a.totalCount&&(this.listingVariables.totalRecords=a.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=a.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.listData=this.listData.concat(a.rows)):this.listData=a.rows}else this.listData=[],this.mobileData=[]},a=>{this.listData=[],this.mobileData=[]})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)}}loadPageData(t){this.listingVariables.pageNumbers=t.listingVariables.pageNumbers,t.clearMobileData&&(this.mobileData=this.dataJsonObj.noDuplicates),t.isPaginationChange&&(this.dataJsonObj.selectedFilter=t.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=t.isLoadMoreClicked),this.getAllRecords()}create(){try{this.router.navigate(["/dashboard/dashboard/create"])}catch(t){this.loggerService.setLoggerError(this.constructor.name,"create",t)}}mobileEventAction(t){try{this.mobileroutesArray=[],this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.ARRANGE)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ARRANGE"),handler:()=>{this.router.navigate(["/dashboard/dashboard/"+t._id+"/arrange"]),this.router.routeReuseStrategy.clearModuleRouteCache("dashboard")}}),this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.EDIT)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/dashboard/dashboard/"+t._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("dashboard")}}),this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.PREVIEW)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_PREVIEW"),handler:()=>{this.router.navigate(["/dashboard/dashboard/"+t._id+"/preview"]),this.router.routeReuseStrategy.clearModuleRouteCache("dashboard")}}),this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.VIEW)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{this.commonService.redirectToUrl(["..",t._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}}),this.presentActionSheet(t)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"mobileEventAction",i)}}presentActionSheet(t){var i=this;return(0,P.Z)(function*(){try{yield(yield i.actionSheetController.create({cssClass:"actionsheet",buttons:i.mobileroutesArray})).present()}catch(a){i.loggerService.setLoggerError(i.constructor.name,"presentActionSheet",a)}})()}toggle(){this.show=!this.show}statusData(t){try{this.isFilterClicked=!0,this.statusObj=t.value,this.mobileData=[],this.getAllRecords()}catch(i){this.loggerService.setLoggerError(this.constructor.name,"statusData",i)}}onActionClicked(t){try{this.recordId=t.data._id,t.action===l.A0.VIEW?this.commonService.redirectToUrl(["..",t.data._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route):t.action===l.A0.EDIT?(this.router.navigate(["/dashboard/dashboard/"+this.recordId+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("dashboard")):t.action===l.A0.ARRANGE?(this.router.navigate(["/dashboard/dashboard/"+this.recordId+"/arrange"]),this.router.routeReuseStrategy.clearModuleRouteCache("dashboard")):t.action===l.A0.PREVIEW&&(this.router.navigate(["/dashboard/dashboard/"+this.recordId+"/preview"]),this.router.routeReuseStrategy.clearModuleRouteCache("dashboard"))}catch(i){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",i)}}selectedViewType(t){this.dataJsonObj.selectedDisplayView=t}selectedFilterType(t){t?this.dataJsonObj.selectedFilter=t:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}onPageLevelActionClicked(t){}advancedSearchFilterClicked(t){this.dataJsonObj.selectedAdvancedSearchObj=t}onHeaderItemClick(t){switch(t.type){case"search":this.getSearchResult(t.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(t.event);break;case"filters":this.selectedFilterType(t.event);break;case"advanced_search":this.advancedSearchFilterClicked(t.event);break;case"page_actions":this.onPageLevelActionClicked(t.event)}}static \u0275fac=function(i){return new(i||r)(e.Y36(Qe.BX),e.Y36(oe.Y),e.Y36(M.s),e.Y36(x.m),e.Y36(C.F0),e.Y36(w.sK),e.Y36(j.v),e.Y36(le.v),e.Y36(C.gz),e.Y36(R.s))};static \u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard"]],viewQuery:function(i,a){if(1&i&&e.Gf(Ge,5),2&i){let o;e.iGM(o=e.CRH())&&(a.datatableComponent=o.first)}},outputs:{searchValueChange:"searchValueChange"},features:[e._Bn([se.n,oe.Y,le.v]),e.qOj],decls:9,vars:28,consts:[[1,"container-fluid","config-optns"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],["id","tagid",1,"",3,"header","actions","totalRecords","mobileListData","paginator","data","expand","statsShow","showRights","statsSearch","listingVariables","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","selectedSubMenuId","actionClicked","redirectionEvent","changeStats","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(s){return a.onHeaderItemClick(s)}),e.qZA()(),e.TgZ(4,"div",4)(5,"app-datatable",5,6),e.NdJ("actionClicked",function(s){return a.onActionClicked(s)})("redirectionEvent",function(s){return a.mobileEventAction(s)})("changeStats",function(s){return a.statusData(s)})("loadPageData",function(s){return a.loadPageData(s)}),e.qZA(),e.TgZ(7,"div",7)(8,"app-page-actions",8),e.NdJ("selectedAction",function(s){return a.onPageLevelActionClicked(s)}),e.qZA()()()()()),2&i&&(e.xp6(3),e.Q6J("pageName",a.dataJsonObj.pageName)("defaultView",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",a.dataJsonObj.pageActionsList)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(2),e.Q6J("header",a.headers)("actions",a.actions)("totalRecords",a.listingVariables.totalRecords)("mobileListData",a.mobileData)("paginator",!0)("data",a.listData)("expand",!1)("statsShow",a.show)("showRights",a.roleRightsValidationByPage(a.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.DASHBOARD,a.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,a.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.STATS))("statsSearch",a.searchString)("listingVariables",a.listingVariables)("selectedDisplayViewType",a.dataJsonObj.selectedDisplayView)("selectedFilterType",a.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",a.dataJsonObj.selectedAdvancedSearchObj)("pageName",a.dataJsonObj.pageName)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",a.dataJsonObj.pageActionsList))},dependencies:[se.n,B.q,We.y]})}return r})();var T=p(15439),F=p(46448),E=p(93144),N=p(10805),Y=p(2387),H=p(56368),$e=p(9851),de=p(47178),Q=p(93837),pe=p(38077),W=p(24929),ce=p(92634),G=p(68653),he=p(42919);const Ke=["dashboardNameValidation"],Xe=["descriptionvalidation"],et=["deviceTypeMaltiDropDown"],tt=["editWidgetNameDropdown"],at=["widgetNameDropdown"],it=["rowCreate"],rt=["colCreate"],nt=["xPositionCreate"],ot=["yPositionCreate"],st=["rowEdit"],lt=["colEdit"],dt=["xPositionEdit"],pt=["yPositionEdit"];function ct(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"mat-button-toggle",102),e.NdJ("click",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.changeDeviceData(a))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit,i=e.oxw();e.s9C("title",t.lookup_name),e.Q6J("ngClass",t.lookup_name===i.dataJsonObj.printvalue?"btn-primary":""),e.xp6(1),e.hij("",t.NAME," ")}}function ht(r,n){if(1&r&&(e.TgZ(0,"tr",104)(1,"td",105),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function ut(r,n){if(1&r&&e.YNc(0,ht,4,4,"tr",103),2&r){const t=e.oxw();e.Q6J("ngIf",t.widgetsBlockData&&0==t.widgetsBlockData.length)}}function gt(r,n){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function _t(r,n){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",106),e.YNc(2,gt,3,3,"th",107),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function mt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td",112),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),o=a.rowIndex,s=a.$implicit,c=e.oxw();return e.KtG(c.widgetEdit(o,s))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit,i=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",i),e.xp6(1),e.hij(" ",i[t.field]," ")}}function bt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",108)(2,"div",109)(3,"span",110),e.NdJ("click",function(){const a=e.CHM(t),o=a.rowIndex,s=a.$implicit,c=e.oxw();return e.KtG(c.remove(o,s))}),e.qZA()()(),e.YNc(4,mt,2,5,"td",111),e.qZA()}if(2&r){const t=n.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function Ot(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",114)(6,"br"),e.qZA()),2&r){const t=n.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",i[t.field],e.oJD)}}function Ct(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ot,7,4,"div",113),e.qZA()()()),2&r){const t=n.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function ft(r,n){if(1&r&&(e.TgZ(0,"tr",104)(1,"td",105),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function vt(r,n){if(1&r&&e.YNc(0,ft,4,4,"tr",103),2&r){const t=e.oxw();e.Q6J("ngIf",t.parametersData&&0==t.parametersData.length)}}function wt(r,n){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Tt(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,wt,3,3,"th",107),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Dt(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",i[t.field]," ")}}function At(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-input",123),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].parameter_value)}}function yt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-inputnumber",124),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,3,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].parameter_value),e.Q6J("maxlength",10)}}function Et(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-input",125),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].parameter_value)}}function St(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-datepicker",126),e.NdJ("dateChangeValue",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("placeholder",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("defaultDate",i.parametersData[t].parameter_value)}}function Zt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-search",127),e.NdJ("selectedOption",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))})("searchValueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParamValuesList(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,3,"REPORTS.PARAMETER_VALUE")),e.s9C("defaultValue",i.parametersData[t].param_value),e.Q6J("options",i.parameterValueOptions)}}function Mt(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,At,2,4,"app-input",118),e.YNc(2,yt,2,5,"app-inputnumber",119),e.YNc(3,Et,2,4,"app-input",120),e.YNc(4,St,2,4,"app-datepicker",121),e.YNc(5,Zt,2,5,"app-dropdown-search",122),e.qZA()),2&r){const t=e.oxw(2).rowIndex,i=e.oxw();e.xp6(1),e.Q6J("ngIf","INPUT_TEXT"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","INPUT_NUMBER"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","INPUT_EMAIL"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","DATE"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","LIST"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name))}}function Nt(r,n){if(1&r&&(e.TgZ(0,"td",116),e.YNc(1,Dt,2,1,"span",117),e.YNc(2,Mt,6,5,"span",117),e.qZA()),2&r){const t=n.$implicit,i=n.index,a=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",a),e.xp6(1),e.Q6J("ngIf",1!=i),e.xp6(1),e.Q6J("ngIf",1==i)}}function It(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Nt,3,6,"td",115),e.qZA()),2&r){const t=n.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function jt(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",114)(6,"br"),e.qZA()),2&r){const t=n.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",i[t.field],e.oJD)}}function Lt(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,jt,7,4,"div",113),e.qZA()()()),2&r){const t=n.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function xt(r,n){if(1&r&&(e.TgZ(0,"tr",104)(1,"td",105),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Jt(r,n){if(1&r&&e.YNc(0,xt,4,4,"tr",103),2&r){const t=e.oxw();e.Q6J("ngIf",t.parametersData&&0==t.parametersData.length)}}function Rt(r,n){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function kt(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Rt,3,3,"th",107),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Ut(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",i[t.field]," ")}}function Bt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-input",133),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].parameter_value)}}function Pt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-inputnumber",134),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,3,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].parameter_value),e.Q6J("maxlength",10)}}function Vt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-input",135),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].parameter_value)}}function qt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-datepicker",136),e.NdJ("dateChangeValue",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("placeholder",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("defaultDate",i.parametersData[t].parameter_value)}}function Ft(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-search",137),e.NdJ("selectedOption",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))})("searchValueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParamValuesList(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,3,"REPORTS.PARAMETER_VALUE")),e.s9C("defaultValue",i.parametersData[t].param_value),e.Q6J("options",i.parameterValueOptions)}}function Yt(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,Bt,2,4,"app-input",128),e.YNc(2,Pt,2,5,"app-inputnumber",129),e.YNc(3,Vt,2,4,"app-input",130),e.YNc(4,qt,2,4,"app-datepicker",131),e.YNc(5,Ft,2,5,"app-dropdown-search",132),e.qZA()),2&r){const t=e.oxw(2).rowIndex,i=e.oxw();e.xp6(1),e.Q6J("ngIf","INPUT_TEXT"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","INPUT_NUMBER"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","INPUT_EMAIL"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","DATE"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","LIST"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name))}}function Ht(r,n){if(1&r&&(e.TgZ(0,"td",116),e.YNc(1,Ut,2,1,"span",117),e.YNc(2,Yt,6,5,"span",117),e.qZA()),2&r){const t=n.$implicit,i=n.index,a=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",a),e.xp6(1),e.Q6J("ngIf",1!=i),e.xp6(1),e.Q6J("ngIf",1==i)}}function Qt(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Ht,3,6,"td",115),e.qZA()),2&r){const t=n.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Wt(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",114)(6,"br"),e.qZA()),2&r){const t=n.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",i[t.field],e.oJD)}}function Gt(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Wt,7,4,"div",113),e.qZA()()()),2&r){const t=n.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function zt(r,n){if(1&r&&(e.TgZ(0,"tr",104)(1,"td",105),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function $t(r,n){if(1&r&&e.YNc(0,zt,4,4,"tr",103),2&r){const t=e.oxw();e.Q6J("ngIf",t.parametersData&&0==t.parametersData.length)}}function Kt(r,n){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Xt(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Kt,3,3,"th",107),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function ea(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",i[t.field]," ")}}function ta(r,n){if(1&r&&(e.TgZ(0,"span"),e._UZ(1,"app-input",138),e.ALo(2,"translate"),e.qZA()),2&r){const t=e.oxw(2).rowIndex,i=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].parameter_value)}}function aa(r,n){if(1&r&&(e.TgZ(0,"td",116),e.YNc(1,ea,2,1,"span",117),e.YNc(2,ta,3,4,"span",117),e.qZA()),2&r){const t=n.$implicit,i=n.index,a=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",a),e.xp6(1),e.Q6J("ngIf",1!=i),e.xp6(1),e.Q6J("ngIf",1==i)}}function ia(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,aa,3,6,"td",115),e.qZA()),2&r){const t=n.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function ra(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",114)(6,"br"),e.qZA()),2&r){const t=n.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",i[t.field],e.oJD)}}function na(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,ra,7,4,"div",113),e.qZA()()()),2&r){const t=n.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}let oa=(()=>{class r extends U.O{dashboardService;loggerService;navigationService;router;translateService;uiUtils;commonService;route;dashboardNameValidation;descriptionvalidation;deviceTypeMaltiDropDown;editWidgetNameDropdown;widgetNameDropdown;rowCreate;colCreate;xPositionCreate;yPositionCreate;rowEdit;colEdit;xPositionEdit;yPositionEdit;dashboardDescription;dashboardName;widgetsBlockData=[];deviceTypeOptions;deviceTypes=[];deviceTypesArray;displayEnable;enabledOptions;enterpriseShortName;widgetPopupErrorMsg;error2;error;errorMsg;header;isEnabled=!1;parameterValueOptions;parametersColumnHeaders;parametersData;rowIndex;headerAction;selectedOptions=[];widgetCreatedate;widgetDescription;widgetEnable;widgetId;widgetName;widgetUpdatedate;widgetViewName;widgetViewUserName;widgetsData;widgetsId;widgetsObj;widgetsOptions;widgetviewData;dataJsonObj={};widgetsArray;constructor(t,i,a,o,s,c,u,g){super(g,u),this.dashboardService=t,this.loggerService=i,this.navigationService=a,this.router=o,this.translateService=s,this.uiUtils=c,this.commonService=u,this.route=g}ngOnInit(){this.headerAction={BACK:!0},this.initializeComponent()}initializeComponent(){this.dataJsonObj.submitEnabled=!1,this.dataJsonObj.pageName=l.hf.DASHBOARD,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.DASHBOARD",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.header=[[{headersort:"disableth",field:"widget_name",header:this.translateService.instant("COMMON_PAGE_TITLES.WIDGET"),class:""},{headersort:"disableth",field:"rows",header:"Rows",class:"w-30 list-value-right"},{headersort:"disableth",field:"cols",header:"Cols",class:"w-30 list-value-right"},{headersort:"disableth",field:"x",header:"Poistion - X",class:"w-30 list-value-right"},{headersort:"disableth",field:"y",header:"Poistion - Y",class:"w-30 list-value-right"},{headersort:"disableth",field:"widget_createdAt",header:this.translateService.instant("COMMON_RECORD_HISTORY.CREATED_DATE"),class:"w-130 list-value-right"},{headersort:"disableth",field:"widget_updatedAt",header:this.translateService.instant("COMMON_RECORD_HISTORY.LAST_UPDATED_DATE"),class:"w-80 list-value-right"},{headersort:"disableth",field:"display_enable",header:this.translateService.instant("COMMON_FIELDS.ENABLED"),class:"w-50"}],[]],this.parametersColumnHeaders=[[{headersort:"disableth",field:"parameter_display_name",header:"REPORTS.PARAMETER_NAME",class:"w-100"},{headersort:"disableth",field:"parameter_value",header:"REPORTS.PARAMETER_VALUE",class:"150"},{headersort:"disableth",field:"parameter_description",header:"COMMON_FIELDS.DESCRIPTION",class:""},{headersort:"disableth",field:"parameter",header:"COMMON_FIELDS.TYPE",class:"w-80"},{headersort:"disableth",field:"default_value",header:"COMMON_FIELDS.DEFAULT_VALUE",class:"w-80"}],[]],this.enabledOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}],this.dataJsonObj.inputObj={},this.dataJsonObj.inputColorObj={},this.dataJsonObj.inputColorObj.background_color="",this.dataJsonObj.inputColorObj.icon_color="",this.dataJsonObj.inputColorObj.text_color="",this.enterpriseShortName=localStorage.getItem(l.BU.SELECTED_ENTERPRISE_NAME),this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(l.BU.SELECTED_ENTERPRISE),this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(t=>{this.dataJsonObj.lookupCodesListJSON=t}),this.getSportsDropdown()}onClick(t){t.stopPropagation()}changeDashboardName(t){try{this.error2="",this.dashboardName=t.value,this.dashboardDescription=t.value,this.dataJsonObj.submitEnabled=!1}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changedashboardName",i)}}getdeviceTypeOptions(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[l.ox.WIDGET_TYPES],t).then(i=>{this.deviceTypeOptions=i})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getdeviceTypeOptions",i)}}changeDeviceType(t){try{if(t.value){this.deviceTypes=t.value,this.dataJsonObj.printvalue=this.deviceTypes[0].lookup_name,this.widgetsArray=[];for(let i of this.deviceTypes)this.widgetsArray.push({device_type:{lookup_id:i._id,lookup_name:i.lookup_name},widgets:[]})}}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeDeviceType",i)}}changeDeviceData(t){try{this.dataJsonObj.printvalue=t.target.title;for(let i of this.widgetsArray)i.device_type.lookup_name===this.dataJsonObj.printvalue&&(this.widgetsBlockData=i.widgets)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeDeviceData",i)}}changesDescription(t){try{this.dashboardDescription=t.value}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changesDescription",i)}}changeCheckboxIsEnabled(t){this.isEnabled=t.value}getwidgetEditOptions(t){try{this.dashboardService.getwidgetdropData(this.dataJsonObj.selectedEnterpriseId,t,this.dataJsonObj.sportId).then(i=>{this.widgetsOptions=i})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getwidgetEditOptions",i)}}changewidgetOptions(t){try{this.widgetPopupErrorMsg="",t.ID?(this.widgetsId=t.ID,this.widgetsObj=t,this.widgetName=t.widget_name,this.dashboardService.getWidgetViewData(this.widgetsId).then(i=>{this.widgetviewData=i,this.dataJsonObj.inputColorObj.background_color=this.widgetviewData.background_color,this.dataJsonObj.inputColorObj.icon_color=this.widgetviewData.icon_color,this.dataJsonObj.inputColorObj.text_color=this.widgetviewData.text_color,this.widgetId=this.widgetviewData._id,this.widgetDescription=this.widgetviewData.description,this.widgetViewName=this.widgetviewData.widget_name,this.widgetViewUserName=this.commonService.changeUserNameFormat(this.widgetviewData.updated_by),this.widgetCreatedate=this.commonService.dbTimezoneFormatWithHours(this.widgetviewData.createdAt),this.widgetUpdatedate=this.commonService.dbTimezoneFormatWithHours(this.widgetviewData.updatedAt);for(let a=0;a<i.widget_params.length;a++)i.widget_params[a].param_value=i.widget_params[a]?.default_value,i.widget_params[a].param_display_value=i.widget_params[a]?.default_value_to_display,i.widget_params[a].parameter_value=i.widget_params[a]?.default_value,i.widget_params[a]?.param_enabled&&(i.widget_params[a].parameter=this.lookupLanguageTranslations(i.widget_params[a].parameter_type.lookup_id),"DATE"===i.widget_params[a].parameter_type.lookup_name&&(!0===i.widget_params[a].param_mandatory||"true"===i.widget_params[a].param_mandatory)&&(i.widget_params[a].parameter_value=T(new Date,"DD-MM-YYYY"),i.widget_params[a].param_value=T(new Date,"DD-MM-YYYY")),this.parametersData.push(i.widget_params[a]))})):(this.widgetsOptions=[],this.widgetsId="",this.widgetEnable=!0,this.displayEnable="Yes",this.widgetCreatedate="",this.widgetUpdatedate="",this.widgetViewUserName="",this.widgetDescription="",this.widgetName="",this.parametersData=[])}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changewidgetOptions",i)}}changeWidgetEnabledvalue(t){try{this.widgetPopupErrorMsg="",this.widgetEnable=t.value,this.displayEnable=!0===t.value?"Yes":"No"}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getwidgetEnabledvalue",i)}}changeParamValuesList(t,i){try{this.dashboardService.reportParametersListData(this.widgetviewData.enterprise.enterprise_id,this.parametersData[i].param_data_source_table.page_name.toLowerCase(),this.parametersData[i].param_data_source_column,this.parametersData[i].param_data_source_display_column,t).then(a=>{this.parameterValueOptions=a},a=>{this.commonErrorCodes(JSON.parse(a))})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeParamValuesList",a)}}changeParameterValue(t,i){try{this.errorMsg="",this.parametersData[i].parameter_type.lookup_name===l.oP.INPUT_LIST?t.NAME?(this.parametersData[i].param_value=t.NAME,this.parametersData[i].param_display_value=t.NAME,this.parametersData[i].parameter_value=t.ID,this.parametersData[i].parameter_display_value=t.ID):this.parametersData[i].param_value="":this.parametersData[i].parameter_type.lookup_name===l.oP.INPUT_DATE?(this.parametersData[i].param_value=T(t.value).format("DD-MMM-YYYY"),this.parametersData[i].param_display_value=T(t.value).format("DD-MMM-YYYY"),this.parametersData[i].parameter_value=T(t.value).format("DD-MMM-YYYY"),this.parametersData[i].parameter_display_value=T(t.value).format("DD-MMM-YYYY")):(this.parametersData[i].param_value=t.value,this.parametersData[i].param_display_value=t.value,this.parametersData[i].parameter_value=t.value,this.parametersData[i].parameter_display_value=t.value)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeParameterValue",a)}}widgetAdd(t){try{this.error="",this.widgetPopupErrorMsg="",this.widgetNameDropdown.clearSelectInput(),this.widgetNameDropdown.clearmessage(),this.widgetsId="",this.widgetEnable=!0,this.displayEnable="Yes",this.widgetCreatedate="",this.widgetUpdatedate="",this.widgetViewUserName="",this.widgetDescription="",this.parametersData=[],this.parameterValueOptions=[],$("#exampleModal1").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal1")}catch(i){this.loggerService.setLoggerError(this.constructor.name,"widgetAdd",i)}}changeFile(t,i,a){try{this.dataJsonObj.filesObj||(this.dataJsonObj.filesObj={}),this.dataJsonObj.filesObj||(this.dataJsonObj.filesObj={}),""===t.error?(this.dataJsonObj.filesObj[i]="",this.dataJsonObj.filesObj[i]=t.value,a&&(a[i]=t.value)):this.dataJsonObj.filesObj[i]=t.error}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeFile",o)}}removeFile(t){try{this.dataJsonObj.filesObj[t]="",this.dataJsonObj.filesObj[t]=""}catch(i){this.loggerService.setLoggerError(this.constructor.name,"removeFile",i)}}getSportsDropdown(){this.commonService.getJsonData(`assets/enterprises/${this.dataJsonObj.selectedEnterpriseId}/sports/`,"sports.json").then(t=>{this.dataJsonObj.sportOptions=t,1==this.dataJsonObj.sportOptions.length&&(this.dataJsonObj.sportId=this.dataJsonObj.sportOptions[0].ID)})}changeSportName(t){try{t.value&&(this.dataJsonObj.sportId=t.value)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeTournamentList",i)}}widgetDataAdd(){try{if(this.widgetNameDropdown.isValid()&&this.rowCreate.isValid()&&this.colCreate.isValid()&&this.xPositionCreate.isValid()&&this.yPositionCreate.isValid()){if(this.widgetPopupErrorMsg="",this.errorMsg="",this.widgetsBlockData.length>0)for(let t=0;t<this.widgetsBlockData.length;t++)this.widgetsBlockData[t].widget_name===this.widgetName&&(this.widgetPopupErrorMsg=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS"));if(""===this.widgetPopupErrorMsg&&""===this.errorMsg){this.error="",this.widgetsData={widget_id:this.widgetsId,widget_name:this.widgetName,widget_enabled:this.widgetEnable,widget_createdAt:this.widgetCreatedate,widget_updatedAt:this.widgetUpdatedate,widget_username:this.widgetViewUserName,widget_description:this.widgetDescription,display_enable:this.displayEnable,rows:this.dataJsonObj.inputObj.rows,cols:this.dataJsonObj.inputObj.cols,x:this.dataJsonObj.inputObj.x,y:this.dataJsonObj.inputObj.y,background_color:this.dataJsonObj.inputColorObj.background_color,icon_color:this.dataJsonObj.inputColorObj.icon_color,text_color:this.dataJsonObj.inputColorObj.text_color,widget_params_block:this.parametersData,widget_params:this.parametersData},this.widgetsBlockData.push(this.widgetsData);for(let t of this.widgetsArray)t.device_type.lookup_name===this.dataJsonObj.printvalue&&(t.widgets=this.widgetsBlockData);this.dataJsonObj.inputObj={},this.dataJsonObj.inputColorObj={},$("#exampleModal1").modal("hide")}}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"widgetsDataAdd",t)}}widgetEdit(t,i){try{this.widgetPopupErrorMsg="",this.editWidgetNameDropdown.clearmessage(),document.getElementsByTagName("body")[0].classList.add("modale-popup-open"),this.rowIndex=t,this.widgetName=i.widget_name,this.widgetsId=i.widget_id,this.widgetEnable=i.widget_enabled,this.widgetCreatedate=i.widget_createdAt,this.widgetUpdatedate=i.widget_updatedAt,this.widgetViewUserName=i.widget_username,this.widgetDescription=i.widget_description,this.displayEnable=i.display_enable,this.dataJsonObj.inputObj.cols=i.cols,this.dataJsonObj.inputObj.rows=i.rows,this.dataJsonObj.inputObj.y=i.y,this.dataJsonObj.inputObj.x=i.x,this.dataJsonObj.inputColorObj.background_color=i.background_color,this.dataJsonObj.inputColorObj.icon_color=i.icon_color,this.dataJsonObj.inputColorObj.text_color=i.text_color,this.parameterValueOptions=[],this.parametersData=i.widget_params_block,$("#exampleModal2").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal2")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"widgetsDataAdd",a)}}updateWidgetRecord(){try{if(this.editWidgetNameDropdown.isValid()&&this.rowEdit.isValid()&&this.colEdit.isValid()&&this.xPositionEdit.isValid()&&this.yPositionEdit.isValid()){for(let t=0;t<this.widgetsBlockData.length;t++)this.rowIndex!==t&&this.widgetsBlockData[t].widget_name===this.widgetName&&(this.widgetPopupErrorMsg=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS"));if(this.errorMsg="",""===this.widgetPopupErrorMsg&&""===this.errorMsg){for(let t=0;t<this.widgetsBlockData.length;t++)t===this.rowIndex&&(this.widgetsBlockData[t].widget_id=this.widgetsId,this.widgetsBlockData[t].widget_name=this.widgetName,this.widgetsBlockData[t].widget_enabled=this.widgetEnable,this.widgetsBlockData[t].widget_createdAt=this.widgetCreatedate,this.widgetsBlockData[t].widget_updatedAt=this.widgetUpdatedate,this.widgetsBlockData[t].widget_username=this.widgetViewUserName,this.widgetsBlockData[t].widget_description=this.widgetDescription,this.widgetsBlockData[t].display_enable=this.displayEnable,this.widgetsBlockData[t].cols=this.dataJsonObj.inputObj.cols,this.widgetsBlockData[t].rows=this.dataJsonObj.inputObj.rows,this.widgetsBlockData[t].y=this.dataJsonObj.inputObj.y,this.widgetsBlockData[t].x=this.dataJsonObj.inputObj.x,this.widgetsBlockData[t].background_color=this.dataJsonObj.inputColorObj.background_color,this.widgetsBlockData[t].icon_color=this.dataJsonObj.inputColorObj.icon_color,this.widgetsBlockData[t].text_color=this.dataJsonObj.inputColorObj.text_color,this.widgetsBlockData[t].widget_params_block=this.parametersData,this.widgetsBlockData[t].widget_params=this.parametersData);for(let t of this.widgetsArray)t.device_type.lookup_name===this.dataJsonObj.printvalue&&(t.widgets=this.widgetsBlockData);this.dataJsonObj.inputObj={},this.dataJsonObj.inputColorObj={},$("#exampleModal2").modal("hide")}}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"updateWidgetRecord",t)}}remove(t,i){try{document.getElementsByTagName("body")[0].classList.add("modale-popup-open"),this.rowIndex=t,this.widgetName=i.widget_name,this.widgetEnable=i.widget_enabled,this.widgetCreatedate=i.widget_createdAt,this.widgetUpdatedate=i.widget_updatedAt,this.widgetViewUserName=i.widget_username,this.widgetDescription=i.widget_description,this.dataJsonObj.inputObj.cols=i.cols,this.dataJsonObj.inputObj.rows=i.rows,this.dataJsonObj.inputObj.y=i.y,this.dataJsonObj.inputObj.x=i.x,this.dataJsonObj.inputColorObj.background_color=i.background_color,this.dataJsonObj.inputColorObj.icon_color=i.icon_color,this.dataJsonObj.inputColorObj.text_color=i.text_color,this.parametersData=i.widget_params_block,$("#exampleModal3").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal3")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"remove",a)}}deleteWidgetRecord(){try{this.widgetsBlockData.splice(this.rowIndex,1),this.dataJsonObj.inputObj.rows="",this.dataJsonObj.inputObj.cols="",this.dataJsonObj.inputObj.x="",this.dataJsonObj.inputObj.y="",this.dataJsonObj.inputColorObj.background_color="",this.dataJsonObj.inputColorObj.icon_color="",this.dataJsonObj.inputColorObj.text_color="";for(let t of this.widgetsArray)t.device_type.lookup_name===this.dataJsonObj.printvalue&&(t.widgets=this.widgetsBlockData);$("#exampleModal3").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"deleteRecord",t)}}cancelBtn(){try{this.dataJsonObj.inputObj={},this.dataJsonObj.inputColorObj={},document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelBtn",t)}}createRecord(){try{if(this.dashboardNameValidation.isValid()&&this.deviceTypeMaltiDropDown.isValid()&&this.descriptionvalidation.isValid()){this.dataJsonObj.submitEnabled=!0,this.deviceTypesArray=[];for(let t=0;t<this.deviceTypes.length;t++)this.deviceTypesArray.push({lookup_id:this.deviceTypes[t].lookup_id,lookup_name:this.deviceTypes[t].lookup_name});if(this.widgetsArray[0].widgets.length>0){this.error="";for(let a of this.widgetsArray)0===a?.widgets.length&&(a.widgets=this.widgetsArray[0].widgets);const t={enterprise:{enterprise_id:this.dataJsonObj.selectedEnterpriseId,enterprise_name:this.enterpriseShortName,short_name:this.enterpriseShortName},dashboard_name:this.dashboardName,description:this.dashboardDescription,dashboard_type:this.deviceTypesArray,is_enabled:this.isEnabled,widgets:this.widgetsArray,sport_id:this.dataJsonObj.sportId},i={};i.backgroundImage=this.dataJsonObj.filesObj&&this.dataJsonObj.filesObj.backgroundImage?this.commonService.dataURItoImgBlob(this.dataJsonObj.filesObj.backgroundImage,"image/jpeg"):"",this.dashboardService.createModuleConfigurations(t,i).then(a=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),this.dataJsonObj.submitEnabled=!1,this.router.routeReuseStrategy.clearModuleRouteCache("dashboard"),this.router.navigateByUrl("/dashboard")},a=>{this.commonErrorCodes(JSON.parse(a))})}else this.error=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_PLEASE_ADD_A_RECORD_IN_WIDGET_BLOCK")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"submit",t)}}changeInputFieldValue(t,i,a){try{a[i]=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeInputFieldValue",o)}}changeColor(t,i,a){try{a[i]=t.target.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeColor",o)}}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}commonErrorCodes(t){switch(JSON.parse(t[l.BU.STATUS])){case 409:this.error2=this.translateService.instant("COMMON_STATUS_CODES.409");break;case 404:default:break;case 400:this.errorMsg=this.translateService.instant("COMMON_TOAST_MESSAGES.INVALID_WHERE_QUERY")}}previousUrl(){this.commonService.redirectToPreviousUrl()}pageheadeActionClick(t){"BACK"==t.value&&this.previousUrl()}static \u0275fac=function(i){return new(i||r)(e.Y36(M.s),e.Y36(x.m),e.Y36(F.f),e.Y36(C.F0),e.Y36(w.sK),e.Y36(R.s),e.Y36(j.v),e.Y36(C.gz))};static \u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard-create"]],viewQuery:function(i,a){if(1&i&&(e.Gf(Ke,5),e.Gf(Xe,5),e.Gf(et,5),e.Gf(tt,5),e.Gf(at,5),e.Gf(it,5),e.Gf(rt,5),e.Gf(nt,5),e.Gf(ot,5),e.Gf(st,5),e.Gf(lt,5),e.Gf(dt,5),e.Gf(pt,5)),2&i){let o;e.iGM(o=e.CRH())&&(a.dashboardNameValidation=o.first),e.iGM(o=e.CRH())&&(a.descriptionvalidation=o.first),e.iGM(o=e.CRH())&&(a.deviceTypeMaltiDropDown=o.first),e.iGM(o=e.CRH())&&(a.editWidgetNameDropdown=o.first),e.iGM(o=e.CRH())&&(a.widgetNameDropdown=o.first),e.iGM(o=e.CRH())&&(a.rowCreate=o.first),e.iGM(o=e.CRH())&&(a.colCreate=o.first),e.iGM(o=e.CRH())&&(a.xPositionCreate=o.first),e.iGM(o=e.CRH())&&(a.yPositionCreate=o.first),e.iGM(o=e.CRH())&&(a.rowEdit=o.first),e.iGM(o=e.CRH())&&(a.colEdit=o.first),e.iGM(o=e.CRH())&&(a.xPositionEdit=o.first),e.iGM(o=e.CRH())&&(a.yPositionEdit=o.first)}},features:[e._Bn([M.s]),e.qOj],decls:281,vars:286,consts:[[1,"container-fluid","config-optns"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-10"],[1,"row"],[1,"col-md-5"],["mandatory","true","disabled","false","id","dashboard-create-enterprise",3,"label","value","maxlength","valueChange"],["dashboardNameValidation",""],[1,"col-md-3"],["disabled","false","mandatory","true","id","dashboard-create-devicetype",3,"label","options","selectedOptions","valueChange","searchValueChange"],["deviceTypeMaltiDropDown",""],[1,"col-md-4"],["mandatory","false","id","teams-create-sports",3,"label","options","defaultValue","valueChange"],["sportsDropDown",""],["mandatory","true","disabled","false","id","dashboard-create-description",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalidation",""],[1,"col-md-2","d-flex","align-items-center"],["label","","id","dashboard-create-enabled","mandatory","false",3,"options","checked","valueChange"],[1,"col-md-2","imagewith-label"],["type","file","btnHide","true","action","create","imageid","BackgroundImage","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","valueChange","imageRemove"],[1,"col-md-12","text-end","mt-2","mb-2"],["id","dashboard-create-submit","className","btn btn-primary btn-sm",1,"mgr-5",3,"label","disabled","buttonOnClick"],["id","dashboard-create-close","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"card"],[1,"card-content"],[1,"position-relative","mgb-2"],[1,"btn-group-sm"],["class","btn btn-sm mgr-5",3,"title","ngClass","click",4,"ngFor","ngForOf"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","false","label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","dashboard-create-linesadd",3,"isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["id","exampleModal1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"col-md-6"],["mandatory","true","id","dashboard-create-wedget",3,"label","options","defaultValue","selectedOption","searchValueChange"],["widgetNameDropdown",""],["mandatory","false","disabled","true","id","dashboard-create-widgetblockadd-username",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblockadd-createddate","disabled","true",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblockadd-updatedate","disabled","true",3,"label","value"],["mandatory","true","disabled","false","id","dashboard-create-rows",3,"label","value","valueChange"],["rowCreate",""],[1,"col-md-2"],["mandatory","true","disabled","false","id","dashboard-create-cols",3,"label","value","valueChange"],["colCreate",""],["mandatory","true","disabled","false","id","dashboard-create-xposition",3,"label","value","valueChange"],["xPositionCreate",""],["mandatory","true","disabled","false","id","dashboard-create-yposition",3,"label","value","valueChange"],["yPositionCreate",""],["type","color","disabled","false",3,"label","value","change"],["mandatory","true","disabled","true","id","dashboard-create-widgetblockadd-description",3,"label","defaultvalue","maxlength"],[1,"col-md-3","d-flex","align-items-center"],["id","reportsubmissions-widgetblockadd-parametersblock",1,"list-accordion-tab",3,"selected"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","dashboard-create-widgetblockadd-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","dashboard-create-widgetblockadd-close",3,"label","buttonOnClick"],["id","exampleModal2","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","dashboard-create-widgetblockedit--widget",3,"label","options","defaultValue","selectedOption","searchValueChange"],["editWidgetNameDropdown",""],["mandatory","false","disabled","true","id","dashboard-create-widgetblockedit-username",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblockedit-createdate","disabled","true",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblockedit-updeteddate","disabled","true",3,"label","value"],["rowEdit",""],["colEdit",""],["xPositionEdit",""],["yPositionEdit",""],["mandatory","true","disabled","true","id","dashboard-create-widgetblockedit-description",3,"label","defaultvalue","maxlength"],["label","","id","dashboard-create-enabled","disabled","false","mandatory","false",3,"options","checked","valueChange"],["id","dashboard-widgetblockedit-parametersblock",1,"list-accordion-tab",3,"selected"],["className","btn btn-primary btn-sm","id","dashboard-create-widgetblockedit-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","dashboard-create-widgetblockedit-close",3,"label","buttonOnClick"],["id","exampleModal3","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","false","disabled","true","id","dashboard-create-widgetblockdelete-widget",3,"label","value"],["mandatory","false","disabled","true","id","dashboard-create-widgetblockdelete-username",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblockdelete-createdate","disabled","true",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblockdelete-updatedate","disabled","true",3,"label","value"],["mandatory","false","disabled","true","id","dashboard-create-rows",3,"label","value"],["mandatory","false","disabled","true","id","dashboard-create-cols",3,"label","value"],["mandatory","false","disabled","true","id"," dashboard-create-xposition",3,"label","value"],["mandatory","false","disabled","true","id","dashboard-create-yposition",3,"label","value"],["type","color","disabled","true",3,"label","value"],["mandatory","true","disabled","true","id","dashboard-create-widgetblockdelete-description",3,"label","defaultvalue","maxlength"],["label","","id","dashboard-create-widgetblockdelete-enabled","disabled","true","mandatory","false",3,"options","checked","valueChange"],["id","dashboard--widgetblockdelete-parametersblock",1,"list-accordion-tab",3,"selected"],["className","btn btn-primary btn-sm","id","dashboard-creat-widgetblockdelete-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","dashboard-creat-widgetblockdelete-close",3,"label","buttonOnClick"],[1,"btn","btn-sm","mgr-5",3,"title","ngClass","click"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[1,"checkboxcol",2,"width","2em"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#exampleModal3",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","click"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"],["data-toggle","modal",3,"pSelectableRow","class",4,"ngFor","ngForOf"],["data-toggle","modal",3,"pSelectableRow"],[4,"ngIf"],["disabled","false","id","dashboard-create-widgetblockadd-parameter-inputtext-value",3,"label","value","valueChange",4,"ngIf"],["disabled","false","id","dashboard-create-parameter-widgetblockadd-inputnumber-value",3,"label","maxlength","value","valueChange",4,"ngIf"],["disabled","false","type","email","id","dashboard-create-parameter-widgetblockadd-inputemail-value",3,"label","value","valueChange",4,"ngIf"],["id","dashboard-create-widgetblockadd-parameter-date-value","dateformat","dd-MMM-yyyy","currentDate","false",3,"placeholder","defaultDate","dateChangeValue",4,"ngIf"],["id","dashboard-create-widgetblockadd-parameter-value",3,"label","options","defaultValue","selectedOption","searchValueChange",4,"ngIf"],["disabled","false","id","dashboard-create-widgetblockadd-parameter-inputtext-value",3,"label","value","valueChange"],["disabled","false","id","dashboard-create-parameter-widgetblockadd-inputnumber-value",3,"label","maxlength","value","valueChange"],["disabled","false","type","email","id","dashboard-create-parameter-widgetblockadd-inputemail-value",3,"label","value","valueChange"],["id","dashboard-create-widgetblockadd-parameter-date-value","dateformat","dd-MMM-yyyy","currentDate","false",3,"placeholder","defaultDate","dateChangeValue"],["id","dashboard-create-widgetblockadd-parameter-value",3,"label","options","defaultValue","selectedOption","searchValueChange"],["disabled","false","id","dashboard-create-widgetblockedit-parameter-inputtext-value",3,"label","value","valueChange",4,"ngIf"],["disabled","false","id","dashboard-create-parameter-widgetblockedit-inputnumber-value",3,"label","maxlength","value","valueChange",4,"ngIf"],["disabled","false","type","email","id","dashboard-create-parameter-widgetblockedit-inputemail-value",3,"label","value","valueChange",4,"ngIf"],["id","dashboard-create-widgetblockedit-parameter-date-value","dateformat","dd-MMM-yyyy","currentDate","false",3,"placeholder","defaultDate","dateChangeValue",4,"ngIf"],["id","dashboard-create-widgetblockedit-parameter-list-value",3,"label","options","defaultValue","selectedOption","searchValueChange",4,"ngIf"],["disabled","false","id","dashboard-create-widgetblockedit-parameter-inputtext-value",3,"label","value","valueChange"],["disabled","false","id","dashboard-create-parameter-widgetblockedit-inputnumber-value",3,"label","maxlength","value","valueChange"],["disabled","false","type","email","id","dashboard-create-parameter-widgetblockedit-inputemail-value",3,"label","value","valueChange"],["id","dashboard-create-widgetblockedit-parameter-date-value","dateformat","dd-MMM-yyyy","currentDate","false",3,"placeholder","defaultDate","dateChangeValue"],["id","dashboard-create-widgetblockedit-parameter-list-value",3,"label","options","defaultValue","selectedOption","searchValueChange"],["disabled","true","id","dashboard-create-parameter-value",3,"label","value"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"app-input",12,13),e.NdJ("valueChange",function(s){return a.changeDashboardName(s)}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",14)(16,"app-dropdown-multiselect-v2",15,16),e.NdJ("valueChange",function(s){return a.changeDeviceType(s)})("searchValueChange",function(s){return a.getdeviceTypeOptions(s)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",17)(20,"app-dropdown-singleselect",18,19),e.NdJ("valueChange",function(s){return a.changeSportName(s)}),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"div",9)(24,"app-textarea",20,21),e.NdJ("valueChange",function(s){return a.changesDescription(s)}),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"div",22)(28,"app-checkbox",23),e.NdJ("valueChange",function(s){return a.changeCheckboxIsEnabled(s)}),e.qZA()()()(),e.TgZ(29,"div",24)(30,"label"),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"app-imageupload",25),e.NdJ("valueChange",function(s){return a.changeFile(s,"backgroundImage","")})("imageRemove",function(){return a.removeFile("backgroundImage")}),e.qZA()(),e.TgZ(34,"div",26)(35,"app-button",27),e.NdJ("buttonOnClick",function(){return a.createRecord()}),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"app-button",28),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(38,"translate"),e.qZA()(),e.TgZ(39,"div",29),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"div",29),e._uU(43),e.ALo(44,"translate"),e.qZA()(),e.TgZ(45,"div",10)(46,"div",3)(47,"div",30)(48,"div",31)(49,"div",32)(50,"mat-button-toggle-group",33),e.YNc(51,ct,2,3,"mat-button-toggle",34),e.qZA()(),e.TgZ(52,"p-accordion",35)(53,"p-accordionTab",36)(54,"p-header",37)(55,"span"),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"app-button",38),e.NdJ("buttonOnClick",function(s){return a.widgetAdd(s),a.onClick(s)}),e.qZA()(),e.TgZ(59,"p-table",39),e.YNc(60,ut,1,1,"ng-template",40),e.YNc(61,_t,3,1,"ng-template",41),e.YNc(62,bt,5,1,"ng-template",42),e.YNc(63,Ct,4,2,"ng-template",43),e.qZA()()()()()()()()()()()()(),e.TgZ(64,"div",44)(65,"div",45)(66,"div",46)(67,"div",47)(68,"div",48),e._uU(69),e.ALo(70,"translate"),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"div",49)(73,"div",8)(74,"div",50)(75,"app-dropdown-search",51,52),e.NdJ("selectedOption",function(s){return a.changewidgetOptions(s)})("searchValueChange",function(s){return a.getwidgetEditOptions(s)}),e.ALo(77,"translate"),e.qZA()(),e.TgZ(78,"div",14),e._UZ(79,"app-input",53),e.ALo(80,"translate"),e.qZA(),e.TgZ(81,"div",14),e._UZ(82,"app-input",54),e.ALo(83,"translate"),e.qZA(),e.TgZ(84,"div",14),e._UZ(85,"app-input",55),e.ALo(86,"translate"),e.qZA(),e.TgZ(87,"div",14)(88,"app-inputnumber",56,57),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"rows",a.dataJsonObj.inputObj)}),e.ALo(90,"translate"),e.qZA()(),e.TgZ(91,"div",58)(92,"app-inputnumber",59,60),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"cols",a.dataJsonObj.inputObj)}),e.ALo(94,"translate"),e.qZA()(),e.TgZ(95,"div",58)(96,"app-inputnumber",61,62),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"x",a.dataJsonObj.inputObj)}),e.ALo(98,"translate"),e.qZA()(),e.TgZ(99,"div",58)(100,"app-inputnumber",63,64),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"y",a.dataJsonObj.inputObj)}),e.ALo(102,"translate"),e.qZA()(),e.TgZ(103,"div",58)(104,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"background_color",a.dataJsonObj.inputColorObj)}),e.ALo(105,"translate"),e.qZA()(),e.TgZ(106,"div",58)(107,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"icon_color",a.dataJsonObj.inputColorObj)}),e.ALo(108,"translate"),e.qZA()(),e.TgZ(109,"div",58)(110,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"text_color",a.dataJsonObj.inputColorObj)}),e.ALo(111,"translate"),e.qZA()(),e.TgZ(112,"div",3),e._UZ(113,"app-textarea",66),e.ALo(114,"translate"),e.qZA(),e.TgZ(115,"div",67)(116,"app-checkbox",23),e.NdJ("valueChange",function(s){return a.changeWidgetEnabledvalue(s)}),e.qZA()(),e.TgZ(117,"div",3)(118,"div",30)(119,"div",31)(120,"p-accordion",35)(121,"p-accordionTab",68)(122,"p-header",37)(123,"span"),e._uU(124),e.ALo(125,"translate"),e.qZA()(),e.TgZ(126,"p-table",39),e.YNc(127,vt,1,1,"ng-template",40),e.YNc(128,Tt,2,1,"ng-template",41),e.YNc(129,It,2,1,"ng-template",42),e.YNc(130,Lt,4,2,"ng-template",43),e.qZA()()()()()(),e.TgZ(131,"div",69)(132,"app-button",70),e.NdJ("buttonOnClick",function(){return a.widgetDataAdd()}),e.ALo(133,"translate"),e.qZA(),e.TgZ(134,"app-button",71),e.NdJ("buttonOnClick",function(){return a.cancelBtn()}),e.ALo(135,"translate"),e.qZA()(),e.TgZ(136,"div",29),e._uU(137),e.ALo(138,"translate"),e.qZA()()()()()(),e.TgZ(139,"div",72)(140,"div",45)(141,"div",46)(142,"div",47)(143,"div",48),e._uU(144),e.ALo(145,"translate"),e.ALo(146,"translate"),e.qZA()(),e.TgZ(147,"div",49)(148,"div",8)(149,"div",50)(150,"app-dropdown-search",73,74),e.NdJ("selectedOption",function(s){return a.changewidgetOptions(s)})("searchValueChange",function(s){return a.getwidgetEditOptions(s)}),e.ALo(152,"translate"),e.qZA()(),e.TgZ(153,"div",14),e._UZ(154,"app-input",75),e.ALo(155,"translate"),e.qZA(),e.TgZ(156,"div",14),e._UZ(157,"app-input",76),e.ALo(158,"translate"),e.qZA(),e.TgZ(159,"div",14),e._UZ(160,"app-input",77),e.ALo(161,"translate"),e.qZA(),e.TgZ(162,"div",14)(163,"app-inputnumber",56,78),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"rows",a.dataJsonObj.inputObj)}),e.ALo(165,"translate"),e.qZA()(),e.TgZ(166,"div",58)(167,"app-inputnumber",59,79),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"cols",a.dataJsonObj.inputObj)}),e.ALo(169,"translate"),e.qZA()(),e.TgZ(170,"div",58)(171,"app-inputnumber",61,80),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"x",a.dataJsonObj.inputObj)}),e.ALo(173,"translate"),e.qZA()(),e.TgZ(174,"div",58)(175,"app-inputnumber",63,81),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"y",a.dataJsonObj.inputObj)}),e.ALo(177,"translate"),e.qZA()(),e.TgZ(178,"div",58)(179,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"background_color",a.dataJsonObj.inputColorObj)}),e.ALo(180,"translate"),e.qZA()(),e.TgZ(181,"div",58)(182,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"icon_color",a.dataJsonObj.inputColorObj)}),e.ALo(183,"translate"),e.qZA()(),e.TgZ(184,"div",58)(185,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"text_color",a.dataJsonObj.inputColorObj)}),e.ALo(186,"translate"),e.qZA()(),e.TgZ(187,"div",3),e._UZ(188,"app-textarea",82),e.ALo(189,"translate"),e.qZA(),e.TgZ(190,"div",67)(191,"app-checkbox",83),e.NdJ("valueChange",function(s){return a.changeWidgetEnabledvalue(s)}),e.qZA()(),e.TgZ(192,"div",3)(193,"div",30)(194,"div",31)(195,"p-accordion",35)(196,"p-accordionTab",84)(197,"p-header",37)(198,"span"),e._uU(199),e.ALo(200,"translate"),e.qZA()(),e.TgZ(201,"p-table",39),e.YNc(202,Jt,1,1,"ng-template",40),e.YNc(203,kt,2,1,"ng-template",41),e.YNc(204,Qt,2,1,"ng-template",42),e.YNc(205,Gt,4,2,"ng-template",43),e.qZA()()()()()(),e.TgZ(206,"div",69)(207,"app-button",85),e.NdJ("buttonOnClick",function(){return a.updateWidgetRecord()}),e.ALo(208,"translate"),e.qZA(),e.TgZ(209,"app-button",86),e.NdJ("buttonOnClick",function(){return a.cancelBtn()}),e.ALo(210,"translate"),e.qZA()(),e.TgZ(211,"div",29),e._uU(212),e.ALo(213,"translate"),e.qZA()()()()()(),e.TgZ(214,"div",87)(215,"div",45)(216,"div",46)(217,"div",47)(218,"div",48),e._uU(219),e.ALo(220,"translate"),e.ALo(221,"translate"),e.qZA()(),e.TgZ(222,"div",49)(223,"div",8)(224,"div",50),e._UZ(225,"app-input",88),e.ALo(226,"translate"),e.qZA(),e.TgZ(227,"div",14),e._UZ(228,"app-input",89),e.ALo(229,"translate"),e.qZA(),e.TgZ(230,"div",14),e._UZ(231,"app-input",90),e.ALo(232,"translate"),e.qZA(),e.TgZ(233,"div",14),e._UZ(234,"app-input",91),e.ALo(235,"translate"),e.qZA(),e.TgZ(236,"div",14),e._UZ(237,"app-inputnumber",92),e.ALo(238,"translate"),e.qZA(),e.TgZ(239,"div",58),e._UZ(240,"app-inputnumber",93),e.ALo(241,"translate"),e.qZA(),e.TgZ(242,"div",58),e._UZ(243,"app-inputnumber",94),e.ALo(244,"translate"),e.qZA(),e.TgZ(245,"div",58),e._UZ(246,"app-inputnumber",95),e.ALo(247,"translate"),e.qZA(),e.TgZ(248,"div",58),e._UZ(249,"app-input",96),e.ALo(250,"translate"),e.qZA(),e.TgZ(251,"div",58),e._UZ(252,"app-input",96),e.ALo(253,"translate"),e.qZA(),e.TgZ(254,"div",58),e._UZ(255,"app-input",96),e.ALo(256,"translate"),e.qZA(),e.TgZ(257,"div",3),e._UZ(258,"app-textarea",97),e.ALo(259,"translate"),e.qZA(),e.TgZ(260,"div",67)(261,"app-checkbox",98),e.NdJ("valueChange",function(s){return a.changeWidgetEnabledvalue(s)}),e.qZA()(),e.TgZ(262,"div",3)(263,"div",30)(264,"div",31)(265,"p-accordion",35)(266,"p-accordionTab",99)(267,"p-header",37)(268,"span"),e._uU(269),e.ALo(270,"translate"),e.qZA()(),e.TgZ(271,"p-table",39),e.YNc(272,$t,1,1,"ng-template",40),e.YNc(273,Xt,2,1,"ng-template",41),e.YNc(274,ia,2,1,"ng-template",42),e.YNc(275,na,4,2,"ng-template",43),e.qZA()()()()()(),e.TgZ(276,"div",69)(277,"app-button",100),e.NdJ("buttonOnClick",function(){return a.deleteWidgetRecord()}),e.ALo(278,"translate"),e.qZA(),e.TgZ(279,"app-button",101),e.NdJ("buttonOnClick",function(){return a.cancelBtn()}),e.ALo(280,"translate"),e.qZA()()()()()()()),2&i&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(6),e.s9C("label",e.lcZ(14,160,"WIDGETS.DASHBOARD_NAME")),e.s9C("value",a.dashboardName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(18,162,"COMMON_FIELDS.DEVICE_TYPE")),e.Q6J("options",a.deviceTypeOptions)("selectedOptions",a.selectedOptions),e.xp6(4),e.s9C("label",e.lcZ(22,164,"COMMON_PAGE_TITLES.SPORT")),e.s9C("defaultValue",null==a.dataJsonObj?null:a.dataJsonObj.sportId),e.Q6J("options",a.dataJsonObj.sportOptions),e.xp6(4),e.s9C("label",e.lcZ(26,166,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.dashboardDescription),e.Q6J("maxlength",2e3),e.xp6(4),e.Q6J("options",a.enabledOptions)("checked",a.isEnabled),e.xp6(3),e.Oqu(e.lcZ(32,168,"NEW_VARIABLES.BACK_GROUND_IMAGE")),e.xp6(2),e.Q6J("maintainAspectRatio",!1),e.xp6(2),e.s9C("label",e.lcZ(36,170,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.Q6J("disabled",a.dataJsonObj.submitEnabled),e.xp6(2),e.s9C("label",e.lcZ(38,172,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(41,174,a.error2)," "),e.xp6(3),e.hij(" ",e.lcZ(44,176,a.error)," "),e.xp6(8),e.Q6J("ngForOf",a.deviceTypes),e.xp6(1),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(57,178,"WIDGETS.WIDGET_BLOCK")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.header)("value",a.widgetsBlockData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(10),e.AsE("",e.lcZ(70,180,"WIDGETS.WIDGET_BLOCK")," - ",e.lcZ(71,182,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(77,184,"COMMON_PAGE_TITLES.WIDGET")),e.s9C("defaultValue",a.widgetName),e.Q6J("options",a.widgetsOptions),e.xp6(4),e.s9C("label",e.lcZ(80,186,"COMMON_FIELDS.USER_NAME")),e.s9C("value",a.widgetViewUserName),e.xp6(3),e.s9C("label",e.lcZ(83,188,"COMMON_RECORD_HISTORY.CREATED_DATE")),e.s9C("value",a.widgetCreatedate),e.xp6(3),e.s9C("label",e.lcZ(86,190,"COMMON_RECORD_HISTORY.LAST_UPDATED_DATE")),e.s9C("value",a.widgetUpdatedate),e.xp6(3),e.s9C("label",e.lcZ(90,192,"DASHBOARD.ROWS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.rows),e.xp6(4),e.s9C("label",e.lcZ(94,194,"DASHBOARD.COLS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.cols),e.xp6(4),e.s9C("label",e.lcZ(98,196,"DASHBOARD.POSITION_X")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.x),e.xp6(4),e.s9C("label",e.lcZ(102,198,"DASHBOARD.POSITION_Y")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.y),e.xp6(4),e.s9C("label",e.lcZ(105,200,"NEW_VARIABLES.BACKGROUND_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.background_color),e.xp6(3),e.s9C("label",e.lcZ(108,202,"NEW_VARIABLES.ICON_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.icon_color),e.xp6(3),e.s9C("label",e.lcZ(111,204,"NEW_VARIABLES.TEXT_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.text_color),e.xp6(3),e.s9C("label",e.lcZ(114,206,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.widgetDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",a.enabledOptions)("checked",a.widgetEnable),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(125,208,"REPORTS.PARAMETERS")),e.xp6(2),e.Q6J("columns",a.parametersColumnHeaders)("value",a.parametersData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(133,210,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(135,212,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(138,214,a.widgetPopupErrorMsg)," "),e.xp6(7),e.AsE("",e.lcZ(145,216,"WIDGETS.WIDGET_BLOCK")," - ",e.lcZ(146,218,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(6),e.s9C("label",e.lcZ(152,220,"COMMON_PAGE_TITLES.WIDGET")),e.s9C("defaultValue",a.widgetName),e.Q6J("options",a.widgetsOptions),e.xp6(4),e.s9C("label",e.lcZ(155,222,"COMMON_FIELDS.USER_NAME")),e.s9C("value",a.widgetViewUserName),e.xp6(3),e.s9C("label",e.lcZ(158,224,"COMMON_RECORD_HISTORY.CREATED_DATE")),e.s9C("value",a.widgetCreatedate),e.xp6(3),e.s9C("label",e.lcZ(161,226,"COMMON_RECORD_HISTORY.LAST_UPDATED_DATE")),e.s9C("value",a.widgetUpdatedate),e.xp6(3),e.s9C("label",e.lcZ(165,228,"DASHBOARD.ROWS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.rows),e.xp6(4),e.s9C("label",e.lcZ(169,230,"DASHBOARD.COLS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.cols),e.xp6(4),e.s9C("label",e.lcZ(173,232,"DASHBOARD.POSITION_X")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.x),e.xp6(4),e.s9C("label",e.lcZ(177,234,"DASHBOARD.POSITION_Y")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.y),e.xp6(4),e.s9C("label",e.lcZ(180,236,"NEW_VARIABLES.BACKGROUND_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.background_color),e.xp6(3),e.s9C("label",e.lcZ(183,238,"NEW_VARIABLES.ICON_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.icon_color),e.xp6(3),e.s9C("label",e.lcZ(186,240,"NEW_VARIABLES.TEXT_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.text_color),e.xp6(3),e.s9C("label",e.lcZ(189,242,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.widgetDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",a.enabledOptions)("checked",a.widgetEnable),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(200,244,"REPORTS.PARAMETERS")),e.xp6(2),e.Q6J("columns",a.parametersColumnHeaders)("value",a.parametersData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(208,246,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(210,248,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(213,250,a.widgetPopupErrorMsg)," "),e.xp6(7),e.AsE("",e.lcZ(220,252,"WIDGETS.WIDGET_BLOCK")," - ",e.lcZ(221,254,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(226,256,"COMMON_PAGE_TITLES.WIDGET")),e.s9C("value",a.widgetName),e.xp6(3),e.s9C("label",e.lcZ(229,258,"COMMON_FIELDS.USER_NAME")),e.s9C("value",a.widgetViewUserName),e.xp6(3),e.s9C("label",e.lcZ(232,260,"COMMON_RECORD_HISTORY.CREATED_DATE")),e.s9C("value",a.widgetCreatedate),e.xp6(3),e.s9C("label",e.lcZ(235,262,"COMMON_RECORD_HISTORY.LAST_UPDATED_DATE")),e.s9C("value",a.widgetUpdatedate),e.xp6(3),e.s9C("label",e.lcZ(238,264,"DASHBOARD.ROWS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.rows),e.xp6(3),e.s9C("label",e.lcZ(241,266,"DASHBOARD.COLS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.cols),e.xp6(3),e.s9C("label",e.lcZ(244,268,"DASHBOARD.POSITION_X")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.x),e.xp6(3),e.s9C("label",e.lcZ(247,270,"DASHBOARD.POSITION_Y")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.y),e.xp6(3),e.s9C("label",e.lcZ(250,272,"NEW_VARIABLES.BACKGROUND_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.background_color),e.xp6(3),e.s9C("label",e.lcZ(253,274,"NEW_VARIABLES.ICON_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.icon_color),e.xp6(3),e.s9C("label",e.lcZ(256,276,"NEW_VARIABLES.TEXT_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.text_color),e.xp6(3),e.s9C("label",e.lcZ(259,278,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.widgetDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",a.enabledOptions)("checked",a.widgetEnable),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(270,280,"REPORTS.PARAMETERS")),e.xp6(2),e.Q6J("columns",a.parametersColumnHeaders)("value",a.parametersData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(278,282,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(280,284,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[O.mk,O.sg,O.O5,E.iA,N.h4,N.jx,E.Ei,y.UQ,y.US,Y.r,H.a,$e.k,de.E,Q.b,pe.Q,W.R,ce.K,G.f,he.C,B.q,w.X$]})}return r})();var ue=p(11735);const sa=["dashboardNamevalidation"],la=["descriptionvalidation"],da=["devicetypeMaltiDropDown"],pa=["editwidgetNameDropdown"],ca=["widgetNameDropdown"],ha=["rowCreate"],ua=["colCreate"],ga=["xPositionCreate"],_a=["yPositionCreate"],ma=["rowEdit"],ba=["colEdit"],Oa=["xPositionEdit"],Ca=["yPositionEdit"];function fa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"mat-button-toggle",105),e.NdJ("click",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.changeDeviceData(a))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit,i=e.oxw();e.s9C("title",t.lookup_name),e.Q6J("ngClass",t.lookup_name===i.dataJsonObj.printvalue?"btn-primary":""),e.xp6(1),e.hij("",i.lookupLanguageTranslations(t.lookup_id)," ")}}function va(r,n){if(1&r&&(e.TgZ(0,"tr",107)(1,"td",108),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function wa(r,n){if(1&r&&e.YNc(0,va,4,4,"tr",106),2&r){const t=e.oxw();e.Q6J("ngIf",t.widgetsBlockData&&0==t.widgetsBlockData.length)}}function Ta(r,n){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Da(r,n){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",109),e.YNc(2,Ta,3,3,"th",110),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Aa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td",115),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),o=a.rowIndex,s=a.$implicit,c=e.oxw();return e.KtG(c.editwidget(o,s))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit,i=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",i),e.xp6(1),e.hij(" ",i[t.field]," ")}}function ya(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td",111)(2,"div",112)(3,"span",113),e.NdJ("click",function(){const a=e.CHM(t),o=a.rowIndex,s=a.$implicit,c=e.oxw();return e.KtG(c.remove(o,s))}),e.qZA()()(),e.YNc(4,Aa,2,5,"td",114),e.qZA()}if(2&r){const t=n.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function Ea(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",117)(6,"br"),e.qZA()),2&r){const t=n.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",i[t.field],e.oJD)}}function Sa(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ea,7,4,"div",116),e.qZA()()()),2&r){const t=n.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function Za(r,n){if(1&r&&(e.TgZ(0,"tr",107)(1,"td",108),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Ma(r,n){if(1&r&&e.YNc(0,Za,4,4,"tr",106),2&r){const t=e.oxw();e.Q6J("ngIf",t.parametersData&&0==t.parametersData.length)}}function Na(r,n){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Ia(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Na,3,3,"th",110),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function ja(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",i[t.field]," ")}}function La(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-input",126),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].param_value)}}function xa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-inputnumber",127),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,3,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].param_value),e.Q6J("maxlength",10)}}function Ja(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-input",128),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].param_value)}}function Ra(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-datepicker",129),e.NdJ("dateChangeValue",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("placeholder",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("defaultDate",i.parametersData[t].param_value)}}function ka(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-search",130),e.NdJ("selectedOption",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))})("searchValueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.getParamValuesList(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,3,"REPORTS.PARAMETER_VALUE")),e.s9C("defaultValue",i.parametersData[t].param_value),e.Q6J("options",i.parameterValueOptions)}}function Ua(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,La,2,4,"app-input",121),e.YNc(2,xa,2,5,"app-inputnumber",122),e.YNc(3,Ja,2,4,"app-input",123),e.YNc(4,Ra,2,4,"app-datepicker",124),e.YNc(5,ka,2,5,"app-dropdown-search",125),e.qZA()),2&r){const t=e.oxw(2).rowIndex,i=e.oxw();e.xp6(1),e.Q6J("ngIf","INPUT_TEXT"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","INPUT_NUMBER"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","INPUT_EMAIL"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","DATE"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","LIST"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name))}}function Ba(r,n){if(1&r&&(e.TgZ(0,"td",119),e.YNc(1,ja,2,1,"span",120),e.YNc(2,Ua,6,5,"span",120),e.qZA()),2&r){const t=n.$implicit,i=n.index,a=e.oxw().$implicit;e.Tol(t.class),e.Q6J("pSelectableRow",a),e.xp6(1),e.Q6J("ngIf",1!=i),e.xp6(1),e.Q6J("ngIf",1==i)}}function Pa(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Ba,3,6,"td",118),e.qZA()),2&r){const t=n.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Va(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",117)(6,"br"),e.qZA()),2&r){const t=n.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",i[t.field],e.oJD)}}function qa(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Va,7,4,"div",116),e.qZA()()()),2&r){const t=n.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function Fa(r,n){if(1&r&&(e.TgZ(0,"tr",107)(1,"td",108),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Ya(r,n){if(1&r&&e.YNc(0,Fa,4,4,"tr",106),2&r){const t=e.oxw();e.Q6J("ngIf",t.parametersData&&0==t.parametersData.length)}}function Ha(r,n){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Qa(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,Ha,3,3,"th",110),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Wa(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",i[t.field]," ")}}function Ga(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-input",136),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].param_value)}}function za(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-inputnumber",137),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,3,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].param_value),e.Q6J("maxlength",10)}}function $a(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-input",138),e.NdJ("valueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].param_value)}}function Ka(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-datepicker",139),e.NdJ("dateChangeValue",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("placeholder",e.lcZ(1,2,"REPORTS.PARAMETER_VALUE")),e.s9C("defaultDate",i.parametersData[t].param_value)}}function Xa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"app-dropdown-search",140),e.NdJ("selectedOption",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.changeParameterValue(a,o))})("searchValueChange",function(a){e.CHM(t);const o=e.oxw(3).rowIndex,s=e.oxw();return e.KtG(s.getParamValuesList(a,o))}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3).rowIndex,i=e.oxw();e.s9C("label",e.lcZ(1,3,"REPORTS.PARAMETER_VALUE")),e.s9C("defaultValue",i.parametersData[t].param_value),e.Q6J("options",i.parameterValueOptions)}}function ei(r,n){if(1&r&&(e.TgZ(0,"span"),e.YNc(1,Ga,2,4,"app-input",131),e.YNc(2,za,2,5,"app-inputnumber",132),e.YNc(3,$a,2,4,"app-input",133),e.YNc(4,Ka,2,4,"app-datepicker",134),e.YNc(5,Xa,2,5,"app-dropdown-search",135),e.qZA()),2&r){const t=e.oxw(2).rowIndex,i=e.oxw();e.xp6(1),e.Q6J("ngIf","INPUT_TEXT"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","INPUT_NUMBER"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","INPUT_EMAIL"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","DATE"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name)),e.xp6(1),e.Q6J("ngIf","LIST"===(null==i.parametersData[t].parameter_type?null:i.parametersData[t].parameter_type.lookup_name))}}function ti(r,n){if(1&r&&(e.TgZ(0,"td",119),e.YNc(1,Wa,2,1,"span",120),e.YNc(2,ei,6,5,"span",120),e.qZA()),2&r){const t=n.$implicit,i=n.index,a=e.oxw().$implicit;e.Tol(t.class),e.Q6J("pSelectableRow",a),e.xp6(1),e.Q6J("ngIf",1!=i),e.xp6(1),e.Q6J("ngIf",1==i)}}function ai(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,ti,3,6,"td",118),e.qZA()),2&r){const t=n.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function ii(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",117)(6,"br"),e.qZA()),2&r){const t=n.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",i[t.field],e.oJD)}}function ri(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,ii,7,4,"div",116),e.qZA()()()),2&r){const t=n.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function ni(r,n){if(1&r&&(e.TgZ(0,"tr",107)(1,"td",108),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function oi(r,n){if(1&r&&e.YNc(0,ni,4,4,"tr",106),2&r){const t=e.oxw();e.Q6J("ngIf",t.parametersData&&0==t.parametersData.length)}}function si(r,n){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function li(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,si,3,3,"th",110),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function di(r,n){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(1),e.hij(" ",i[t.field]," ")}}function pi(r,n){if(1&r&&(e.TgZ(0,"span"),e._UZ(1,"app-input",141),e.ALo(2,"translate"),e.qZA()),2&r){const t=e.oxw(2).rowIndex,i=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"REPORTS.PARAMETER_VALUE")),e.s9C("value",i.parametersData[t].param_value)}}function ci(r,n){if(1&r&&(e.TgZ(0,"td",119),e.YNc(1,di,2,1,"span",120),e.YNc(2,pi,3,4,"span",120),e.qZA()),2&r){const t=n.$implicit,i=n.index,a=e.oxw().$implicit;e.Tol(t.class),e.Q6J("pSelectableRow",a),e.xp6(1),e.Q6J("ngIf",1!=i),e.xp6(1),e.Q6J("ngIf",1==i)}}function hi(r,n){if(1&r&&(e.TgZ(0,"tr"),e.YNc(1,ci,3,6,"td",118),e.qZA()),2&r){const t=n.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function ui(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",117)(6,"br"),e.qZA()),2&r){const t=n.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",i[t.field],e.oJD)}}function gi(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,ui,7,4,"div",116),e.qZA()()()),2&r){const t=n.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}let _i=(()=>{class r extends U.O{apiEndPointUrl;dashboardService;loggerService;navigationService;router;translateService;uiUtils;commonService;enterprisesService;route;dashboardNamevalidation;descriptionvalidation;devicetypeMaltiDropDown;editwidgetNameDropdown;widgetNameDropdown;rowCreate;colCreate;xPositionCreate;yPositionCreate;rowEdit;colEdit;xPositionEdit;yPositionEdit;dashboardDescription;dashboardName;widgetsBlockData=[];devTypeObj;deviceObj;deviceType;deviceTypeObj=[];deviceTypes=[];deviceTypesArray;devicetypeOptions;displayEnable;enabledOptions;error1;error2;error;errorMsg;header;headerAction;isEnabled;parameter;parameterValueOptions;parametersColumnHeaders;parametersData=[];recordId;rowIndex;widgetCreateDate;widgetDescription;widgetEnable;widgetId;widgetName;widgetUpdateDate;widgetViewName;widgetViewUsername;widgetsData;widgetsId;widgetsObj;widgetsOptions;dashboardData;dataJsonObj={};widgetsArray;enterpriseObj;constructor(t,i,a,o,s,c,u,g,h,b){super(b,g),this.apiEndPointUrl=t,this.dashboardService=i,this.loggerService=a,this.navigationService=o,this.router=s,this.translateService=c,this.uiUtils=u,this.commonService=g,this.enterprisesService=h,this.route=b}ngOnInit(){this.headerAction={BACK:!0},this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=l.hf.DASHBOARD,this.route.params.subscribe(t=>{this.recordId=t.id}),this.dataJsonObj.apiEndPoint=localStorage.getItem(l.BU.S3_URL)?localStorage.getItem(l.BU.S3_URL):this.apiEndPointUrl,this.header=[[{headersort:"disableth",field:"widget_name",header:this.translateService.instant("COMMON_PAGE_TITLES.WIDGET"),class:""},{headersort:"disableth",field:"rows",header:"Rows",class:"w-30 list-value-right"},{headersort:"disableth",field:"cols",header:"Cols",class:"w-30 list-value-right"},{headersort:"disableth",field:"x",header:"Poistion - X",class:"w-30 list-value-right"},{headersort:"disableth",field:"y",header:"Poistion - Y",class:"w-30 list-value-right"},{headersort:"disableth",field:"widget_createdAt",header:this.translateService.instant("COMMON_RECORD_HISTORY.CREATED_DATE"),class:"w-130 list-value-right"},{headersort:"disableth",field:"widget_updatedAt",header:this.translateService.instant("COMMON_RECORD_HISTORY.LAST_UPDATED_DATE"),class:"w-80 list-value-right"},{headersort:"disableth",field:"display_enable",header:this.translateService.instant("COMMON_FIELDS.ENABLED"),class:"w-50"}],[]],this.parametersColumnHeaders=[[{headersort:"disableth",field:"parameter_display_name",header:"REPORTS.PARAMETER_NAME",class:"w-100"},{headersort:"disableth",field:"param_value",header:"REPORTS.PARAMETER_VALUE",class:"80"},{headersort:"disableth",field:"parameter_description",header:"COMMON_FIELDS.DESCRIPTION",class:""},{headersort:"disableth",field:"parameter",header:"COMMON_FIELDS.TYPE",class:"w-80"},{headersort:"disableth",field:"default_value",header:"COMMON_FIELDS.DEFAULT_VALUE",class:"w-80"}],[]],this.enabledOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}],this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.RECORD_HISTORY),this.dataJsonObj.inputObj={},this.dataJsonObj.inputColorObj={},this.getRecordById(this.recordId)}getRecordById(t){try{this.dashboardService.get(t).subscribe(i=>{if(this.widgetsBlockData=[],this.dashboardData=i,this.dashboardName=this.dashboardData.dashboard_name,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.DASHBOARD",value:this.dashboardName,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}],this.dataJsonObj.selectedEnterpriseId=this.dashboardData.enterprise.enterprise_id,this.getEnterprisesViewData(),this.deviceTypes=this.dashboardData.dashboard_type,this.dataJsonObj.printvalue=this.deviceTypes[0].lookup_name,this.dashboardDescription=this.dashboardData.description,this.isEnabled=this.dashboardData.is_enabled,this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(a=>{this.dataJsonObj.lookupCodesListJSON=a,this.getdeviceTypeOptions("")}),this.dataJsonObj.backgroundImgFilepath=this.dashboardData.background_image.image_path&&this.dashboardData.background_image.image_name?this.dataJsonObj.apiEndPoint+this.dashboardData.background_image.image_path+"/"+this.dashboardData.background_image.image_name:"",this.getSportsDropdown(),this.dashboardData.widgets.length>0){this.widgetsArray=this.dashboardData.widgets;for(let o=0;o<this.widgetsArray.length;o++)for(let s=0;s<this.widgetsArray[o].widgets.length;s++)if(this.widgetsArray[o].widgets[s].widget_name=this.widgetsArray[o].widgets[s].widget_name,this.widgetsArray[o].widgets[s].widget_createdAt=this.commonService.dbTimezoneFormatWithHours(this.widgetsArray[o].widgets[s].createdAt),this.widgetsArray[o].widgets[s].widget_updatedAt=this.commonService.dbTimezoneFormatWithHours(this.widgetsArray[o].widgets[s].updatedAt),this.widgetsArray[o].widgets[s].updated_by=this.commonService.changeUserNameFormat(this.dashboardData.updated_by),this.widgetsArray[o].widgets[s].display_enable=this.widgetsArray[o].widgets[s].widget_enabled?"Yes":"No",this.widgetsArray[o].widgets[s].widget_params)for(let c=0;c<this.widgetsArray[o].widgets[s].widget_params.length;c++)this.widgetsArray[o].widgets[s].widget_params[c].parameter=this.lookupLanguageTranslations(this.widgetsArray[o].widgets[s].widget_params[c].parameter_type.lookup_id),"DATE"===this.widgetsArray[o].widgets[s].widget_params[c].parameter_type.lookup_name&&(this.widgetsArray[o].widgets[s].widget_params[c].param_value=T(this.widgetsArray[o].widgets[s].widget_params[c].param_value).format("DD-MMM-YYYY")),this.parametersData.push(this.widgetsArray[o].widgets[s].widget_params[c]);const a=this.widgetsArray.filter(o=>o.device_type.lookup_name==this.dataJsonObj.printvalue);this.widgetsBlockData=a[0].widgets}})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getViewDetails",i)}}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.dataJsonObj.selectedEnterpriseId).subscribe(t=>{this.enterpriseObj=t})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)}}changedashboardName(t){try{this.error2="",this.dashboardName=t.value}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changedashboardName",i)}}getdeviceTypeOptions(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[l.ox.WIDGET_TYPES],t).then(i=>{this.deviceTypeObj=[],this.devicetypeOptions=i;for(let a=0;a<this.devicetypeOptions.length;a++)for(let o=0;o<this.deviceTypes.length;o++)this.devicetypeOptions[a].lookup_id===this.deviceTypes[o].lookup_id&&this.deviceTypeObj.push(this.devicetypeOptions[a])})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getdeviceTypeOptions",i)}}changeDeviceType(t){try{if(t.value){this.deviceTypes=t.value,this.widgetsArray=this.widgetsArray.filter(a=>this.deviceTypes.some(o=>o.lookup_id===a.device_type.lookup_id));const i=this.widgetsArray.filter(a=>a.device_type.lookup_name==this.dataJsonObj.printvalue);this.widgetsBlockData=i[0]?i[0].widgets:[];for(let a=0;a<this.deviceTypes.length;a++){let o=this.deviceTypes[a];this.widgetsArray.find(c=>c.device_type.lookup_name===o.lookup_name)||this.widgetsArray.push({device_type:{lookup_id:o.lookup_id,lookup_name:o.lookup_name},widgets:[]})}}}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeDeviceType",i)}}changeDeviceData(t){try{this.widgetsBlockData=[],this.dataJsonObj.printvalue=t.target.title;for(let i of this.widgetsArray)i.device_type.lookup_name===this.dataJsonObj.printvalue&&(this.widgetsBlockData=i.widgets)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeDeviceData",i)}}changesDescription(t){try{this.dashboardDescription=t.value}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changesDescription",i)}}changeEnabledvalue(t){try{this.isEnabled=t.value}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeEnabledvalue",i)}}onClick(t){t.stopPropagation()}chnageWidgetEnabledvalue(t){try{this.error1="",this.widgetEnable=t.value,this.displayEnable=t.value?"Yes":"No"}catch(i){this.loggerService.setLoggerError(this.constructor.name,"chnageWidgetEnabledvalue",i)}}getWidgetEditOptions(t){try{this.dashboardService.getwidgetdropData(this.dataJsonObj.selectedEnterpriseId,t,this.dataJsonObj.sportId).then(i=>{this.widgetsOptions=i})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getwidgetEditOptions",i)}}changeWidgetOptions(t){try{this.error1="",t.ID?(this.widgetsId=t.ID,this.widgetsObj=t,this.widgetName=t.widget_name,this.dashboardService.getWidgetViewData(this.widgetsId).then(i=>{this.dashboardData=i,this.dataJsonObj.inputColorObj.background_color=this.dashboardData.background_color,this.dataJsonObj.inputColorObj.text_color=this.dashboardData.text_color,this.dataJsonObj.inputColorObj.icon_color=this.dashboardData.icon_color,this.widgetId=this.dashboardData._id,this.widgetDescription=this.dashboardData.description,this.widgetViewName=this.dashboardData.widget_name,this.widgetViewUsername=this.commonService.changeUserNameFormat(this.dashboardData.updated_by),this.widgetCreateDate=this.commonService.dbTimezoneFormatWithHours(this.dashboardData.createdAt),this.widgetUpdateDate=this.commonService.dbTimezoneFormatWithHours(this.dashboardData.updatedAt);for(let a=0;a<i.widget_params.length;a++)i.widget_params[a].param_value=i.widget_params[a].default_value,i.widget_params[a].param_display_value=i.widget_params[a].default_value_to_display,i.widget_params[a].param_enabled&&(i.widget_params[a].parameter=this.lookupLanguageTranslations(i.widget_params[a].parameter_type.lookup_id),"DATE"===i.widget_params[a].parameter_type.lookup_name&&(i.widget_params[a].param_mandatory||"true"===i.widget_params[a].param_mandatory)&&(i.widget_params[a].param_value=T(new Date,"DD-MM-YYYY")),this.parametersData.push(i.widget_params[a]))})):(this.widgetsOptions="",this.widgetsId="",this.widgetEnable=!0,this.widgetCreateDate="",this.widgetUpdateDate="",this.widgetViewUsername="",this.widgetDescription="",this.widgetName="",this.displayEnable="Yes",this.parametersData=[])}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changewidgetOptions",i)}}getParamValuesList(t,i){try{this.dashboardService.reportParametersListData(this.dashboardData.enterprise.enterprise_id,this.parametersData[i].param_data_source_table.page_name.toLowerCase(),this.parametersData[i].param_data_source_column,this.parametersData[i].param_data_source_display_column,t).then(a=>{this.parameterValueOptions=a},a=>{this.commonErrorCodes(JSON.parse(a))})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeParamValuesList",a)}}changeParameterValue(t,i){try{this.errorMsg="",this.parametersData[i].parameter_type.lookup_name===l.oP.INPUT_LIST?t.NAME?(this.parametersData[i].param_value=t.NAME,this.parametersData[i].param_display_value=t.ID):this.parametersData[i].param_value="":this.parametersData[i].parameter_type.lookup_name===l.oP.INPUT_DATE?(this.parametersData[i].param_value=T(t.value).format("DD-MMM-YYYY"),this.parametersData[i].param_display_value=T(t.value).format("DD-MMM-YYYY")):(this.parametersData[i].param_value=t.value,this.parametersData[i].param_display_value=t.value)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeParameterValue",a)}}changeFile(t,i,a){try{this.dataJsonObj.filesObj||(this.dataJsonObj.filesObj={}),this.dataJsonObj.filesObj||(this.dataJsonObj.filesObj={}),""===t.error?(this.dataJsonObj.filesObj[i]="",this.dataJsonObj.filesObj[i]=t.value,a&&(a[i]=t.value)):this.dataJsonObj.filesObj[i]=t.error}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeFile",o)}}removeFile(t){try{this.dataJsonObj.filesObj[t]="",this.dataJsonObj.filesObj[t]=""}catch(i){this.loggerService.setLoggerError(this.constructor.name,"removeFile",i)}}getSportsDropdown(){this.commonService.getJsonData(`assets/enterprises/${this.dataJsonObj.selectedEnterpriseId}/sports/`,"sports.json").then(t=>{this.dataJsonObj.sportOptions=t;const i=this.dataJsonObj.sportOptions.filter(a=>a.ID===this.dashboardData.sport_id);this.dataJsonObj.sportId=i[0].ID,this.dataJsonObj.sport=i[0].NAME})}changeColor(t,i,a){try{a[i]=t.target.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeColor",o)}}widgetAdd(t){try{this.error1="",this.widgetNameDropdown.clearSelectInput(),this.widgetNameDropdown.clearmessage(),this.widgetsId="",this.widgetEnable=!0,this.displayEnable="Yes",this.widgetCreateDate="",this.widgetUpdateDate="",this.widgetViewUsername="",this.parametersData=[],this.parameterValueOptions=[],this.widgetDescription="",$("#exampleModal1").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal1")}catch(i){this.loggerService.setLoggerError(this.constructor.name,"widgetAdd",i)}}widgetDataAdd(){try{if(this.widgetNameDropdown.isValid()&&this.rowCreate.isValid()&&this.colCreate.isValid()&&this.xPositionCreate.isValid()&&this.yPositionCreate.isValid()){if(this.error1="",this.errorMsg="",this.widgetsBlockData.length>0)for(let t=0;t<this.widgetsBlockData.length;t++)this.widgetsBlockData[t].widget_name===this.widgetName&&(this.error1=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS"));if(""===this.error1&&""===this.errorMsg){this.error="",this.widgetsData={widget_id:this.widgetsId,widget_name:this.widgetName,widget_enabled:this.widgetEnable,widget_createdAt:this.widgetCreateDate,widget_updatedAt:this.widgetUpdateDate,widget_username:this.widgetViewUsername,widget_description:this.widgetDescription,display_enable:this.displayEnable,cols:this.dataJsonObj.inputObj.cols,rows:this.dataJsonObj.inputObj.rows,y:this.dataJsonObj.inputObj.y,x:this.dataJsonObj.inputObj.x,background_color:this.dataJsonObj.inputColorObj.background_color,icon_color:this.dataJsonObj.inputColorObj.icon_color,text_color:this.dataJsonObj.inputColorObj.text_color,widget_params:this.parametersData},this.widgetsBlockData.push(this.widgetsData);for(let t of this.widgetsArray)t.device_type.lookup_name===this.dataJsonObj.printvalue&&(t.widgets=this.widgetsBlockData);this.dataJsonObj.inputObj={},this.dataJsonObj.inputColorObj={},$("#exampleModal1").modal("hide")}}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"widgetDataAdd",t)}}editwidget(t,i){try{this.error1="",this.editwidgetNameDropdown.clearmessage(),document.getElementsByTagName("body")[0].classList.add("modale-popup-open"),this.rowIndex=t,this.widgetName=i.widget_name,this.widgetsId=i.widget_id,this.widgetEnable=i.widget_enabled,this.widgetCreateDate=i.widget_createdAt,this.widgetUpdateDate=i.widget_updatedAt,this.widgetViewUsername=i.widget_username,this.widgetDescription=i.widget_description,this.displayEnable=i.display_enable,this.dataJsonObj.inputObj.cols=i.cols,this.dataJsonObj.inputObj.rows=i.rows,this.dataJsonObj.inputObj.y=i.y,this.dataJsonObj.inputObj.x=i.x,this.dataJsonObj.inputColorObj.background_color=i.background_color,this.dataJsonObj.inputColorObj.text_color=i.text_color,this.dataJsonObj.inputColorObj.icon_color=i.icon_color,this.parameterValueOptions=[],this.parametersData=i.widget_params,$("#exampleModal2").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal2")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editwidget",a)}}updateWidgetRecord(){try{if(this.editwidgetNameDropdown.isValid()&&this.rowEdit.isValid()&&this.colEdit.isValid()&&this.xPositionEdit.isValid()&&this.yPositionEdit.isValid()){this.error1="",this.errorMsg="";for(let t=0;t<this.widgetsBlockData.length;t++)this.rowIndex!==t&&this.widgetsBlockData[t].widget_name===this.widgetName&&(this.error1=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS"));if(""===this.error1&&""===this.errorMsg){for(let t=0;t<this.widgetsBlockData.length;t++)t===this.rowIndex&&(this.widgetsBlockData[t].widget_id=this.widgetsId,this.widgetsBlockData[t].widget_name=this.widgetName,this.widgetsBlockData[t].widget_enabled=this.widgetEnable,this.widgetsBlockData[t].widget_createdAt=this.widgetCreateDate,this.widgetsBlockData[t].widget_updatedAt=this.widgetUpdateDate,this.widgetsBlockData[t].widget_username=this.widgetViewUsername,this.widgetsBlockData[t].widget_description=this.widgetDescription,this.widgetsBlockData[t].display_enable=this.displayEnable,this.widgetsBlockData[t].cols=this.dataJsonObj.inputObj.cols,this.widgetsBlockData[t].rows=this.dataJsonObj.inputObj.rows,this.widgetsBlockData[t].y=this.dataJsonObj.inputObj.y,this.widgetsBlockData[t].x=this.dataJsonObj.inputObj.x,this.widgetsBlockData[t].background_color=this.dataJsonObj.inputColorObj.background_color,this.widgetsBlockData[t].icon_color=this.dataJsonObj.inputColorObj.icon_color,this.widgetsBlockData[t].text_color=this.dataJsonObj.inputColorObj.text_color,this.widgetsBlockData[t].widget_params=this.parametersData);for(let t of this.widgetsArray)t.device_type.lookup_name===this.dataJsonObj.printvalue&&(t.widgets=this.widgetsBlockData);this.dataJsonObj.inputObj={},this.dataJsonObj.inputColorObj={},$("#exampleModal2").modal("hide")}}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Edit",t)}}remove(t,i){try{document.getElementsByTagName("body")[0].classList.add("modale-popup-open"),this.rowIndex=t,this.widgetName=i.widget_name,this.widgetEnable=i.widget_enabled,this.widgetCreateDate=i.widget_createdAt,this.widgetUpdateDate=i.widget_updatedAt,this.widgetViewUsername=i.widget_username,this.widgetDescription=i.widget_description,this.dataJsonObj.inputObj.cols=i.cols,this.dataJsonObj.inputObj.rows=i.rows,this.dataJsonObj.inputObj.y=i.y,this.dataJsonObj.inputObj.x=i.x,this.dataJsonObj.inputColorObj.background_color=i.background_color,this.dataJsonObj.inputColorObj.text_color=i.text_color,this.dataJsonObj.inputColorObj.icon_color=i.icon_color,this.parametersData=i.widget_params,$("#exampleModal3").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal3")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"remove",a)}}deleteWidgetRecord(){try{this.widgetsBlockData.splice(this.rowIndex,1),this.dataJsonObj.inputObj.rows="",this.dataJsonObj.inputObj.cols="",this.dataJsonObj.inputObj.x="",this.dataJsonObj.inputObj.y="",this.dataJsonObj.inputColorObj.background_color="",this.dataJsonObj.inputColorObj.icon_color="",this.dataJsonObj.inputColorObj.text_color="";for(let t of this.widgetsArray)t.device_type.lookup_name===this.dataJsonObj.printvalue&&(t.widgets=this.widgetsBlockData);$("#exampleModal3").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Delete",t)}}cancelBtn(){try{this.dataJsonObj.inputObj={},this.dataJsonObj.inputColorObj={},document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelBtn",t)}}updateRecord(){try{if(this.dashboardNamevalidation.isValid()&&this.devicetypeMaltiDropDown.isValid()&&this.descriptionvalidation.isValid())if(this.widgetsArray[0].widgets.length>0){this.deviceTypesArray=[];for(let a=0;a<this.deviceTypes.length;a++)this.deviceTypesArray.push({lookup_id:this.deviceTypes[a].lookup_id,lookup_name:this.deviceTypes[a].lookup_name});for(let a of this.widgetsArray)0===a?.widgets.length&&(a.widgets=this.widgetsArray[0].widgets);const t={enterprise:{enterprise_id:this.dataJsonObj.selectedEnterpriseId,enterprise_name:this.enterpriseObj.enterprise_name,short_name:this.enterpriseObj.short_name},dashboard_name:this.dashboardName,description:this.dashboardDescription,dashboard_type:this.deviceTypesArray,is_enabled:this.isEnabled,widgets:this.widgetsArray,original_background_image:this.dashboardData.background_image},i={};i.backgroundImage=this.dataJsonObj.filesObj&&this.dataJsonObj.filesObj.backgroundImage?this.commonService.dataURItoImgBlob(this.dataJsonObj.filesObj.backgroundImage,"image/jpeg"):"",this.dashboardService.editModuleConfigurations(this.recordId,t,i).then(a=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),this.router.routeReuseStrategy.clearModuleRouteCache("dashboard"),this.router.navigateByUrl("/dashboard")},a=>{this.commonErrorCodes(JSON.parse(a))})}else this.error=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_PLEASE_ADD_A_RECORD_IN_WIDGET_BLOCK")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"submit",t)}}changeInputFieldValue(t,i,a){try{a[i]=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeInputFieldValue",o)}}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}commonErrorCodes(t){switch(JSON.parse(t[l.BU.STATUS])){case 409:this.error2=this.translateService.instant("COMMON_STATUS_CODES.409");break;case 404:default:break;case 400:this.errorMsg=this.translateService.instant("COMMON_TOAST_MESSAGES.INVALID_WHERE_QUERY")}}previousUrl(){this.commonService.redirectToPreviousUrl()}pageheadeActionClick(t){"BACK"==t.value&&this.previousUrl()}static \u0275fac=function(i){return new(i||r)(e.Y36("apiEndPoint"),e.Y36(M.s),e.Y36(x.m),e.Y36(F.f),e.Y36(C.F0),e.Y36(w.sK),e.Y36(R.s),e.Y36(j.v),e.Y36(ae.e),e.Y36(C.gz))};static \u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard-edit"]],viewQuery:function(i,a){if(1&i&&(e.Gf(sa,5),e.Gf(la,5),e.Gf(da,5),e.Gf(pa,5),e.Gf(ca,5),e.Gf(ha,5),e.Gf(ua,5),e.Gf(ga,5),e.Gf(_a,5),e.Gf(ma,5),e.Gf(ba,5),e.Gf(Oa,5),e.Gf(Ca,5)),2&i){let o;e.iGM(o=e.CRH())&&(a.dashboardNamevalidation=o.first),e.iGM(o=e.CRH())&&(a.descriptionvalidation=o.first),e.iGM(o=e.CRH())&&(a.devicetypeMaltiDropDown=o.first),e.iGM(o=e.CRH())&&(a.editwidgetNameDropdown=o.first),e.iGM(o=e.CRH())&&(a.widgetNameDropdown=o.first),e.iGM(o=e.CRH())&&(a.rowCreate=o.first),e.iGM(o=e.CRH())&&(a.colCreate=o.first),e.iGM(o=e.CRH())&&(a.xPositionCreate=o.first),e.iGM(o=e.CRH())&&(a.yPositionCreate=o.first),e.iGM(o=e.CRH())&&(a.rowEdit=o.first),e.iGM(o=e.CRH())&&(a.colEdit=o.first),e.iGM(o=e.CRH())&&(a.xPositionEdit=o.first),e.iGM(o=e.CRH())&&(a.yPositionEdit=o.first)}},features:[e.qOj],decls:281,vars:290,consts:[[1,"container-fluid","config-optns"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-10"],[1,"row"],[1,"col-md-5"],["mandatory","true","disabled","false","id","dashboard-create-dashbordname",3,"label","value","maxlength","valueChange"],["dashboardNamevalidation",""],[1,"col-md-3"],["disabled","false","mandatory","true","id","dashboard-edit-devicetype",3,"label","options","selectedOptions","valueChange","searchValueChange"],["devicetypeMaltiDropDown",""],[1,"col-md-4"],["disabled","true","mandatory","true","id","iotevents-edit-sport",3,"label","value"],["mandatory","true","disabled","false","id","dashboard-create-description",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalidation",""],[1,"col-md-2","d-flex","align-items-center"],["label","","id","dashboard-create-enabled","mandatory","false",3,"options","checked","valueChange"],[1,"col-md-2","imagewith-label"],["type","file","btnHide","true","action","create","imageid","BackgroundImage","showValidation","false",1,"edit-pic",3,"maintainAspectRatio","defaultImage","valueChange","imageRemove"],[1,"col-md-12","text-end","mt-2","mb-2"],["id","dashboard-create-submit","className","btn btn-primary btn-sm",1,"mgr-5",3,"label","buttonOnClick"],["id","dashboard-create-close","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"card"],[1,"card-content"],[1,"position-relative","mgb-2"],[1,"btn-group-sm"],["class","btn btn-sm mgr-5",3,"title","ngClass","click",4,"ngFor","ngForOf"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","false","label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","dashboard-create-linesadd",3,"isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],["id","exampleModal1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel-widgetblock-add",1,"modal-title"],[1,"modal-body","ios-content"],[1,"col-md-6"],["mandatory","true","id","evens-create-widgetblock-add-widget",3,"label","options","defaultValue","selectedOption","searchValueChange"],["widgetNameDropdown",""],["mandatory","false","disabled","true","id","dashboard-create-widgetblock-add-username",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblock-add-create","disabled","true",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblock-add-updateddate","disabled","true",3,"label","value"],["mandatory","true","disabled","false","id","dashboard-create-rows",3,"label","value","valueChange"],["rowCreate",""],[1,"col-md-2"],["mandatory","true","disabled","false","id","dashboard-create-cols",3,"label","value","valueChange"],["colCreate",""],["mandatory","true","disabled","false","id","dashboard-create-xposition",3,"label","value","valueChange"],["xPositionCreate",""],["mandatory","true","disabled","false","id","dashboard-create-yposition",3,"label","value","valueChange"],["yPositionCreate",""],["type","color","disabled","false",3,"label","value","change"],["mandatory","true","disabled","true","id","dashboard-create-widgetblock-add-description",3,"label","defaultvalue","maxlength"],[1,"col-md-3","d-flex","align-items-center"],["label","","id","dashboard-create-widgetblock-add-enabled","disabled","false","mandatory","false",3,"options","checked","valueChange"],["id","dashboard-create-widgetblock-add-parametersblock",1,"list-accordion-tab",3,"selected"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","dashboard-create-widgetblock-add-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","dashboard-create-widgetblock-add-close",3,"label","buttonOnClick"],["id","exampleModal2","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel-edit",1,"modal-title"],["mandatory","true","id","evens-create-widgetblock-edit-widget",3,"label","options","defaultValue","selectedOption","searchValueChange"],["editwidgetNameDropdown",""],["mandatory","false","disabled","true","id","dashboard-create-widgetblock-edit-username",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblock-edit-createddate","disabled","true",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblock-edit-updateddate","disabled","true",3,"label","value"],["rowEdit",""],["colEdit",""],["xPositionEdit",""],["yPositionEdit",""],["mandatory","true","disabled","true","id","dashboard-create-widgetblock-edit-description",3,"label","defaultvalue","maxlength"],["label","","id","dashboard-create-edit-enabled","disabled","false","mandatory","false",3,"options","checked","valueChange"],["id","dashboard-create-widgetblock-edit-parametersblock",1,"list-accordion-tab",3,"selected"],["className","btn btn-primary btn-sm","id","enterprise-create-widgetblock-edit-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","enterprise-create-widgetblock-edit-close",3,"label","buttonOnClick"],["id","exampleModal3","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModalLabel-delete",1,"modal-title"],["mandatory","false","disabled","true","id","dashboard-create-widgetblock-delete-widget",3,"label","value"],["mandatory","false","disabled","true","id","dashboard-create-delete--username",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblock-delete-createddate","disabled","true",3,"label","value"],["mandatory","false","id","dashboard-create-widgetblock-delete-updateddate","disabled","true",3,"label","value"],["mandatory","false","disabled","true","id","dashboard-create-rows",3,"label","value"],["mandatory","false","disabled","true","id","dashboard-create-cols",3,"label","value"],["mandatory","false","disabled","true","id"," dashboard-create-xposition",3,"label","value"],["mandatory","false","disabled","true","id","dashboard-create-yposition",3,"label","value"],["type","color","disabled","true",3,"label","value"],["mandatory","true","disabled","true","id","dashboard-create-widgetblock-delete-description",3,"label","defaultvalue","maxlength"],["label","","id","dashboard-create-delete-enabled","disabled","true","mandatory","false",3,"options","checked","valueChange"],["id","dashboard-create-widgetblock-delete-parametersblock",1,"list-accordion-tab",3,"selected"],["className","btn btn-primary btn-sm","id","enterprise-create-widgetblock-delete-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","enterprise-create-widgetblock-delete-close",3,"label","buttonOnClick"],[1,"btn","btn-sm","mgr-5",3,"title","ngClass","click"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[1,"checkboxcol",2,"width","2em"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#exampleModal3",1,"fas","fa-minus","cursor-pointer",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","click"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"],["data-toggle","modal",3,"pSelectableRow","class",4,"ngFor","ngForOf"],["data-toggle","modal",3,"pSelectableRow"],[4,"ngIf"],["disabled","false","id","dashboard-create-widgetblock-add-parameter-inputtext-value",3,"label","value","valueChange",4,"ngIf"],["disabled","false","id","dashboard-create-widgetblock-add-parameter-inputnumber-value",3,"label","maxlength","value","valueChange",4,"ngIf"],["disabled","false","type","email","id","dashboard-create-widgetblock-add-parameter-inputemail-value",3,"label","value","valueChange",4,"ngIf"],["id","dashboard-create-widgetblock-add-parameter-date-value","dateformat","dd-MMM-yyyy","currentDate","false",3,"placeholder","defaultDate","dateChangeValue",4,"ngIf"],["id","dashboard-create-widgetblock-add-parameter-list-value",3,"label","options","defaultValue","selectedOption","searchValueChange",4,"ngIf"],["disabled","false","id","dashboard-create-widgetblock-add-parameter-inputtext-value",3,"label","value","valueChange"],["disabled","false","id","dashboard-create-widgetblock-add-parameter-inputnumber-value",3,"label","maxlength","value","valueChange"],["disabled","false","type","email","id","dashboard-create-widgetblock-add-parameter-inputemail-value",3,"label","value","valueChange"],["id","dashboard-create-widgetblock-add-parameter-date-value","dateformat","dd-MMM-yyyy","currentDate","false",3,"placeholder","defaultDate","dateChangeValue"],["id","dashboard-create-widgetblock-add-parameter-list-value",3,"label","options","defaultValue","selectedOption","searchValueChange"],["disabled","false","id","dashboard-create-widgetblock-edit-parameter-inputtrst-value",3,"label","value","valueChange",4,"ngIf"],["disabled","false","id","dashboard-create-widgetblock-edit-parameter-inputnumber-value",3,"label","maxlength","value","valueChange",4,"ngIf"],["disabled","false","type","email","id","dashboard-create-widgetblock-edit-parameter-inputemail-value",3,"label","value","valueChange",4,"ngIf"],["id","dashboard-create-widgetblock-edit-parameter-date-value","dateformat","dd-MMM-yyyy","currentDate","false",3,"placeholder","defaultDate","dateChangeValue",4,"ngIf"],["id","dashboard-create-widgetblock-edit-parameter-list-value",3,"label","options","defaultValue","selectedOption","searchValueChange",4,"ngIf"],["disabled","false","id","dashboard-create-widgetblock-edit-parameter-inputtrst-value",3,"label","value","valueChange"],["disabled","false","id","dashboard-create-widgetblock-edit-parameter-inputnumber-value",3,"label","maxlength","value","valueChange"],["disabled","false","type","email","id","dashboard-create-widgetblock-edit-parameter-inputemail-value",3,"label","value","valueChange"],["id","dashboard-create-widgetblock-edit-parameter-date-value","dateformat","dd-MMM-yyyy","currentDate","false",3,"placeholder","defaultDate","dateChangeValue"],["id","dashboard-create-widgetblock-edit-parameter-list-value",3,"label","options","defaultValue","selectedOption","searchValueChange"],["disabled","true","id","dashboard-create-delete-parameter-value",3,"label","value"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"app-input",12,13),e.NdJ("valueChange",function(s){return a.changedashboardName(s)}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",14)(16,"app-dropdown-multiselect-v2",15,16),e.NdJ("valueChange",function(s){return a.changeDeviceType(s)})("searchValueChange",function(s){return a.getdeviceTypeOptions(s)}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",17),e._UZ(20,"app-input",18),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"div",9)(23,"app-textarea",19,20),e.NdJ("valueChange",function(s){return a.changesDescription(s)}),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",21)(27,"app-checkbox",22),e.NdJ("valueChange",function(s){return a.changeEnabledvalue(s)}),e.qZA()()()(),e.TgZ(28,"div",23)(29,"label"),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"app-imageupload",24),e.NdJ("valueChange",function(s){return a.changeFile(s,"backgroundImage","")})("imageRemove",function(){return a.removeFile("backgroundImage")}),e.qZA()(),e.TgZ(33,"div",25)(34,"app-button",26),e.NdJ("buttonOnClick",function(){return a.updateRecord()}),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"app-button",27),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",28),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"div",28),e._uU(42),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"div",10)(45,"div",3)(46,"div",29)(47,"div",30)(48,"div",31)(49,"mat-button-toggle-group",32),e.YNc(50,fa,2,3,"mat-button-toggle",33),e.qZA()(),e.TgZ(51,"p-accordion",34)(52,"p-accordionTab",35)(53,"p-header",36)(54,"span"),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"app-button",37),e.NdJ("buttonOnClick",function(s){return a.widgetAdd(s),a.onClick(s)}),e.qZA()(),e.TgZ(58,"p-table",38),e.YNc(59,wa,1,1,"ng-template",39),e.YNc(60,Da,3,1,"ng-template",40),e.YNc(61,ya,5,1,"ng-template",41),e.YNc(62,Sa,4,2,"ng-template",42),e.qZA()(),e._UZ(63,"app-recordhistory",43),e.qZA()()()()()()()()()()(),e.TgZ(64,"div",44)(65,"div",45)(66,"div",46)(67,"div",47)(68,"div",48),e._uU(69),e.ALo(70,"translate"),e.ALo(71,"translate"),e.qZA()(),e.TgZ(72,"div",49)(73,"div",8)(74,"div",50)(75,"app-dropdown-search",51,52),e.NdJ("selectedOption",function(s){return a.changeWidgetOptions(s)})("searchValueChange",function(s){return a.getWidgetEditOptions(s)}),e.ALo(77,"translate"),e.qZA()(),e.TgZ(78,"div",14),e._UZ(79,"app-input",53),e.ALo(80,"translate"),e.qZA(),e.TgZ(81,"div",14),e._UZ(82,"app-input",54),e.ALo(83,"translate"),e.qZA(),e.TgZ(84,"div",14),e._UZ(85,"app-input",55),e.ALo(86,"translate"),e.qZA(),e.TgZ(87,"div",14)(88,"app-inputnumber",56,57),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"rows",a.dataJsonObj.inputObj)}),e.ALo(90,"translate"),e.qZA()(),e.TgZ(91,"div",58)(92,"app-inputnumber",59,60),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"cols",a.dataJsonObj.inputObj)}),e.ALo(94,"translate"),e.qZA()(),e.TgZ(95,"div",58)(96,"app-inputnumber",61,62),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"x",a.dataJsonObj.inputObj)}),e.ALo(98,"translate"),e.qZA()(),e.TgZ(99,"div",58)(100,"app-inputnumber",63,64),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"y",a.dataJsonObj.inputObj)}),e.ALo(102,"translate"),e.qZA()(),e.TgZ(103,"div",58)(104,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"background_color",a.dataJsonObj.inputColorObj)}),e.ALo(105,"translate"),e.qZA()(),e.TgZ(106,"div",58)(107,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"icon_color",a.dataJsonObj.inputColorObj)}),e.ALo(108,"translate"),e.qZA()(),e.TgZ(109,"div",58)(110,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"text_color",a.dataJsonObj.inputColorObj)}),e.ALo(111,"translate"),e.qZA()(),e.TgZ(112,"div",3),e._UZ(113,"app-textarea",66),e.ALo(114,"translate"),e.qZA(),e.TgZ(115,"div",67)(116,"app-checkbox",68),e.NdJ("valueChange",function(s){return a.chnageWidgetEnabledvalue(s)}),e.qZA()(),e.TgZ(117,"div",3)(118,"div",29)(119,"div",30)(120,"p-accordion",34)(121,"p-accordionTab",69)(122,"p-header",36)(123,"span"),e._uU(124),e.ALo(125,"translate"),e.qZA()(),e.TgZ(126,"p-table",38),e.YNc(127,Ma,1,1,"ng-template",39),e.YNc(128,Ia,2,1,"ng-template",40),e.YNc(129,Pa,2,1,"ng-template",41),e.YNc(130,qa,4,2,"ng-template",42),e.qZA()()()()()(),e.TgZ(131,"div",70)(132,"app-button",71),e.NdJ("buttonOnClick",function(){return a.widgetDataAdd()}),e.ALo(133,"translate"),e.qZA(),e.TgZ(134,"app-button",72),e.NdJ("buttonOnClick",function(){return a.cancelBtn()}),e.ALo(135,"translate"),e.qZA()(),e.TgZ(136,"div",28),e._uU(137),e.ALo(138,"translate"),e.qZA()()()()()(),e.TgZ(139,"div",73)(140,"div",45)(141,"div",46)(142,"div",47)(143,"div",74),e._uU(144),e.ALo(145,"translate"),e.ALo(146,"translate"),e.qZA()(),e.TgZ(147,"div",49)(148,"div",8)(149,"div",50)(150,"app-dropdown-search",75,76),e.NdJ("selectedOption",function(s){return a.changeWidgetOptions(s)})("searchValueChange",function(s){return a.getWidgetEditOptions(s)}),e.ALo(152,"translate"),e.qZA()(),e.TgZ(153,"div",14),e._UZ(154,"app-input",77),e.ALo(155,"translate"),e.qZA(),e.TgZ(156,"div",14),e._UZ(157,"app-input",78),e.ALo(158,"translate"),e.qZA(),e.TgZ(159,"div",14),e._UZ(160,"app-input",79),e.ALo(161,"translate"),e.qZA(),e.TgZ(162,"div",14)(163,"app-inputnumber",56,80),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"rows",a.dataJsonObj.inputObj)}),e.ALo(165,"translate"),e.qZA()(),e.TgZ(166,"div",58)(167,"app-inputnumber",59,81),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"cols",a.dataJsonObj.inputObj)}),e.ALo(169,"translate"),e.qZA()(),e.TgZ(170,"div",58)(171,"app-inputnumber",61,82),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"x",a.dataJsonObj.inputObj)}),e.ALo(173,"translate"),e.qZA()(),e.TgZ(174,"div",58)(175,"app-inputnumber",63,83),e.NdJ("valueChange",function(s){return a.changeInputFieldValue(s,"y",a.dataJsonObj.inputObj)}),e.ALo(177,"translate"),e.qZA()(),e.TgZ(178,"div",58)(179,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"background_color",a.dataJsonObj.inputColorObj)}),e.ALo(180,"translate"),e.qZA()(),e.TgZ(181,"div",58)(182,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"icon_color",a.dataJsonObj.inputColorObj)}),e.ALo(183,"translate"),e.qZA()(),e.TgZ(184,"div",58)(185,"app-input",65),e.NdJ("change",function(s){return a.changeColor(s,"text_color",a.dataJsonObj.inputColorObj)}),e.ALo(186,"translate"),e.qZA()(),e.TgZ(187,"div",3),e._UZ(188,"app-textarea",84),e.ALo(189,"translate"),e.qZA(),e.TgZ(190,"div",67)(191,"app-checkbox",85),e.NdJ("valueChange",function(s){return a.chnageWidgetEnabledvalue(s)}),e.qZA()(),e.TgZ(192,"div",3)(193,"div",29)(194,"div",30)(195,"p-accordion",34)(196,"p-accordionTab",86)(197,"p-header",36)(198,"span"),e._uU(199),e.ALo(200,"translate"),e.qZA()(),e.TgZ(201,"p-table",38),e.YNc(202,Ya,1,1,"ng-template",39),e.YNc(203,Qa,2,1,"ng-template",40),e.YNc(204,ai,2,1,"ng-template",41),e.YNc(205,ri,4,2,"ng-template",42),e.qZA()()()()()(),e.TgZ(206,"div",70)(207,"app-button",87),e.NdJ("buttonOnClick",function(){return a.updateWidgetRecord()}),e.ALo(208,"translate"),e.qZA(),e.TgZ(209,"app-button",88),e.NdJ("buttonOnClick",function(){return a.cancelBtn()}),e.ALo(210,"translate"),e.qZA()(),e.TgZ(211,"div",28),e._uU(212),e.ALo(213,"translate"),e.qZA()()()()()(),e.TgZ(214,"div",89)(215,"div",45)(216,"div",46)(217,"div",47)(218,"div",90),e._uU(219),e.ALo(220,"translate"),e.ALo(221,"translate"),e.qZA()(),e.TgZ(222,"div",49)(223,"div",8)(224,"div",50),e._UZ(225,"app-input",91),e.ALo(226,"translate"),e.qZA(),e.TgZ(227,"div",14),e._UZ(228,"app-input",92),e.ALo(229,"translate"),e.qZA(),e.TgZ(230,"div",14),e._UZ(231,"app-input",93),e.ALo(232,"translate"),e.qZA(),e.TgZ(233,"div",14),e._UZ(234,"app-input",94),e.ALo(235,"translate"),e.qZA(),e.TgZ(236,"div",14),e._UZ(237,"app-inputnumber",95),e.ALo(238,"translate"),e.qZA(),e.TgZ(239,"div",58),e._UZ(240,"app-inputnumber",96),e.ALo(241,"translate"),e.qZA(),e.TgZ(242,"div",58),e._UZ(243,"app-inputnumber",97),e.ALo(244,"translate"),e.qZA(),e.TgZ(245,"div",58),e._UZ(246,"app-inputnumber",98),e.ALo(247,"translate"),e.qZA(),e.TgZ(248,"div",58),e._UZ(249,"app-input",99),e.ALo(250,"translate"),e.qZA(),e.TgZ(251,"div",58),e._UZ(252,"app-input",99),e.ALo(253,"translate"),e.qZA(),e.TgZ(254,"div",58),e._UZ(255,"app-input",99),e.ALo(256,"translate"),e.qZA(),e.TgZ(257,"div",3),e._UZ(258,"app-textarea",100),e.ALo(259,"translate"),e.qZA(),e.TgZ(260,"div",67)(261,"app-checkbox",101),e.NdJ("valueChange",function(s){return a.changeEnabledvalue(s)}),e.qZA()(),e.TgZ(262,"div",3)(263,"div",29)(264,"div",30)(265,"p-accordion",34)(266,"p-accordionTab",102)(267,"p-header",36)(268,"span"),e._uU(269),e.ALo(270,"translate"),e.qZA()(),e.TgZ(271,"p-table",38),e.YNc(272,oi,1,1,"ng-template",39),e.YNc(273,li,2,1,"ng-template",40),e.YNc(274,hi,2,1,"ng-template",41),e.YNc(275,gi,4,2,"ng-template",42),e.qZA()()()()()(),e.TgZ(276,"div",70)(277,"app-button",103),e.NdJ("buttonOnClick",function(){return a.deleteWidgetRecord()}),e.ALo(278,"translate"),e.qZA(),e.TgZ(279,"app-button",104),e.NdJ("buttonOnClick",function(){return a.cancelBtn()}),e.ALo(280,"translate"),e.qZA()()()()()()()),2&i&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(6),e.s9C("label",e.lcZ(14,164,"WIDGETS.DASHBOARD_NAME")),e.s9C("value",a.dashboardName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(18,166,"COMMON_FIELDS.DEVICE_TYPE")),e.Q6J("options",a.devicetypeOptions)("selectedOptions",a.deviceTypeObj),e.xp6(4),e.s9C("label",e.lcZ(21,168,"COMMON_PAGE_TITLES.SPORT")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.sport),e.xp6(3),e.s9C("label",e.lcZ(25,170,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.dashboardDescription),e.Q6J("maxlength",2e3),e.xp6(4),e.Q6J("options",a.enabledOptions)("checked",a.isEnabled),e.xp6(3),e.Oqu(e.lcZ(31,172,"NEW_VARIABLES.BACK_GROUND_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj?null:a.dataJsonObj.backgroundImgFilepath),e.Q6J("maintainAspectRatio",!1),e.xp6(2),e.s9C("label",e.lcZ(35,174,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.xp6(2),e.s9C("label",e.lcZ(37,176,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(40,178,a.error2)," "),e.xp6(3),e.hij(" ",e.lcZ(43,180,a.error)," "),e.xp6(8),e.Q6J("ngForOf",a.deviceTypes),e.xp6(1),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(56,182,"WIDGETS.WIDGET_BLOCK")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.header)("value",a.widgetsBlockData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(5),e.Q6J("createdBy",null==a.dashboardData?null:a.dashboardData.created_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==a.dashboardData?null:a.dashboardData.updated_by)("creationDate",null==a.dashboardData?null:a.dashboardData.createdAt)("lastUpdatedDate",null==a.dashboardData?null:a.dashboardData.updatedAt),e.xp6(6),e.AsE("",e.lcZ(70,184,"WIDGETS.WIDGET_BLOCK")," - ",e.lcZ(71,186,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(77,188,"COMMON_PAGE_TITLES.WIDGET")),e.s9C("defaultValue",a.widgetName),e.Q6J("options",a.widgetsOptions),e.xp6(4),e.s9C("label",e.lcZ(80,190,"COMMON_FIELDS.USER_NAME")),e.s9C("value",a.widgetViewUsername),e.xp6(3),e.s9C("label",e.lcZ(83,192,"COMMON_RECORD_HISTORY.CREATED_DATE")),e.s9C("value",a.widgetCreateDate),e.xp6(3),e.s9C("label",e.lcZ(86,194,"COMMON_RECORD_HISTORY.LAST_UPDATED_DATE")),e.s9C("value",a.widgetUpdateDate),e.xp6(3),e.s9C("label",e.lcZ(90,196,"DASHBOARD.ROWS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.rows),e.xp6(4),e.s9C("label",e.lcZ(94,198,"DASHBOARD.COLS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.cols),e.xp6(4),e.s9C("label",e.lcZ(98,200,"DASHBOARD.POSITION_X")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.x),e.xp6(4),e.s9C("label",e.lcZ(102,202,"DASHBOARD.POSITION_Y")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.y),e.xp6(4),e.s9C("label",e.lcZ(105,204,"NEW_VARIABLES.BACKGROUND_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.background_color),e.xp6(3),e.s9C("label",e.lcZ(108,206,"NEW_VARIABLES.ICON_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.icon_color),e.xp6(3),e.s9C("label",e.lcZ(111,208,"NEW_VARIABLES.TEXT_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.text_color),e.xp6(3),e.s9C("label",e.lcZ(114,210,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.widgetDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",a.enabledOptions)("checked",a.widgetEnable),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(125,212,"REPORTS.PARAMETERS")),e.xp6(2),e.Q6J("columns",a.parametersColumnHeaders)("value",a.parametersData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(133,214,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(135,216,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(138,218,a.error1)," "),e.xp6(7),e.AsE("",e.lcZ(145,220,"WIDGETS.WIDGET_BLOCK")," - ",e.lcZ(146,222,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(6),e.s9C("label",e.lcZ(152,224,"COMMON_PAGE_TITLES.WIDGET")),e.s9C("defaultValue",a.widgetName),e.Q6J("options",a.widgetsOptions),e.xp6(4),e.s9C("label",e.lcZ(155,226,"COMMON_FIELDS.USER_NAME")),e.s9C("value",a.widgetViewUsername),e.xp6(3),e.s9C("label",e.lcZ(158,228,"COMMON_RECORD_HISTORY.CREATED_DATE")),e.s9C("value",a.widgetCreateDate),e.xp6(3),e.s9C("label",e.lcZ(161,230,"COMMON_RECORD_HISTORY.LAST_UPDATED_DATE")),e.s9C("value",a.widgetUpdateDate),e.xp6(3),e.s9C("label",e.lcZ(165,232,"DASHBOARD.ROWS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.rows),e.xp6(4),e.s9C("label",e.lcZ(169,234,"DASHBOARD.COLS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.cols),e.xp6(4),e.s9C("label",e.lcZ(173,236,"DASHBOARD.POSITION_X")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.x),e.xp6(4),e.s9C("label",e.lcZ(177,238,"DASHBOARD.POSITION_Y")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.y),e.xp6(4),e.s9C("label",e.lcZ(180,240,"NEW_VARIABLES.BACKGROUND_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.background_color),e.xp6(3),e.s9C("label",e.lcZ(183,242,"NEW_VARIABLES.ICON_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.icon_color),e.xp6(3),e.s9C("label",e.lcZ(186,244,"NEW_VARIABLES.TEXT_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.text_color),e.xp6(3),e.s9C("label",e.lcZ(189,246,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.widgetDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",a.enabledOptions)("checked",a.widgetEnable),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(200,248,"REPORTS.PARAMETERS")),e.xp6(2),e.Q6J("columns",a.parametersColumnHeaders)("value",a.parametersData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(208,250,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(210,252,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(213,254,a.error1)," "),e.xp6(7),e.AsE("",e.lcZ(220,256,"WIDGETS.WIDGET_BLOCK")," - ",e.lcZ(221,258,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(226,260,"COMMON_PAGE_TITLES.WIDGET")),e.s9C("value",a.widgetName),e.xp6(3),e.s9C("label",e.lcZ(229,262,"COMMON_FIELDS.USER_NAME")),e.s9C("value",a.widgetViewUsername),e.xp6(3),e.s9C("label",e.lcZ(232,264,"COMMON_RECORD_HISTORY.CREATED_DATE")),e.s9C("value",a.widgetCreateDate),e.xp6(3),e.s9C("label",e.lcZ(235,266,"COMMON_RECORD_HISTORY.LAST_UPDATED_DATE")),e.s9C("value",a.widgetUpdateDate),e.xp6(3),e.s9C("label",e.lcZ(238,268,"DASHBOARD.ROWS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.rows),e.xp6(3),e.s9C("label",e.lcZ(241,270,"DASHBOARD.COLS")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.cols),e.xp6(3),e.s9C("label",e.lcZ(244,272,"DASHBOARD.POSITION_X")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.x),e.xp6(3),e.s9C("label",e.lcZ(247,274,"DASHBOARD.POSITION_Y")),e.s9C("value",null==a.dataJsonObj.inputObj?null:a.dataJsonObj.inputObj.y),e.xp6(3),e.s9C("label",e.lcZ(250,276,"NEW_VARIABLES.BACKGROUND_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.background_color),e.xp6(3),e.s9C("label",e.lcZ(253,278,"NEW_VARIABLES.ICON_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.icon_color),e.xp6(3),e.s9C("label",e.lcZ(256,280,"NEW_VARIABLES.TEXT_COLOR")),e.s9C("value",null==a.dataJsonObj.inputColorObj?null:a.dataJsonObj.inputColorObj.text_color),e.xp6(3),e.s9C("label",e.lcZ(259,282,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.widgetDescription),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",a.enabledOptions)("checked",a.widgetEnable),e.xp6(4),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(270,284,"REPORTS.PARAMETERS")),e.xp6(2),e.Q6J("columns",a.parametersColumnHeaders)("value",a.parametersData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(6),e.s9C("label",e.lcZ(278,286,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(280,288,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[O.mk,O.sg,O.O5,E.iA,N.h4,N.jx,E.Ei,y.UQ,y.US,Y.r,H.a,de.E,Q.b,pe.Q,W.R,ce.K,G.f,he.C,ue.W,B.q,w.X$]})}return r})();var mi=p(98621);const bi=["datatableComponent"];function Oi(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"mat-button-toggle",38),e.NdJ("click",function(a){e.CHM(t);const o=e.oxw();return e.KtG(o.changeDeviceData(a))}),e._uU(1),e.qZA()}if(2&r){const t=n.$implicit,i=e.oxw();e.s9C("title",t.lookup_name),e.Q6J("ngClass",t.lookup_name===i.dataJsonObj.printvalue?"btn-primary":""),e.xp6(1),e.hij("",i.lookupLanguageTranslations(t.lookup_id)," ")}}function Ci(r,n){if(1&r&&(e.TgZ(0,"tr",40)(1,"td",41),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function fi(r,n){if(1&r&&e.YNc(0,Ci,4,4,"tr",39),2&r){const t=e.oxw();e.Q6J("ngIf",t.widgetsBlockData&&0==t.widgetsBlockData.length)}}function vi(r,n){if(1&r&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function wi(r,n){if(1&r&&(e.TgZ(0,"tr"),e._UZ(1,"th",42),e.YNc(2,vi,3,3,"th",43),e.qZA()),2&r){const t=n.$implicit;e.xp6(2),e.Q6J("ngForOf",t[0])}}function Ti(r,n){if(1&r&&(e.TgZ(0,"td",47),e._uU(1),e.qZA()),2&r){const t=n.$implicit,i=e.oxw().$implicit;e.Tol(t.class),e.Q6J("pSelectableRow",i),e.xp6(1),e.hij(" ",i[t.field]," ")}}function Di(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td",44),e._UZ(2,"div",45),e.qZA(),e.YNc(3,Ti,2,5,"td",46),e.qZA()),2&r){const t=n.columns;e.xp6(3),e.Q6J("ngForOf",t[0])}}function Ai(r,n){if(1&r&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",49)(6,"br"),e.qZA()),2&r){const t=n.$implicit,i=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",i[t.field],e.oJD)}}function yi(r,n){if(1&r&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ai,7,4,"div",48),e.qZA()()()),2&r){const t=n.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}const Si=[{path:"",data:{title:"dashboard"},children:[{path:"",redirectTo:"dashboard/list",pathMatch:"full"},{path:"dashboard/list",canActivate:[S.P],component:ze,data:{object_type:l.hf.DASHBOARDS,responsibilityParam:l.bP.MENUS+"."+l.R0.DASHBOARD+"."+l.bP.SUBMENUS+"."+l.R0.DASHBOARD+"."+l.In.ENABLED,pageName:l.hf.DASHBOARD}},{path:"dashboard/create",canActivate:[S.P],component:oa,data:{responsibilityParam:l.bP.MENUS+"."+l.R0.DASHBOARD+"."+l.bP.SUBMENUS+"."+l.R0.DASHBOARD+"."+l.In.CREATE,pageName:l.hf.DASHBOARD,pageSetting:l.AM.ACTIONS,settingField:l.In.CREATE}},{path:"dashboard/:id/edit",canActivate:[S.P],component:_i,data:{responsibilityParam:l.bP.MENUS+"."+l.R0.DASHBOARD+"."+l.bP.SUBMENUS+"."+l.R0.DASHBOARD+"."+l.In.EDIT,pageName:l.hf.DASHBOARD,pageSetting:l.AM.ACTIONS,settingField:l.In.EDIT}},{path:"dashboard/:id/view",canActivate:[S.P],component:(()=>{class r extends U.O{apiEndPointUrl;dashboardService;loggerService;navigationService;router;translateService;commonService;route;datatableComponent;creationDate;dashboardData;dashboardName;dataJsonObj={};device_id;deviceTypeName;devicetypeOptions;deviceTypes;deviceTypesArray=[];enabledOptions;header;isEnabled;lastUpdatedDate;recordId;widgetsBlockData=[];widgetsArray;constructor(t,i,a,o,s,c,u,g){super(g,u),this.apiEndPointUrl=t,this.dashboardService=i,this.loggerService=a,this.navigationService=o,this.router=s,this.translateService=c,this.commonService=u,this.route=g,this.route.queryParams.subscribe(h=>{this.dataJsonObj.queryParamsObj={defaultView:h.defaultView,selectedMenuId:h.selectedMenuId,selectedSubMenuId:h.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=l.hf.DASHBOARD,this.dataJsonObj.enterpriseData=JSON.parse(localStorage.getItem(l.BU.ENTERPRISE)),this.dataJsonObj.enterpriseId=this.dataJsonObj.enterpriseData.enterprise_id,this.dataJsonObj.apiEndPoint=localStorage.getItem(l.BU.S3_URL)?localStorage.getItem(l.BU.S3_URL):this.apiEndPointUrl,document.getElementsByTagName("body"),this.enabledOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}],this.route.params.subscribe(a=>{this.recordId=a.id,this.getRecordById(this.recordId)}),this.header=[[{headersort:"disableth",field:"widget_name",header:this.translateService.instant("COMMON_PAGE_TITLES.WIDGET"),class:""},{headersort:"disableth",field:"rows",header:"Rows",class:"w-30 list-value-right"},{headersort:"disableth",field:"cols",header:"Cols",class:"w-30 list-value-right"},{headersort:"disableth",field:"x",header:"Poistion - X",class:"w-30 list-value-right"},{headersort:"disableth",field:"y",header:"Poistion - Y",class:"w-30 list-value-right"},{headersort:"disableth",field:"background_color",header:this.translateService.instant("NEW_VARIABLES.BACKGROUND_COLOR"),class:"w-30 list-value-right"},{headersort:"disableth",field:"widget_createdAt",header:this.translateService.instant("COMMON_RECORD_HISTORY.CREATED_DATE"),class:"w-130 list-value-right"},{headersort:"disableth",field:"widget_updatedAt",header:this.translateService.instant("COMMON_RECORD_HISTORY.LAST_UPDATED_DATE"),class:"w-80 list-value-right"},{headersort:"disableth",field:"widget_enabled",header:this.translateService.instant("COMMON_FIELDS.ENABLED"),class:"w-50"}],[]],this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(l.hf.DASHBOARD,l.AM.ACTIONS,l.In.RECORD_HISTORY),this.dataJsonObj.selectedPage=l.hf.DASHBOARD,this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}])}getDynamicJson(t){var i=this;return(0,P.Z)(function*(){for(let a of t)i.dataJsonObj[a.storingFieldName]=yield i.commonService.getDynamicJson(i.dataJsonObj.enterpriseId,a.folderName,a.jsonType);i.dataJsonObj.selectedObj={},i.dataJsonObj.selectedObj.recordId=i.recordId,i.dataJsonObj.selectedObj.pageObj=i.dataJsonObj.menuDataJson.filter(a=>a.menu_page.page_name===i.dataJsonObj.selectedPage),i.dataJsonObj.selectedObjEnabled=!0})()}getRecordById(t){try{this.dashboardService.get(t).subscribe(i=>{this.dashboardData=i,this.dashboardName=this.dashboardData.dashboard_name,this.dataJsonObj.selectedEnterpriseId=this.dashboardData.enterprise.enterprise_id,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.DASHBOARD",value:this.dashboardName,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.deviceTypesArray=[],this.widgetsBlockData=[],this.commonService.setCurrentPageTitle(this.dashboardData.dashboard_name,this.recordId),this.commonService.getLookupCodesListJson(this.dashboardData.enterprise.enterprise_id,"list").then(a=>{this.dataJsonObj.lookupCodesListJSON=a,this.getDeviceTypeName("")}),this.getSportsDropdown(),this.isEnabled=this.dashboardData.is_enabled,this.deviceTypes=this.dashboardData.dashboard_type,this.dataJsonObj.printvalue=this.deviceTypes[0].lookup_name,this.dataJsonObj.backgroundImgFilepath=this.dashboardData.background_image.image_path&&this.dashboardData.background_image.image_name?this.dataJsonObj.apiEndPoint+this.dashboardData.background_image.image_path+"/"+this.dashboardData.background_image.image_name:"";for(let a=0;a<this.deviceTypes.length;a++)this.device_id=this.deviceTypes[a].lookup_id,this.deviceTypesArray.push(this.deviceTypes[a].lookup_id);if(this.dashboardData.widgets.length>0){this.widgetsArray=this.dashboardData.widgets;for(let a=0;a<this.widgetsArray.length;a++)for(let o=0;o<this.widgetsArray[a].widgets.length;o++)this.widgetsArray[a].widgets[o].widget_name=this.widgetsArray[a].widgets[o].widget_name,this.widgetsArray[a].widgets[o].widget_createdAt=this.commonService.dbTimezoneFormatWithHours(this.widgetsArray[a].widgets[o].createdAt),this.widgetsArray[a].widgets[o].widget_updatedAt=this.commonService.dbTimezoneFormatWithHours(this.widgetsArray[a].widgets[o].updatedAt),this.widgetsArray[a].widgets[o].updated_by=this.commonService.changeUserNameFormat(this.dashboardData.updated_by),this.widgetsArray[a].widgets[o].widget_enabled=this.widgetsArray[a].widgets[o].widget_enabled?"Yes":"No";this.widgetsBlockData=this.widgetsArray[0].widgets}})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getViewDetails",i)}}getSportsDropdown(){this.commonService.getJsonData(`assets/enterprises/${this.dataJsonObj.selectedEnterpriseId}/sports/`,"sports.json").then(t=>{this.dataJsonObj.sportOptions=t;const i=this.dataJsonObj.sportOptions.filter(a=>a.ID===this.dashboardData.sport_id);this.dataJsonObj.sportId=i[0].NAME})}getDeviceTypeName(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON.WIDGET_TYPES,t).then(i=>{this.devicetypeOptions=[];for(let a=0;a<i.length;a++)for(let o=0;o<this.deviceTypesArray.length;o++)this.deviceTypesArray[o]===i[a].ID&&this.devicetypeOptions.push(i[a])})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getDeviceTypeName",i)}}changeDeviceData(t){try{this.dataJsonObj.printvalue=t.target.title;for(let i of this.widgetsArray)i.device_type.lookup_name===this.dataJsonObj.printvalue&&(this.widgetsBlockData=i.widgets)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeDeviceData",i)}}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}static \u0275fac=function(i){return new(i||r)(e.Y36("apiEndPoint"),e.Y36(M.s),e.Y36(x.m),e.Y36(F.f),e.Y36(C.F0),e.Y36(w.sK),e.Y36(j.v),e.Y36(C.gz))};static \u0275cmp=e.Xpm({type:r,selectors:[["app-dashboard-view"]],viewQuery:function(i,a){if(1&i&&e.Gf(bi,5),2&i){let o;e.iGM(o=e.CRH())&&(a.datatableComponent=o.first)}},features:[e.qOj],decls:52,vars:50,consts:[[1,"container-fluid","config-optns"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-10"],[1,"row"],[1,"col-md-5"],["mandatory","false","disabled","true","id","dashboard-view-enterprise",3,"label","value"],[1,"col-md-3"],["disabled","true","id","account-view-distributors",3,"label","options","defaultValue"],[1,"col-md-4"],["disabled","true","mandatory","true","id","iotevents-edit-sport",3,"label","value"],["mandatory","true","disabled","true","id","attributedefinitions-view-description",3,"label","defaultvalue","maxlength"],[1,"col-md-2","d-flex","align-items-center"],["label","","id","dashboard-view-enabled","disabled","true","mandatory","false",3,"options","checked"],[1,"col-md-2","imagewith-label"],[3,"defaultImage"],[1,"col-md-12","text-end","mt-2","mb-2","btns-group"],["className","btn btn-danger btn-sm","id","dashboard-view-cancel",3,"label","buttonOnClick"],[1,"card"],[1,"card-content"],[1,"position-relative","mgb-2"],[1,"btn-group-sm"],["class","btn btn-sm mgr-5",3,"title","ngClass","click",4,"ngFor","ngForOf"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],[1,"btn","btn-sm","mgr-5",3,"title","ngClass","click"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[1,"checkboxcol",2,"width","2em"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","class",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",13),e._UZ(15,"app-dropdown-multiselect",14),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",15),e._UZ(18,"app-input",16),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",9),e._UZ(21,"app-textarea",17),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",18),e._UZ(24,"app-checkbox",19),e.qZA()()(),e.TgZ(25,"div",20)(26,"label"),e._uU(27),e.ALo(28,"translate"),e.qZA(),e._UZ(29,"app-imageupload",21),e.qZA(),e.TgZ(30,"div",22)(31,"app-button",23),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(32,"translate"),e.qZA()()(),e.TgZ(33,"div",10)(34,"div",3)(35,"div",24)(36,"div",25)(37,"div",26)(38,"mat-button-toggle-group",27),e.YNc(39,Oi,2,3,"mat-button-toggle",28),e.qZA()(),e.TgZ(40,"p-accordion",29)(41,"p-accordionTab",30)(42,"p-header",31)(43,"span"),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"p-table",32),e.YNc(47,fi,1,1,"ng-template",33),e.YNc(48,wi,3,1,"ng-template",34),e.YNc(49,Di,4,1,"ng-template",35),e.YNc(50,yi,4,2,"ng-template",36),e.qZA()(),e._UZ(51,"app-recordhistory",37),e.qZA()()()()()()()()()()()),2&i&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(6),e.s9C("label",e.lcZ(13,36,"WIDGETS.DASHBOARD_NAME")),e.s9C("value",null==a.dashboardData?null:a.dashboardData.dashboard_name),e.xp6(3),e.s9C("label",e.lcZ(16,38,"COMMON_FIELDS.DEVICE_TYPE")),e.Q6J("options",a.devicetypeOptions)("defaultValue",a.deviceTypesArray),e.xp6(3),e.s9C("label",e.lcZ(19,40,"COMMON_PAGE_TITLES.SPORT")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.sportId),e.xp6(3),e.s9C("label",e.lcZ(22,42,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dashboardData?null:a.dashboardData.description),e.Q6J("maxlength",2e3),e.xp6(3),e.Q6J("options",a.enabledOptions)("checked",a.isEnabled),e.xp6(3),e.Oqu(e.lcZ(28,44,"NEW_VARIABLES.BACK_GROUND_IMAGE")),e.xp6(2),e.s9C("defaultImage",null==a.dataJsonObj?null:a.dataJsonObj.backgroundImgFilepath),e.xp6(2),e.s9C("label",e.lcZ(32,46,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(8),e.Q6J("ngForOf",a.deviceTypes),e.xp6(1),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(45,48,"WIDGETS.WIDGET_BLOCK")),e.xp6(2),e.Q6J("columns",a.header)("value",a.widgetsBlockData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(5),e.Q6J("createdBy",null==a.dashboardData?null:a.dashboardData.created_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==a.dashboardData?null:a.dashboardData.updated_by)("creationDate",null==a.dashboardData?null:a.dashboardData.createdAt)("lastUpdatedDate",null==a.dashboardData?null:a.dashboardData.updatedAt))},dependencies:[O.mk,O.sg,O.O5,E.iA,N.h4,N.jx,E.Ei,y.UQ,y.US,Y.r,H.a,mi.c,Q.b,W.R,G.f,ue.W,B.q,w.X$]})}return r})(),data:{responsibilityParam:l.bP.MENUS+"."+l.R0.DASHBOARD+"."+l.bP.SUBMENUS+"."+l.R0.DASHBOARD+"."+l.In.VIEW,pageName:l.hf.DASHBOARD,pageSetting:l.AM.ACTIONS,settingField:l.In.VIEW}},{path:"dashboard/:id/arrange",canActivate:[S.P],component:ne,data:{responsibilityParam:l.bP.MENUS+"."+l.R0.DASHBOARD+"."+l.bP.SUBMENUS+"."+l.R0.DASHBOARD+"."+l.In.ARRANGE,pageName:l.hf.DASHBOARD,pageSetting:l.AM.ACTIONS,settingField:l.In.ARRANGE}},{path:"dashboard/:id/preview",canActivate:[S.P],component:ne,data:{responsibilityParam:l.bP.MENUS+"."+l.R0.DASHBOARD+"."+l.bP.SUBMENUS+"."+l.R0.DASHBOARD+"."+l.In.PREVIEW,pageName:l.hf.DASHBOARD,pageSetting:l.AM.ACTIONS,settingField:l.In.PREVIEW}},{path:":parentId/activities",loadChildren:()=>Promise.resolve().then(p.bind(p,75896)).then(r=>r.ActivitiesModule)}]}];let Zi=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({imports:[C.Bz.forChild(Si),C.Bz]})}return r})();var ge=p(24006),Mi=p(1752),Ni=p(65673);let Ii=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=e.oAB({type:r});static \u0275inj=e.cJS({imports:[Zi,O.ez,w.aw,ge.u5,ge.UX,E.U$,y.fx,Ni.Q,me.D,Z.IX,ee.N,Ce,Mi.StarIotModule]})}return r})()}}]);