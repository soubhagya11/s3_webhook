"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6296],{76296:(ge,Z,l)=>{l.r(Z),l.d(Z,{EnterpriseRegistrationApprovalsModule:()=>ve});var g=l(32174),J=l(36895),D=l(11210),T=l(15861),k=l(75875),q=l(90313),e=l(94650);let _=(()=>{class i{authService;constructor(t){this.authService=t}getAll(t,s,a,o,r,u,d,O,b){const c=d||"",j=O||"",he=s?"&parent_enterprise_id="+s:"",_e=q.L.isEmpty(b)?"":"&advSearchString="+JSON.stringify(b);return this.authService.getApiCall("api/v1/enterpriseregistrations?skip="+a+"&limit="+o+"&sort="+r+"&type=list&search="+t+u+c+j+he+_e,!0)}get(t,s){return this.authService.getApiCall("api/v1/enterpriseregistrations/"+t,s)}patch(t,s){return new Promise((a,o)=>{this.authService.patchApiCall("api/v1/enterpriseregistrations/"+s,t).subscribe(r=>{a(r)},r=>{o(r)})})}allRecordsAction(t,s){return new Promise((a,o)=>{this.authService.patchApiCall("api/v1/enterpriseregistrations/?action="+s,t).subscribe(r=>{a(r)},r=>{o(r)})})}static \u0275fac=function(s){return new(s||i)(e.LFG(k.e))};static \u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var I=l(30578),S=l(42863),R=l(47561),V=l(28168),m=l(71568),N=l(42786),n=l(32236),v=l(62510),h=l(54463),A=l(27601),F=l(70057),w=l(2387),Y=l(44393),M=l(37415),G=l(88425),C=l(3848);const K=["datatableComponent"];function Q(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.pendingApprovals({pageNamber:1,clickAction:!0}))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"COMMON_BLOCK_TITLES.PENDING")))}function H(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.approvedApprovals({pageNamber:1,clickAction:!0}))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"COMMON_BLOCK_TITLES.APPROVED")))}function W(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.createdApprovals({pageNamber:1,clickAction:!0}))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"COMMON_FIELDS.CREATED")))}function z(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"span",23),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.rejectedApprovals({pageNamber:1,clickAction:!0}))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"COMMON_BLOCK_TITLES.REJECTED")))}function X(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",25),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.approveAllRequests())}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.s9C("label",e.lcZ(1,2,"COMMON_BUTTONS.BUTTON_APPROVE")),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled)}}function $(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",25),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.rejectAllRequests())}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.s9C("label",e.lcZ(1,2,"COMMON_BUTTONS.BUTTON_REJECT")),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled)}}function x(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",25),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.createSchoolsForAllRequests())}),e.ALo(1,"translate"),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.hYB("label","",e.lcZ(1,3,"COMMON_BUTTONS.BUTTON_CREATE")," ",e.lcZ(2,5,"COMMON_PAGE_TITLES.ENTERPRISE"),""),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled)}}function ee(i,p){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,X,2,4,"app-button",24),e.YNc(2,$,2,4,"app-button",24),e.YNc(3,x,3,7,"app-button",24),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.selectedTab===t.dataJsonObj.enumStatuses.REQUESTED),e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.selectedTab===t.dataJsonObj.enumStatuses.REQUESTED),e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.selectedTab===t.dataJsonObj.enumStatuses.APPROVED)}}let ae=(()=>{class i extends R.O{enterpriseRegistrationApprovalsService;columnsheaders;listingVariables;route;commonService;loggerService;router;translateService;uiUtils;actionSheetController;datatableComponent;dataJsonObj={};constructor(t,s,a,o,r,u,d,O,b,c){super(o,r),this.enterpriseRegistrationApprovalsService=t,this.columnsheaders=s,this.listingVariables=a,this.route=o,this.commonService=r,this.loggerService=u,this.router=d,this.translateService=O,this.uiUtils=b,this.actionSheetController=c,this.route.queryParams.subscribe(j=>{this.dataJsonObj.queryParamsObj={defaultView:j.default_view,selectedMenuId:j.selectedMenuId,selectedSubMenuId:j.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.showSpinner(),this.dataJsonObj.pageName=n.hf.ENTERPRISE_REGISTRATION_APPROVALS,this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.enterpriseId=localStorage.getItem(n.BU.SELECTED_ENTERPRISE),this.dataJsonObj.loginUserId=localStorage.getItem(n.BU.LOG_IN_USER_ID),this.dataJsonObj.selectedUserTypeObj=localStorage.getItem(n.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(n.BU.SELECTED_USER_TYPE_OBJ)):{},this.dataJsonObj.loginUserObj=JSON.parse(localStorage.getItem(n.BU.USER)),this.dataJsonObj.enumStatuses=n.t3,this.dataJsonObj.tableColumnHeaders=this.columnsheaders.getEnterpriseRegistrationApprovalsColumnHeaders();const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.dataJsonObj.userTimeZoneObj.timeZoneToDisplay=this.lookupLanguageTranslations(t.timeZoneID),this.dataJsonObj.noDuplicates=void 0,this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchString="",this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(n.hf.ENTERPRISE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.IMPORT)&&(this.dataJsonObj.pageActionsList.push({actionName:"IMPORT",displayName:"COMMON_BUTTONS.BUTTON_IMPORT",actionType:n.gL.POPUP,redirectURL:"",queryParams:"",iconClass:"fas fa-file-import mr-1",pageName:"enterprise_registrations",importAPIUrl:"api/v1/enterpriseregistrations/importdata"}),[n.ox.SUPER_ADMIN,n.ox.SUB_ADMIN,n.ox.TECH_HELP].includes(this.dataJsonObj.selectedUserTypeObj?.user_type_name)&&0===parseInt(this.dataJsonObj.enterpriseId,10)&&this.dataJsonObj.pageActionsList.push({actionName:"GENERATE",displayName:"COMMON_BUTTONS.BUTTON_GENERATE_IMPORT_TEMPLATE",actionType:"",redirectURL:"",queryParams:"",iconClass:"fas fas icon-generate-excel",pageName:"enterpriseRegistrations"})),this.dataJsonObj.enterpriseRegistrationApprovalsListData=[],this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData=[],this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.ENTERPRISE_REGISTRATION_APPROVALS",value:"",showSubMenuDisplayName:!0}],this.dataJsonObj.actions={VIEW:this.roleRightsValidationByPage(n.hf.ENTERPRISE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.VIEW),APPROVAL:this.roleRightsValidationByPage(n.hf.ENTERPRISE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.APPROVE),CHILD_CREATE:this.roleRightsValidationByPage(n.hf.ENTERPRISES,n.AM.ACTIONS,n.In.CREATE)},this.pendingApprovals({pageNumber:1,clickAction:!0})}getAllRecords(){try{this.showSpinner();const t=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView);this.enterpriseRegistrationApprovalsService.getAll(this.dataJsonObj.searchString,this.dataJsonObj.enterpriseId,this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.listingVariables.sortOrderColumn,t,this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"",this.dataJsonObj.approvalStatus,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(a=>{if(this.hideSpinner(),a.rows.length>0){this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData&&this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData.length>0||(this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData=[]);for(let o=0;o<a.rows.length;o++){a.rows[o].display_grid_title=a.rows[o].short_name,a.rows[o].page_name=n.hf.ENTERPRISE_REGISTRATION_APPROVALS;const r={url:`/enterpriseregistrationapprovals/enterpriseregistrationapprovals/${a.rows[o]._id}/view`,queryParams:this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:""},u=r.queryParams&&Object.keys(r.queryParams).length>0?`${r.url}?${JSON.stringify(r.queryParams)}`:r.url;a.rows[o].short_name=`<a class="enable" id="short_name${a.rows[o]._id}" href=${u}>${a.rows[o].short_name}`,a.rows[o].parent_enterprise_short_name=a.rows[o].parent_enterprise_id?a.rows[o].parent_enterprise_id.short_name:"",a.rows[o].address.country=a.rows[o].address.country?this.lookupLanguageTranslations(a.rows[o].address.country.lookup_id):"",a.rows[o].address.state=a.rows[o].address.state.state_name,this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData=this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData.filter(d=>d._id!==a.rows[o]._id),this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData.push(a.rows[o])}a.totalCount&&(this.listingVariables.totalRecords=a.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=a.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.dataJsonObj.enterpriseRegistrationApprovalsListData=this.dataJsonObj.enterpriseRegistrationApprovalsListData.concat(a.rows)):this.dataJsonObj.enterpriseRegistrationApprovalsListData=a.rows}else this.dataJsonObj.enterpriseRegistrationApprovalsListData=[],this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData=[]},a=>{this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",a)})}catch(t){this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)}}getSearchResult(t){this.dataJsonObj.searchString=t,this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData=[],this.getAllRecords(),this.datatableComponent.reset()}searchClose(){this.dataJsonObj.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData=[],this.getAllRecords(),this.datatableComponent.reset()}selectedViewType(t){this.dataJsonObj.selectedDisplayView=t}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}selectedFilterType(t){t?this.dataJsonObj.selectedFilter=t:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}advancedSearchFilterClicked(t){this.dataJsonObj.selectedAdvancedSearchObj=t}onHeaderItemClick(t){switch(t.type){case"search":this.getSearchResult(t.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(t.event);break;case"filters":this.selectedFilterType(t.event);break;case"advanced_search":this.advancedSearchFilterClicked(t.event);break;case"page_actions":this.onPageLevelActionClicked(t.event)}}onActionClicked(t){try{if(t.action===n.A0.VIEW)this.commonService.redirectToUrl(["..",t.data._id,"view"],!1,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route);else if(t.action===n.A0.APPROVAL)this.commonService.redirectToUrl(["..",t.data._id,"approve"],!1,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route);else if(t.action===n.A0.CHILD_CREATE){const s=this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:{};s.enterpriseRegId=t.data._id,this.commonService.redirectToUrl(["enterprises","enterprises","create"],!1,!1,s,this.route)}}catch(s){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",s)}}mobileEventAction(t){var s=this;return(0,T.Z)(function*(){try{s.dataJsonObj.mobileActionsArray=[],s.roleRightsValidationByPage(n.hf.ENTERPRISE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.VIEW)&&s.dataJsonObj.mobileActionsArray.push({text:s.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{s.commonService.redirectToUrl(["..",t._id,"view"],!1,!0,s.dataJsonObj.queryParamsObj?s.dataJsonObj.queryParamsObj:"",s.route)}}),s.roleRightsValidationByPage(n.hf.ENTERPRISE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.APPROVE)&&!t.is_active&&!t.is_rejected&&s.dataJsonObj.mobileActionsArray.push({text:s.translateService.instant("COMMON_BUTTONS.BUTTON_APPROVE"),handler:()=>{s.commonService.redirectToUrl(["..",t._id,"approve"],!1,!0,s.dataJsonObj.queryParamsObj?s.dataJsonObj.queryParamsObj:"",s.route)}}),s.roleRightsValidationByPage(n.hf.ENTERPRISES,n.AM.ACTIONS,n.In.CREATE)&&t.is_active&&s.dataJsonObj.mobileActionsArray.push({text:s.translateService.instant("COMMON_BUTTONS.BUTTON_CREATE"),handler:()=>{s.commonService.redirectToUrl(["enterprises","enterprises","create"],!1,!1,s.dataJsonObj.queryParamsObj?s.dataJsonObj.queryParamsObj:"",s.route)}}),s.dataJsonObj.actionSheet&&(yield s.dataJsonObj.actionSheet.dismiss()),s.presentActionSheet(t)}catch(a){s.loggerService.setLoggerError(s.constructor.name,"mobileEventAction",a)}})()}presentActionSheet(t){var s=this;return(0,T.Z)(function*(){try{s.dataJsonObj.actionSheet=yield s.actionSheetController.create({cssClass:"actionsheet",buttons:s.dataJsonObj.mobileActionsArray}),yield s.dataJsonObj.actionSheet.present()}catch(a){s.loggerService.setLoggerError(s.constructor.name,"presentActionSheet",a)}})()}loadPageData(t){this.listingVariables.pageNumbers=t.listingVariables.pageNumbers,t.clearMobileData&&(this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData=this.dataJsonObj.noDuplicates),t.isPaginationChange&&(this.dataJsonObj.selectedFilter=t.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=t.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=t.selectedAdvancedSearchObj),this.getAllRecords()}getRedirectUser(t){this.roleRightsValidationByPage(n.hf.ENTERPRISE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.VIEW)&&this.router.navigate(["/enterpriseregistrationapprovals/enterpriseregistrationapprovals/"+t._id+"/view"])}onPageLevelActionClicked(t){switch(t.actionName){case"IMPORT":this.dataJsonObj.isImportActionClicked=!0,this.dataJsonObj.importDataInputPageName=t.pageName,this.dataJsonObj.importAPIUrl=t.importAPIUrl;break;case"GENERATE":this.commonService.generateImportDataSheets(this.dataJsonObj.enterpriseId,t.pageName)}}onMultiSelectRecords(t){const s=[];for(let a of t)a.checked&&s.push(a._id);this.dataJsonObj.selectedRecordIds=s}displayDateFormatter(t,s,a){try{const o=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,r={startDate:"",endDate:""};if(r.startDate=this.commonService.convertDateToUserFormat(o,n.eZ.HOURS_MINS,!0,"",!1),s){const u=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,d=this.commonService.addHoursToDate(u,u);r.endDate=this.commonService.convertDateToUserFormat(d,n.eZ.HOURS_MINS,!0,"",!1)}return r}catch(o){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",o)}}pendingApprovals(t){try{this.dataJsonObj.tabLabel="COMMON_BLOCK_TITLES.PENDING",this.dataJsonObj.searchString="",this.dataJsonObj.dataTableType="checkbox",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj={},this.listingVariables.pageNumbers=t.pageNumber,t.clickAction&&(this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData=this.dataJsonObj.noDuplicates),this.dataJsonObj.approvalStatus="&is_active=false&is_rejected=false",this.dataJsonObj.selectedTab=n.t3.REQUESTED,this.datatableComponent.reset(),this.dataJsonObj.selectedRecordIds=[],this.getAllRecords()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"pendingApprovals",s)}}approvedApprovals(t){try{this.dataJsonObj.tabLabel="COMMON_BLOCK_TITLES.APPROVED",this.dataJsonObj.searchString="",this.dataJsonObj.dataTableType="checkbox",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj={},this.listingVariables.pageNumbers=t.pageNumber,t.clickAction&&(this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData=this.dataJsonObj.noDuplicates),this.dataJsonObj.approvalStatus="&is_active=true&is_enterprise_created=false",this.dataJsonObj.selectedTab=n.t3.APPROVED,this.datatableComponent.reset(),this.dataJsonObj.selectedRecordIds=[],this.getAllRecords()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"approvedApprovals",s)}}createdApprovals(t){try{this.dataJsonObj.tabLabel="COMMON_FIELDS.CREATED",this.dataJsonObj.searchString="",this.dataJsonObj.dataTableType="",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj={},this.listingVariables.pageNumbers=t.pageNumber,t.clickAction&&(this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData=this.dataJsonObj.noDuplicates),this.dataJsonObj.approvalStatus="&is_enterprise_created=true",this.dataJsonObj.selectedTab=n.t3.CREATED,this.datatableComponent.reset(),this.dataJsonObj.selectedRecordIds=[],this.getAllRecords()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"createdApprovals",s)}}rejectedApprovals(t){try{this.dataJsonObj.tabLabel="COMMON_BLOCK_TITLES.REJECTED",this.dataJsonObj.searchString="",this.dataJsonObj.dataTableType="",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj={},this.listingVariables.pageNumbers=t.pageNumber,t.clickAction&&(this.dataJsonObj.enterpriseRegistrationApprovalsMobileListData=this.dataJsonObj.noDuplicates),this.dataJsonObj.approvalStatus="&is_rejected=true",this.dataJsonObj.selectedTab=n.t3.REJECTED,this.datatableComponent.reset(),this.dataJsonObj.selectedRecordIds=[],this.getAllRecords()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"rejectedApprovals",s)}}approveAllRequests(){this.dataJsonObj.isSubmitButtonDisabled=!0,this.enterpriseRegistrationApprovalsService.allRecordsAction({enterpriseRegistrationIds:this.dataJsonObj.selectedRecordIds,parentEnterpriseId:parseInt(this.dataJsonObj.enterpriseId,10)},"approveenterpriseregistrations").then(t=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_APPROVED_SUCCESSFULLY"),this.dataJsonObj.enterpriseCreateButtonEnabled=!0,this.datatableComponent.reset(),this.dataJsonObj.selectedRecordIds=[],this.getAllRecords()},t=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(t))})}rejectAllRequests(){this.dataJsonObj.isSubmitButtonDisabled=!0,this.enterpriseRegistrationApprovalsService.allRecordsAction({enterpriseRegistrationIds:this.dataJsonObj.selectedRecordIds,parentEnterpriseId:parseInt(this.dataJsonObj.enterpriseId,10)},"rejectenterpriseregistrations").then(t=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_REJECTED_SUCCESSFULLY"),this.dataJsonObj.enterpriseCreateButtonEnabled=!0,this.datatableComponent.reset(),this.dataJsonObj.selectedRecordIds=[],this.getAllRecords()},t=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(t))})}createSchoolsForAllRequests(){this.dataJsonObj.isSubmitButtonDisabled=!0,this.enterpriseRegistrationApprovalsService.allRecordsAction({enterpriseRegistrationIds:this.dataJsonObj.selectedRecordIds,parentEnterpriseId:parseInt(this.dataJsonObj.enterpriseId,10)},"createregisteredenterprise").then(t=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),this.dataJsonObj.enterpriseCreateButtonEnabled=!0,this.datatableComponent.reset(),this.dataJsonObj.selectedRecordIds=[],this.getAllRecords()},t=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(t))})}commonErrorCodes(t){JSON.parse(t[n.BU.STATUS])}getchangeEvent(t){this.dataJsonObj.isImportActionClicked=!1,this.dataJsonObj.importDataInputPageName="",this.dataJsonObj.importAPIUrl=""}static \u0275fac=function(s){return new(s||i)(e.Y36(_),e.Y36(S.Y),e.Y36(I.v),e.Y36(v.gz),e.Y36(m.v),e.Y36(N.m),e.Y36(v.F0),e.Y36(h.sK),e.Y36(A.s),e.Y36(F.BX))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-enterprise-registration-approvals-list"]],viewQuery:function(s,a){if(1&s&&e.Gf(K,5),2&s){let o;e.iGM(o=e.CRH())&&(a.datatableComponent=o.first)}},features:[e._Bn([_,I.v,S.Y]),e.qOj],decls:36,vars:40,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","stickyFilterTabsID",1,"pdt-0","pdl-0","pdr-0","pdb-0","mgt-2","sticky-tabs"],["mat-align-tabs","start",1,"fanguage-tabs"],["mat-tab-label",""],[1,"d-flex","align-items-center","justify-content-between","subsection-title-bg"],[1,"main-title","mg-0","fs-14","pdl-5","d-flex","align-items-center"],[4,"ngIf"],[1,"card-body","pdt-0","pdb-0"],["id","athletes-list",1,"fixed-height-content",3,"header","actions","resetOnPaginate","listingVariables","totalPages","paginator","totalRecords","search","mobileListData","data","expand","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","type","showSpinner","selectedSubMenuId","actionClicked","redirectionEvent","itemClickEvent","loadPageData","checkboxAllValue"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],[3,"pageName","apiUrl","actionClicked","emitEvent"],["id","actionsModal","tabindex","-1","role","dialog","aria-labelledby","actionsModalLabel","aria-hidden","true","data-bs-backdrop","false",1,"modal","fade",2,"background","rgba(0,0,0,0.5)"],["role","document",1,"modal-dialog","modal-sm","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title","d-flex","align-items-center","justify-content-between","w-100"],["data-bs-dismiss","modal",1,"fas","fa-times","cursor-pointer","p-1"],[1,"modal-body","ios-content"],[1,"fs-13","mg-0","tab-label","d-flex","align-items-center","justify-content-center","parent-tab",3,"click"],["className","btn btn-primary btn-sm btn-accordion","class","mgr-5",3,"disabled","label","buttonOnClick",4,"ngIf"],["className","btn btn-primary btn-sm btn-accordion",1,"mgr-5",3,"disabled","label","buttonOnClick"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(r){return a.onHeaderItemClick(r)}),e.qZA()(),e.TgZ(4,"div",4)(5,"mat-tab-group",5)(6,"mat-tab"),e.YNc(7,Q,4,3,"ng-template",6),e.qZA(),e.TgZ(8,"mat-tab"),e.YNc(9,H,4,3,"ng-template",6),e.qZA(),e.TgZ(10,"mat-tab"),e.YNc(11,W,4,3,"ng-template",6),e.qZA(),e.TgZ(12,"mat-tab"),e.YNc(13,z,4,3,"ng-template",6),e.qZA()(),e.TgZ(14,"div",7)(15,"h4",8)(16,"span"),e._uU(17),e.ALo(18,"translate"),e.qZA()(),e.YNc(19,ee,4,3,"div",9),e.qZA()(),e.TgZ(20,"div",10)(21,"app-datatable",11,12),e.NdJ("actionClicked",function(r){return a.onActionClicked(r)})("redirectionEvent",function(r){return a.mobileEventAction(r)})("itemClickEvent",function(r){return a.getRedirectUser(r)})("loadPageData",function(r){return a.loadPageData(r)})("checkboxAllValue",function(r){return a.onMultiSelectRecords(r)}),e.qZA(),e.TgZ(23,"div",13)(24,"app-page-actions",14),e.NdJ("selectedAction",function(r){return a.onPageLevelActionClicked(r)}),e.qZA()()()()(),e.TgZ(25,"app-importdata",15),e.NdJ("emitEvent",function(r){return a.getchangeEvent(r)}),e.qZA(),e.TgZ(26,"div",16)(27,"div",17)(28,"div",18)(29,"div",19)(30,"div",20)(31,"span"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"i",21),e.qZA()(),e._UZ(35,"div",22),e.qZA()()()),2&s&&(e.xp6(3),e.Q6J("pageName",a.dataJsonObj.pageName)("defaultView",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",a.dataJsonObj.pageActionsList)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(14),e.Oqu(e.lcZ(18,36,a.dataJsonObj.tabLabel)),e.xp6(2),e.Q6J("ngIf",(null==a.dataJsonObj.selectedRecordIds?null:a.dataJsonObj.selectedRecordIds.length)>0),e.xp6(2),e.Q6J("header",a.dataJsonObj.tableColumnHeaders)("actions",a.dataJsonObj.actions)("resetOnPaginate",!0)("listingVariables",a.listingVariables)("totalPages",a.listingVariables.totalpages)("paginator",!0)("totalRecords",a.listingVariables.totalRecords)("search",a.dataJsonObj.searchString)("mobileListData",a.dataJsonObj.enterpriseRegistrationApprovalsMobileListData)("data",a.dataJsonObj.enterpriseRegistrationApprovalsListData)("expand",!1)("selectedDisplayViewType",a.dataJsonObj.selectedDisplayView)("selectedFilterType",a.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",a.dataJsonObj.selectedAdvancedSearchObj)("pageName",a.dataJsonObj.pageName)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("type",a.dataJsonObj.dataTableType)("showSpinner",a.dataJsonObj.showSpinner)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",a.dataJsonObj.pageActionsList),e.xp6(1),e.Q6J("pageName",a.dataJsonObj.importDataInputPageName)("apiUrl",a.dataJsonObj.importAPIUrl)("actionClicked",a.dataJsonObj.isImportActionClicked),e.xp6(7),e.Oqu(e.lcZ(33,38,"COMMON_FIELDS.ACTIONS")))},dependencies:[J.O5,w.r,Y.M,V.n,M.q,G.y,C.uD,C.uX,C.SP,h.X$]})}return i})();var E=l(46335),L=l(10805),y=l(56368),f=l(24929),U=l(92634),P=l(68653),B=l(11735);function te(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"app-button",36),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.approveRequest())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"app-button",36),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.rejectRequest())}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"app-button",37),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancelBtn())}),e.ALo(6,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,5,"COMMON_BUTTONS.BUTTON_APPROVE")),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled),e.xp6(2),e.s9C("label",e.lcZ(4,7,"COMMON_BUTTONS.BUTTON_REJECT")),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled),e.xp6(2),e.s9C("label",e.lcZ(6,9,"COMMON_BUTTONS.BUTTON_CANCEL"))}}function se(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"app-button",36),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.redirectToEnterpriseCreate())}),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"app-button",37),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancelBtn())}),e.ALo(5,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.hYB("label","",e.lcZ(2,4,"COMMON_BUTTONS.BUTTON_CREATE")," ",e.lcZ(3,6,"COMMON_PAGE_TITLES.ENTERPRISE"),""),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled),e.xp6(3),e.s9C("label",e.lcZ(5,8,"COMMON_BUTTONS.BUTTON_CANCEL"))}}function ne(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"app-button",38),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancelBtn())}),e.ALo(2,"translate"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("label",e.lcZ(2,1,"COMMON_BUTTONS.BUTTON_CLOSE")))}function oe(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"app-button",36),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.approveRequest())}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"app-button",36),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.rejectRequest())}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"app-button",37),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancelBtn())}),e.ALo(6,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,5,"COMMON_BUTTONS.BUTTON_APPROVE")),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled),e.xp6(2),e.s9C("label",e.lcZ(4,7,"COMMON_BUTTONS.BUTTON_REJECT")),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled),e.xp6(2),e.s9C("label",e.lcZ(6,9,"COMMON_BUTTONS.BUTTON_CANCEL"))}}function re(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"app-button",36),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.redirectToEnterpriseCreate())}),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"app-button",37),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancelBtn())}),e.ALo(5,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.hYB("label","",e.lcZ(2,4,"COMMON_BUTTONS.BUTTON_CREATE")," ",e.lcZ(3,6,"COMMON_PAGE_TITLES.ENTERPRISE"),""),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled),e.xp6(3),e.s9C("label",e.lcZ(5,8,"COMMON_BUTTONS.BUTTON_CANCEL"))}}function le(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",35)(1,"app-button",37),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancelBtn())}),e.ALo(2,"translate"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("label",e.lcZ(2,1,"COMMON_BUTTONS.BUTTON_CLOSE")))}const pe=[{path:"",data:{title:"enterpriseregistrationapprovals"},children:[{path:"enterpriseregistrationapprovals/list",component:ae,canActivate:[D.P],data:{pageName:n.hf.ENTERPRISE_REGISTRATION_APPROVALS}},{path:"enterpriseregistrationapprovals/:id/view",component:(()=>{class i extends R.O{apiEndPointUrl;loggerService;translateService;uiUtils;commonService;enterpriseRegistrationApprovalsService;route;userService;apkTypepOptions;apkTypes;dataJsonObj={};errorObj={};selectedApkOptions;constructor(t,s,a,o,r,u,d,O){super(d,r),this.apiEndPointUrl=t,this.loggerService=s,this.translateService=a,this.uiUtils=o,this.commonService=r,this.enterpriseRegistrationApprovalsService=u,this.route=d,this.userService=O,this.route.queryParams.subscribe(b=>{this.dataJsonObj.queryParamsObj={defaultView:b.defaultView,selectedMenuId:b.selectedMenuId,selectedSubMenuId:b.selectedSubMenuId},this.dataJsonObj.actionType=b.actionType})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.route.params.subscribe(s=>{this.dataJsonObj.recordId=s.id}),this.dataJsonObj.isActionListEnabled=!1,this.dataJsonObj.enterpriseCreateButtonEnabled=!1,this.dataJsonObj.closeButtonEnabled=!1,this.dataJsonObj.enterpriseCreateRight=this.roleRightsValidationByPage(n.hf.ENTERPRISES,n.AM.ACTIONS,n.In.CREATE),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(n.hf.ENTERPRISES,n.AM.ACTIONS,n.In.RECORD_HISTORY),this.dataJsonObj.enterpriseId=localStorage.getItem(n.BU.SELECTED_ENTERPRISE),this.dataJsonObj.pageName=n.hf.ENTERPRISE_REGISTRATION_APPROVALS,this.dataJsonObj.apiEndPoint=localStorage.getItem(n.BU.S3_URL)?localStorage.getItem(n.BU.S3_URL):this.apiEndPointUrl,this.commonService.getLookupCodesListJson(this.dataJsonObj.enterpriseId,"list").then(s=>{this.dataJsonObj.lookupCodesListJSON=s,this.getApktypelist("")}),this.dataJsonObj.checkboxOptions=[{value:"112",displayname:this.translateService.instant("COMMON_FIELDS.PRIMARY")+" "+this.translateService.instant("COMMON_FIELDS.CONTACT"),key:"checkbox1"}],this.getDynamicJson([{folderName:n.sb.USER_TYPES,jsonType:"view",storingFieldName:"userTypesViewJson"}])}getDynamicJson(t){var s=this;return(0,T.Z)(function*(){for(let a of t)s.dataJsonObj[a.storingFieldName]=yield s.commonService.getDynamicJson(s.dataJsonObj.enterpriseId,a.folderName,a.jsonType);s.getRecordById(s.dataJsonObj.recordId)})()}getRecordById(t){try{let s="";this.commonService.isMobileWindow()&&(s="?mobileview=true"),this.enterpriseRegistrationApprovalsService.get(t,!0).subscribe(a=>{if(this.dataJsonObj.viewData=a,this.dataJsonObj.relationTypeValue=this.dataJsonObj.userTypesViewJson&&this.dataJsonObj.userTypesViewJson[this.dataJsonObj.viewData.relationship_type.user_type_id]?this.dataJsonObj.userTypesViewJson[this.dataJsonObj.viewData.relationship_type.user_type_id].user_type_display_name:"",this.dataJsonObj.isActionListEnabled=!(this.dataJsonObj.viewData?.is_active||this.dataJsonObj.viewData?.is_rejected),this.dataJsonObj.closeButtonEnabled=!!(this.dataJsonObj.viewData?.is_active&&this.dataJsonObj.viewData?.is_enterprise_created||this.dataJsonObj.viewData?.is_rejected),this.dataJsonObj.enterpriseCreateButtonEnabled=!(!this.dataJsonObj.viewData?.is_active||this.dataJsonObj.viewData?.is_enterprise_created),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.ENTERPRISE_REGISTRATION_APPROVAL",value:this.dataJsonObj.viewData?.enterprise_name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.commonService.setCurrentPageTitle(this.dataJsonObj.viewData.short_name,t),this.dataJsonObj.createdUser=this.dataJsonObj.viewData.created_by,this.dataJsonObj.lastUpdatedUser=this.dataJsonObj.viewData.updated_by,this.apkTypes=[],this.dataJsonObj.viewData.apk_types.length>0)for(let o=0;o<this.dataJsonObj.viewData.apk_types.length;o++)-1==this.apkTypes.indexOf(this.dataJsonObj.viewData.apk_types[o].lookup_id)&&this.apkTypes.push(this.dataJsonObj.viewData.apk_types[o].lookup_id);this.apkTypepOptions=[],this.dataJsonObj.imgFilepath=this.dataJsonObj.viewData.enterprise_image_file_path&&this.dataJsonObj.viewData.enterprise_image?this.dataJsonObj.apiEndPoint+this.dataJsonObj.viewData.enterprise_image_file_path+"/"+this.dataJsonObj.viewData.enterprise_image:""},a=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",a)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getEnterpriseViewData",s)}}cancelBtn(){this.commonService.redirectToPreviousUrl()}getApktypelist(t){this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[n.ox.APK_TYPES],t).then(s=>{this.apkTypepOptions=s,this.selectedApkOptions=[];for(let a=0;a<this.apkTypepOptions.length;a++)-1!==this.apkTypes.indexOf(this.apkTypepOptions[a].ID)&&this.selectedApkOptions.push(this.apkTypepOptions[a])})}approveRequest(){this.enterpriseRegistrationApprovalsService.patch({is_active:!0},this.dataJsonObj.recordId).then(s=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_APPROVED_SUCCESSFULLY"),this.dataJsonObj.enterpriseCreateButtonEnabled=!0},s=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(s))})}rejectRequest(){this.enterpriseRegistrationApprovalsService.patch({is_rejected:!0},this.dataJsonObj.recordId).then(s=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_REJECTED_SUCCESSFULLY"),this.commonService.redirectToPreviousUrl()},s=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(s))})}redirectToEnterpriseCreate(){const t=this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:{};t.enterpriseRegId=this.dataJsonObj.recordId,this.commonService.redirectToUrl(["enterprises","enterprises","create"],!1,!1,t,this.route)}commonErrorCodes(t){JSON.parse(t[n.BU.STATUS])}static \u0275fac=function(s){return new(s||i)(e.Y36("apiEndPoint"),e.Y36(N.m),e.Y36(h.sK),e.Y36(A.s),e.Y36(m.v),e.Y36(_),e.Y36(v.gz),e.Y36(E.K))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-enterprise-registration-approvals-view"]],features:[e._Bn([_,m.v,S.Y,A.s,E.K]),e.qOj],decls:124,vars:141,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-4"],["disabled","true","id","enterprise-view-enterprisesname",3,"label","value"],["disabled","true","id","enterprise-view-enterprisesshortname",3,"label","value"],["disabled","true","id","enterprise-view-websiteurl",3,"label","value"],["mandatory","false","disabled","true",3,"label","value"],["mandatory","true","disabled","true","id","enterprise-view-description",3,"label","defaultvalue"],[1,"col-lg-1","col-md-2","pdl-0","order-md-1"],[1,"thumbnail-view",3,"defaultImage","imageName"],["class","col-md-12 text-end mt-2 mb-2 order-md-1 order-2",4,"ngIf"],[1,"card"],[1,"card-content"],[3,"multiple"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","true","id","enterprise-view-contact_details-fname",3,"label","value"],["id","event-view-country","disabled","true",3,"label","value"],["id","event-view-state","disabled","true",3,"label","value"],["disabled","true","id","enterprise-view-contact_details-countrycode",3,"label","value","maxlength"],["disabled","true","id","enterprise-view-contact_details-email","type","email",3,"label","value"],["disabled","true","id","enterprise-view-contact_details-phone",3,"label","value"],["disabled","true","id","enterprise-view-contact_details-lname",3,"label","value"],["disabled","true","id","enterprise-view-contact_details-phoneextn",3,"label","value"],["label","Relationship with the school","disabled","true","id","enterprise-view-contact_details-countrycode",3,"value"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],[1,"col-md-12","text-end","mt-2","mb-2","order-md-1","order-2"],["className","btn btn-primary btn-sm",1,"mgr-5",3,"disabled","label","buttonOnClick"],["className","btn btn-danger btn-sm",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","id","usertype-view-close",3,"label","buttonOnClick"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",11),e._UZ(15,"app-input",13),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"app-input",14),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",11),e._UZ(21,"app-input",15),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",3),e._UZ(24,"app-textarea",16),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"div",17)(27,"div"),e._UZ(28,"app-imageupload",18),e.qZA()(),e.YNc(29,te,7,11,"div",19),e.YNc(30,se,6,10,"div",19),e.YNc(31,ne,3,3,"div",19),e.qZA()(),e.TgZ(32,"div",10)(33,"div",3)(34,"div",20)(35,"div",21)(36,"p-accordion",22)(37,"p-accordionTab",23)(38,"p-header",24)(39,"span"),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"div",8)(43,"div",11),e._UZ(44,"app-input",25),e.ALo(45,"translate"),e.qZA(),e.TgZ(46,"div",11),e._UZ(47,"app-input",25),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"div",11),e._UZ(50,"app-input",26),e.ALo(51,"translate"),e.qZA(),e.TgZ(52,"div",11),e._UZ(53,"app-input",27),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"div",11),e._UZ(56,"app-input",15),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"div",11),e._UZ(59,"app-input",25),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"div",11),e._UZ(62,"app-input",25),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"div",11),e._UZ(65,"app-input",28),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"div",11),e._UZ(68,"app-input",29),e.ALo(69,"translate"),e.qZA(),e.TgZ(70,"div",11),e._UZ(71,"app-inputnumber",30),e.ALo(72,"translate"),e.qZA()()(),e.TgZ(73,"p-accordionTab",23)(74,"p-header",24)(75,"span"),e._uU(76),e.ALo(77,"translate"),e.qZA()(),e.TgZ(78,"div",8)(79,"div",11),e._UZ(80,"app-input",25),e.ALo(81,"translate"),e.qZA(),e.TgZ(82,"div",11),e._UZ(83,"app-input",31),e.ALo(84,"translate"),e.qZA(),e.TgZ(85,"div",11),e._UZ(86,"app-input",28),e.ALo(87,"translate"),e.qZA(),e.TgZ(88,"div",11),e._UZ(89,"app-inputnumber",30),e.ALo(90,"translate"),e.qZA(),e.TgZ(91,"div",11),e._UZ(92,"app-inputnumber",32),e.ALo(93,"translate"),e.qZA(),e.TgZ(94,"div",11),e._UZ(95,"app-input",29),e.ALo(96,"translate"),e.qZA(),e.TgZ(97,"div",11),e._UZ(98,"app-input",33),e.qZA()()(),e.TgZ(99,"p-accordionTab",23)(100,"p-header",24)(101,"span"),e._uU(102),e.ALo(103,"translate"),e.qZA()(),e.TgZ(104,"div",8)(105,"div",11),e._UZ(106,"app-input",25),e.ALo(107,"translate"),e.qZA(),e.TgZ(108,"div",11),e._UZ(109,"app-input",31),e.ALo(110,"translate"),e.qZA(),e.TgZ(111,"div",11),e._UZ(112,"app-input",28),e.ALo(113,"translate"),e.qZA(),e.TgZ(114,"div",11),e._UZ(115,"app-inputnumber",30),e.ALo(116,"translate"),e.qZA(),e.TgZ(117,"div",11),e._UZ(118,"app-inputnumber",32),e.ALo(119,"translate"),e.qZA(),e.TgZ(120,"div",11),e._UZ(121,"app-input",29),e.ALo(122,"translate"),e.qZA()()(),e._UZ(123,"app-recordhistory",34),e.qZA()()()()()()()()()()),2&s&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(6),e.s9C("label",e.lcZ(13,81,"COMMON_PAGE_TITLES.SCHOOL")),e.s9C("value",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.enterprise_name),e.xp6(3),e.s9C("label",e.lcZ(16,83,"ENTERPRISES.SHORT_NAME")),e.s9C("value",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.short_name),e.xp6(3),e.s9C("label",e.lcZ(19,85,"COMMON_FIELDS.WEBSITE")),e.s9C("value",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.website_URL),e.xp6(3),e.s9C("label",e.lcZ(22,87,"NEW_VARIABLES.PARENT_ORGANIZATION_NAME")),e.s9C("value",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.parent_organization_name),e.xp6(3),e.s9C("label",e.lcZ(25,89,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.description),e.xp6(4),e.s9C("defaultImage",a.dataJsonObj.imgFilepath),e.s9C("imageName",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.short_name),e.xp6(1),e.Q6J("ngIf",!(null!=a.dataJsonObj&&a.dataJsonObj.enterpriseCreateButtonEnabled||null!=a.dataJsonObj&&a.dataJsonObj.closeButtonEnabled)),e.xp6(1),e.Q6J("ngIf",(null==a.dataJsonObj?null:a.dataJsonObj.enterpriseCreateButtonEnabled)&&a.dataJsonObj.enterpriseCreateRight),e.xp6(1),e.Q6J("ngIf",null==a.dataJsonObj?null:a.dataJsonObj.closeButtonEnabled),e.xp6(5),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(41,91,"COMMON_BLOCK_TITLES.ADDRESS_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(45,93,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE1")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.address_line1),e.xp6(3),e.s9C("label",e.lcZ(48,95,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE2")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.address_line2),e.xp6(3),e.s9C("label",e.lcZ(51,97,"COMMON_ADDRESS_BLOCK.COUNTRY")),e.s9C("value",a.lookupLanguageTranslations(null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address||null==a.dataJsonObj.viewData.address.country?null:a.dataJsonObj.viewData.address.country.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(54,99,"COMMON_ADDRESS_BLOCK.STATE")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address||null==a.dataJsonObj.viewData.address.state?null:a.dataJsonObj.viewData.address.state.state_name),e.xp6(3),e.s9C("label",e.lcZ(57,101,"COMMON_ADDRESS_BLOCK.COUNTY")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.county),e.xp6(3),e.s9C("label",e.lcZ(60,103,"COMMON_ADDRESS_BLOCK.CITY")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.city),e.xp6(3),e.s9C("label",e.lcZ(63,105,"COMMON_ADDRESS_BLOCK.ZIP_CODE")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.ZIP),e.xp6(3),e.s9C("label",e.lcZ(66,107,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("value",a.lookupLanguageTranslations(null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address||null==a.dataJsonObj.viewData.address.phone_country_code?null:a.dataJsonObj.viewData.address.phone_country_code.lookup_id)),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(69,109,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.email),e.xp6(3),e.s9C("label",e.lcZ(72,111,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.phone),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(77,113,"COMMON_BLOCK_TITLES.REGISTRANT_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(81,115,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details?null:a.dataJsonObj.viewData.registrant_details.fname),e.xp6(3),e.s9C("label",e.lcZ(84,117,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details?null:a.dataJsonObj.viewData.registrant_details.lname),e.xp6(3),e.s9C("label",e.lcZ(87,119,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("value",a.lookupLanguageTranslations(null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details||null==a.dataJsonObj.viewData.registrant_details.phone_country_code?null:a.dataJsonObj.viewData.registrant_details.phone_country_code.lookup_id)),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(90,121,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details?null:a.dataJsonObj.viewData.registrant_details.phone),e.xp6(3),e.s9C("label",e.lcZ(93,123,"COMMON_FIELDS.EXTENSION")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details?null:a.dataJsonObj.viewData.registrant_details.phone_extn),e.xp6(3),e.s9C("label",e.lcZ(96,125,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details?null:a.dataJsonObj.viewData.registrant_details.email),e.xp6(3),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.relationTypeValue),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(103,127,"COMMON_BLOCK_TITLES.CONTACT_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(107,129,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details?null:a.dataJsonObj.viewData.contact_details.fname),e.xp6(3),e.s9C("label",e.lcZ(110,131,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details?null:a.dataJsonObj.viewData.contact_details.lname),e.xp6(3),e.s9C("label",e.lcZ(113,133,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("value",a.lookupLanguageTranslations(null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details||null==a.dataJsonObj.viewData.contact_details.phone_country_code?null:a.dataJsonObj.viewData.contact_details.phone_country_code.lookup_id)),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(116,135,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details?null:a.dataJsonObj.viewData.contact_details.phone),e.xp6(3),e.s9C("label",e.lcZ(119,137,"COMMON_FIELDS.EXTENSION")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details?null:a.dataJsonObj.viewData.contact_details.phone_extn),e.xp6(3),e.s9C("label",e.lcZ(122,139,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details?null:a.dataJsonObj.viewData.contact_details.email),e.xp6(2),e.Q6J("createdBy",a.dataJsonObj.createdUser)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",a.dataJsonObj.lastUpdatedUser)("creationDate",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.createdAt)("lastUpdatedDate",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.updatedAt))},dependencies:[J.O5,L.h4,w.r,y.a,f.R,U.K,P.f,B.W,M.q,g.UQ,g.US,h.X$]})}return i})(),canActivate:[D.P],data:{pageName:n.hf.ENTERPRISE_REGISTRATION_APPROVALS,pageSetting:n.AM.ACTIONS,settingField:n.In.VIEW}},{path:"enterpriseregistrationapprovals/:id/approve",component:(()=>{class i extends R.O{apiEndPointUrl;loggerService;translateService;uiUtils;commonService;enterpriseRegistrationApprovalsService;route;userService;router;apkTypepOptions;apkTypes;dataJsonObj={};errorObj={};selectedApkOptions;constructor(t,s,a,o,r,u,d,O,b){super(d,r),this.apiEndPointUrl=t,this.loggerService=s,this.translateService=a,this.uiUtils=o,this.commonService=r,this.enterpriseRegistrationApprovalsService=u,this.route=d,this.userService=O,this.router=b,this.route.queryParams.subscribe(c=>{this.dataJsonObj.queryParamsObj={defaultView:c.defaultView,selectedMenuId:c.selectedMenuId,selectedSubMenuId:c.selectedSubMenuId},this.dataJsonObj.actionType=c.actionType})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.route.params.subscribe(s=>{this.dataJsonObj.recordId=s.id}),this.dataJsonObj.isActionListEnabled=!1,this.dataJsonObj.enterpriseCreateButtonEnabled=!1,this.dataJsonObj.enterpriseCreateRight=this.roleRightsValidationByPage(n.hf.ENTERPRISES,n.AM.ACTIONS,n.In.CREATE),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(n.hf.ENTERPRISES,n.AM.ACTIONS,n.In.RECORD_HISTORY),this.dataJsonObj.enterpriseId=localStorage.getItem(n.BU.SELECTED_ENTERPRISE),this.dataJsonObj.pageName=n.hf.ENTERPRISE_REGISTRATION_APPROVALS,this.dataJsonObj.apiEndPoint=localStorage.getItem(n.BU.S3_URL)?localStorage.getItem(n.BU.S3_URL):this.apiEndPointUrl,this.commonService.getLookupCodesListJson(this.dataJsonObj.enterpriseId,"list").then(s=>{this.dataJsonObj.lookupCodesListJSON=s}),this.dataJsonObj.checkboxOptions=[{value:"112",displayname:this.translateService.instant("COMMON_FIELDS.PRIMARY")+" "+this.translateService.instant("COMMON_FIELDS.CONTACT"),key:"checkbox1"}],this.getDynamicJson([{folderName:n.sb.USER_TYPES,jsonType:"view",storingFieldName:"userTypesViewJson"}])}getDynamicJson(t){var s=this;return(0,T.Z)(function*(){for(let a of t)s.dataJsonObj[a.storingFieldName]=yield s.commonService.getDynamicJson(s.dataJsonObj.enterpriseId,a.folderName,a.jsonType);s.getRecordById(s.dataJsonObj.recordId)})()}getRecordById(t){try{let s="";this.commonService.isMobileWindow()&&(s="?mobileview=true"),this.enterpriseRegistrationApprovalsService.get(t,!0).subscribe(a=>{if(this.dataJsonObj.viewData=a,this.dataJsonObj.relationTypeValue=this.dataJsonObj.userTypesViewJson&&this.dataJsonObj.userTypesViewJson[this.dataJsonObj.viewData.relationship_type.user_type_id]?this.dataJsonObj.userTypesViewJson[this.dataJsonObj.viewData.relationship_type.user_type_id].user_type_display_name:"",this.dataJsonObj.isActionListEnabled=!(this.dataJsonObj.viewData?.is_active||this.dataJsonObj.viewData?.is_rejected),this.dataJsonObj.closeButtonEnabled=!!this.dataJsonObj.viewData?.is_active,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.ENTERPRISE_REGISTRATION_APPROVAL",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.commonService.setCurrentPageTitle(this.dataJsonObj.viewData.short_name,t),this.dataJsonObj.createdUser=this.dataJsonObj.viewData.created_by,this.dataJsonObj.lastUpdatedUser=this.dataJsonObj.viewData.updated_by,this.apkTypes=[],this.dataJsonObj.viewData.apk_types.length>0)for(let o=0;o<this.dataJsonObj.viewData.apk_types.length;o++)-1==this.apkTypes.indexOf(this.dataJsonObj.viewData.apk_types[o].lookup_id)&&this.apkTypes.push(this.dataJsonObj.viewData.apk_types[o].lookup_id);this.apkTypepOptions=[],this.getApktypelist(""),this.dataJsonObj.imgFilepath=this.dataJsonObj.viewData.enterprise_image_file_path&&this.dataJsonObj.viewData.enterprise_image?this.dataJsonObj.apiEndPoint+this.dataJsonObj.viewData.enterprise_image_file_path+"/"+this.dataJsonObj.viewData.enterprise_image:""},a=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",a)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getEnterpriseViewData",s)}}cancelBtn(){this.router.routeReuseStrategy.clearModuleRouteCache("enterprise-registration-approvals-list"),this.commonService.redirectToPreviousUrl()}redirectToEnterpriseCreate(){const t=this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:{};t.enterpriseRegId=this.dataJsonObj.recordId,this.commonService.redirectToUrl(["enterprises","enterprises","create"],!1,!1,t,this.route)}getApktypelist(t){this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[n.ox.APK_TYPES],t).then(s=>{this.apkTypepOptions=s,this.selectedApkOptions=[];for(let a=0;a<this.apkTypepOptions.length;a++)-1!==this.apkTypes.indexOf(this.apkTypepOptions[a].ID)&&this.selectedApkOptions.push(this.apkTypepOptions[a])})}approveRequest(){this.enterpriseRegistrationApprovalsService.patch({is_active:!0},this.dataJsonObj.recordId).then(s=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_APPROVED_SUCCESSFULLY"),this.dataJsonObj.enterpriseCreateButtonEnabled=!0},s=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(s))})}rejectRequest(){this.enterpriseRegistrationApprovalsService.patch({is_rejected:!0},this.dataJsonObj.recordId).then(s=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_REJECTED_SUCCESSFULLY"),this.commonService.redirectToPreviousUrl()},s=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(s))})}commonErrorCodes(t){JSON.parse(t[n.BU.STATUS])}static \u0275fac=function(s){return new(s||i)(e.Y36("apiEndPoint"),e.Y36(N.m),e.Y36(h.sK),e.Y36(A.s),e.Y36(m.v),e.Y36(_),e.Y36(v.gz),e.Y36(E.K),e.Y36(v.F0))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-enterprise-registration-approvals-approve"]],features:[e._Bn([_,m.v,S.Y,A.s,E.K]),e.qOj],decls:125,vars:142,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-lg-11","col-md-10","order-md-1","order-2"],[1,"row"],[1,"col-md-4"],["disabled","true","id","enterprise-view-enterprisesname",3,"label","value"],["disabled","true","id","enterprise-view-enterprisesshortname",3,"label","value"],["disabled","true","id","enterprise-view-websiteurl",3,"label","value"],["mandatory","false","disabled","true",3,"label","value"],["mandatory","true","disabled","true","id","enterprise-view-description",3,"label","defaultvalue"],[1,"col-lg-1","col-md-2","pdl-0","order-md-1"],[1,"thumbnail-view",3,"defaultImage","imageName"],["class","col-md-12 text-end mt-2 mb-2 order-md-1 order-2",4,"ngIf"],[1,"card"],[1,"card-content"],[3,"multiple"],[3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","true","id","enterprise-view-contact_details-fname",3,"label","value"],["id","event-view-country","disabled","true",3,"label","value"],["id","event-view-state","disabled","true",3,"label","value"],["disabled","true","id","enterprise-view-contact_details-countrycode",3,"label","value","maxlength"],["disabled","true","id","enterprise-view-contact_details-email","type","email",3,"label","value"],["disabled","true","id","enterprise-view-contact_details-phone",3,"label","value"],["disabled","true","id","enterprise-view-contact_details-lname",3,"label","value"],["disabled","true","id","enterprise-view-contact_details-phoneextn",3,"label","value"],["label","Relationship with the school","disabled","true","id","enterprise-view-contact_details-countrycode",3,"value","maxlength"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],[1,"col-md-12","text-end","mt-2","mb-2","order-md-1","order-2"],["className","btn btn-primary btn-sm",1,"mgr-5",3,"disabled","label","buttonOnClick"],["className","btn btn-danger btn-sm",3,"label","buttonOnClick"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"div",11),e._UZ(15,"app-input",13),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",11),e._UZ(18,"app-input",14),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",11),e._UZ(21,"app-input",15),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",3),e._UZ(24,"app-textarea",16),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"div",17)(27,"div"),e._UZ(28,"app-imageupload",18),e.qZA()(),e.YNc(29,oe,7,11,"div",19),e.YNc(30,re,6,10,"div",19),e.YNc(31,le,3,3,"div",19),e.qZA()(),e.TgZ(32,"div",7)(33,"div",10)(34,"div",3)(35,"div",20)(36,"div",21)(37,"p-accordion",22)(38,"p-accordionTab",23)(39,"p-header",24)(40,"span"),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",8)(44,"div",11),e._UZ(45,"app-input",25),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"div",11),e._UZ(48,"app-input",25),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"div",11),e._UZ(51,"app-input",26),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"div",11),e._UZ(54,"app-input",27),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"div",11),e._UZ(57,"app-input",15),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"div",11),e._UZ(60,"app-input",25),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"div",11),e._UZ(63,"app-input",25),e.ALo(64,"translate"),e.qZA(),e.TgZ(65,"div",11),e._UZ(66,"app-input",28),e.ALo(67,"translate"),e.qZA(),e.TgZ(68,"div",11),e._UZ(69,"app-input",29),e.ALo(70,"translate"),e.qZA(),e.TgZ(71,"div",11),e._UZ(72,"app-inputnumber",30),e.ALo(73,"translate"),e.qZA()()(),e.TgZ(74,"p-accordionTab",23)(75,"p-header",24)(76,"span"),e._uU(77),e.ALo(78,"translate"),e.qZA()(),e.TgZ(79,"div",8)(80,"div",11),e._UZ(81,"app-input",25),e.ALo(82,"translate"),e.qZA(),e.TgZ(83,"div",11),e._UZ(84,"app-input",31),e.ALo(85,"translate"),e.qZA(),e.TgZ(86,"div",11),e._UZ(87,"app-input",28),e.ALo(88,"translate"),e.qZA(),e.TgZ(89,"div",11),e._UZ(90,"app-inputnumber",30),e.ALo(91,"translate"),e.qZA(),e.TgZ(92,"div",11),e._UZ(93,"app-inputnumber",32),e.ALo(94,"translate"),e.qZA(),e.TgZ(95,"div",11),e._UZ(96,"app-input",29),e.ALo(97,"translate"),e.qZA(),e.TgZ(98,"div",11),e._UZ(99,"app-input",33),e.qZA()()(),e.TgZ(100,"p-accordionTab",23)(101,"p-header",24)(102,"span"),e._uU(103),e.ALo(104,"translate"),e.qZA()(),e.TgZ(105,"div",8)(106,"div",11),e._UZ(107,"app-input",25),e.ALo(108,"translate"),e.qZA(),e.TgZ(109,"div",11),e._UZ(110,"app-input",31),e.ALo(111,"translate"),e.qZA(),e.TgZ(112,"div",11),e._UZ(113,"app-input",28),e.ALo(114,"translate"),e.qZA(),e.TgZ(115,"div",11),e._UZ(116,"app-inputnumber",30),e.ALo(117,"translate"),e.qZA(),e.TgZ(118,"div",11),e._UZ(119,"app-inputnumber",32),e.ALo(120,"translate"),e.qZA(),e.TgZ(121,"div",11),e._UZ(122,"app-input",29),e.ALo(123,"translate"),e.qZA()()(),e._UZ(124,"app-recordhistory",34),e.qZA()()()()()()()()()()()),2&s&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(6),e.s9C("label",e.lcZ(13,82,"COMMON_PAGE_TITLES.SCHOOL")),e.s9C("value",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.enterprise_name),e.xp6(3),e.s9C("label",e.lcZ(16,84,"ENTERPRISES.SHORT_NAME")),e.s9C("value",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.short_name),e.xp6(3),e.s9C("label",e.lcZ(19,86,"COMMON_FIELDS.WEBSITE")),e.s9C("value",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.website_URL),e.xp6(3),e.s9C("label",e.lcZ(22,88,"NEW_VARIABLES.PARENT_ORGANIZATION_NAME")),e.s9C("value",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.parent_organization_name),e.xp6(3),e.s9C("label",e.lcZ(25,90,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.description),e.xp6(4),e.s9C("defaultImage",a.dataJsonObj.imgFilepath),e.s9C("imageName",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.short_name),e.xp6(1),e.Q6J("ngIf",!a.dataJsonObj.enterpriseCreateButtonEnabled&&!a.dataJsonObj.closeButtonEnabled),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.enterpriseCreateButtonEnabled&&a.dataJsonObj.enterpriseCreateRight),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.closeButtonEnabled),e.xp6(6),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(42,92,"COMMON_BLOCK_TITLES.ADDRESS_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(46,94,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE1")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.address_line1),e.xp6(3),e.s9C("label",e.lcZ(49,96,"COMMON_ADDRESS_BLOCK.ADDRESS_LINE2")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.address_line2),e.xp6(3),e.s9C("label",e.lcZ(52,98,"COMMON_ADDRESS_BLOCK.COUNTRY")),e.s9C("value",a.lookupLanguageTranslations(null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address||null==a.dataJsonObj.viewData.address.country?null:a.dataJsonObj.viewData.address.country.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(55,100,"COMMON_ADDRESS_BLOCK.STATE")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address||null==a.dataJsonObj.viewData.address.state?null:a.dataJsonObj.viewData.address.state.state_name),e.xp6(3),e.s9C("label",e.lcZ(58,102,"COMMON_ADDRESS_BLOCK.COUNTY")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.county),e.xp6(3),e.s9C("label",e.lcZ(61,104,"COMMON_ADDRESS_BLOCK.CITY")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.city),e.xp6(3),e.s9C("label",e.lcZ(64,106,"COMMON_ADDRESS_BLOCK.ZIP_CODE")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.ZIP),e.xp6(3),e.s9C("label",e.lcZ(67,108,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("value",a.lookupLanguageTranslations(null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address||null==a.dataJsonObj.viewData.address.phone_country_code?null:a.dataJsonObj.viewData.address.phone_country_code.lookup_id)),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(70,110,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.email),e.xp6(3),e.s9C("label",e.lcZ(73,112,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.address?null:a.dataJsonObj.viewData.address.phone),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(78,114,"COMMON_BLOCK_TITLES.REGISTRANT_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(82,116,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details?null:a.dataJsonObj.viewData.registrant_details.fname),e.xp6(3),e.s9C("label",e.lcZ(85,118,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details?null:a.dataJsonObj.viewData.registrant_details.lname),e.xp6(3),e.s9C("label",e.lcZ(88,120,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("value",a.lookupLanguageTranslations(null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details||null==a.dataJsonObj.viewData.registrant_details.phone_country_code?null:a.dataJsonObj.viewData.registrant_details.phone_country_code.lookup_id)),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(91,122,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details?null:a.dataJsonObj.viewData.registrant_details.phone),e.xp6(3),e.s9C("label",e.lcZ(94,124,"COMMON_FIELDS.EXTENSION")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details?null:a.dataJsonObj.viewData.registrant_details.phone_extn),e.xp6(3),e.s9C("label",e.lcZ(97,126,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.registrant_details?null:a.dataJsonObj.viewData.registrant_details.email),e.xp6(3),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.relationTypeValue),e.Q6J("maxlength",40),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(104,128,"COMMON_BLOCK_TITLES.CONTACT_DETAILS")),e.xp6(4),e.s9C("label",e.lcZ(108,130,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details?null:a.dataJsonObj.viewData.contact_details.fname),e.xp6(3),e.s9C("label",e.lcZ(111,132,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details?null:a.dataJsonObj.viewData.contact_details.lname),e.xp6(3),e.s9C("label",e.lcZ(114,134,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("value",a.lookupLanguageTranslations(null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details||null==a.dataJsonObj.viewData.contact_details.phone_country_code?null:a.dataJsonObj.viewData.contact_details.phone_country_code.lookup_id)),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(117,136,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details?null:a.dataJsonObj.viewData.contact_details.phone),e.xp6(3),e.s9C("label",e.lcZ(120,138,"COMMON_FIELDS.EXTENSION")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details?null:a.dataJsonObj.viewData.contact_details.phone_extn),e.xp6(3),e.s9C("label",e.lcZ(123,140,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.contact_details?null:a.dataJsonObj.viewData.contact_details.email),e.xp6(2),e.Q6J("createdBy",a.dataJsonObj.createdUser)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",a.dataJsonObj.lastUpdatedUser)("creationDate",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.createdAt)("lastUpdatedDate",null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.updatedAt))},dependencies:[J.O5,L.h4,w.r,y.a,f.R,U.K,P.f,B.W,M.q,g.UQ,g.US,h.X$]})}return i})(),canActivate:[D.P],data:{pageName:n.hf.ENTERPRISE_REGISTRATION_APPROVALS,pageSetting:n.AM.ACTIONS,settingField:n.In.APPROVE}}]}];let ue=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[v.Bz.forChild(pe),v.Bz]})}return i})();var be=l(24006),Oe=l(93144),ce=l(65673);let ve=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[J.ez,ue,Oe.U$,be.u5,ce.Q,h.aw,g.fx,C.Nh]})}return i})()}}]);