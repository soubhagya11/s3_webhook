"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1055],{31055:(et,R,g)=>{g.r(R),g.d(R,{IotDashboardsModule:()=>Ke});var M=g(36895),v=g(70057),A=g(54463),B=g(65673),I=g(29583),N=g(62510),D=g(15861),V=(g(98407),g(93077),g(71568)),W=g(95717),Y=g(21413),Q=g(34913),z=g(18116),q=g(57936),K=g(99802),d=g(32236),U=g(24754),G=g(42786),X=g(26850),ee=g(81622),j=g(57530),C=g(15439),te=g(47561),t=g(94650),ae=g(11481),H=g(30958),ie=g(27601),ne=g(93795),se=g(9851),re=g(61135),oe=g(17445),le=g(22529);let F=(()=>{class s{eventDate;countdownSubject;countdownSubscription;constructor(){}initializeCounter(a){this.eventDate="string"==typeof a?new Date(a):a,this.countdownSubject=new re.X(this.calculateTimeUntilEvent()),this.countdownSubscription=(0,oe.F)(1e3).pipe((0,le.o)(()=>this.eventDate>new Date)).subscribe(()=>{this.countdownSubject.next(this.calculateTimeUntilEvent())})}calculateTimeUntilEvent(){const a=new Date,e=this.eventDate.getTime()-a.getTime(),i=Math.floor(e/1e3)%60,r=Math.floor(e/6e4)%60,l=Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return JSON.stringify({days:o<10?`0${o}`:o,hours:l<10?`0${l}`:l,minutes:r<10?`0${r}`:r,seconds:i<10?`0${i}`:i,timeDifference:e})}stopCountdown(){this.countdownSubscription&&this.countdownSubscription.unsubscribe()}getCountdownObservable(){return this.countdownSubject.asObservable()}static \u0275fac=function(e){return new(e||s)};static \u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})(),de=(()=>{class s{navCtrl;timercountdownService;dataJsonObj={};set counterEndDate(a){a?this.initializeClock(a):this.stopClock()}constructor(a,e){this.navCtrl=a,this.timercountdownService=e,this.stopClock()}initializeClock(a){this.timercountdownService.initializeCounter(a),this.timercountdownService.getCountdownObservable().subscribe(e=>{this.dataJsonObj.nextEventCountDownObj=e?JSON.parse(e):{}})}stopClock(){this.timercountdownService.stopCountdown()}static \u0275fac=function(e){return new(e||s)(t.Y36(H.SH),t.Y36(F))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-timer-countdown"]],inputs:{counterEndDate:"counterEndDate"},features:[t._Bn([F])],decls:25,vars:16,consts:[[1,"timer-wrapper"],[1,"time-info"],[1,"smalltext"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"span",1),t._uU(3),t.qZA(),t.TgZ(4,"div",2),t._uU(5),t.ALo(6,"translate"),t.qZA()(),t.TgZ(7,"div")(8,"span",1),t._uU(9),t.qZA(),t.TgZ(10,"div",2),t._uU(11),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"div")(14,"span",1),t._uU(15),t.qZA(),t.TgZ(16,"div",2),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"div")(20,"span",1),t._uU(21),t.qZA(),t.TgZ(22,"div",2),t._uU(23),t.ALo(24,"translate"),t.qZA()()()),2&e&&(t.xp6(3),t.Oqu(null==i.dataJsonObj.nextEventCountDownObj?null:i.dataJsonObj.nextEventCountDownObj.days),t.xp6(2),t.Oqu(t.lcZ(6,8,"COMMON_FIELDS.DAYS")),t.xp6(4),t.Oqu(null==i.dataJsonObj.nextEventCountDownObj?null:i.dataJsonObj.nextEventCountDownObj.hours),t.xp6(2),t.Oqu(t.lcZ(12,10,"COMMON_FIELDS.HOURS")),t.xp6(4),t.Oqu(null==i.dataJsonObj.nextEventCountDownObj?null:i.dataJsonObj.nextEventCountDownObj.minutes),t.xp6(2),t.Oqu(t.lcZ(18,12,"COMMON_FIELDS.MINUTES")),t.xp6(4),t.Oqu(null==i.dataJsonObj.nextEventCountDownObj?null:i.dataJsonObj.nextEventCountDownObj.seconds),t.xp6(2),t.Oqu(t.lcZ(24,14,"NEW_VARIABLES.SEC")))},dependencies:[A.X$],styles:[".timer-wrapper[_ngcontent-%COMP%]{font-family:sans-serif;color:var(--body-text-color);display:inline-block;font-weight:100;text-align:center}.timer-wrapper[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px;border-radius:3px;display:inline-block}.timer-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding:15px;border-radius:3px;background:var(--button-secondary-bg-color);color:var(--button-secondary-text-color);display:inline-block}.smalltext[_ngcontent-%COMP%]{padding-top:5px;color:var(--body-text-color)}"]})}return s})();var ce=g(37377);function ge(s,h){if(1&s&&(t.TgZ(0,"div",9)(1,"h3",10),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"div",11),t._UZ(5,"app-timer-countdown",12),t.qZA()()),2&s){const a=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,2,"NEW_VARIABLES.NEXT_EVENT_START_IN")),t.xp6(3),t.Q6J("counterEndDate",a.dataJsonObj.nextEventStartDate)}}function he(s,h){1&s&&(t.TgZ(0,"div",9)(1,"h3",10),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&s&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"NEW_VARIABLES.NO_EVENTS_SCHEDULED")," "))}function me(s,h){1&s&&(t.TgZ(0,"ion-text",24),t._UZ(1,"i",25),t._uU(2),t.ALo(3,"translate"),t.qZA()),2&s&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"NEW_VARIABLES.PLAY_BOARD_CAN_CHANGE_EVENT_TEAM"),""))}function pe(s,h){if(1&s){const a=t.EpF();t.TgZ(0,"ion-col",26)(1,"div",27)(2,"div",28)(3,"div",29),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(2);return t.KtG(i.socialShare())}),t._UZ(4,"i",30)(5,"span",31),t.qZA()()()()}}function _e(s,h){if(1&s&&(t.TgZ(0,"div",32)(1,"ion-text",24),t._UZ(2,"i",25),t._uU(3),t.ALo(4,"translate"),t.TgZ(5,"b"),t._uU(6),t.qZA()()()),2&s){const a=t.oxw(2);t.xp6(3),t.hij(" ",t.lcZ(4,2,"COMMON_VALIDATION_MESSAGES.VALID_TEAMS_NOT_ADDED")," "),t.xp6(3),t.hij('"',a.selectedEventName,'"')}}function be(s,h){1&s&&(t.TgZ(0,"div",15)(1,"ion-text",24),t._UZ(2,"i",25),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&s&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"COMMON_VALIDATION_MESSAGES.VALID_TEAM_MEMBERS_NOT_ADDED"),""))}function fe(s,h){if(1&s){const a=t.EpF();t.TgZ(0,"div",13)(1,"ion-row",14)(2,"ion-col",15),t.YNc(3,me,4,3,"ion-text",16),t.qZA(),t.TgZ(4,"ion-col",17)(5,"div",18)(6,"app-dropdown-singleselect",19),t.NdJ("valueChange",function(i){t.CHM(a);const r=t.oxw();return t.KtG(r.changeEvent(i))}),t.qZA()()(),t.TgZ(7,"ion-col",17)(8,"div",18)(9,"app-dropdown-singleselect",20),t.NdJ("valueChange",function(i){t.CHM(a);const r=t.oxw();return t.KtG(r.changeTeam(i))}),t.qZA()()(),t.YNc(10,pe,6,0,"ion-col",21),t.qZA(),t.YNc(11,_e,7,4,"div",22),t.YNc(12,be,5,3,"div",23),t.qZA()}if(2&s){const a=t.oxw();t.xp6(3),t.Q6J("ngIf",(null==a.activeEventsOptions?null:a.activeEventsOptions.length)>1||!a.selectedEventName&&(null==a.activeEventsOptions?null:a.activeEventsOptions.length)>0||(null==a.teamsOptions?null:a.teamsOptions.length)>1),t.xp6(1),t.Q6J("size",a.dataJsonObj.isShareBtnSize),t.xp6(2),t.s9C("defaultValue",a.selectedEvent),t.Q6J("options",a.activeEventsOptions),t.xp6(1),t.Q6J("size",a.dataJsonObj.isShareBtnSize),t.xp6(2),t.s9C("defaultValue",a.selectedTeam),t.Q6J("className",0===a.teamsOptions.length?"mgb-0":"")("options",a.teamsOptions),t.xp6(1),t.Q6J("ngIf",a.dataJsonObj.isShareEnabled),t.xp6(1),t.Q6J("ngIf",0===a.teamsOptions.length&&a.selectedEventName),t.xp6(1),t.Q6J("ngIf",a.teamsOptions.length>0&&(null==a.dashboardObj?null:a.dashboardObj.cards)&&(null==a.dashboardObj||null==a.dashboardObj.cards?null:a.dashboardObj.cards.length)<=1)}}function ve(s,h){if(1&s&&t._UZ(0,"p",49),2&s){const a=t.oxw().$implicit;t.Q6J("innerHTML",a.googleAnalyticsHtml,t.oJD)}}function ue(s,h){if(1&s){const a=t.EpF();t.TgZ(0,"mat-icon",50),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(),r=i.$implicit,l=i.index,o=t.oxw(3);return t.KtG(o.widgetsItemClick(r,l))}),t.TgZ(1,"div",51),t._UZ(2,"div",52),t.TgZ(3,"div",53)(4,"div",54),t._UZ(5,"div",55),t.qZA(),t.TgZ(6,"div",54),t._UZ(7,"div",55),t.qZA(),t.TgZ(8,"div",54),t._UZ(9,"div",55),t.qZA(),t.TgZ(10,"div",54),t._UZ(11,"div",55),t.qZA(),t.TgZ(12,"div",54),t._UZ(13,"div",55),t.qZA()(),t.TgZ(14,"div",53)(15,"div",54),t._UZ(16,"div",55),t.qZA(),t.TgZ(17,"div",54),t._UZ(18,"div",55),t.qZA(),t.TgZ(19,"div",54),t._UZ(20,"div",55),t.qZA(),t.TgZ(21,"div",54),t._UZ(22,"div",55),t.qZA(),t.TgZ(23,"div",54),t._UZ(24,"div",55),t.qZA()(),t.TgZ(25,"div",53)(26,"div",54),t._UZ(27,"div",55),t.qZA(),t.TgZ(28,"div",54),t._UZ(29,"div",55),t.qZA(),t.TgZ(30,"div",54),t._UZ(31,"div",55),t.qZA(),t.TgZ(32,"div",54),t._UZ(33,"div",55),t.qZA(),t.TgZ(34,"div",54),t._UZ(35,"div",55),t.qZA()()(),t.TgZ(36,"div",1),t._UZ(37,"div",56),t.qZA()()}if(2&s){const a=t.oxw(),e=a.index,i=a.$implicit;t.xp6(2),t.MGl("id","clap",e,""),t.xp6(1),t.MGl("id","particles_",e,""),t.xp6(11),t.MGl("id","particles-2_",e,""),t.xp6(11),t.MGl("id","particles-3_",e,""),t.xp6(11),t.Q6J("ngClass",i.updateDataValue?"action-widget-bg heart-rate":"action-widget-bg"),t.xp6(1),t.Q6J("innerHTML",i.widget_html_value,t.oJD)}}function Oe(s,h){if(1&s&&t._UZ(0,"mat-icon",57),2&s){const a=t.oxw().$implicit;t.Q6J("ngClass",a.AveragefortheTeam||a.TeamfromtheUser||a.HeartRateAVGTeam?"widget-content":"")("innerHTML",a.widget_html_value,t.oJD)}}function Se(s,h){if(1&s){const a=t.EpF();t.TgZ(0,"mat-icon",58),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(),r=i.$implicit,l=i.index,o=t.oxw(3);return t.KtG(o.widgetsItemClick(r,l))}),t.TgZ(1,"div",59),t._UZ(2,"div",56),t.qZA()()}if(2&s){const a=t.oxw().$implicit;t.xp6(2),t.Q6J("innerHTML",a.widget_html_value,t.oJD)}}function Ce(s,h){if(1&s){const a=t.EpF();t.TgZ(0,"mat-icon",58),t.NdJ("click",function(){t.CHM(a);const i=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.widgetsItemClick(i))}),t._UZ(1,"div",60),t.qZA()}if(2&s){const a=t.oxw().$implicit;t.xp6(1),t.Q6J("innerHTML",a.widget_html,t.oJD)}}function we(s,h){if(1&s&&t._UZ(0,"mat-icon",49),2&s){const a=t.oxw().$implicit;t.Q6J("innerHTML",a.widget_html_value,t.oJD)}}function Ee(s,h){if(1&s&&(t.TgZ(0,"div")(1,"p",61),t._uU(2),t.qZA(),t._UZ(3,"ngx-chartjs",62),t.qZA()),2&s){const a=t.oxw(4);t.xp6(2),t.hij(" ",a.widgetBarHtml,""),t.xp6(1),t.Q6J("data",a.dataforbarchart)}}function Ie(s,h){if(1&s&&(t.TgZ(0,"div")(1,"p",61),t._uU(2),t.qZA(),t._UZ(3,"ngx-chartjs",63),t.qZA()),2&s){const a=t.oxw(4);t.xp6(2),t.hij(" ",a.widgetBarHtml,""),t.xp6(1),t.Q6J("data",a.dataforbarchart)}}function De(s,h){1&s&&(t.TgZ(0,"div",64)(1,"div",65)(2,"div",66),t._UZ(3,"div",67)(4,"div",68),t.qZA()()())}function Te(s,h){1&s&&(t.TgZ(0,"div",69)(1,"div",65)(2,"div",70)(3,"div",71),t._UZ(4,"div",72)(5,"div",73),t.qZA()()()())}function xe(s,h){if(1&s){const a=t.EpF();t.TgZ(0,"div",74),t.NdJ("leafletMapReady",function(i){t.CHM(a);const r=t.oxw(4);return t.KtG(r.onMapReady(i))}),t.qZA()}if(2&s){const a=t.oxw(4);t.Q6J("leafletOptions",a.Options)}}function ye(s,h){if(1&s&&(t.TgZ(0,"div")(1,"div",75)(2,"div",76),t._UZ(3,"i",77),t.qZA(),t.TgZ(4,"h3",78),t._uU(5),t.qZA(),t.TgZ(6,"p",79),t._uU(7,"BPM"),t.qZA()()()),2&s){const a=t.oxw(4);t.xp6(5),t.Oqu(a.bpmValue)}}function Me(s,h){if(1&s&&(t.TgZ(0,"div"),t._UZ(1,"iframe",80),t.qZA()),2&s){const a=t.oxw(4);t.xp6(1),t.Q6J("src",a.week,t.uOi)}}function Ae(s,h){if(1&s){const a=t.EpF();t.TgZ(0,"div",81)(1,"tinder-ui",82),t.NdJ("valueChange",function(i){t.CHM(a);const r=t.oxw().$implicit,l=t.oxw(3);return t.KtG(l.getCheerData(i,r))}),t.qZA()()}if(2&s){const a=t.oxw(4);t.xp6(1),t.Q6J("cards",null==a.dashboardObj?null:a.dashboardObj.cards)}}function Ne(s,h){1&s&&t._UZ(0,"ion-spinner",86)}function je(s,h){if(1&s){const a=t.EpF();t.TgZ(0,"div",81)(1,"div",83),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(4);return t.KtG(i.getAdImageUrl(i.advindexUrl))}),t.YNc(2,Ne,1,0,"ion-spinner",84),t._UZ(3,"img",85),t.qZA()()}if(2&s){const a=t.oxw(4);t.xp6(2),t.Q6J("ngIf",a.showAdSpinner),t.xp6(1),t.s9C("src",a.adImage,t.LSH)}}function Je(s,h){if(1&s&&(t.TgZ(0,"div")(1,"ion-item")(2,"ion-avatar",89),t._UZ(3,"img",90),t.qZA(),t.TgZ(4,"ion-label")(5,"span"),t._uU(6),t.qZA(),t.TgZ(7,"span"),t._uU(8),t.qZA()()()()),2&s){const a=h.$implicit,e=t.oxw(5);t.xp6(3),t.cQ8("src","",e.apiEndPoint,"",a.user_image_path,"/",a.user_image_name,"",t.LSH),t.xp6(3),t.AsE("",a.f_name," ",a.l_name,""),t.xp6(2),t.Oqu(a.value)}}function Le(s,h){if(1&s&&(t.TgZ(0,"div",87),t.YNc(1,Je,9,6,"div",88),t.qZA()),2&s){const a=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",a.widgetTopXUsersData)}}function Pe(s,h){if(1&s&&(t.TgZ(0,"gridster-item",37)(1,"div",38),t.YNc(2,ve,1,1,"p",39),t.YNc(3,ue,38,6,"mat-icon",40),t.YNc(4,Oe,1,2,"mat-icon",41),t.YNc(5,Se,3,1,"mat-icon",42),t.YNc(6,Ce,2,1,"mat-icon",42),t.YNc(7,we,1,1,"mat-icon",39),t.YNc(8,Ee,4,2,"div",43),t.YNc(9,Ie,4,2,"div",43),t.YNc(10,De,5,0,"div",44),t.YNc(11,Te,6,0,"div",45),t.YNc(12,xe,1,1,"div",46),t.YNc(13,ye,8,1,"div",43),t.YNc(14,Me,2,1,"div",43),t.YNc(15,Ae,2,1,"div",47),t.YNc(16,je,4,2,"div",47),t.YNc(17,Le,2,1,"div",48),t.qZA()()),2&s){const a=h.$implicit,e=t.oxw(3);t.Q6J("item",a),t.xp6(2),t.Q6J("ngIf","iframe"===e.googleAnalytics),t.xp6(1),t.Q6J("ngIf",null==a||null==a.click_widget_info?null:a.click_widget_info.wellness_element),t.xp6(1),t.Q6J("ngIf",null==a?null:a.isFanmetricWidget),t.xp6(1),t.Q6J("ngIf","HeartRateAVGUser"===a.HeartRateAVGUser),t.xp6(1),t.Q6J("ngIf","Iplay-share"===a.widget_name),t.xp6(1),t.Q6J("ngIf","ifit"===e.parameterName),t.xp6(1),t.Q6J("ngIf","bar"===e.widgetType),t.xp6(1),t.Q6J("ngIf","pie"===e.widgetType),t.xp6(1),t.Q6J("ngIf",e.ifithtml===a.widget_html),t.xp6(1),t.Q6J("ngIf",e.iplayhtml===a.widget_html),t.xp6(1),t.Q6J("ngIf","Map"===e.TopwidgetHtml),t.xp6(1),t.Q6J("ngIf",e.ifitbpm===a.widget_html),t.xp6(1),t.Q6J("ngIf","graph"===e.graphWidgetHtml),t.xp6(1),t.Q6J("ngIf",e.starshtml===a.widget_html),t.xp6(1),t.Q6J("ngIf",e.iplayAds===a.widget_html&&e.adImage),t.xp6(1),t.Q6J("ngIf","Top"===e.TopwidgetHtml)}}function ke(s,h){if(1&s&&(t.TgZ(0,"gridster",35),t.YNc(1,Pe,18,17,"gridster-item",36),t.qZA()),2&s){const a=t.oxw(2);t.Q6J("options",a.options),t.xp6(1),t.Q6J("ngForOf",a.widgetsData)}}function Ze(s,h){if(1&s&&(t.TgZ(0,"div",33),t.YNc(1,ke,2,2,"gridster",34),t.qZA()),2&s){const a=t.oxw();t.xp6(1),t.Q6J("ngIf",(null==a.widgetsData?null:a.widgetsData.length)>0)}}function Re(s,h){1&s&&t._UZ(0,"ion-icon",97)}function We(s,h){1&s&&t._UZ(0,"ion-spinner",98)}function Ue(s,h){1&s&&t._UZ(0,"ion-icon",101)}function He(s,h){if(1&s&&(t.TgZ(0,"ion-text",103),t._uU(1),t.qZA()),2&s){const a=t.oxw(4);t.xp6(1),t.Oqu(a.maxTime)}}function Fe(s,h){if(1&s&&(t.TgZ(0,"div",94),t.YNc(1,He,2,1,"ion-text",102),t.qZA()),2&s){const a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!1===a.hidevalue)}}function Be(s,h){if(1&s){const a=t.EpF();t.TgZ(0,"ion-fab-button",92),t.NdJ("click",function(){t.CHM(a);const i=t.oxw(2);return t.KtG(i.cameraClick())}),t.YNc(1,Ue,1,0,"ion-icon",99),t.YNc(2,Fe,2,1,"div",100),t.qZA()}if(2&s){const a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",15===a.maxTime),t.xp6(1),t.Q6J("ngIf",15!==a.maxTime)}}function Ve(s,h){if(1&s){const a=t.EpF();t.TgZ(0,"ion-fab",91)(1,"ion-fab-button",92),t.NdJ("click",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.bandclick())}),t.YNc(2,Re,1,0,"ion-icon",93),t.TgZ(3,"div",94),t.YNc(4,We,1,0,"ion-spinner",95),t.qZA()(),t.YNc(5,Be,3,2,"ion-fab-button",96),t.qZA()}if(2&s){const a=t.oxw();t.xp6(2),t.Q6J("ngIf",!a.showBandSpinner),t.xp6(2),t.Q6J("ngIf",a.showBandSpinner),t.xp6(1),t.Q6J("ngIf",a.dataJsonObj.isCameraEnable)}}const Ye=function(s){return{"device-view-wrapper":s}},$e=[{path:"",component:(()=>{class s extends te.O{apiEndPointUrl;dashboardService;deviceServices;eventsService;loggerService;router;sanitizer;toastController;translateService;uiUtils;commonService;dashboardObj;deviceConnection;enterprisesService;listingVariables;platform;route;socketService;deviceService;getHrValue(a){this.userHr=localStorage.getItem(d.BU.CAMHR),this.setInterval()}TinderUIComponent;graphWidgetHtml;Options;SrcwidgetHtml;TopwidgetHtml;bpmValue;cards=[];cheerCount;cheerCountDisplayValue;count;currenturl;dashboarddisplay=!1;dataforbarchart;distancchildCircle;editObj;enterpriseId;enterpriseName;enterpriseObj;enterpriseShortName;eventId;eventName;eventObj;heatmapdata=[];hideeditbutton=!1;ifitbpm='<span type="bpm"></span>';ifithtml='<span type="ifit"></span><p></p>';iplayhtml='<span type="iplay"></span><p></p>';starshtml='<span type="stars"></span><p></p>';ifitshare='<span type="share"></span><p></p>';iplayAds='<span type="Ads"></span><p></p>';teamsWidgetHtml='<span type="teams"></span><p></p>';eventsWidgetHtml='<span type="events"></span><p></p>';whistleValueHtml='<div type="whistle"></div>';initialData;iotEventId;modalData;monthArray=[1,2,3,4,5,6,7,8,9,10,11,12];options;paramaterConcatenation;printvalue;recordId;reddemedWhistles;remainingWhistles;saveConfiguration=[];starObj;stepsParentCircle;teamId;teamObj;totalWhistles;tournamentId;tournamentObj;unitofMeasure;userProfileId;week;wellnessElemenShortName;wellnessElement;wellnessElementName;wellnessElementNameId;wellnessElementObj;wellnessElementObject;wellnessElementTypeObj;wellnessTrxId;wellnessTrxObj;whistleValue;widgetBarHtml;widgetDashboardId;widgetData=[];widgetTopXUsers;widgetTopXUsersData=[];widgetType;widgetsData;widgetsDataStatic;widgetHtml=[];barchartOptions;lableNames=[];dataAsetsData=[];barChatData;googleAnalytics;userFMColor="#2aa102";avgFMColor="#f7168a";FanMetricnumberSlider;AvgfanMetricnumberSlider;parameterName;selectedEventInfo;selectedEventName;paramId;selectedEventTeamName;selectedEventTournamentId;selectedEventTournamentName;adImage;apiEndPoint;audioFile;activeEventsOptions=[];selectedEvent;teamsOptions=[];selectedTeam;audioPlay;days;hours;minutes;seconds;deadline;isenabledtimer=!1;searchString;statusObj;status;forcerefresh;isFilterClicked=!0;isErrorMessage=!1;lastDate;today;userHr="--";setTimeInterval;maxTime=15;bandClickTimer=15;timer;hidevalue;hideband;enterpriseInfo;accCounter=0;totalCount=127;minDeg=1;maxDeg=72;particlesClasses=[{class:"pop-top"},{class:"pop-top-left"},{class:"pop-top-right"},{class:"pop-bottom-right"},{class:"pop-bottom-left"}];show=!1;lastBLEHR;metricsWidgetsIndexes=[];socketSubscriber;hrWidgetIndex;fmWidgetIndex;starsWidgetIndex;showBandSpinner=!1;showAdSpinner=!0;socketEmitIntervalSubscribe;fanmetricPoinstArrayJSON={};iplayUserShareObject={};advindexUrl;updateWhistleInterval;advertismentInterval;dataJsonObj={};selectedEventSportId;constructor(a,e,i,r,l,o,n,_,m,p,E,k,x,J,P,u,O,Z,T){super(O,E),this.apiEndPointUrl=a,this.dashboardService=e,this.deviceServices=i,this.eventsService=r,this.loggerService=l,this.router=o,this.sanitizer=n,this.toastController=_,this.translateService=m,this.uiUtils=p,this.commonService=E,this.dashboardObj=k,this.deviceConnection=x,this.enterprisesService=J,this.listingVariables=P,this.platform=u,this.route=O,this.socketService=Z,this.deviceService=T}ngOnInit(){this.platform.ready().then(()=>{this.loadInitComponent()})}loadInitComponent(){var a=this;return(0,D.Z)(function*(){a.dataJsonObj.isEnableDevice=a.roleRightsValidationByPage(d.hf.DEVICE_SETTINGS),a.enterpriseId=ee.h.hasValue(d.BU.SELECTED_ENTERPRISE)?localStorage.getItem(d.BU.SELECTED_ENTERPRISE):localStorage.getItem(d.BU.ENTERPRISE_ID),a.dataJsonObj.isShareEnabled=!a.commonService.isBrowserApp(),a.dataJsonObj.isShareBtnSize=a.commonService.isBrowserApp()?d.tf.COLUMN_SIZE_SIX:d.tf.COLUMN_SIZE_FIVE,a.sponsorBannersData(),a.apiEndPoint=localStorage.getItem(d.BU.S3_URL)?localStorage.getItem(d.BU.S3_URL):a.apiEndPointUrl,a.route.params.subscribe(e=>{e.name&&(a.parameterName=e.name),e.parentId&&(a.paramId=e.parentId)}),a.route.queryParams.subscribe(e=>{a.dataJsonObj.queryParamsObj=JSON.parse(JSON.stringify(e))}),"ifit"===a.parameterName?a.deviceConnection.getDeviceConnection()?a.initializeComponent():a.router.navigate(["/devicesettings/list"]):"iplay"===a.parameterName?(a.selectedEventTournamentId=a.dataJsonObj.queryParamsObj.tournamentId,a.selectedEvent=a.dataJsonObj.queryParamsObj.eventId,a.selectedTeam=a.dataJsonObj.queryParamsObj.teamId,a.getActiveEvents()):a.initializeComponent(),a.commonService.getDynamicHeight()})()}ngOnDestroy(){this.socketEmitSubscribeclearInterval(),this.socketSubscriber&&this.socketSubscriber.unsubscribe(),this.updateWhistleIntervalclearInterval(),this.advertismentclearInterval(),this.dataJsonObj.nextEventStartDate=null,this.commonService.showHeaderFooter(),this.commonService.getDynamicHeight()}updateWhistleIntervalclearInterval(){this.updateWhistleInterval&&(clearInterval(this.updateWhistleInterval),this.updateWhistleInterval=null)}advertismentclearInterval(){this.advertismentInterval&&(clearInterval(this.advertismentInterval),this.advertismentInterval=null)}socketEmitSubscribeclearInterval(){this.socketEmitIntervalSubscribe&&(clearInterval(this.socketEmitIntervalSubscribe),this.socketEmitIntervalSubscribe=null)}getActiveEvents(){this.dataJsonObj.closedEventErrorMessage="",this.dataJsonObj.eventCategories=[d.iv.GAME,d.iv.ENTERTAINMENT],this.dashboardService.getActiveEvents(this.enterpriseId,this.dataJsonObj.eventCategories).then(a=>{if(this.activeEventsOptions=a,this.activeEventsOptions&&this.activeEventsOptions.length>0){const e=this.activeEventsOptions.find(i=>i.ID===parseInt(this.selectedEvent,10));e&&this.selectedEvent?(this.selectedEvent=e?e.ID:this.activeEventsOptions[0].ID,this.selectedEventName=e?e.NAME:this.activeEventsOptions[0].NAME,this.selectedEventSportId=e?e.sport_id:this.activeEventsOptions[0].sport_id,this.getTeams(this.selectedEvent)):e||this.selectedEvent?this.validateEventDetails():(this.selectedEvent=this.activeEventsOptions[0].ID,this.selectedEventName=this.activeEventsOptions[0].NAME,this.selectedEventSportId=this.activeEventsOptions[0].sport_id,this.getTeams(this.selectedEvent))}else this.isenabledtimer=!1,this.isErrorMessage=!0,this.searchString="",this.validateEventDetails()},a=>{this.isenabledtimer=!0,this.searchString="",this.validateEventDetails()}),this.commonService.getDynamicHeight()}validateEventDetails(){var a=this;return(0,D.Z)(function*(){try{let e="";a.commonService.isMobileWindow()&&(e="&mobileview=true"),a.searchString="",a.status=a.statusObj,a.dataJsonObj.eventCategories=[d.iv.GAME,d.iv.ENTERTAINMENT],a.selectedEvent?(a.dataJsonObj.closedEventErrorMessage="",a.dashboardService.getEvents(a.selectedEvent).then(i=>{const r=i.start_datetime;Date.parse(r)>Date.parse((new Date).toISOString())?(a.isenabledtimer=!0,a.isErrorMessage=!1,a.deadline=r,a.initializeClock(a.deadline)):(a.dataJsonObj.closedEventErrorMessage=i.is_canceled?"COMMON_VALIDATION_MESSAGES.VALID_PLAY_EVENT_CANCELLED":"COMMON_VALIDATION_MESSAGES.VALID_PLAY_EVENT_ENDED",(!a.activeEventsOptions||0===a.activeEventsOptions.length)&&a.getfeatureEventsList(e))})):a.getfeatureEventsList(e)}catch(e){a.loggerService.setLoggerError(a.constructor.name,"validateEventDetails",e)}})()}getfeatureEventsList(a){var e=this;return(0,D.Z)(function*(){e.listingVariables.sortOrderColumn="start_datetime$1",e.dataJsonObj.eventsListStatus="futureevents";const i=yield e.eventsService.getAll(e.enterpriseId,e.searchString,e.listingVariables.pageNumbers,e.listingVariables.rowsPerPage,e.listingVariables.sortOrderColumn,e.isFilterClicked,e.status,e.forcerefresh,a,"",e.dataJsonObj.eventsListStatus,"",e.dataJsonObj.eventCategories);i.rows.length>0?(e.isenabledtimer=!0,e.isErrorMessage=!1,e.deadline=i.rows[0].start_datetime,e.initializeClock(e.deadline)):(e.isenabledtimer=!1,e.isErrorMessage=!0)})()}getTeams(a){this.dashboardService.getTeams(this.enterpriseId,a).then(e=>{if(this.teamsOptions=e,this.teamsOptions&&this.teamsOptions.length>0){const i=this.teamsOptions.find(r=>r.ID===parseInt(this.selectedTeam,10));this.selectedTeam=i?i.ID:e[0].ID,this.initializeComponent()}},e=>{})}initializeClock(a){this.dataJsonObj.nextEventStartDate=a}displayDateFormatter(a,e,i,r){try{const l=i?this.commonService.convertDateToUserTimeZone(a,r.utcMinutes,r.utcMinutesSign):a,o={startDate:"",endDate:""};if(o.startDate=this.commonService.convertDateToUserFormat(l,d.eZ.HOURS_MINS,!0,"",!1),e){const n=i?this.commonService.convertDateToUserTimeZone(a,r.utcMinutes,r.utcMinutesSign):a,_=C.utc(n).add(2,"hours");o.endDate=this.commonService.convertDateToUserFormat(_,d.eZ.HOURS_MINS,!0,"",!1)}return o}catch(l){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",l)}}getTimeRemaining(a){const e=Date.parse(a)-Date.parse((new Date).toISOString()),i=Math.floor(e/1e3%60),r=Math.floor(e/1e3/60%60),l=Math.floor(e/36e5%24);return{total:e,days:Math.floor(e/864e5),hours:l,minutes:r,seconds:i}}changeEvent(a){if(this.selectedEvent=parseInt(a.value,10),this.getTeams(this.selectedEvent),this.activeEventsOptions&&this.activeEventsOptions.length>0){const e=this.activeEventsOptions.find(i=>i.ID===parseInt(this.selectedEvent,10));e&&this.selectedEvent&&(this.selectedEvent=e?e.ID:this.activeEventsOptions[0].ID,this.selectedEventName=e?e.NAME:this.activeEventsOptions[0].NAME,this.selectedEventSportId=e?e.sport_id:this.activeEventsOptions[0].sport_id)}this.getWidgetsData(this.enterpriseId)}changeTeam(a){this.selectedTeam=parseInt(a.value,10),this.getWidgetsData(this.enterpriseId)}initializeComponent(){!this.roleRightsValidationByPage(d.hf.IPLAY,d.AM.ACTIONS,this.ResponsibilityActions.CAMERA_HEART_BEAT_IOS)||this.platform.is("android")||this.commonService.isBrowserApp()?this.roleRightsValidationByPage(d.hf.IPLAY,d.AM.ACTIONS,this.ResponsibilityActions.CAMERA_HEART_BEAT_ANDROID)&&this.platform.is("android")&&!this.commonService.isBrowserApp()&&(this.dataJsonObj.isCameraEnable=!0):this.dataJsonObj.isCameraEnable=!0,this.updateWhistleIntervalclearInterval(),this.audioPlay=new Audio,this.totalWhistles=0,this.reddemedWhistles=0,this.currenturl=this.router.url,this.currenturl=this.currenturl.split("/")[4],this.count=0,this.cheerCount=0,this.widgetOptions(),this.dataforbarchart={labels:[this.translateService.instant("COMMON_FIELDS.JAN"),this.translateService.instant("COMMON_FIELDS.FEB"),this.translateService.instant("COMMON_FIELDS.MAR"),this.translateService.instant("COMMON_FIELDS.APR"),this.translateService.instant("COMMON_FIELDS.MAY"),this.translateService.instant("COMMON_FIELDS.JUN"),this.translateService.instant("COMMON_FIELDS.JUL"),this.translateService.instant("COMMON_FIELDS.AUG"),this.translateService.instant("COMMON_FIELDS.SEP"),this.translateService.instant("COMMON_FIELDS.OCT"),this.translateService.instant("COMMON_FIELDS.NOV"),this.translateService.instant("COMMON_FIELDS.DEC")]},this.commonService.getDynamicHeight(),this.updateWhistleInterval=setInterval(()=>{this.updateWhistle()},1e4)}sponsorBannersData(){var a=this;return(0,D.Z)(function*(){a.dataJsonObj.bannerObj={};const e=a.commonService.getLoginUserTimeZoneDateFormat();a.dataJsonObj.loginUserDateFormat=e.dateFormat,a.dataJsonObj.currentDate=a.commonService.getDateObj((new Date).toISOString(),a.dataJsonObj.loginUserDateFormat),a.dataJsonObj.deviceType=a.deviceService.isMobile()?d.WO.MOBILE:a.deviceService.isTablet()?d.WO.TAB:a.deviceService.isDesktop()?d.WO.WEB:"",a.dataJsonObj.position=d.lH.LIST,a.dataJsonObj.sponsorBannersDataJson=yield a.commonService.getDynamicJsonByPath(`assets/enterprises/${a.enterpriseId}/sponsor_banners/${a.dataJsonObj.deviceType}/${a.dataJsonObj.position}/`,"sponsor_banners.json");for(let i=0;i<a.dataJsonObj.sponsorBannersDataJson.length;i++)a.dataJsonObj.bannerObj[a.dataJsonObj.sponsorBannersDataJson[i]._id+""]={},a.dataJsonObj.bannerObj[a.dataJsonObj.sponsorBannersDataJson[i]._id+""].banner_id=a.dataJsonObj.sponsorBannersDataJson[i]._id,a.dataJsonObj.bannerObj[a.dataJsonObj.sponsorBannersDataJson[i]._id+""].banner_name=a.dataJsonObj.sponsorBannersDataJson[i].banner_name,a.dataJsonObj.bannerObj[a.dataJsonObj.sponsorBannersDataJson[i]._id+""].banner_media_file_name=a.dataJsonObj.sponsorBannersDataJson[i].banner_media_file_name,a.dataJsonObj.bannerObj[a.dataJsonObj.sponsorBannersDataJson[i]._id+""].banner_media_file_path=a.dataJsonObj.sponsorBannersDataJson[i].banner_media_file_path,a.dataJsonObj.bannerObj[a.dataJsonObj.sponsorBannersDataJson[i]._id+""].banner_destination=a.dataJsonObj.sponsorBannersDataJson[i].banner_destination;a.commonService.getDynamicHeight()})()}itemChange(a){for(let e=0;e<this.saveConfiguration.length;e++)this.saveConfiguration[e]._id===a._id&&(this.saveConfiguration[e].cols=a.cols,this.saveConfiguration[e].rows=a.rows,this.saveConfiguration[e].y=a.y,this.saveConfiguration[e].x=a.x)}itemResize(a){}getEnterprisesViewData(){try{this.enterprisesService.getEnterprisesViewData(this.enterpriseId).subscribe(a=>{this.enterpriseName=a.enterprise_name,this.enterpriseShortName=a.short_name},a=>{})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",a)}}getCheerData(a,e){try{for(let i=0;i<this.dashboardObj.cards.length;i++)if(this.dashboardObj.cards[i]._id===a._id){this.dashboardObj.cards[i].cheerCount=a.cheerCount+1,this.dashboardObj.cards[i].cheerCountDisplayValue=this.dashboardObj.cards[i].cheerCount,this.dashboardObj.cards[i].totalCheerCount=this.dashboardObj.cards[i].totalCheerCount?this.dashboardObj.cards[i].totalCheerCount+1:0;break}this.dashboardObj.totalCheerCount=this.dashboardObj.totalCheerCount+1,this.fanmetricPoinstArrayJSON[this.selectedEvent+""][this.selectedTeam+""].push({wellness_element:d._L.CHEERS,date:C.utc().toDate()}),this.updateCheersDataIntoLocal(e),this.dashboardObj.totalCheerCount%d.VK.WHISTLES==0&&this.widgetDependencyCountIncrement(d._L.WHISTLES),this.dashboardObj.totalCheerCount%d.VK.CLAPS==0&&this.widgetDependencyCountIncrement(d._L.CLAPS),this.dashboardObj.totalCheerCount%d.VK.WAVES==0&&this.widgetDependencyCountIncrement(d._L.WAVES)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getCheerData",i)}}updateCheersDataIntoLocal(a){const e=localStorage.getItem(a.click_dependency_info.localStorageKey),i=e?JSON.parse(e):{};i[this.selectedEvent+""]||(i[this.selectedEvent+""]={}),i[this.selectedEvent+""][this.selectedTeam+""]||(i[this.selectedEvent+""][this.selectedTeam+""]={});const r=i[this.selectedEvent+""][this.selectedTeam+""];if(r.cards=this.dashboardObj.cards,r.totalUserCheerCount=this.dashboardObj.totalCheerCount,r.stored_time=C.utc().toDate(),!r.event_end_datetime){const l=this.selectedEvent&&"string"==typeof this.selectedEvent?parseInt(this.selectedEvent,10):this.selectedEvent,o=this.activeEventsOptions.find(n=>n.ID===l);r.event_end_datetime=o&&o.end_datetime?o.end_datetime:null}r.labels=a.click_dependency_info.labels,localStorage.setItem(`dashboard_${this.widgetDashboardId}_widget_${a.widget_id}_data`,JSON.stringify(i))}getSuperCheerCount(){try{parseInt(localStorage.getItem(d.BU.WHISTLE_COUNT),10)>0?(this.totalWhistles=parseInt(localStorage.getItem(d.BU.WHISTLE_COUNT),10),this.reddemedWhistles=parseInt(localStorage.getItem(d.BU.REDDEMED_WHISTLE_COUNT),10),j.L.isEmpty(localStorage.getItem(d.BU.REDDEMED_WHISTLE_COUNT))?(this.remainingWhistles=this.totalWhistles,this.reddemedWhistles=""):(this.remainingWhistles=this.totalWhistles-this.reddemedWhistles,this.remainingWhistles=this.remainingWhistles>0?this.remainingWhistles:"")):this.remainingWhistles=""}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getSuperCheerCount",a)}}getDashboardJson(){this.dashboardObj.cards=this.modalData,this.dashboardObj.cards&&(this.dashboardObj.cards=this.dashboardObj.cards.sort(this.compare));let a=0;for(let e=0;e<this.dashboardObj.cards.length;e++)this.dashboardObj.cards[e].cheerCountDisplayValue=this.dashboardObj.cards[e].cheerCount,this.dashboardObj.cards[e].totalCheerCount||(this.dashboardObj.cards[e].totalCheerCount=0),a+=this.dashboardObj.cards[e].totalCheerCount;this.dashboardObj.totalCheerCount=a}updateWhistle(){this.enterpriseId=localStorage.getItem(d.BU.SELECTED_ENTERPRISE),this.userProfileId=localStorage.getItem(d.BU.SELECTED_ENTERPRISE),this.eventId&&this.dashboardService.viewWellnessTrx(this.enterpriseId,this.userProfileId,this.eventId).then(a=>{a.rows.length>0?(a.rows[0].value=this.totalWhistles,a.rows[0].secondary_value=this.reddemedWhistles,this.wellnessTrxObj=a.rows[0],this.wellnessTrxId=a.rows[0]._id,this.dashboardService.editWellnessTrx(this.wellnessTrxId,this.wellnessTrxObj).then(e=>{this.remainingWhistles=this.totalWhistles-this.reddemedWhistles},e=>{})):(this.wellnessElement="WHISTLES",this.getWellnessName(),this.getEventData(),this.getEnterprisesViewData(),this.enterpriseName&&this.enterpriseShortName&&(this.wellnessTrxObj={object:{enterprise:{enterprise_id:this.enterpriseId,enterprise_name:this.enterpriseName,short_name:this.enterpriseShortName},iot_event:{iot_event_id:this.eventId,iot_event_name:this.eventName}},user_profile_id:localStorage.getItem(d.BU.SELECTED_ENTERPRISE),wellness_element:{wellness_element_id:this.wellnessElementNameId,wellness_element_name:this.wellnessElementName,wellness_element_short_name:this.wellnessElemenShortName,wellness_element_type:this.wellnessElementTypeObj,unit_of_measure:this.unitofMeasure},value:0,secondary_value:0},this.dashboardService.createHealthElementsTrx(this.wellnessTrxObj).then(e=>{},e=>{})))})}getEventData(){this.dashboardService.getEventsViewData(this.eventId).subscribe(a=>{this.eventName=a.iot_event_name})}getWellnessName(){this.dashboardService.getWellnessName(this.wellnessElement).then(a=>{this.wellnessElementObj=a,this.wellnessElementNameId=a[0].ID,this.wellnessElementName=a[0].NAME,this.wellnessElemenShortName=a[0].wellness_element_short_name,this.wellnessElementTypeObj=a[0].wellness_element_type,this.unitofMeasure=a[0].unit_of_measure})}compare(a,e){const i=a.sequence,r=e.sequence;let l=0;return i>r?l=1:i<r&&(l=-1),l}onMapReady(a){}widgetOptions(){this.options={gridType:I.tQ.ScrollVertical,compactType:I.RU.None,margin:5,outerMargin:!0,outerMarginTop:0,outerMarginRight:5,outerMarginBottom:null,outerMarginLeft:null,useTransformPositioning:!0,mobileBreakpoint:0,minCols:1,maxCols:100,minRows:1,maxRows:100,maxItemCols:100,minItemCols:1,maxItemRows:100,minItemRows:1,maxItemArea:2500,minItemArea:1,defaultItemCols:1,defaultItemRows:1,fixedColWidth:105,fixedRowHeight:105,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,scrollSensitivity:10,scrollSpeed:20,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{enabled:this.dashboarddisplay},resizable:{enabled:this.dashboarddisplay},swap:!1,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:I.KY.Always,disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1,itemChangeCallback:this.itemChange.bind(this),itemResizeCallback:this.itemResize.bind(this),allowMultiLayer:!0,defaultLayerIndex:1,baseLayerIndex:2,maxLayerIndex:2},this.widgetsDataStatic=[{cols:2,rows:1,y:0,x:0,widget_type:"bar"},{cols:2,rows:1,y:0,x:2,widget_type:"pie"}],this.getWidgetsData(this.enterpriseId)}getWidgetsData(a){var e=this;return(0,D.Z)(function*(){try{const i=yield e.commonService.getCurrentDeviceType();e.saveConfiguration=[],e.metricsWidgetsIndexes=[];const r="ifit"===e.parameterName?"Ifit-Dashboard":"iplay"===e.parameterName?"Iplay-Dashboard":"Web Dashboard";if(e.selectedEventSportId?(e.editObj=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${a}/dashboards/${e.selectedEventSportId}/${i}/`,`${r}.json`),0===e.editObj?.length&&(e.editObj=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${a}/dashboards/${i}/`,`${r}.json`))):e.editObj=yield e.commonService.getDynamicJsonByPath(`assets/enterprises/${a}/dashboards/${i}/`,`${r}.json`),e.advertismentclearInterval(),e.widgetDashboardId=e.editObj._id,e.widgetsData=e.editObj.widgets,e.widgetsData&&e.widgetsData.length>0){const l=localStorage.getItem(`iplay_board_${e.editObj._id}_share_data`),o=l?JSON.parse(l):{};o[e.selectedEvent+""]||(o[e.selectedEvent+""]={}),o[e.selectedEvent+""][e.selectedTeam+""]||(o[e.selectedEvent+""][e.selectedTeam+""]={}),o[e.selectedEvent+""][e.selectedTeam+""].event_name=e.selectedEventName,localStorage.setItem(`iplay_board_${e.editObj._id}_share_data`,JSON.stringify(o));for(let n=0;n<e.widgetsData.length;n++){e.paramaterConcatenation=[],"Widget 05: Fanmetric - Average for the Team"===e.widgetsData[n].widget_name&&(e.widgetsData[n].AveragefortheTeam="class",e.widgetsData[n].isFanmetricWidget=!0,e.fmWidgetIndex=n),"Widget 03: Heart Rate - Total for the Team - from the User"===e.widgetsData[n].widget_name&&(e.widgetsData[n].TeamfromtheUser="class",e.widgetsData[n].HeartRateAVGUser="HeartRateAVGUser",e.hrWidgetIndex=n),"Widget 03: Heart Rate - Average for the Team"===e.widgetsData[n].widget_name&&(e.widgetsData[n].TeamfromtheTeam="class",e.widgetsData[n].HeartRateAVGTeam="HeartRateAVGTeam"),"Widget 05: Fanmetric - Total for the Team - from the User"===e.widgetsData[n].widget_name&&(e.widgetsData[n].TeamfromtheUser="class",e.widgetsData[n].isFanmetricWidget=!0,e.fanmetricPoinstArrayJSON[e.selectedEvent+""]||(e.fanmetricPoinstArrayJSON[e.selectedEvent+""]={}),e.fanmetricPoinstArrayJSON[e.selectedEvent+""][e.selectedTeam+""]||(e.fanmetricPoinstArrayJSON[e.selectedEvent+""][e.selectedTeam+""]=[])),e.widgetsData[n].widget_html.split('type="').length>1&&(e.graphWidgetHtml=e.widgetsData[n].widget_html.split('type="')[1].split('"')[0]),e.widgetsData[n].widget_html.split('src="').length>1&&(e.SrcwidgetHtml=e.widgetsData[n].widget_html.split('src="')[1].split('"')[0],e.week=e.sanitizer.bypassSecurityTrustResourceUrl(e.SrcwidgetHtml)),e.saveConfiguration.find(c=>c.widget_id===parseInt(e.widgetsData[n].widget_id,10))||e.saveConfiguration.push(e.widgetsData[n]);for(let c=0;c<e.widgetsData[n].widget_params.length;c++)"enterpriseId"===e.widgetsData[n].widget_params[c].parameter_name?e.paramaterConcatenation=e.paramaterConcatenation+"&"+e.widgetsData[n].widget_params[c].parameter_name+"="+(e.enterpriseId?e.enterpriseId:e.widgetsData[n].widget_params[c].param_value):"eventId"===e.widgetsData[n].widget_params[c].parameter_name?e.eventId=e.widgetsData[n].widget_params[c].param_value:"tournamentId"===e.widgetsData[n].widget_params[c].parameter_name?(e.tournamentId=e.selectedEventTournamentId?e.selectedEventTournamentId:e.widgetsData[n].widget_params[c].param_value,e.paramaterConcatenation=e.paramaterConcatenation+"&"+e.widgetsData[n].widget_params[c].parameter_name+"="+e.tournamentId):"iotEventId"===e.widgetsData[n].widget_params[c].parameter_name?(e.iotEventId=e.selectedEvent?e.selectedEvent:e.widgetsData[n].widget_params[c].param_value,e.paramaterConcatenation=e.paramaterConcatenation+"&"+e.widgetsData[n].widget_params[c].parameter_name+"="+e.iotEventId):"teamId"===e.widgetsData[n].widget_params[c].parameter_name||"iotTeamId"===e.widgetsData[n].widget_params[c].parameter_name?(e.teamId=e.selectedTeam?e.selectedTeam:e.widgetsData[n].widget_params[c].param_value,e.paramaterConcatenation=e.paramaterConcatenation+"&"+e.widgetsData[n].widget_params[c].parameter_name+"="+e.teamId):e.paramaterConcatenation=e.paramaterConcatenation+"&"+e.widgetsData[n].widget_params[c].parameter_name+"="+e.widgetsData[n].widget_params[c].param_value;const m=e.widgetsData[n].widget_query.split("const responseLabel = ["),p=m.length>1?m[1].split("];")[0].replace(/\'/gi,""):"",E=m.length>1?m[1].split("'wellness_element.wellness_element_name':"):[],k=E.length>1?E[1].split("',")[0].trim().substring(1):"",x=e.widgetsData[n].widget_html===e.starshtml?d._L.CHEERS:k.split(" ").join("_");e.widgetsData[n].wellnessElementName=x;const J=p.split(","),P=localStorage.getItem(`dashboard_${e.editObj._id}_widget_${e.widgetsData[n].widget_id}_data`),u=P?JSON.parse(P):{};u[e.selectedEvent+""]||(u[e.selectedEvent+""]={}),u[e.selectedEvent+""][e.selectedTeam+""]||(u[e.selectedEvent+""][e.selectedTeam+""]={});const O=u[e.selectedEvent+""][e.selectedTeam+""],Z=Object.keys(O),T=m.length>1&&(m[1].split("'user_profile_id':").length>1||m[1].split("user_profile_id:").length>1);if((e.widgetsData[n].widget_html===e.starshtml||T)&&-1!==[d._L.FANMETRIC,d._L.HEART_RATE,d._L.CHEERS,d._L.CLAPS,d._L.WAVES,d._L.WHISTLES].indexOf(x)){const c=e.metricsWidgetsIndexes.find(S=>S===n);!c&&0!==c&&e.metricsWidgetsIndexes.push(n)}if(O&&O.labels&&O.labels.length===J.length){const c=localStorage.getItem(`wellness_element_${x}_value`);c&&T&&(O[Z[0]]=c),e.widgetsData[n].widget_html===e.starshtml&&(e.modalData=O.cards,e.dashboardObj.cards=e.modalData,e.dashboardObj.totalCheerCount=O.totalUserCheerCount,e.starsWidgetIndex=n),e.getDynamicWidgetHTML(n,J,u,`dashboard_${e.editObj._id}_widget_${e.widgetsData[n].widget_id}_data`,T)}else e.dashboardService.getWidgetResponse(e.widgetsData[n].widget_id,e.paramaterConcatenation,i,e.enterpriseId).then(c=>{e.modalData=c,e.modalData&&e.widgetsData[n].widget_html===e.starshtml&&(e.getDashboardJson(),e.starsWidgetIndex=n);let S=e.widgetsData[n].widget_query.split("const responseLabel = [");if(S=S.length>1?S[1].split("];")[0]:"",'<div "type"="bar"></div>'===e.widgetsData[n].widget_html&&(e.widgetType="bar"),e.TopwidgetHtml=e.widgetsData[n].widget_html.split('type="').length>1?e.widgetsData[n].widget_html.split('type="')[1].split('"')[0]:"",e.widgetsData[n].widget_html.split("var=&#34;").length>1&&(e.widgetBarHtml=e.widgetsData[n].widget_html.split("var=&#34;")[1].split("&#34")[0]),'<span type="Ads"></span><p></p>'===e.widgetsData[n].widget_html){const b=JSON.parse(JSON.stringify(c)),f=[];for(let y=0;y<b.length;y++)e.dataJsonObj.convertedEndDate=e.commonService.getDateObj(b[y].end_date,e.dataJsonObj.loginUserDateFormat),e.dataJsonObj.convertedStartDate=e.commonService.getDateObj(b[y].start_date,e.dataJsonObj.loginUserDateFormat),e.dataJsonObj.convertedCurrentDate=e.commonService.getDateObj(e.dataJsonObj.currentDate,e.dataJsonObj.loginUserDateFormat),e.dataJsonObj.convertedStartDate<=e.dataJsonObj.convertedCurrentDate&&e.dataJsonObj.convertedEndDate>=e.dataJsonObj.convertedCurrentDate&&f.push(b[y]);f&&f[0]?.banner_id&&(e.advindexUrl=e.dataJsonObj.bannerObj[f[0]?.banner_id]?.banner_destination?.destination_url,e.adImage=e.apiEndPoint+e.dataJsonObj.bannerObj[f[0]?.banner_id]?.banner_media_file_path+"/"+e.dataJsonObj.bannerObj[f[0]?.banner_id]?.banner_media_file_name,e.showAdSpinner=!1);let w=1;e.advertismentInterval=setInterval(()=>{f&&f[w]?.banner_id&&(e.advindexUrl=e.dataJsonObj.bannerObj[f[w]?.banner_id]?.banner_destination?.destination_url,e.adImage=e.apiEndPoint+e.dataJsonObj.bannerObj[f[w]?.banner_id]?.banner_media_file_path+"/"+e.dataJsonObj.bannerObj[f[w]?.banner_id]?.banner_media_file_name,e.showAdSpinner=!1),w++,f.length===w&&(w=0)},6e3)}if("Map"===e.TopwidgetHtml){e.initialData=c[5].geo_coordinates;for(let b=0;b<c.length;b++)e.heatmapdata.push(c[b].geo_coordinates);e.Options={layers:[L.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:""})],zoom:12,center:L.latLng(e.initialData)}}e.widgetTopXUsersData=c,e.widgetsData[n].widget_html===e.iplayhtml&&c[0]?(e.AvgfanMetricnumberSlider=c[0].value[0],e.FanMetricnumberSlider=c[1].value[0]):(e.AvgfanMetricnumberSlider=1,e.FanMetricnumberSlider=1),e.AvgfanMetricnumberSlider&&e.getAvgfanMetricnumberSlider(e.AvgfanMetricnumberSlider,i),e.FanMetricnumberSlider&&e.getFanMetricnumberSlider(e.FanMetricnumberSlider,i),e.widgetsData[n].widget_html===e.ifithtml&&c[0]?(e.stepsParentCircle=c[1].value[0],e.distancchildCircle=c[0].value[0]):(e.stepsParentCircle=1,e.distancchildCircle=1),e.stepsParentCircle&&e.displyRoundSliderSteps(e.stepsParentCircle),e.distancchildCircle&&e.displyRoundSliderDistance(e.distancchildCircle),e.widgetsData[n].widget_html===e.ifitbpm?setTimeout(()=>{e.bpmValue=c[0].totalSum},1e3):e.bpmValue="",e.widgetsData[n].widget_html===e.whistleValueHtml?setTimeout(()=>{c[0]?(e.totalWhistles=parseInt(c[0].value,10),e.reddemedWhistles=parseInt(c[0].secondary_value,10),e.remainingWhistles=e.totalWhistles-e.reddemedWhistles):e.remainingWhistles=6},1e3):e.remainingWhistles=0;const Xe=[["rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)","rgb(96, 212, 182)"],["rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)","rgb(255,180,0)"],["rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)","rgba(191, 191, 0, 1)"],["rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)","rgba(243, 53, 1, 1)"],["rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)","rgb(45,64,89)"],["rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)","rgb(208, 52, 255)"],["rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)","rgb(165, 40, 115)"],["rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)","rgb(255, 137, 120)"],["rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)","rgb(80, 163, 242)"],["rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)","rgb(251, 154, 171)"],["rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)","rgb(15, 202, 197)"],["rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)","rgb(106, 168, 182)"]];if(e.lableNames=[],e.barChatData=[],e.dataAsetsData=[],"bar"===e.widgetType||"pie"===e.widgetType){for(let b=0;b<c.length;b++){e.barChatData[c[b]._id.status]||(e.barChatData[c[b]._id.status]=[0,0,0,0,0,0,0,0,0,0,0,0]);const f=e.monthArray.indexOf(c[b]._id.month);e.barChatData[c[b]._id.status][f]=c[b].monthCount,e.lableNames=e.lableNames.filter(function(w){return w._id.status!==c[b]._id.status}),e.lableNames.push(c[b])}for(let b=0;b<e.lableNames.length;b++){const f={label:e.translateService.instant(e.lableNames[b]._id.status),data:e.barChatData[e.lableNames[b]._id.status],fill:!1,backgroundColor:Xe[b],borderWidth:1};e.dataAsetsData.push(f)}e.dataforbarchart={labels:[e.translateService.instant("COMMON_FIELDS.JAN"),e.translateService.instant("COMMON_FIELDS.FEB"),e.translateService.instant("COMMON_FIELDS.MAR"),e.translateService.instant("COMMON_FIELDS.APR"),e.translateService.instant("COMMON_FIELDS.MAY"),e.translateService.instant("COMMON_FIELDS.JUN"),e.translateService.instant("COMMON_FIELDS.JUL"),e.translateService.instant("COMMON_FIELDS.AUG"),e.translateService.instant("COMMON_FIELDS.SEP"),e.translateService.instant("COMMON_FIELDS.OCT"),e.translateService.instant("COMMON_FIELDS.NOV"),e.translateService.instant("COMMON_FIELDS.DEC")],datasets:e.dataAsetsData}}else{S=S.replace(/\'/gi,"");const b=S.split(",");c[0]&&(u[e.selectedEvent+""][e.selectedTeam+""]=c[0],e.getDynamicWidgetHTML(n,b,u,`dashboard_${e.editObj._id}_widget_${e.widgetsData[n].widget_id}_data`,T))}})}j.L.isEmpty(e.widgetDashboardId)||j.L.isEmpty(e.selectedEvent)||j.L.isEmpty(e.selectedTeam)||e.intializeSocket("PLAY_DASHBOARD_"+e.widgetDashboardId+"_"+e.selectedEvent+"_"+e.selectedTeam)}}catch(i){e.loggerService.setLoggerError(e.constructor.name,"getWidgetsData",i)}e.barchartOptions={tooltips:{mode:"index"},title:{display:!0,text:"",fontFamily:"Open Sans",fontSize:18,fontWeight:600,fontColor:"#0057b2",padding:8},legend:{labels:{display:!0,fontFamily:"Open Sans",fontSize:12,fontWeight:600,fontColor:"#0057b2"}},animation:{duration:1e3,easing:"easeInQuad"},scales:{xAxes:[{type:"category",stacked:!0,ticks:{fontFamily:"Open Sans",fontWeight:600,fontColor:"#0057b2"}}],yAxes:[{stacked:!0,ticks:{fontFamily:"Open Sans",fontWeight:600,fontColor:"#0057b2",userCallback:function(i,r,l){return(i=i.toString()).length>3?(i=(i=(i=i.slice(0,-3)).split(/(?=(?:...)*$)/)).join(","))+"K":i}}}]}}})()}getDynamicWidgetHTML(a,e,i,r,l){const o=i[this.selectedEvent+""][this.selectedTeam+""];if(o&&!o.stored_time&&a===this.hrWidgetIndex){o.hrSharedCount||(o.hrSharedCount=0);const n=localStorage.getItem(`wellness_element_${this.widgetsData[a].wellnessElementName}_value`);"--"!==n&&n&&(o.hrTotal=n,this.storingShareDataInLocal(d._L.HEART_RATE,n))}this.widgetsData[a].widget_html_value=this.widgetsData[a].widget_html;for(let n=0;n<e.length;n++)if(e[n]=e[n].trim(),this.widgetsData[a].widget_html.indexOf("{{"+e[n]+"}}")>-1){const m=parseInt(o[e[n]],10),p=m?m.toFixed(0):o[e[n]];this.widgetsData[a].widget_html_value=this.widgetsData[a].widget_html_value.replace("{{"+e[n]+"}}",p||"--")}if(this.widgetsData[a].widget_html_value=this.sanitizer.bypassSecurityTrustHtml(this.widgetsData[a].widget_html_value.replace("background : 'backgroundColor'",`background: ${this.widgetsData[a].background_color}`).replace("color: 'iconColor'",`color: ${this.widgetsData[a].icon_color}`).replace("color: 'textColor'",`color: ${this.widgetsData[a].text_color}`)),this.widgetsData[a].click_dependency_info={labels:e,isUserSpecificWidget:l,localStorageKey:r},o&&(this.widgetsData[a].click_widget_info=o.click_widget_info,l)){if(o.stored_time=C.utc().toDate(),!o.event_end_datetime){const n=this.selectedEvent&&"string"==typeof this.selectedEvent?parseInt(this.selectedEvent,10):this.selectedEvent,_=this.activeEventsOptions.find(m=>m.ID===n);o.event_end_datetime=_&&_.end_datetime?_.end_datetime:null,this.selectedEventName=_&&_.NAME?_.NAME:"",this.selectedEventSportId=_&&_.sport_id?_.sport_id:""}o.labels=e,localStorage.setItem(r,JSON.stringify(i))}}displyRoundSliderSteps(a){try{$("#slider").roundSlider({sliderType:"min-range",responsive:!0,animation:!0,radius:34,value:a,readOnly:!0,keyboardAction:!1,handleSize:"+16",handleShape:"steps",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,showTooltip:!1,max:"10000",startAngle:90,pathColor:"#f6e9f0",rangeColor:"#2aa102"})}catch(e){this.loggerService.setLoggerError(this.constructor.name,"displyRoundSliderSteps",e)}}displyRoundSliderDistance(a){try{$("#slider2").roundSlider({sliderType:"min-range",animation:!0,responsive:!0,radius:56,value:a,readOnly:!0,keyboardAction:!1,handleSize:"+16",handleShape:"steps",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,pathColor:"#ffebd8",rangeColor:"#e5b900",showTooltip:!1,max:"500",startAngle:90})}catch(e){this.loggerService.setLoggerError(this.constructor.name,"displyRoundSliderDistance",e)}}socialShare(){const a=localStorage.getItem(`iplay_board_${this.widgetDashboardId}_share_data`),e=JSON.parse(a);localStorage.setItem(d.BU.IPLAY_USER_SHARE_OBJECT,JSON.stringify(e[this.selectedEvent+""][this.selectedTeam+""])),this.router.navigate(["iotplay/socialshare/"+this.widgetDashboardId])}getAvgfanMetricnumberSlider(a,e){try{switch(e){case"web":this.getAvgfanMetricnumberSliderWeb(a);break;case"mobile":this.getAvgfanMetricnumberSliderMobile(this.AvgfanMetricnumberSlider);break;default:this.getAvgfanMetricnumberSliderTab(this.AvgfanMetricnumberSlider)}}catch{}}getFanMetricnumberSlider(a,e){try{switch(e){case"web":this.getFanMetricnumberSliderWeb(a);break;case"mobile":this.getFanMetricnumberSliderMobile(a);break;default:this.getFanMetricnumberSliderTab(a)}}catch{}}getAvgfanMetricnumberSliderWeb(a){try{$("#avgfanMetricnumberSlider").roundSlider({sliderType:"min-range",animation:!0,radius:100,responsive:!0,value:a,readOnly:!0,keyboardAction:!1,handleSize:"+16",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,pathColor:"#f6e9f0",rangeColor:this.avgFMColor,circleShape:"half-top",showTooltip:!1,max:d.VK.FANMETRIC_SLIDER_MAX_VALUE,handleShape:"fanmetricavg"})}catch{}}getAvgfanMetricnumberSliderMobile(a){try{$("#avgfanMetricnumberSlider").roundSlider({sliderType:"min-range",animation:!0,radius:56,responsive:!0,value:a,readOnly:!0,keyboardAction:!1,handleSize:"+16",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,pathColor:"#f6e9f0",rangeColor:this.avgFMColor,circleShape:"half-top",showTooltip:!1,max:d.VK.FANMETRIC_SLIDER_MAX_VALUE,handleShape:"fanmetricavg"})}catch{}}getAvgfanMetricnumberSliderTab(a){try{$("#avgfanMetricnumberSlider").roundSlider({sliderType:"min-range",animation:!0,radius:56,responsive:!0,value:a,readOnly:!0,keyboardAction:!1,handleSize:"+16",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,pathColor:"#f6e9f0",rangeColor:this.avgFMColor,circleShape:"half-top",showTooltip:!1,max:d.VK.FANMETRIC_SLIDER_MAX_VALUE,handleShape:"fanmetricavg"})}catch{}}getFanMetricnumberSliderWeb(a){try{$("#fanMetricnumberSlider").roundSlider({sliderType:"min-range",animation:!0,radius:78,responsive:!0,value:a,readOnly:!0,keyboardAction:!1,handleSize:"+16",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,pathColor:"#d6ffc8",rangeColor:this.userFMColor,circleShape:"half-top",showTooltip:!1,max:d.VK.FANMETRIC_SLIDER_MAX_VALUE,handleShape:"fanmetric"})}catch{}}getFanMetricnumberSliderMobile(a){try{$("#fanMetricnumberSlider").roundSlider({sliderType:"min-range",animation:!0,radius:34,responsive:!0,value:a,readOnly:!0,keyboardAction:!1,handleSize:"+16",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,pathColor:"#d6ffc8",rangeColor:this.userFMColor,circleShape:"half-top",showTooltip:!1,max:d.VK.FANMETRIC_SLIDER_MAX_VALUE,handleShape:"fanmetric"})}catch{}}getFanMetricnumberSliderTab(a){try{$("#fanMetricnumberSlider").roundSlider({sliderType:"min-range",animation:!0,radius:34,responsive:!0,value:a,readOnly:!0,keyboardAction:!1,handleSize:"+16",editableTooltip:!1,width:4,svgMode:!0,borderWidth:0,pathColor:"#d6ffc8",rangeColor:this.userFMColor,circleShape:"half-top",showTooltip:!1,max:d.VK.FANMETRIC_SLIDER_MAX_VALUE,handleShape:"fanmetric"})}catch{}}widgetDependencyCountIncrement(a){const e={};for(let i=0;i<this.widgetsData.length;i++){const r=this.widgetsData[i].click_widget_info?this.widgetsData[i].click_widget_info.wellness_element:"";r&&r===a&&(e[r]={widget_data:this.widgetsData[i],index:i})}if(e[a]){const i=JSON.parse(JSON.stringify(e[a].widget_data));i.click_widget_info.action="increment",i.click_widget_info.audioFile="",this.widgetsItemClick(i,e[a].index)}}widgetsItemClick(a,e){if(a.click_widget_info&&a.click_widget_info.wellness_element){const i=localStorage.getItem(a.click_dependency_info.localStorageKey),r=JSON.parse(i),l=r[this.selectedEvent+""][this.selectedTeam+""];if("decrement"==a.click_widget_info.action){l[a.click_widget_info.updateField]=l[a.click_widget_info.updateField]-1,l.redeemedInfo||(l.redeemedInfo={});const o=`${this.dashboardObj.cards[0].type}_${this.dashboardObj.cards[0].id}`;l.redeemedInfo[o]=l.redeemedInfo[o]?l.redeemedInfo[o]+1:1}else"increment"==a.click_widget_info.action&&(l[a.click_widget_info.updateField]=l[a.click_widget_info.updateField]+1,this.particlesclick(e));if(l[a.click_widget_info.updateField]>=0){if(this.widgetsData[e].updateDataValue=l[a.click_widget_info.updateField],a.click_widget_info.audioFile){this.audioPlay.pause(),this.audioPlay.currentTime=0,this.audioPlay.src=a.click_widget_info.audioFile,this.audioPlay.play();const o=a.click_widget_info.actionClass,n=a.click_widget_info.actionTag;n&&o&&a.click_widget_info.actionStartms&&a.click_widget_info.actionEndms&&(this.particlesclick(e),$("."+n).addClass(o),setTimeout(()=>{$("."+n).addClass(o)},a.click_widget_info.actionStartms),setTimeout(()=>{$("."+n).removeClass(o)},a.click_widget_info.actionEndms))}this.getDynamicWidgetHTML(e,a.click_dependency_info.labels,r,a.click_dependency_info.localStorageKey,a.click_dependency_info.isUserSpecificWidget),"decrement"==a.click_widget_info.action&&this.fanmetricPoinstArrayJSON[this.selectedEvent+""][this.selectedTeam+""].push({wellness_element:a.click_widget_info.wellness_element,date:C.utc().toDate()}),this.storingShareDataInLocal(a.click_widget_info.wellness_element,l[a.click_widget_info.updateField])}}else"HeartRateAVGUser"===a.HeartRateAVGUser&&(this.show=!this.show)}setInterval(){this.setTimeInterval=setInterval(()=>{this.isEanbleCameraHR()},6e4)}isEanbleCameraHR(){if(localStorage.getItem(d.BU.CAMHR_LASTDATE)){const a=localStorage.getItem(d.BU.CAMHR_LASTDATE),e=this.getTimeRemaining(a);this.days=e.days,this.hours=e.hours,this.minutes=e.minutes,this.seconds=e.seconds,this.minutes>=2?(this.userHr="--",clearInterval(this.setTimeInterval)):this.userHr=localStorage.getItem(d.BU.CAMHR)}else this.userHr="--",localStorage.setItem(d.BU.CAMHR_LASTDATE,(new Date).toISOString())}bandclick(){const a=this.widgetsData[this.hrWidgetIndex];if(this.showBandSpinner=!0,this.deviceConnection.getDeviceConnection()){const e={wellness_element:d._L.HEART_RATE,value:0,date:C.utc().toDate()};let i=!0;const r=localStorage.getItem(a.click_dependency_info.localStorageKey),l=JSON.parse(r),o=l[this.selectedEvent+""][this.selectedTeam+""];o.hrSharedCount=o.hrSharedCount+1,this.getDynamicWidgetHTML(this.hrWidgetIndex,a.click_dependency_info.labels,l,a.click_dependency_info.localStorageKey,a.click_dependency_info.isUserSpecificWidget),this.setTimeInterval=setInterval(()=>{this.lastBLEHR=this.deviceServices.lastBLEHR,this.showBandSpinner=!1,this.show=!1,"--"===this.lastBLEHR&&(this.lastBLEHR=0);const n=localStorage.getItem(a.click_dependency_info.localStorageKey),_=JSON.parse(n);i&&(e.value=_[this.selectedEvent+""][this.selectedTeam+""].hrTotal,this.fanmetricPoinstArrayJSON[this.selectedEvent+""][this.selectedTeam+""].push(e),i=!1),this.storingShareDataInLocal(d._L.HEART_RATE,this.lastBLEHR),this.getDynamicWidgetHTML(this.hrWidgetIndex,a.click_dependency_info.labels,_,a.click_dependency_info.localStorageKey,a.click_dependency_info.isUserSpecificWidget)},5e3)}else this.router.navigate(["/devicesettings/list"])}cameraClick(){if((this.platform.is("android")||this.platform.is("ios")||this.platform.is("ipad")||this.platform.is("iphone"))&&!this.commonService.isBrowserApp()){clearInterval(this.setTimeInterval);const a=this.widgetsData[this.hrWidgetIndex];if(this.deviceServices.getCAMHR()){const e=this.translateService.instant("NEW_VARIABLES.TOAST_MESSAGE_FOR_CAMERA_HR");this.toastMsgForCAMHR(e),this.StartTimer(),this.deviceServices.subjectCAMHR.subscribe(i=>{this.show=!1;const r=localStorage.getItem(a.click_dependency_info.localStorageKey),l=JSON.parse(r),o=l[this.selectedEvent+""][this.selectedTeam+""];o.hrTotal=i[1],o.hrSharedCount=o.hrSharedCount+1,this.storingShareDataInLocal(d._L.HEART_RATE,o.hrTotal),this.getDynamicWidgetHTML(this.hrWidgetIndex,a.click_dependency_info.labels,l,a.click_dependency_info.localStorageKey,a.click_dependency_info.isUserSpecificWidget),this.fanmetricPoinstArrayJSON[this.selectedEvent+""][this.selectedTeam+""].push({wellness_element:d._L.HEART_RATE,value:o.hrTotal,date:C.utc().toDate()})})}}else{const a=this.translateService.instant("NEW_VARIABLES.CAMERA_FEATURE_IS_AVAILABLE_ONLY_IN_MOBILE_APP");this.toastMsgForCAMHR(a)}}toastMsgForCAMHR(a){var e=this;return(0,D.Z)(function*(){(yield e.toastController.create({message:a,position:"middle",duration:5e3,color:"primary"})).present()})()}StartTimer(){this.timer=setTimeout(a=>{this.maxTime>0?(this.maxTime-=1,this.hidevalue=!1,this.StartTimer()):0===this.maxTime?(this.maxTime=15,this.hidevalue=!0):this.hidevalue=!0},1e3)}particlesclick(a){const e=document.getElementById("clap"+a),i=document.getElementById("particles_"+a),r=document.getElementById("particles-2_"+a),l=document.getElementById("particles-3_"+a);e.classList.add("clicked"),i.classList.contains("animating")?r.classList.contains("animating")?l.classList.contains("animating")||this.animateParticles(l,2e3):this.animateParticles(r,2e3):this.animateParticles(i,2e3)}runAnimationCycle(a,e,i){a&&!a.classList.contains(e)||a.classList.remove(e),a.classList.add(e)}animateParticles(a,e){this.addRandomParticlesRotation(a.id,this.minDeg,this.maxDeg);for(let i=0;i<this.particlesClasses.length;i++)this.runParticleAnimationCycle(a.children[i],this.particlesClasses[i].class,e);a.classList.add("animating"),setTimeout(()=>{a.classList.remove("animating")},e)}addRandomParticlesRotation(a,e,i){const r=document.getElementById(a),l=this.getRandomInt(e,i)+"deg";r.style.transform=`rotate(${l})`}getRandomInt(a,e){return Math.floor(Math.random()*(e-a+1))+a}runParticleAnimationCycle(a,e,i){a&&!a.classList.contains(e)&&(a.classList.add(e),setTimeout(()=>{a.classList.remove(e)},i))}intializeSocket(a){const e=this.commonService.isMobileWindow()?"mobile":"web";this.socketSubscriber&&this.socketSubscriber.unsubscribe(),this.socketSubscriber=this.socketService.subscribeEvent(a).subscribe(i=>{if(i.Heart_Rate){const r=this.widgetsData[this.hrWidgetIndex],l=localStorage.getItem(r.click_dependency_info.localStorageKey),o=JSON.parse(l);o[this.selectedEvent+""][this.selectedTeam+""].hrAvg=i.Heart_Rate.hrAvg,this.getDynamicWidgetHTML(this.hrWidgetIndex,r.click_dependency_info.labels,o,r.click_dependency_info.localStorageKey,r.click_dependency_info.isUserSpecificWidget)}if(i.Fanmetric){const r=this.widgetsData[this.fmWidgetIndex],l=localStorage.getItem(r.click_dependency_info.localStorageKey),o=l?JSON.parse(l):{};o[this.selectedEvent+""]||(o[this.selectedEvent+""]={}),o[this.selectedEvent+""][this.selectedTeam+""]||(o[this.selectedEvent+""][this.selectedTeam+""]={});const n=o[this.selectedEvent+""][this.selectedTeam+""];if(n.totalSum=i.Fanmetric.fmAvg,this.getAvgfanMetricnumberSlider(i.Fanmetric.fmAvg,e),n.stored_time=C.utc().toDate(),!n.event_end_datetime){const _=this.selectedEvent&&"string"==typeof this.selectedEvent?parseInt(this.selectedEvent,10):this.selectedEvent,m=this.activeEventsOptions.find(p=>p.ID===_);n.event_end_datetime=m&&m.end_datetime?m.end_datetime:null}n.labels=r.click_dependency_info.labels,this.getDynamicWidgetHTML(this.fmWidgetIndex,r.click_dependency_info.labels,o,r.click_dependency_info.localStorageKey,!0)}if(i.Cheers){const r=this.widgetsData[this.starsWidgetIndex];for(let l=0;l<this.dashboardObj.cards.length;l++)this.dashboardObj.cards[l].totalCheerCount=this.dashboardObj.cards[l].totalCheerCount+(i.Cheers[this.dashboardObj.cards[l].id+""]-this.dashboardObj.cards[l].publisedCheerCount),this.dashboardObj.cards[l].publisedCheerCount=0;this.updateCheersDataIntoLocal(r)}}),this.intervalfunction(e)}intervalfunction(a){const e={user_id:localStorage.getItem(d.BU.LOG_IN_USER_ID),room:"PLAY_DASHBOARD_"+this.widgetDashboardId+"_"+this.selectedEvent+"_"+this.selectedTeam,event_end_date:null};this.socketEmitSubscribeclearInterval(),this.socketEmitIntervalSubscribe=setInterval(()=>{if(this.metricsWidgetsIndexes&&this.metricsWidgetsIndexes.length>0)for(let i=0;i<this.metricsWidgetsIndexes.length;i++){const r=this.widgetsData[this.metricsWidgetsIndexes[i]];if(r&&r.wellnessElementName===d._L.HEART_RATE){const l=localStorage.getItem(`dashboard_${this.widgetDashboardId}_widget_${r.widget_id}_data`);if(l){const o=JSON.parse(l);e[r.wellnessElementName]={hrTotal:parseInt(o[this.selectedEvent+""][this.selectedTeam+""].hrTotal,10),hrSharedCount:o[this.selectedEvent+""][this.selectedTeam+""].hrSharedCount?o[this.selectedEvent+""][this.selectedTeam+""].hrSharedCount:0},e.event_end_date=o[this.selectedEvent+""][this.selectedTeam+""].event_end_datetime}else e[r.wellnessElementName]={hrTotal:0,hrSharedCount:0}}if(r&&r.wellnessElementName===d._L.CHEERS){const l=localStorage.getItem(`dashboard_${this.widgetDashboardId}_widget_${r.widget_id}_data`),o={};if(l){const n=JSON.parse(l),_=n&&n[this.selectedEvent+""]?n[this.selectedEvent+""][this.selectedTeam+""]:{};if(_){const m=_.cards?_.cards:[];for(let p=0;p<m.length;p++)this.dashboardObj.cards[p].publisedCheerCount=this.dashboardObj.cards[p].totalCheerCount,o[m[p].id+""]=m[p].cheerCount}}e[r.wellnessElementName]=o}if(r&&r.wellnessElementName===d._L.FANMETRIC){const l=localStorage.getItem(`dashboard_${this.widgetDashboardId}_widget_${r.widget_id}_data`),o=C.utc().toDate();o.setUTCSeconds(o.getUTCSeconds()-d.VK.FANMETRIC_FREQUENCY_IN_SEC);let n=0,_={};const m=this.fanmetricPoinstArrayJSON[this.selectedEvent+""][this.selectedTeam+""];for(let p=0;p<m.length;p++)if(m[p].date>=o){switch(m[p].wellness_element){case d._L.HEART_RATE:n+=d.VK.SHARE_HEART_RATE_FANMETRIC_POINTS;break;case d._L.CHEERS:n+=d.VK.CHEER_FANMETRIC_POINTS;break;case d._L.CLAPS:n+=d.VK.REDEEM_CLAP_FANMETRIC_POINTS;break;case d._L.WAVES:n+=d.VK.REDEEM_WAVE_FANMETRIC_POINTS;break;case d._L.WHISTLES:n+=d.VK.REDEEM_WHISTLE_FANMETRIC_POINTS}_[m[p].wellness_element]||(_[m[p].wellness_element]={totalCount:0,totalSum:0}),_[m[p].wellness_element].totalCount=_[m[p].wellness_element].totalCount+1,m[p].wellness_element===d._L.HEART_RATE&&(_[m[p].wellness_element].totalSum=_[m[p].wellness_element].totalSum+parseInt(m[p].value,10))}else this.fanmetricPoinstArrayJSON[this.selectedEvent+""][this.selectedTeam+""].splice(p,1),p--;if(e[r.wellnessElementName]=n,e.webLatestRedeemedInfo=_,this.getFanMetricnumberSlider(n,a),this.storingShareDataInLocal(r.wellnessElementName,n),l){const p=JSON.parse(l);p[this.selectedEvent+""][this.selectedTeam+""].totalSum=n,this.getDynamicWidgetHTML(this.metricsWidgetsIndexes[i],r.click_dependency_info.labels,p,r.click_dependency_info.localStorageKey,r.click_dependency_info.isUserSpecificWidget)}}if(r&&r.wellnessElementName===d._L.CLAPS){const l=localStorage.getItem(`dashboard_${this.widgetDashboardId}_widget_${r.widget_id}_data`);if(l){const o=JSON.parse(l);e[r.wellnessElementName]={totalSum:parseInt(o[this.selectedEvent+""][this.selectedTeam+""].totalSum,10),redeemedInfo:o[this.selectedEvent+""][this.selectedTeam+""].redeemedInfo}}else e[r.wellnessElementName]={totalSum:0,redeemedInfo:{}}}if(r&&r.wellnessElementName===d._L.WAVES){const l=localStorage.getItem(`dashboard_${this.widgetDashboardId}_widget_${r.widget_id}_data`);if(l){const o=JSON.parse(l);e[r.wellnessElementName]={totalSum:parseInt(o[this.selectedEvent+""][this.selectedTeam+""].totalSum,10),redeemedInfo:o[this.selectedEvent+""][this.selectedTeam+""].redeemedInfo}}else e[r.wellnessElementName]={totalSum:0,redeemedInfo:{}}}if(r&&r.wellnessElementName===d._L.WHISTLES){const l=localStorage.getItem(`dashboard_${this.widgetDashboardId}_widget_${r.widget_id}_data`);if(l){const o=JSON.parse(l);e[r.wellnessElementName]={totalSum:parseInt(o[this.selectedEvent+""][this.selectedTeam+""].totalSum,10),redeemedInfo:o[this.selectedEvent+""][this.selectedTeam+""].redeemedInfo}}else e[r.wellnessElementName]={totalSum:0,redeemedInfo:{}}}}this.socketEmit(e)},d.VK.PUBLISH_FREQUENCY)}socketEmit(a){this.socketService.emitEvent("IOT_DASHBOARD",a)}storingShareDataInLocal(a,e){const i=localStorage.getItem(`iplay_board_${this.widgetDashboardId}_share_data`),r=JSON.parse(i);r[this.selectedEvent+""][this.selectedTeam+""][a]=e,localStorage.setItem(`iplay_board_${this.widgetDashboardId}_share_data`,JSON.stringify(r))}getAdImageUrl(a){this.commonService.commonRedirectUrl(a)}static \u0275fac=function(e){return new(e||s)(t.Y36("apiEndPoint"),t.Y36(Y.s),t.Y36(z.I),t.Y36(K.n),t.Y36(G.m),t.Y36(N.F0),t.Y36(ae.H7),t.Y36(v.yF),t.Y36(A.sK),t.Y36(ie.s),t.Y36(V.v),t.Y36(W.v),t.Y36(Q.u),t.Y36(q.e),t.Y36(U.v),t.Y36(H.t4),t.Y36(N.gz),t.Y36(X.$),t.Y36(ne.x0))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-iot-dashboards"]],hostBindings:function(e,i){1&e&&t.NdJ("bpm-event",function(l){return i.getHrValue(l)},!1,t.Jf7)},inputs:{TinderUIComponent:"TinderUIComponent"},features:[t._Bn([U.v,W.v]),t.qOj],decls:11,vars:9,consts:[[1,"container-fluid"],[3,"ngClass"],[1,"dashboard-page"],[1,"content"],["id","event-info-block-id",1,"position-relative"],["class","d-flex align-items-center justify-content-center flex-column w-100 h-100",4,"ngIf"],["class","align-items-center d-flex justify-content-center flex-column pdl-5 pdr-5 pdb-8 w-100 pdt-5",4,"ngIf"],["id","playboard-dynamic-height","class","position-relative",4,"ngIf"],["horizontal","end","vertical","bottom","slot","fixed",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-center","flex-column","w-100","h-100"],[1,"text-center","text-uppercase"],["id","clockdiv",1,"d-block"],[1,"w-100","d-flex","align-items-center","justify-content-center","text-center",3,"counterEndDate"],[1,"align-items-center","d-flex","justify-content-center","flex-column","pdl-5","pdr-5","pdb-8","w-100","pdt-5"],[1,"w-100","d-flex","align-items-start"],["size","12",1,"ion-text-center","pdt-0"],["class","change-event-item text-info",4,"ngIf"],[3,"size"],[1,"w-100","widget-dropdown","d-flex","flex-column"],["matSelectClass","widgetdropdown","label","Events","disabled","false","mandatory","true",1,"w-100",3,"defaultValue","options","valueChange"],["label","Teams","disabled","false","mandatory","true",1,"w-100",3,"className","defaultValue","options","valueChange"],["size","2",4,"ngIf"],["class","position-relative",4,"ngIf"],["class","position-relative","size","12","class","ion-text-center pdt-0",4,"ngIf"],[1,"change-event-item","text-info"],[1,"fas","fa-info-circle","mgr-5"],["size","2"],[1,"w-100","text-center"],[1,"card-header","bd-0","pd-0"],[1,"card-icon","d-flex","align-items-center","justify-content-center",3,"click"],[1,"icon-shares","txt-danger","stats-share"],[1,"fs-21","text-primary"],[1,"position-relative"],["id","playboard-dynamic-height",1,"position-relative"],[3,"options",4,"ngIf"],[3,"options"],[3,"item",4,"ngFor","ngForOf"],[3,"item"],[1,"button-holder"],[3,"innerHTML",4,"ngIf"],["style","width: 100%; height: 100%;","class","widget-list-item",3,"click",4,"ngIf"],[3,"ngClass","innerHTML",4,"ngIf"],["style","width: 100%; height: 100%;",3,"click",4,"ngIf"],[4,"ngIf"],["class","",4,"ngIf"],["class","custom-widget",4,"ngIf"],["style","height: 100vh;","leaflet","",3,"leafletOptions","leafletMapReady",4,"ngIf"],["class","team-cheer-block slide-block",4,"ngIf"],["class","TopUserscroll",4,"ngIf"],[3,"innerHTML"],[1,"widget-list-item",2,"width","100%","height","100%",3,"click"],[1,"canvas"],[1,"clap-container",3,"id"],[1,"particles-container",3,"id"],[1,"triangle"],[1,"square"],[1,"cursor-pointer",3,"innerHTML"],[3,"ngClass","innerHTML"],[2,"width","100%","height","100%",3,"click"],[1,"action-widget-bg","heart-rate"],[1,"action-widget-bg",3,"innerHTML"],[1,"fs-20"],["type","bar","height","100%",3,"data"],["type","pie","height","100%",3,"data"],[1,""],[1,"rangebar","ion-text-center","justify-content-center"],[1,"circle-parent"],["id","slider",1,"circle-child"],["id","slider2",1,"circle-child2"],[1,"custom-widget"],[1,"progress-main"],[1,"dashboard-circle-parent"],["id","fanMetricnumberSlider",1,"circle-child"],["id","avgfanMetricnumberSlider",1,"circle-child2"],["leaflet","",2,"height","100vh",3,"leafletOptions","leafletMapReady"],[1,"card-header","bd-0","card-header-icon"],[1,"card-icon"],[1,"icon-bp","txt-danger","fs-36"],[1,"card-title"],[1,"card-category"],["width","452","height","229","seamless","","frameborder","0","scrolling","yes",3,"src"],[1,"team-cheer-block","slide-block"],[1,"tinder-cards",3,"cards","valueChange"],[1,"ad-img",3,"click"],["name","lines","color","primary",4,"ngIf"],[1,"cursor-pointer",3,"src"],["name","lines","color","primary"],[1,"TopUserscroll"],[4,"ngFor","ngForOf"],["slot","start",1,"bd-1"],["onError","this.onerror=null;this.src='/assets/img/image_placeholder.jpg';",3,"src"],["horizontal","end","vertical","bottom","slot","fixed"],["size","small",3,"click"],["class","icon-band-w icon fs-18",4,"ngIf"],[1,"txt-primary","icon-count","fs-18"],["name","bubbles",4,"ngIf"],["size","small",3,"click",4,"ngIf"],[1,"icon-band-w","icon","fs-18"],["name","bubbles"],["class","icon-camera icon fs-18",4,"ngIf"],["class","txt-primary icon-count fs-18",4,"ngIf"],[1,"icon-camera","icon","fs-18"],["class","txt-primary fs-18",4,"ngIf"],[1,"txt-primary","fs-18"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t.YNc(6,ge,6,4,"div",5),t.YNc(7,he,4,3,"div",5),t.YNc(8,fe,13,11,"div",6),t.qZA(),t.YNc(9,Ze,2,1,"div",7),t.YNc(10,Ve,6,3,"ion-fab",8),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("ngClass",t.VKq(7,Ye,"tablet"===i.printvalue||"smartphone"===i.printvalue)),t.xp6(1),t.Q6J("ngClass",i.printvalue),t.xp6(4),t.Q6J("ngIf","iplay"===i.parameterName&&i.isenabledtimer&&!i.isErrorMessage),t.xp6(1),t.Q6J("ngIf","iplay"===i.parameterName&&!i.isenabledtimer&&i.isErrorMessage),t.xp6(1),t.Q6J("ngIf","iplay"===i.parameterName&&!i.isenabledtimer&&!i.isErrorMessage),t.xp6(1),t.Q6J("ngIf",!i.isenabledtimer&&!i.isErrorMessage),t.xp6(1),t.Q6J("ngIf",i.show))},dependencies:[M.mk,M.sg,M.O5,v.BJ,v.wI,v.IJ,v.W4,v.gu,v.Ie,v.Q$,v.Nd,v.PQ,v.yW,se.k,de,I.sm,I.IM,ce.d,A.X$],styles:['[_nghost-%COMP%]{width:100%;height:100%;display:flex;flex-flow:column nowrap;overflow:hidden}.dashboard-container[_ngcontent-%COMP%]{display:flex;flex-flow:column nowrap;flex:1 1 100%}.dashboard-container[_ngcontent-%COMP%]   .dashboard-page[_ngcontent-%COMP%]{flex:1 1 auto;position:relative}.btn-group[_ngcontent-%COMP%]{margin-left:.5rem}.toggle-switch[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:2px;position:relative;top:1px}.toggle-switch[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000}.sortgroup[_ngcontent-%COMP%]{margin:1px 0 0;width:20px;height:17px;background:#e3d8d8}.sortgroup[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{display:block;padding:0;width:20px;height:8px;line-height:3px;margin:0;border-radius:0;color:#636060}.sortgroup[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{color:#efe7e7}.sortgroup[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0!important;line-height:8px}.laptop[_ngcontent-%COMP%]{transform-origin:0 0;transform:scale(.6) translate(-50%);left:50%;position:absolute;width:1366px;height:800px;border-radius:6px;border-style:solid;border-color:#000;border-width:24px 24px 80px;background-color:#000}.laptop[_ngcontent-%COMP%]:after{content:"";display:block;position:absolute;width:1600px;height:60px;margin:80px 0 0 -110px;background:black;border-radius:6px}.laptop[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:250px;height:30px;bottom:-110px;left:50%;transform:translate(-50%);background:#f1f1f1;border-bottom-left-radius:5px;border-bottom-right-radius:5px;z-index:1}.laptop[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{width:1366px;height:800px;overflow:hidden;border:none}.tablet[_ngcontent-%COMP%]{position:relative;width:737px;height:100vh;margin:auto;border:16px black solid;border-top-width:60px;border-bottom-width:60px;border-radius:36px}.tablet[_ngcontent-%COMP%]:before{content:"";display:block;width:60px;height:5px;position:absolute;top:-30px;left:50%;transform:translate(-50%,-50%);background:#333;border-radius:10px}.tablet[_ngcontent-%COMP%]:after{content:"";display:block;width:35px;height:35px;position:absolute;left:50%;bottom:-65px;transform:translate(-50%,-50%);background:#333;border-radius:50%}.tablet[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:80vh;background:white;margin:-1px}.smartphone[_ngcontent-%COMP%]{position:relative;width:328px;height:100vh;margin:auto;border:16px black solid;border-top-width:60px;border-bottom-width:60px;border-radius:36px}.smartphone[_ngcontent-%COMP%]:before{content:"";display:block;width:60px;height:5px;position:absolute;top:-30px;left:50%;transform:translate(-50%,-50%);background:#333;border-radius:10px}.smartphone[_ngcontent-%COMP%]:after{content:"";display:block;width:35px;height:35px;position:absolute;left:50%;bottom:-65px;transform:translate(-50%,-50%);background:#333;border-radius:50%}.smartphone[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:405px;background:white}gridster.scrollVertical[_ngcontent-%COMP%]{background-color:transparent}.panel[_ngcontent-%COMP%]{box-shadow:0 2px #0000000d;border-radius:0;border:0;margin-bottom:24px}.panel-dark.panel-colorful[_ngcontent-%COMP%]{background-color:#3b4146;border-color:#3b4146;color:#fff;height:100}.tablet[_ngcontent-%COMP%]   .dashboard-page[_ngcontent-%COMP%], .smartphone[_ngcontent-%COMP%]   .dashboard-page[_ngcontent-%COMP%]{height:100vh}.device-view-wrapper[_ngcontent-%COMP%]{position:relative;overflow-y:auto;height:83vh}h3[_ngcontent-%COMP%]{color:#396;font-weight:600}#clockdiv[_ngcontent-%COMP%]{font-family:sans-serif;color:var(--body-text-color);display:inline-block;font-weight:100;text-align:center}#clockdiv[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px;border-radius:3px;display:inline-block}#clockdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding:15px;border-radius:3px;background:var(--primary-darker-color);display:inline-block}.smalltext[_ngcontent-%COMP%]{padding-top:5px;color:var(--text-primary-darker-color)}.verticalmiddle[_ngcontent-%COMP%]{position:absolute;top:40%;left:0;right:0;margin:0 auto;transform:translateY(-50%);-moz-transform:translateY(-50%);-webkit-transform:translateY(-50%)}.canvas[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:50px;height:50px;position:absolute;z-index:0}.canvas[_ngcontent-%COMP%]   .total-counter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;position:absolute;margin-top:-45px;color:gray;font-family:sans-serif}.canvas[_ngcontent-%COMP%]   .total-counter.fader[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in 1.4s infinite}.canvas[_ngcontent-%COMP%]   .clap-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;width:50px;height:50px;border-radius:50%;z-index:0;cursor:pointer}.canvas[_ngcontent-%COMP%]   .clap-container[_ngcontent-%COMP%]   .clap-icon[_ngcontent-%COMP%]{color:#03a87c;width:30px;height:30px}.canvas[_ngcontent-%COMP%]   .clap-container[_ngcontent-%COMP%]:hover{border:1px solid #03a87c}.canvas[_ngcontent-%COMP%]   .clap-container.scale[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_scaleAndBack .7s forwards}.canvas[_ngcontent-%COMP%]   .click-counter[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:35px;height:35px;position:absolute;top:132px;background-color:#03a87c;border-radius:50%;z-index:0}.canvas[_ngcontent-%COMP%]   .click-counter[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{font-family:sans-serif;color:#fff}.canvas[_ngcontent-%COMP%]   .click-counter.first-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_first-bump-in 1s forwards}.canvas[_ngcontent-%COMP%]   .click-counter.active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bump-in 1s forwards}.canvas[_ngcontent-%COMP%]   .clap-container-sonar[_ngcontent-%COMP%]{width:50px;height:50px;background:#03a87c;border-radius:50%;position:absolute;opacity:0;z-index:0}.canvas[_ngcontent-%COMP%]   .hover-active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_sonar-wave 2s forwards}.canvas[_ngcontent-%COMP%]   .particles-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:50px;height:50px;position:absolute;z-index:0}.canvas[_ngcontent-%COMP%]   .particles-container[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]{border-left:4px solid transparent;border-right:4px solid transparent;border-top:10px solid red;border-bottom:4px solid transparent;position:absolute;z-index:0}.canvas[_ngcontent-%COMP%]   .particles-container[_ngcontent-%COMP%]   .triangle[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{width:5px;height:5px;background:#03a87c;position:absolute;left:-15px;top:0;z-index:0}.canvas[_ngcontent-%COMP%]   .particles-container[_ngcontent-%COMP%]   .pop-top[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pop-top 2s forwards}.canvas[_ngcontent-%COMP%]   .particles-container[_ngcontent-%COMP%]   .pop-top-left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pop-top-left 2s forwards}.canvas[_ngcontent-%COMP%]   .particles-container[_ngcontent-%COMP%]   .pop-top-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pop-top-right 2s forwards}.canvas[_ngcontent-%COMP%]   .particles-container[_ngcontent-%COMP%]   .pop-bottom-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pop-bottom-right 2s forwards}.canvas[_ngcontent-%COMP%]   .particles-container[_ngcontent-%COMP%]   .pop-bottom-left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pop-bottom-left 2s forwards}@keyframes _ngcontent-%COMP%_sonar-wave{0%{opacity:.7}to{transform:scale(1.4);opacity:0}}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}50%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_pop-top{0%{transform:translate(0) rotate(0);opacity:.9}to{transform:translateY(-100px) rotate(0);opacity:0}}@keyframes _ngcontent-%COMP%_pop-top-left{0%{transform:translate(0) rotate(-55deg);opacity:.9}to{transform:translate(-100px,-50px) rotate(-55deg);opacity:0}}@keyframes _ngcontent-%COMP%_pop-top-right{0%{transform:translate(0) rotate(55deg);opacity:.9}to{transform:translate(100px,-50px) rotate(55deg);opacity:0}}@keyframes _ngcontent-%COMP%_pop-bottom-right{0%{transform:translate(0) rotate(135deg);opacity:.9}to{transform:translate(70px,80px) rotate(135deg);opacity:0}}@keyframes _ngcontent-%COMP%_pop-bottom-left{0%{transform:translate(0) rotate(-135deg);opacity:.9}to{transform:translate(-70px,80px) rotate(-135deg);opacity:0}}@keyframes _ngcontent-%COMP%_first-bump-in{0%{transform:translateY(-65px);opacity:1}50%{transform:translateY(-80px);opacity:1}to{transform:translateY(-100px);opacity:0}}@keyframes _ngcontent-%COMP%_bump-in{0%{transform:translateY(-80px) scale(.9);opacity:1}50%{transform:translateY(-80px) scale(1);opacity:1}to{transform:translateY(-100px) scale(1);opacity:0}}@keyframes _ngcontent-%COMP%_scaleAndBack{0%{transform:scale(1)}50%{transform:scale(1.15)}to{transform:scale(1)}}']})}return s})()}];let Qe=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=t.oAB({type:s});static \u0275inj=t.cJS({imports:[N.Bz.forChild($e),N.Bz]})}return s})();var ze=g(1752),qe=g(84385);let Ke=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=t.oAB({type:s});static \u0275inj=t.cJS({imports:[M.ez,v.Pc,B.Q,A.aw,Qe,I.IX,ze.StarIotModule,qe.LD]})}return s})()}}]);