"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3337],{93337:(La,Y,c)=>{c.r(Y),c.d(Y,{CrmOpportunitiesModule:()=>Ia});var E=c(32174),v=c(36895),L=c(11210),u=c(15439),G=c(68472),f=c(71568),ie=c(75875),r=c(32236),Z=c(90313),e=c(94650);let R=(()=>{class i{authService;api;constructor(t){this.authService=t}getAccountNames(t,o){return new Promise((a,n)=>{this.authService.getApiCall("api/v1/crmaccounts?type=drop&enterprise.enterprise_id="+t+"&search="+o).subscribe(s=>{a(s)},s=>{n(s)})})}getOppTypeLookups(t,o){return new Promise((a,n)=>{this.authService.getApiCall("api/v1/lookupcodes?type=drop&enterprise.enterprise_id="+o+"&lookupType.lookup_type_name="+t).subscribe(s=>{a(s)},s=>{n(s)})})}createOpportunity(t){return new Promise((o,a)=>{this.authService.postApiCall("api/v1/crmopportunities/",t).subscribe(n=>{o(n)},n=>{a(n)})})}get(t,o){let a;return a=o?"api/v1/crmopportunities/"+t+"?enterprise.enterprise_id="+localStorage.getItem(r.BU.SELECTED_ENTERPRISE)+o:"api/v1/crmopportunities/"+t,this.authService.getApiCall(a,!0)}update(t,o){return new Promise((a,n)=>{this.authService.putApiCall("api/v1/crmopportunities/"+t,o).subscribe(s=>{a(s)},s=>{n(s)})})}getAll(t,o,a,n,s,p,h,b,_,d,S,N){const O=d?"&condition="+d:"",m=S||"",A=Z.L.isEmpty(N)?"":"&advSearchString="+JSON.stringify(N);return this.api="crmaccounts"===h?"api/v1/crmopportunities?skip="+t+"&limit="+o+"&type=list&sort="+a+"&search="+n+"&enterprise.enterprise_id="+s+"&account_details.account_id="+p+_+O+m+A:"crmsalesreps"===h?"api/v1/crmopportunities?skip="+t+"&limit="+o+"&type=list&sort="+a+"&search="+n+"&enterprise.enterprise_id="+s+"&sales_rep.sales_rep_id="+p+_+O+m+A:"api/v1/crmopportunities?skip="+t+"&limit="+o+"&type=list&sort="+a+"&search="+n+"&enterprise.enterprise_id="+s+_+O+m+A,this.authService.getApiCall(this.api,b)}static \u0275fac=function(o){return new(o||i)(e.LFG(ie.e))};static \u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var H=c(43727),U=c(47561),K=c(38077),x=c(57936),P=c(42786),J=c(46448),C=c(62510),y=c(54463),k=c(27601),g=c(70057),q=c(2387),V=c(56368),W=c(9851),z=c(24929),F=c(92634),X=c(42919),w=c(37415),D=c(10805),T=c(93144);const ne=["AccountNameVal"],se=["LineDescription"],re=["OppNamevalid"],le=["OppNumbervalid"],pe=["OppType"],ce=["ProductService"],ue=["SalesrepValidation"],de=["businnesEntity"],me=["contactsphonecountrycodeDropDown"],he=["descriptionvalid"],_e=["emailInputValid"],ge=["firstnameInput"],Ce=["fromDate"],Oe=["lastnameInput"],Te=["phoneExt"],be=["phoneExtEdit"],Ne=["phoneInput"],ye=["phonecountrycodeDropDown"];function Se(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"app-dropdown-search",114,115),e.NdJ("selectedOption",function(a){e.CHM(t);const n=e.oxw();return e.KtG(n.changeAccountName(a))})("searchValueChange",function(a){e.CHM(t);const n=e.oxw();return e.KtG(n.getAccountNameOptions(a))}),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.s9C("label",e.lcZ(2,2,"COMMON_PAGE_TITLES.CRM_ACCOUNT")),e.Q6J("options",t.accountNameOptions)}}function Ee(i,l){if(1&i&&(e._UZ(0,"app-input",116,115),e.ALo(2,"translate")),2&i){const t=e.oxw();e.s9C("label",e.lcZ(2,2,"COMMON_PAGE_TITLES.CRM_ACCOUNT")),e.s9C("value",t.accountDisplayName)}}function ve(i,l){if(1&i&&(e.TgZ(0,"tr",118)(1,"td",119),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Ae(i,l){if(1&i&&e.YNc(0,ve,4,4,"tr",117),2&i){const t=e.oxw();e.Q6J("ngIf",t.contactsData&&0==t.contactsData.length)}}function fe(i,l){if(1&i&&(e.TgZ(0,"th",123),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.header)," ")}}function De(i,l){1&i&&(e.TgZ(0,"tr")(1,"td",124),e._UZ(2,"div",125),e.qZA()())}function Me(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",120),e.YNc(2,fe,3,4,"th",121),e.qZA(),e.YNc(3,De,3,0,"tr",122)),2&i){const t=l.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngForOf",t[0]),e.xp6(1),e.Q6J("ngIf",o.contactsData&&0==o.contactsData.length)}}function Ie(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",128),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.editContact(n,s))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,o=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",o),e.xp6(1),e.hij(" ",o[t.field]," ")}}function Le(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",124)(2,"div",125)(3,"span",126),e.NdJ("click",function(){const a=e.CHM(t),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.removeContact(n,s))}),e.qZA()()(),e.YNc(4,Ie,2,5,"td",127),e.qZA()}if(2&i){const t=l.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function Ze(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",130)(6,"br"),e.qZA()),2&i){const t=l.$implicit,o=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",o[t.field],e.oJD)}}function Re(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ze,7,4,"div",129),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function Ue(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",131)(1,"td",124)(2,"div",125)(3,"span",132),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.removeContact(n,s))}),e.qZA()()(),e.TgZ(4,"ion-label",133),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.editContact(n,s))}),e.TgZ(5,"span",134),e._uU(6),e.ALo(7,"translate"),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"span",135),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span",136),e._uU(13),e.ALo(14,"translate"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(6),e.HOy(" ",e.lcZ(7,8,"COMMON_FIELDS.FIRST_NAME"),": ",null==t?null:t.firstName," ; ",e.lcZ(8,10,"COMMON_FIELDS.LAST_NAME"),": ",null==t?null:t.lastName,""),e.xp6(4),e.AsE("",e.lcZ(11,12,"COMMON_FIELDS.PHONE_NUMBER"),": ",null==t?null:t.phone_number," "),e.xp6(3),e.AsE("",e.lcZ(14,14,"COMMON_FIELDS.EMAIL"),": ",null==t?null:t.email," ")}}function Pe(i,l){1&i&&(e.TgZ(0,"p",137),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}function we(i,l){if(1&i&&(e.TgZ(0,"tr",118)(1,"td",119),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function xe(i,l){if(1&i&&e.YNc(0,we,4,4,"tr",117),2&i){const t=e.oxw();e.Q6J("ngIf",t.salesRepData&&0==t.salesRepData.length)}}function Je(i,l){if(1&i&&(e.TgZ(0,"th",123),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.header)," ")}}function ke(i,l){1&i&&(e.TgZ(0,"tr")(1,"td",124),e._UZ(2,"div",125),e.qZA()())}function qe(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",120),e.YNc(2,Je,3,4,"th",121),e.qZA(),e.YNc(3,ke,3,0,"tr",122)),2&i){const t=l.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngForOf",t[0]),e.xp6(1),e.Q6J("ngIf",o.salesRepData&&0==o.salesRepData.length)}}function Ve(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",140),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.editsalesrep(n,s))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,o=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",o),e.xp6(1),e.hij(" ",o[t.field]," ")}}function Fe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",124)(2,"div",125)(3,"span",138),e.NdJ("click",function(){const a=e.CHM(t),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.removesalesrep(n,s))}),e.qZA()()(),e.YNc(4,Ve,2,5,"td",139),e.qZA()}if(2&i){const t=l.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function je(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",130)(6,"br"),e.qZA()),2&i){const t=l.$implicit,o=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",o[t.field],e.oJD)}}function Be(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,je,7,4,"div",129),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function Qe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",131)(1,"td",124)(2,"div",141)(3,"span",142),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.removesalesrep(n,s))}),e.qZA()()(),e.TgZ(4,"ion-label",133),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.editsalesrep(n,s))}),e.TgZ(5,"span",134),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",135),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",136),e._uU(12),e.ALo(13,"translate"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(6),e.AsE(" ",e.lcZ(7,6,"CRM_ACCOUNTS.CRM_SALES_REP"),": ",null==t?null:t.salesRepDisplayName,""),e.xp6(3),e.AsE("",e.lcZ(10,8,"WORK_ABSENCES.WORK_FROM_DATE"),": ",null==t?null:t.fromDateValue," "),e.xp6(3),e.AsE("",e.lcZ(13,10,"WORK_ABSENCES.WORK_TO_DATE"),": ",null==t?null:t.toDateValue," ")}}function Ye(i,l){1&i&&(e.TgZ(0,"p",137),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}function $e(i,l){if(1&i&&(e.TgZ(0,"tr",118)(1,"td",119),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Ge(i,l){if(1&i&&e.YNc(0,$e,4,4,"tr",117),2&i){const t=e.oxw();e.Q6J("ngIf",t.oppLinesData&&0==t.oppLinesData.length)}}function He(i,l){if(1&i&&(e.TgZ(0,"th",123),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.header)," ")}}function Ke(i,l){1&i&&(e.TgZ(0,"tr")(1,"td",124),e._UZ(2,"div",125),e.qZA()())}function We(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",120),e.YNc(2,He,3,4,"th",121),e.qZA(),e.YNc(3,Ke,3,0,"tr",122)),2&i){const t=l.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngForOf",t[0]),e.xp6(1),e.Q6J("ngIf",o.oppLinesData&&0==o.oppLinesData.length)}}function ze(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",145),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.editOpplines(n,s))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,o=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",o),e.xp6(1),e.hij(" ",o[t.field]," ")}}function Xe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",124)(2,"div",125)(3,"span",143),e.NdJ("click",function(){const a=e.CHM(t),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.removeOpplines(n,s))}),e.qZA()()(),e.YNc(4,ze,2,5,"td",144),e.qZA()}if(2&i){const t=l.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function et(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",130)(6,"br"),e.qZA()),2&i){const t=l.$implicit,o=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",o[t.field],e.oJD)}}function tt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,et,7,4,"div",129),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function at(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",131)(1,"td",124)(2,"div",125)(3,"span",146),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.removeOpplines(n,s))}),e.qZA()()(),e.TgZ(4,"ion-label",133),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.editOpplines(n,s))}),e.TgZ(5,"span",134),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",135),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",136),e._uU(12),e.ALo(13,"translate"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(6),e.AsE(" ",e.lcZ(7,6,"CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE"),": ",null==t?null:t.oppProductService,""),e.xp6(3),e.AsE("",e.lcZ(10,8,"CRM_OPPORTUNITIES.CRM_QUANTITY"),": ",null==t?null:t.oppQuantity," "),e.xp6(3),e.AsE("",e.lcZ(13,10,"CRM_OPPORTUNITIES.CRM_PRICE"),": ",null==t?null:t.oppPrice," ")}}function ot(i,l){1&i&&(e.TgZ(0,"p",137),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}let j=(()=>{class i extends U.O{clientService;crmOpportunitiesService;crmQuotesService;loggerService;navigationService;router;translateService;uiUtils;commonService;commonservice;enterprisesService;route;AccountNameVal;LineDescription;OppNamevalid;OppNumbervalid;OppType;ProductService;SalesrepValidation;businnesEntity;contactsphonecountrycodeDropDown;descriptionvalid;emailInputValid;firstnameInput;fromDate;lastnameInput;phoneExt;phoneExtEdit;phoneInput;phonecountrycodeDropDown;accountDisplayName;accountId;accountName;accountNameOptions;accountObj;businessEntityDisplayName;businessEntityId;businessEntityName;businessEntityObj;businessEntityOptions;contactEmail;contactPrimaryEnable;contactsData=[];contactsHeader;contactsObj;countryCodeDisplayName;countryCodeObj;countryCodeOptions;countryCodeSplit;countrycodeOptions;currencyObj;currencyOptions;data;defaultCurrency;defaultEmail;defaultEnterprise;defaultEstimatedClosure;defaultObj;defaultOppType;defaultProbabilityClosure;defaultSalesRep;defaultSalesStage;defaultStatus;defaultoppfocus;description;disableSubmitBtn=!1;effectiveDateError;email;enterpriseId;enterpriseName;enterpriseShortName;error;estimatedClosureOptions;exceptedCloseDate;firstName;fromDateValue;header1;header2;headerAction;id;lastName;loginUserDateFormat;objectType;objectTypeName;oppEstimatedClosureDisplayName;oppEstimatedClosureName;oppEstimatedClosureObj;oppFocusDisplayname;oppFocusName;oppFocusObj;oppFocusOptions;oppLineDescription;oppLineObj;oppLineTotal;oppLinesData=[];oppPrice;oppProbablityClosureDisplayName;oppProbablityClosureName;oppProbablityClosureObj;oppProductService;oppQuantity;oppSalesObj;oppSalesStageDisplayName;oppSalesStageName;oppTypeDisplayname;oppTypeName;oppTypeObj;oppTypeOptions;opportunityName;opportunityNum;opportunityTotal;pageTitle1;pageTitle;phone;phoneNumber;phoneNumberExtension;probabilityClosureOptions;rowData;rowIndex;salesRepData=[];salesRepDisplayName;salesRepName;salesRepNameOptions;salesRepObj;salesStageOptions;selectedRow;statusDisplayName;statusName;statusObj;statusOptions;toDateValue;type1=!1;dataJsonObj={};constructor(t,o,a,n,s,p,h,b,_,d,S,N){super(N,_),this.clientService=t,this.crmOpportunitiesService=o,this.crmQuotesService=a,this.loggerService=n,this.navigationService=s,this.router=p,this.translateService=h,this.uiUtils=b,this.commonService=_,this.commonservice=d,this.enterprisesService=S,this.route=N,this.route.params.subscribe(O=>{this.id=O.parentId})}ngOnInit(){this.headerAction={BACK:!0},document.getElementsByTagName("body"),this.initializeComponent()}ngAfterContentInit(){}initializeComponent(){this.dataJsonObj.pageName=r.hf.CRM_OPPORTUNITIES,this.objectType=this.route.snapshot.data.object_type;const t=JSON.parse(localStorage.getItem(r.BU.DATE_FORMATE_OBJ));switch(this.loginUserDateFormat=this.lookupLanguageTranslations(t.lookup_id),this.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CRM_OPPORTUNITIES",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.getEnterpriseRecordbyId(),this.commonService.getLookupCodesListJson(this.enterpriseId,"list").then(o=>{this.dataJsonObj.lookupCodesListJSON=o,this.getBusinessEntityNameOptions(),this.getOppTypeOptions(),this.getCurrenciesOptions(""),this.getOppfocusOptions(),this.getOpSalesStageOptions(),this.getOppEstimatedClosureOptions(),this.getOppProbabilityClosureOptions(),this.getStatusOptions()}),this.contactsHeader=[[{field:"firstName",header:this.translateService.instant("COMMON_FIELDS.FIRST_NAME"),class:"w-160"},{field:"lastName",header:this.translateService.instant("COMMON_FIELDS.LAST_NAME"),class:"w-160"},{field:"phone_number",header:this.translateService.instant("COMMON_FIELDS.PHONE_NUMBER"),class:"w-180 list-value-right"},{field:"email",header:this.translateService.instant("COMMON_FIELDS.EMAIL"),class:""}]],this.header1=[[{headersort:"disableth",field:"salesRepName",header:this.translateService.instant("CRM_ACCOUNTS.CRM_SALES_REP"),class:""},{headersort:"disableth",field:"fromDateValue",header:this.translateService.instant("WORK_ABSENCES.WORK_FROM_DATE"),class:""},{headersort:"disableth",field:"toDateValue",header:this.translateService.instant("WORK_ABSENCES.WORK_TO_DATE"),class:""}]],this.header2=[[{headersort:"disableth",field:"oppProductService",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE"),class:""},{headersort:"disableth",field:"oppQuantity",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_QUANTITY"),class:""},{headersort:"disableth",field:"oppPrice",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_PRICE"),class:""},{headersort:"disableth",field:"oppLineTotal",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_LINE_TOTAL"),class:""},{headersort:"disableth",field:"oppLineDescription",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_LINE_DESCRIPTION"),class:""}]],this.objectType){case r.hf.CRM_ACCOUNTS:this.type1=!0,this.getCrmAccountRecordById(),this.translateService.use(localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE)).subscribe(o=>{this.pageTitle=this.commonService.getCurrentPageTitle(this.id)+' <span class="page-title">'+this.pageTitle+"</span>"}),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CRM_OPPORTUNITIES",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}];break;case r.hf.CRM_SALES_REPS:this.translateService.use(localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE)).subscribe(o=>{this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CRM_OPPORTUNITIES",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}]})}}getCrmAccountRecordById(){try{this.objectTypeName=this.objectType.toLowerCase(),this.commonService.getObjectName(this.objectTypeName,"",this.id,this.enterpriseId).then(t=>{this.objectType===r.hf.CRM_ACCOUNTS&&(this.accountName=t.account_name,this.accountId=t._id,this.accountDisplayName=t.account_short_name)},t=>{this.commonErrorCodes(JSON.parse(t)),this.loggerService.setLoggerError(this.constructor.name,"getWorkProjectsviewData",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getCrmAccountRecordById",t)}}getEnterpriseRecordbyId(){try{this.enterprisesService.getEnterprisesViewData(this.enterpriseId).subscribe(t=>{this.enterpriseName=t.enterprise_name,this.defaultEnterprise=t._id,this.enterpriseShortName=t.short_name,t.address&&!0===t.address[0].primary&&(this.data=t.address[0],this.defaultEmail=this.data.email)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getEnterpriseRecordbyId",t)}}getBusinessEntityNameOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.BUSINESS_ENTITY_NAMES],"").then(t=>{this.businessEntityOptions=t,this.businessEntityId=this.businessEntityOptions[0].ID,this.businessEntityObj=t[0],this.businessEntityName=t[0].lookup_name,this.businessEntityDisplayName=this.lookupLanguageTranslations(t[0].lookup_id)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getBusinessEntityNameOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getBusinessEntityNameOptions",t)}}changeSelectedBusinessEntityName(t){try{t.value&&(this.businessEntityId=t.value,this.businessEntityObj=this.businessEntityOptions.find(o=>o.ID===parseInt(this.businessEntityId,10)),this.businessEntityName=this.businessEntityObj.lookup_name,this.businessEntityDisplayName=this.lookupLanguageTranslations(this.businessEntityObj.lookup_id)),this.error=""}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeSelectedBusinessEntityName",o)}}getAccountNameOptions(t){try{this.crmOpportunitiesService.getAccountNames(this.enterpriseId,t).then(o=>{this.accountNameOptions=o},o=>{this.loggerService.setLoggerError(this.constructor.name,"getAccountNameOptions",o)})}catch(o){this.loggerService.setLoggerError(this.constructor.name,"getAccountNameOptions",o)}}changeAccountName(t){try{t.ID&&(this.accountId=t.ID,this.accountObj=this.accountNameOptions.find(o=>o.ID===parseInt(this.accountId,10)),this.accountName=this.accountObj.NAME,this.accountDisplayName=this.accountObj.account_short_name),this.error=""}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeAccountName",o)}}changeOppNumber(t){try{this.opportunityNum=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOppNumber",o)}}changeOppName(t){try{this.opportunityName=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOppName",o)}}getOppTypeOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_TYPES],"").then(t=>{this.oppTypeOptions=t,this.defaultOppType=t[0].ID,this.oppTypeName=t[0].lookup_name,this.oppTypeDisplayname=this.lookupLanguageTranslations(t[0].lookup_id)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getOppTypeOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getOppTypeOptions",t)}}changeOpportunityType(t){try{this.defaultOppType=t.value,this.oppTypeObj=this.oppTypeOptions.find(o=>o.ID===parseInt(this.defaultOppType,10)),this.oppTypeName=this.oppTypeObj.lookup_name,this.oppTypeDisplayname=this.lookupLanguageTranslations(this.oppTypeObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOpportunityType",o)}}getCurrenciesOptions(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CURRENCIES],t).then(o=>{if(this.currencyOptions=o,this.currencyOptions.length>0){for(let a=0;a<this.currencyOptions.length;a++)this.currencyOptions[a].NAME=this.currencyOptions[a].lookup_display_name+" - "+this.currencyOptions[a].description;this.currencyOptions=this.currencyOptions}}).catch(o=>{this.loggerService.setLoggerError(this.constructor.name,"getCurrenciesOptions",o)})}catch(o){this.loggerService.setLoggerError(this.constructor.name,"getCurrenciesOptions",o)}}changeCurrency(t){this.defaultCurrency=t.value,this.currencyObj=this.currencyOptions.find(o=>o.ID===parseInt(this.defaultCurrency,10))}getOppfocusOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_FOCUS],"").then(t=>{this.oppFocusOptions=t,this.defaultoppfocus=t[0].ID,this.oppFocusName=t[0].lookup_name,this.oppFocusDisplayname=this.lookupLanguageTranslations(t[0].lookup_id)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getOppfocusOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getOppfocusOptions",t)}}changeOpportunityFocus(t){try{this.defaultoppfocus=t.value,this.oppFocusObj=this.oppFocusOptions.find(o=>o.ID===parseInt(this.defaultoppfocus,10)),this.oppFocusName=this.oppFocusObj.lookup_name,this.oppFocusDisplayname=this.lookupLanguageTranslations(this.oppFocusObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOpportunityFocus",o)}}getOpSalesStageOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_SALES_STAGES],"").then(t=>{this.salesStageOptions=t,this.defaultSalesStage=t[0].ID,this.oppSalesStageName=t[0].lookup_name,this.oppSalesStageDisplayName=this.lookupLanguageTranslations(t[0].lookup_id)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getOpSalesStageOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getOpSalesStageOptions",t)}}changeSalesStage(t){try{this.defaultSalesStage=t.value,this.oppSalesObj=this.salesStageOptions.find(o=>o.ID===parseInt(this.defaultSalesStage,10)),this.oppSalesStageName=this.oppSalesObj.lookup_name,this.oppSalesStageDisplayName=this.lookupLanguageTranslations(this.oppSalesObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeSalesStage",o)}}getOppEstimatedClosureOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_ESTIMATED_CLOSURE],"").then(t=>{this.estimatedClosureOptions=t,this.defaultEstimatedClosure=t[0].ID,this.oppEstimatedClosureName=t[0].lookup_name,this.oppEstimatedClosureDisplayName=this.lookupLanguageTranslations(t[0].lookup_id)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getOppEstimatedClosureOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getOppEstimatedClosureOptions",t)}}changeEstimatedClosure(t){try{this.defaultEstimatedClosure=t.value,this.oppEstimatedClosureObj=this.estimatedClosureOptions.find(o=>o.ID===parseInt(this.defaultEstimatedClosure,10)),this.oppEstimatedClosureName=this.oppEstimatedClosureObj.lookup_name,this.oppEstimatedClosureDisplayName=this.lookupLanguageTranslations(this.oppEstimatedClosureObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeEstimatedClosure",o)}}getOppProbabilityClosureOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_PROBABILITY_CLOSURE],"").then(t=>{this.probabilityClosureOptions=t,this.defaultProbabilityClosure=t[0].ID,this.oppProbablityClosureName=t[0].lookup_name,this.oppProbablityClosureDisplayName=this.lookupLanguageTranslations(t[0].lookup_id)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getOppEstimatedClosureOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getOppEstimatedClosureOptions",t)}}changeProbabilityClosure(t){try{this.defaultProbabilityClosure=t.value,this.oppProbablityClosureObj=this.probabilityClosureOptions.find(o=>o.ID===parseInt(this.defaultProbabilityClosure,10)),this.oppProbablityClosureName=this.oppProbablityClosureObj.lookup_name,this.oppProbablityClosureDisplayName=this.lookupLanguageTranslations(this.oppProbablityClosureObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeEstimatedClosure",o)}}getStatusOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_STATUSES],"").then(t=>{this.statusOptions=t,this.defaultStatus=t[3].ID,this.statusName=t[3].lookup_name,this.statusDisplayName=this.lookupLanguageTranslations(t[3].lookup_id)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",t)}}changeStatus(t){try{this.defaultStatus=t.value,this.statusObj=this.statusOptions.find(o=>o.ID===parseInt(this.defaultStatus,10)),this.statusName=this.statusObj.lookup_name,this.statusDisplayName=this.lookupLanguageTranslations(this.statusObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeStatus",o)}}changeDescriptionName(t){try{this.description=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeDescriptionName",o)}}scrollToElement(t){setTimeout(()=>{const o=document.querySelector(t);o&&o.scrollIntoView({behavior:"smooth",block:"start"})},500)}createRecord(){try{this.accountName&&this.accountName.length<3?this.error=this.translateService.instant("COMMON_PAGE_TITLES.CRM_ACCOUNT")+" "+this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_MINIMUM_THREE_CHARACTERS"):this.businnesEntity.isValid()&&this.AccountNameVal.isValid()&&this.OppNumbervalid.isValid()&&this.OppNamevalid.isValid()&&this.OppType.isValid()&&this.descriptionvalid.isValid()&&Z.L.isEmpty(this.error)&&(this.contactsData.length>0?this.salesRepData.length>0?this.oppLinesData.length>0?(this.disableSubmitBtn=!0,this.crmOpportunitiesService.createOpportunity({enterprise:{enterprise_id:this.defaultEnterprise,enterprise_name:this.enterpriseName,short_name:this.enterpriseShortName},business_entity_name:{lookup_id:this.businessEntityId,lookup_name:this.businessEntityName},account_details:{account_id:this.accountId,account_name:this.accountName,account_short_name:this.accountDisplayName},contact_details:this.contactsData,opportunity_num:this.opportunityNum,opportunity_name:this.opportunityName,opportunity_type:{lookup_id:this.defaultOppType,lookup_name:this.oppTypeName},expected_close_date:this.exceptedCloseDate,currency:this.currencyObj,opportunity_total:this.opportunityTotal,opportunity_focus:{lookup_id:this.defaultoppfocus,lookup_name:this.oppFocusName},sales_stage:{lookup_id:this.defaultSalesStage,lookup_name:this.oppSalesStageName},estimated_closure:{lookup_id:this.defaultEstimatedClosure,lookup_name:this.oppEstimatedClosureName},probability_closure:{lookup_id:this.defaultProbabilityClosure,lookup_name:this.oppProbablityClosureName},sales_rep:this.salesRepData,description:this.description,opportunity_lines:this.oppLinesData,status:{lookup_id:this.defaultStatus,lookup_name:this.statusName}}).then(o=>{this.disableSubmitBtn=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),this.commonService.redirectToPreviousUrl()},o=>{this.commonErrorCodes(JSON.parse(o))})):this.error="COMMON_VALIDATION_MESSAGES.VALID_ADD_OPPORTUNITY_LINE":this.error="COMMON_VALIDATION_MESSAGES.VALID_ADD_SALES_REP":this.error="COMMON_VALIDATION_MESSAGES.VALID_ADD_CONTACT_DETAIL")}catch(o){this.loggerService.setLoggerError(this.constructor.name,"submit",o)}}commonErrorCodes(t){409===JSON.parse(t[r.BU.STATUS])&&(this.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}changeFirstName(t){try{this.firstName=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeFirstName",o)}}changeLastName(t){try{this.lastName=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeLastName",o)}}changeContactEmail(t){try{this.contactEmail=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeContactEmail",o)}}getCountryCodeOpt(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRY_CODES],t).then(o=>{this.countryCodeOptions=o},o=>{this.loggerService.setLoggerError(this.constructor.name,"getCountryCodeOpt",o)})}catch(o){this.loggerService.setLoggerError(this.constructor.name,"getCountryCodeOpt",o)}}changeCountryCode(t){try{t.ID?(this.countryCodeObj=t,this.countryCodeDisplayName=this.countryCodeObj.NAME):this.countryCodeDisplayName=""}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeCountryCode",o)}}changePhoneNo(t){try{this.phoneNumber=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changePhoneNo",o)}}changeExternalPhoneNo(t){try{this.phoneNumberExtension=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeExternalPhoneNo",o)}}contactUpdate(){try{this.countryCodeSplit=3===this.countryCodeDisplayName.split("-").length?this.countryCodeDisplayName.split("-")[0]+"-"+this.countryCodeDisplayName.split("-")[1].trim():this.countryCodeDisplayName.split("-")[0].trim(),this.phone=this.countryCodeSplit+"-"+this.phoneNumber+" "+this.phoneNumberExtension,this.firstnameInput.isValid()&&this.lastnameInput.isValid()&&this.emailInputValid.isValid()&&this.contactsphonecountrycodeDropDown.isValid()&&this.phoneInput.isValid()&&this.phoneExtEdit.isValid()&&(this.contactsData[this.rowIndex].fname=this.firstName,this.contactsData[this.rowIndex].lname=this.lastName,this.contactsData[this.rowIndex].phone_country_code=this.countryCodeObj,this.contactsData[this.rowIndex].phone=this.phoneNumber,this.contactsData[this.rowIndex].firstName=this.firstName,this.contactsData[this.rowIndex].email=this.contactEmail,this.contactsData[this.rowIndex].defaultcountryCodename=this.countryCodeDisplayName,this.contactsData[this.rowIndex].phoneNumberExtension=this.phoneNumberExtension,this.contactsData[this.rowIndex].lastName=this.lastName,this.contactsData[this.rowIndex].phone_number=this.phone,this.contactsData[this.rowIndex].phone_extn=this.phoneNumberExtension,$("#exampleModal2").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"contactUpdate",t)}}contactAdd(t){try{t.stopPropagation(),this.error="",this.firstnameInput.clearmessage(),this.lastnameInput.clearmessage(),this.contactsphonecountrycodeDropDown.clearSelectInput(),this.getCountryCodeOpt(""),this.countryCodeOptions="",this.firstName="",this.lastName="",this.phoneNumber="",this.phoneNumberExtension="",this.contactEmail="",this.countryCodeDisplayName="",this.phone="",this.phoneExt.clearMessage(),$("#exampleModal1").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal1")}catch(o){this.loggerService.setLoggerError(this.constructor.name,"contactAdd",o)}}contactLinesAdd(){try{this.countryCodeSplit=3===this.countryCodeDisplayName.split("-").length?this.countryCodeDisplayName.split("-")[0]+"-"+this.countryCodeDisplayName.split("-")[1].trim():this.countryCodeDisplayName.split("-")[0].trim(),this.phone=this.countryCodeSplit+"-"+this.phoneNumber+" "+this.phoneNumberExtension,this.firstnameInput.isValid()&&this.lastnameInput.isValid()&&this.emailInputValid.isValid()&&this.contactsphonecountrycodeDropDown.isValid()&&this.phoneInput.isValid()&&this.phoneExt.isValid()&&(this.scrollToElement("#linesId"),this.contactsObj={fname:this.firstName,lname:this.lastName,phone_country_code:this.countryCodeObj,phone:this.phoneNumber,phone_extn:this.phoneNumberExtension,email:this.contactEmail,defaultcountryCodename:this.countryCodeDisplayName,phoneNumberExtension:this.phoneNumberExtension,firstName:this.firstName,lastName:this.lastName,phone_number:this.phone},this.contactsData.push(this.contactsObj),$("#exampleModal1").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"contactLinesAdd",t)}}editContact(t,o){try{this.rowIndex=t,this.rowData=o,this.firstName=this.rowData.fname,this.lastName=this.rowData.lname,this.phoneNumber=this.rowData.phone,this.countryCodeDisplayName=this.rowData.defaultcountryCodename,this.countryCodeObj=this.rowData.phone_country_code,$("#exampleModal2").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal2")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editContact",a)}}removeContact(t,o){try{this.rowIndex=t,this.rowData=o,this.firstName=this.rowData.fname,this.lastName=this.rowData.lname,this.phoneNumber=this.rowData.phone,$("#exampleModal3").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal3")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeSkillElements",a)}}contactdelete(){try{this.contactsData.splice(this.rowIndex,1),$("#exampleModal3").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"contactdelete",t)}}getSalesRepNames(t){try{this.crmQuotesService.getWorkResourceDropDown(this.enterpriseId,t).then(o=>{this.salesRepNameOptions=o},o=>{this.loggerService.setLoggerError(this.constructor.name,"getSalesRepNames",o)})}catch(o){this.loggerService.setLoggerError(this.constructor.name,"getSalesRepNames",o)}}changeSalesrep(t){try{this.effectiveDateError="",this.salesRepName=t.NAME,this.salesRepObj=t}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeSalesrep",o)}}changeFromDate(t){try{this.effectiveDateError="",this.fromDateValue=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeFromDate",o)}}changeToDateChange(t){try{this.effectiveDateError="",this.toDateValue=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeToDateChange",o)}}salesrepSubmit(){try{if(this.SalesrepValidation.isValid()&&this.fromDate.isValid())if(this.toDateValue&&new Date(this.toDateValue)<new Date(this.fromDateValue))this.effectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START";else if(this.salesRepData.find(o=>o.sales_rep_id===parseInt(this.salesRepObj.ID,10)))this.effectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS";else{const o={sales_rep_id:this.salesRepObj.ID,sales_rep_name:this.salesRepObj.NAME,from_date:this.fromDateValue,to_date:this.toDateValue,salesRepName:this.salesRepName,salesRepDisplayName:this.salesRepName,fromDateValue:u(this.fromDateValue).format(this.loginUserDateFormat),toDateValue:""!==this.toDateValue?u(this.toDateValue).format(this.loginUserDateFormat):""};this.salesRepData.push(o),$("#exampleModal4").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"salesrepSubmit",t)}}editsalesrep(t,o){try{this.rowIndex=t,this.rowData=o,this.effectiveDateError="",this.defaultSalesRep=this.rowData.sales_rep_id,this.salesRepDisplayName=this.rowData.sales_rep_name,this.fromDateValue=this.rowData.from_date,this.toDateValue=this.rowData.to_date,$("#exampleModal5").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal5")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editsalesrep",a)}}SalesrepUpdate(){try{this.toDateValue&&new Date(this.toDateValue)<new Date(this.fromDateValue)?this.effectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START":(this.salesRepData[this.rowIndex].from_date=this.fromDateValue,this.salesRepData[this.rowIndex].to_date=this.toDateValue,this.salesRepData[this.rowIndex].fromDateValue=u(this.fromDateValue).format(this.loginUserDateFormat),this.salesRepData[this.rowIndex].toDateValue=""!==this.toDateValue?u(this.toDateValue).format(this.loginUserDateFormat):"",this.salesRepData[this.rowIndex].salesRepDisplayName=this.salesRepDisplayName),$("#exampleModal5").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"SalesrepUpdate",t)}}removesalesrep(t,o){try{this.rowIndex=t,this.rowData=o,this.defaultSalesRep=this.rowData.sales_rep_id,this.salesRepDisplayName=this.rowData.sales_rep_name,this.fromDateValue=u(this.rowData.from_date).format(this.loginUserDateFormat),this.toDateValue=""!==this.rowData.to_date?u(this.rowData.to_date).format(this.loginUserDateFormat):"",$("#exampleModal6").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal6")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removesalesrep",a)}}salesRepDelete(){try{this.salesRepData.splice(this.rowIndex,1),$("#exampleModal6").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"salesRepDelete",t)}}salesrepadd(t){try{t.stopPropagation(),this.error="",this.salesRepDisplayName="",this.fromDateValue="",this.toDateValue="",this.effectiveDateError="",this.SalesrepValidation.clearSelectInput(),$("#exampleModal4").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal4")}catch(o){this.loggerService.setLoggerError(this.constructor.name,"salesrepadd",o)}}changeOppProductService(t){try{this.oppProductService=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOppProductService",o)}}changeOppQuantity(t){try{this.oppQuantity=t.value,this.oppLineTotal=this.oppPrice&&""!==this.oppQuantity?this.oppQuantity*this.oppPrice:0}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOppQuantity",o)}}changeOppPrice(t){try{this.oppPrice=t.value,this.oppLineTotal=""!==this.oppPrice&&this.oppQuantity?this.oppQuantity*this.oppPrice:0}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOppPrice",o)}}changeexpectedDate(t){try{this.exceptedCloseDate=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeexpectedDate",o)}}changeOppLineDescription(t){try{this.oppLineDescription=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOppLineDescription",o)}}changeOpptotal(t){try{this.opportunityTotal=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOpptotal",o)}}opplineadd(t){try{t.stopPropagation(),this.error="",this.oppProductService="",this.oppQuantity="",this.oppPrice="",this.oppLineTotal="",this.oppLineDescription="",$("#exampleModal7").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal7")}catch(o){this.loggerService.setLoggerError(this.constructor.name,"opplineadd",o)}}opplineSubmit(){try{this.ProductService.isValid()&&this.LineDescription.isValid()&&(this.oppLineObj={product_service:this.oppProductService,quantity:this.oppQuantity,price:this.oppPrice,line_total:this.oppLineTotal,line_description:this.oppLineDescription,oppProductService:this.oppProductService,oppQuantity:this.oppQuantity,oppPrice:this.oppPrice,oppLineTotal:this.oppLineTotal,oppLineDescription:this.oppLineDescription},this.oppLinesData.push(this.oppLineObj),$("#exampleModal7").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"opplineSubmit",t)}}editOpplines(t,o){try{this.rowIndex=t,this.rowData=o,this.oppProductService=this.rowData.product_service,this.oppPrice=this.rowData.price,this.oppLineTotal=this.rowData.line_total,this.oppLineDescription=this.rowData.line_description,this.oppQuantity=this.rowData.quantity,$("#exampleModal8").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal8")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editOpplines",a)}}opplineUpdate(){try{this.ProductService.isValid()&&this.LineDescription.isValid()&&(this.oppLinesData[this.rowIndex].product_service=this.oppProductService,this.oppLinesData[this.rowIndex].price=this.oppPrice,this.oppLinesData[this.rowIndex].line_total=this.oppLineTotal,this.oppLinesData[this.rowIndex].line_description=this.oppLineDescription,this.oppLinesData[this.rowIndex].quantity=this.oppQuantity,this.oppLinesData[this.rowIndex].oppQuantity=this.oppQuantity,this.oppLinesData[this.rowIndex].oppLineDescription=this.oppLineDescription,this.oppLinesData[this.rowIndex].oppLineTotal=this.oppLineTotal,this.oppLinesData[this.rowIndex].oppPrice=this.oppPrice,this.oppLinesData[this.rowIndex].oppProductService=this.oppProductService,$("#exampleModal8").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"opplineUpdate",t)}}removeOpplines(t,o){try{this.rowIndex=t,this.rowData=o,this.oppProductService=this.rowData.product_service,this.oppPrice=this.rowData.price,this.oppLineTotal=this.rowData.line_total,this.oppLineDescription=this.rowData.line_description,this.oppQuantity=this.rowData.quantity,$("#exampleModal9").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal9")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeOpplines",a)}}opplineDelete(){try{this.oppLinesData.splice(this.rowIndex,1),$("#exampleModal9").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"opplineDelete",t)}}pageheadeActionClick(t){"BACK"==t.value&&this.cancel()}static \u0275fac=function(o){return new(o||i)(e.Y36(G.a),e.Y36(R),e.Y36(H.o),e.Y36(P.m),e.Y36(J.f),e.Y36(C.F0),e.Y36(y.sK),e.Y36(k.s),e.Y36(f.v),e.Y36(f.v),e.Y36(x.e),e.Y36(C.gz))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-crm-opportunity-create"]],viewQuery:function(o,a){if(1&o&&(e.Gf(ne,5),e.Gf(se,5),e.Gf(re,5),e.Gf(le,5),e.Gf(pe,5),e.Gf(ce,5),e.Gf(ue,5),e.Gf(de,5),e.Gf(me,5),e.Gf(he,5),e.Gf(_e,5),e.Gf(ge,5),e.Gf(Ce,5),e.Gf(Oe,5),e.Gf(Te,5),e.Gf(be,5),e.Gf(Ne,5),e.Gf(ye,5)),2&o){let n;e.iGM(n=e.CRH())&&(a.AccountNameVal=n.first),e.iGM(n=e.CRH())&&(a.LineDescription=n.first),e.iGM(n=e.CRH())&&(a.OppNamevalid=n.first),e.iGM(n=e.CRH())&&(a.OppNumbervalid=n.first),e.iGM(n=e.CRH())&&(a.OppType=n.first),e.iGM(n=e.CRH())&&(a.ProductService=n.first),e.iGM(n=e.CRH())&&(a.SalesrepValidation=n.first),e.iGM(n=e.CRH())&&(a.businnesEntity=n.first),e.iGM(n=e.CRH())&&(a.contactsphonecountrycodeDropDown=n.first),e.iGM(n=e.CRH())&&(a.descriptionvalid=n.first),e.iGM(n=e.CRH())&&(a.emailInputValid=n.first),e.iGM(n=e.CRH())&&(a.firstnameInput=n.first),e.iGM(n=e.CRH())&&(a.fromDate=n.first),e.iGM(n=e.CRH())&&(a.lastnameInput=n.first),e.iGM(n=e.CRH())&&(a.phoneExt=n.first),e.iGM(n=e.CRH())&&(a.phoneExtEdit=n.first),e.iGM(n=e.CRH())&&(a.phoneInput=n.first),e.iGM(n=e.CRH())&&(a.phonecountrycodeDropDown=n.first)}},features:[e.qOj],decls:404,vars:434,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["disabled","true","id","Opp-create-enterprisename",3,"label","value"],["disabled","false","mandatory","true","id","syncsetings-create-application",3,"label","defaultValue","options","valueChange"],["businnesEntity",""],["mandatory","true","id","opp-create-account",3,"label","options","selectedOption","searchValueChange",4,"ngIf"],["disabled","true",3,"label","value",4,"ngIf"],["autoCaseFlag","false","type","number","mandatory","true","id","Opportunity-create-number","disabled","false",3,"minlength","maxlength","label","value","valueChange"],["OppNumbervalid",""],["autoCaseFlag","false","mandatory","true","id","Opportunity--create-name","disabled","false",3,"maxlength","label","value","valueChange"],["OppNamevalid",""],["mandatory","true","id","Opportunity-create-Opportunitytype",3,"label","options","defaultValue","valueChange"],["OppType",""],["mandatory","false","id","Opportunity-create-Currency",3,"label","options","defaultValue","valueChange"],["autoCaseFlag","false","type","number","mandatory","false","id","Opportunity-create-total","disabled","false",3,"label","value","valueChange"],["mandatory","false","id","Opportunity-create-focus",3,"label","options","defaultValue","valueChange"],["mandatory","false","id","Opportunity-create-SalesStage",3,"label","options","defaultValue","valueChange"],["mandatory","false","id","Opportunity-create-EstimatedClosure",3,"label","options","defaultValue","valueChange"],["mandatory","false","id","Opportunity-create-ProbabilityClosure",3,"label","options","defaultValue","valueChange"],["mandatory","true","id","Opp-create-status",3,"label","options","defaultValue","valueChange"],["dateformat","dd-MMM-yyyy","mandatory","false","disabled","false","id","crm-Opp-create-expected-close-date","showFullCalendar","true",3,"placeholder","defaultDate","dateChangeValue"],["mandatory","true","disabled","false","id","Opp-create-description",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalid",""],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","crm-opp-create-submit",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","id","crm-opp-elements-create-cancel",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"multiple"],["accordianBundle",""],["id","editComponentsId",1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus",3,"isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","d-none","d-lg-block","max-height",3,"columns","value","rows","lazy","responsive","autoLayout","selection","selectionChange"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"d-lg-none"],[1,"ion-no-padding"],["lines","full","class","pdl-0 pdr-0",4,"ngFor","ngForOf"],["class","text-center text-danger mb-0 no-data-txt",4,"ngIf"],["id","exampleModal1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],["mandatory","true","id","Opportunity-create-firstname","disabled","false",3,"label","value","maxlength","valueChange"],["firstnameInput",""],["mandatory","true","id","Opportunity-create-lastname","disabled","false",3,"label","value","maxlength","valueChange"],["lastnameInput",""],["mandatory","true","id","Opportunity-create-email","disabled","false","type","email",3,"label","value","maxlength","valueChange"],["emailInputValid",""],["mandatory","true","id","Opportunity-create-phonecountrycode",3,"label","options","selectedOption","searchValueChange"],["contactsphonecountrycodeDropDown",""],["mandatory","true","disabled","false","type","mobile",3,"label","value","minlength","maxlength","valueChange"],["phoneInput",""],["disabled","false","mandatory","true","id","Opportunity-create-phonenumberext",3,"label","value","maxlength","valueChange"],["phoneExt",""],["className","btn btn-primary btn-sm","id","widget-parameters-add",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","widget-parameters-cancel",3,"label"],["id","exampleModal2","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","enterprises-create-contactType",3,"label","options","defaultValue","selectedOption","searchValueChange"],["phoneExtEdit",""],["className","btn btn-primary btn-sm","id","enterprise-create-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","enterprise-create-close",3,"label"],["id","exampleModal3","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","Opportunity-create-firstname","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-create-lastname","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-create-email","disabled","true","type","email",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-create-email","disabled","true",3,"label","value","maxlength"],["mandatory","true","disabled","true",3,"label","value","minlength","maxlength"],["disabled","true","mandatory","true","id","Opportunity-create-phonenumberext",3,"label","value","maxlength"],["id","exampleModal4","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","crm-Opp-create-Salesrep-name",3,"label","options","selectedOption","searchValueChange"],["SalesrepValidation",""],["dateformat","dd-MMM-yyyy","mandatory","true","disabled","false","id","crm-Opp-create-Salesrep-assignment-date",3,"placeholder","defaultDate","dateChangeValue"],["fromDate",""],["dateformat","dd-MMM-yyyy","mandatory","false","disabled","false","id","crm-Opp-create-Salesrep-assignment-date",3,"placeholder","defaultDate","dateChangeValue"],["className","btn btn-primary btn-sm","id","appraisal-templates-create-resource-assigments-add",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","appraisal-templates-create-resource-assigments-cancel",3,"label"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],["id","exampleModal5","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","crm-Opp-create-Salesrep-name","disabled","true",3,"label","value"],["className","btn btn-primary btn-sm","id","crm-opp-create-resource-assigments-add",1,"mgr-5",3,"label","buttonOnClick"],["id","exampleModal6","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","Opportunity-edit-email","disabled","true",3,"label","value"],["mandatory","true","id","crm-quote-edit-Salesrep-from-date","disabled","true",3,"label","value"],["mandatory","true","id","crm-quote-edit-Salesrep-to-date","disabled","true",3,"label","value"],["id","exampleModal7","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","Opportunity-create-product-service","disabled","false",3,"label","value","valueChange"],["ProductService",""],["mandatory","false","id","Opportunity-create-quantity","disabled","false","type","number",3,"label","value","valueChange"],["mandatory","false","id","Opportunity-create-price","disabled","false",3,"label","value","maxlength","valueChange"],["mandatory","false","id","Opportunity-create-linetotal","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-create-linedescription","disabled","false",3,"label","value","valueChange"],["LineDescription",""],["id","exampleModal8","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModal9","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","Opportunity-create-product-service","disabled","true",3,"label","value"],["mandatory","true","id","Opportunity-create-quantity","disabled","true","type","number",3,"label","value"],["mandatory","true","id","Opportunity-create-price","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-create-linetotal","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-create-linedescription","disabled","true",3,"label","value"],["mandatory","true","id","opp-create-account",3,"label","options","selectedOption","searchValueChange"],["AccountNameVal",""],["disabled","true",3,"label","value"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[1,"checkboxcol",2,"width","2em"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pSortableColumn"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#exampleModal3",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","click"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"],["lines","full",1,"pdl-0","pdr-0"],["data-toggle","modal","data-bs-target","#exampleModal3",1,"fas","fa-minus","mgr-4",3,"click"],[1,"mg-0",3,"click"],["color","primary",1,"mg-0","fs-13"],[1,"mg-0","fs-11"],["color","primary",1,"mg-0","fs-11"],[1,"text-center","text-danger","mb-0","no-data-txt"],["data-toggle","modal","data-bs-target","#exampleModal6",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal5",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal5",3,"pSelectableRow","click"],[1,"row-actions","mgr-4"],["data-toggle","modal","data-bs-target","#exampleModal6",1,"fas","fa-minus","mgr-4",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal9",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","click"],["data-toggle","modal","data-bs-target","#exampleModal9",1,"fas","fa-minus","mgr-4",3,"click"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9)(13,"app-dropdown-singleselect",11,12),e.NdJ("valueChange",function(s){return a.changeSelectedBusinessEntityName(s)}),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",9),e.YNc(17,Se,3,4,"app-dropdown-search",13),e.YNc(18,Ee,3,4,"app-input",14),e.qZA(),e.TgZ(19,"div",9)(20,"app-input",15,16),e.NdJ("valueChange",function(s){return a.changeOppNumber(s)}),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"div",9)(24,"app-input",17,18),e.NdJ("valueChange",function(s){return a.changeOppName(s)}),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"div",9)(28,"app-dropdown-singleselect",19,20),e.NdJ("valueChange",function(s){return a.changeOpportunityType(s)}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",9)(32,"app-dropdown-singleselect",21),e.NdJ("valueChange",function(s){return a.changeCurrency(s)}),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",9)(35,"app-input",22),e.NdJ("valueChange",function(s){return a.changeOpptotal(s)}),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",9)(38,"app-dropdown-singleselect",23),e.NdJ("valueChange",function(s){return a.changeOpportunityFocus(s)}),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"div",9)(41,"app-dropdown-singleselect",24),e.NdJ("valueChange",function(s){return a.changeSalesStage(s)}),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",9)(44,"app-dropdown-singleselect",25),e.NdJ("valueChange",function(s){return a.changeEstimatedClosure(s)}),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",9)(47,"app-dropdown-singleselect",26),e.NdJ("valueChange",function(s){return a.changeProbabilityClosure(s)}),e.ALo(48,"translate"),e.qZA()(),e.TgZ(49,"div",9)(50,"app-dropdown-singleselect",27),e.NdJ("valueChange",function(s){return a.changeStatus(s)}),e.ALo(51,"translate"),e.qZA()(),e.TgZ(52,"div",9)(53,"app-datepicker",28),e.NdJ("dateChangeValue",function(s){return a.changeexpectedDate(s)}),e.ALo(54,"translate"),e.qZA()(),e.TgZ(55,"div",3)(56,"app-textarea",29,30),e.NdJ("valueChange",function(s){return a.changeDescriptionName(s)}),e.ALo(58,"translate"),e.qZA()(),e.TgZ(59,"div",31)(60,"app-button",32),e.NdJ("buttonOnClick",function(){return a.createRecord()}),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"app-button",33),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(63,"translate"),e.qZA(),e.TgZ(64,"div",34),e._uU(65),e.ALo(66,"translate"),e.qZA()()()()()(),e.TgZ(67,"div",3)(68,"div",35)(69,"div",36)(70,"p-accordion",37,38)(72,"p-accordionTab",39)(73,"p-header",40)(74,"span"),e._uU(75),e.ALo(76,"translate"),e.qZA(),e.TgZ(77,"app-button",41),e.NdJ("buttonOnClick",function(s){return a.contactAdd(s)}),e.qZA()(),e.TgZ(78,"p-table",42),e.NdJ("selectionChange",function(s){return a.selectedRow=s}),e.YNc(79,Ae,1,1,"ng-template",43),e.YNc(80,Me,4,2,"ng-template",44),e.YNc(81,Le,5,1,"ng-template",45),e.YNc(82,Re,4,2,"ng-template",46),e.qZA(),e.TgZ(83,"div",47)(84,"ion-list",48),e.YNc(85,Ue,15,16,"ion-item",49),e.qZA(),e.YNc(86,Pe,3,3,"p",50),e.qZA()(),e.TgZ(87,"p-accordionTab",39)(88,"p-header",40)(89,"span"),e._uU(90),e.ALo(91,"translate"),e.qZA(),e.TgZ(92,"app-button",41),e.NdJ("buttonOnClick",function(s){return a.salesrepadd(s)}),e.qZA()(),e.TgZ(93,"p-table",42),e.NdJ("selectionChange",function(s){return a.selectedRow=s}),e.YNc(94,xe,1,1,"ng-template",43),e.YNc(95,qe,4,2,"ng-template",44),e.YNc(96,Fe,5,1,"ng-template",45),e.YNc(97,Be,4,2,"ng-template",46),e.qZA(),e.TgZ(98,"div",47)(99,"ion-list",48),e.YNc(100,Qe,14,12,"ion-item",49),e.qZA(),e.YNc(101,Ye,3,3,"p",50),e.qZA()(),e.TgZ(102,"p-accordionTab",39)(103,"p-header",40)(104,"span"),e._uU(105),e.ALo(106,"translate"),e.qZA(),e.TgZ(107,"app-button",41),e.NdJ("buttonOnClick",function(s){return a.opplineadd(s)}),e.qZA()(),e.TgZ(108,"p-table",42),e.NdJ("selectionChange",function(s){return a.selectedRow=s}),e.YNc(109,Ge,1,1,"ng-template",43),e.YNc(110,We,4,2,"ng-template",44),e.YNc(111,Xe,5,1,"ng-template",45),e.YNc(112,tt,4,2,"ng-template",46),e.qZA(),e.TgZ(113,"div",47)(114,"ion-list",48),e.YNc(115,at,14,12,"ion-item",49),e.qZA(),e.YNc(116,ot,3,3,"p",50),e.qZA()()()()()()()()(),e.TgZ(117,"div",51)(118,"div",52)(119,"div",53)(120,"div",54)(121,"div",55),e._uU(122),e.ALo(123,"translate"),e.ALo(124,"translate"),e.qZA()(),e.TgZ(125,"div",56)(126,"div",8)(127,"div",9)(128,"app-input",57,58),e.NdJ("valueChange",function(s){return a.changeFirstName(s)}),e.ALo(130,"translate"),e.qZA()(),e.TgZ(131,"div",9)(132,"app-input",59,60),e.NdJ("valueChange",function(s){return a.changeLastName(s)}),e.ALo(134,"translate"),e.qZA()(),e.TgZ(135,"div",9)(136,"app-input",61,62),e.NdJ("valueChange",function(s){return a.changeContactEmail(s)}),e.ALo(138,"translate"),e.qZA()(),e.TgZ(139,"div",9)(140,"app-dropdown-search",63,64),e.NdJ("selectedOption",function(s){return a.changeCountryCode(s)})("searchValueChange",function(s){return a.getCountryCodeOpt(s)}),e.ALo(142,"translate"),e.qZA()(),e.TgZ(143,"div",9)(144,"app-inputnumber",65,66),e.NdJ("valueChange",function(s){return a.changePhoneNo(s)}),e.ALo(146,"translate"),e.qZA()(),e.TgZ(147,"div",9)(148,"app-inputnumber",67,68),e.NdJ("valueChange",function(s){return a.changeExternalPhoneNo(s)}),e.ALo(150,"translate"),e.qZA()(),e.TgZ(151,"div",31)(152,"app-button",69),e.NdJ("buttonOnClick",function(){return a.contactLinesAdd()}),e.ALo(153,"translate"),e.qZA(),e._UZ(154,"app-button",70),e.ALo(155,"translate"),e.qZA()()()()()(),e.TgZ(156,"div",71)(157,"div",52)(158,"div",53)(159,"div",54)(160,"div",55),e._uU(161),e.ALo(162,"translate"),e.ALo(163,"translate"),e.qZA()(),e.TgZ(164,"div",56)(165,"div",8)(166,"div",9)(167,"app-input",57,58),e.NdJ("valueChange",function(s){return a.changeFirstName(s)}),e.ALo(169,"translate"),e.qZA()(),e.TgZ(170,"div",9)(171,"app-input",59,60),e.NdJ("valueChange",function(s){return a.changeLastName(s)}),e.ALo(173,"translate"),e.qZA()(),e.TgZ(174,"div",9)(175,"app-input",61,62),e.NdJ("valueChange",function(s){return a.changeContactEmail(s)}),e.ALo(177,"translate"),e.qZA()(),e.TgZ(178,"div",9)(179,"app-dropdown-search",72,64),e.NdJ("selectedOption",function(s){return a.changeCountryCode(s)})("searchValueChange",function(s){return a.getCountryCodeOpt(s)}),e.ALo(181,"translate"),e.qZA()(),e.TgZ(182,"div",9)(183,"app-inputnumber",65,66),e.NdJ("valueChange",function(s){return a.changePhoneNo(s)}),e.ALo(185,"translate"),e.qZA()(),e.TgZ(186,"div",9)(187,"app-inputnumber",67,73),e.NdJ("valueChange",function(s){return a.changeExternalPhoneNo(s)}),e.ALo(189,"translate"),e.qZA()(),e.TgZ(190,"div",31)(191,"app-button",74),e.NdJ("buttonOnClick",function(){return a.contactUpdate()}),e.ALo(192,"translate"),e.qZA(),e._UZ(193,"app-button",75),e.ALo(194,"translate"),e.qZA()()()()()(),e.TgZ(195,"div",76)(196,"div",52)(197,"div",53)(198,"div",54)(199,"div",55),e._uU(200),e.ALo(201,"translate"),e.ALo(202,"translate"),e.qZA()(),e.TgZ(203,"div",56)(204,"div",8)(205,"div",9),e._UZ(206,"app-input",77),e.ALo(207,"translate"),e.qZA(),e.TgZ(208,"div",9),e._UZ(209,"app-input",78),e.ALo(210,"translate"),e.qZA(),e.TgZ(211,"div",9),e._UZ(212,"app-input",79),e.ALo(213,"translate"),e.qZA(),e.TgZ(214,"div",9),e._UZ(215,"app-input",80),e.ALo(216,"translate"),e.qZA(),e.TgZ(217,"div",9),e._UZ(218,"app-inputnumber",81),e.ALo(219,"translate"),e.qZA(),e.TgZ(220,"div",9),e._UZ(221,"app-inputnumber",82,68),e.ALo(223,"translate"),e.qZA(),e.TgZ(224,"div",31)(225,"app-button",74),e.NdJ("buttonOnClick",function(){return a.contactdelete()}),e.ALo(226,"translate"),e.qZA(),e._UZ(227,"app-button",75),e.ALo(228,"translate"),e.qZA()()()()()(),e.TgZ(229,"div",83)(230,"div",52)(231,"div",53)(232,"div",54)(233,"div",55),e._uU(234),e.ALo(235,"translate"),e.ALo(236,"translate"),e.qZA()(),e.TgZ(237,"div",56)(238,"div",8)(239,"div",9)(240,"app-dropdown-search",84,85),e.NdJ("selectedOption",function(s){return a.changeSalesrep(s)})("searchValueChange",function(s){return a.getSalesRepNames(s)}),e.ALo(242,"translate"),e.qZA()(),e.TgZ(243,"div",9)(244,"app-datepicker",86,87),e.NdJ("dateChangeValue",function(s){return a.changeFromDate(s)}),e.ALo(246,"translate"),e.qZA()(),e.TgZ(247,"div",9)(248,"app-datepicker",88),e.NdJ("dateChangeValue",function(s){return a.changeToDateChange(s)}),e.ALo(249,"translate"),e.qZA()(),e.TgZ(250,"div",31)(251,"app-button",89),e.NdJ("buttonOnClick",function(){return a.salesrepSubmit()}),e.ALo(252,"translate"),e.qZA(),e._UZ(253,"app-button",90),e.ALo(254,"translate"),e.qZA(),e.TgZ(255,"div",91),e._uU(256),e.ALo(257,"translate"),e.qZA()()()()()(),e.TgZ(258,"div",92)(259,"div",52)(260,"div",53)(261,"div",54)(262,"div",55),e._uU(263),e.ALo(264,"translate"),e.ALo(265,"translate"),e.qZA()(),e.TgZ(266,"div",56)(267,"div",8)(268,"div",9),e._UZ(269,"app-input",93),e.ALo(270,"translate"),e.qZA(),e.TgZ(271,"div",9)(272,"app-datepicker",86,87),e.NdJ("dateChangeValue",function(s){return a.changeFromDate(s)}),e.ALo(274,"translate"),e.qZA()(),e.TgZ(275,"div",9)(276,"app-datepicker",88),e.NdJ("dateChangeValue",function(s){return a.changeToDateChange(s)}),e.ALo(277,"translate"),e.qZA()(),e.TgZ(278,"div",31)(279,"app-button",94),e.NdJ("buttonOnClick",function(){return a.SalesrepUpdate()}),e.ALo(280,"translate"),e.qZA(),e._UZ(281,"app-button",90),e.ALo(282,"translate"),e.qZA(),e.TgZ(283,"div",91),e._uU(284),e.ALo(285,"translate"),e.qZA()()()()()(),e.TgZ(286,"div",95)(287,"div",52)(288,"div",53)(289,"div",54)(290,"div",55),e._uU(291),e.ALo(292,"translate"),e.ALo(293,"translate"),e.qZA()(),e.TgZ(294,"div",56)(295,"div",8)(296,"div",9),e._UZ(297,"app-input",96),e.ALo(298,"translate"),e.qZA(),e.TgZ(299,"div",9),e._UZ(300,"app-input",97),e.ALo(301,"translate"),e.qZA(),e.TgZ(302,"div",9),e._UZ(303,"app-input",98),e.ALo(304,"translate"),e.qZA(),e.TgZ(305,"div",31)(306,"app-button",89),e.NdJ("buttonOnClick",function(){return a.salesRepDelete()}),e.ALo(307,"translate"),e.qZA(),e._UZ(308,"app-button",90),e.ALo(309,"translate"),e.qZA()()()()()(),e.TgZ(310,"div",99)(311,"div",52)(312,"div",53)(313,"div",54)(314,"div",55),e._uU(315),e.ALo(316,"translate"),e.ALo(317,"translate"),e.qZA()(),e.TgZ(318,"div",56)(319,"div",8)(320,"div",9)(321,"app-input",100,101),e.NdJ("valueChange",function(s){return a.changeOppProductService(s)}),e.ALo(323,"translate"),e.qZA()(),e.TgZ(324,"div",9)(325,"app-input",102),e.NdJ("valueChange",function(s){return a.changeOppQuantity(s)}),e.ALo(326,"translate"),e.qZA()(),e.TgZ(327,"div",9)(328,"app-input",103),e.NdJ("valueChange",function(s){return a.changeOppPrice(s)}),e.ALo(329,"translate"),e.qZA()(),e.TgZ(330,"div",9),e._UZ(331,"app-input",104),e.ALo(332,"translate"),e.qZA(),e.TgZ(333,"div",9)(334,"app-input",105,106),e.NdJ("valueChange",function(s){return a.changeOppLineDescription(s)}),e.ALo(336,"translate"),e.qZA()(),e.TgZ(337,"div",31)(338,"app-button",89),e.NdJ("buttonOnClick",function(){return a.opplineSubmit()}),e.ALo(339,"translate"),e.qZA(),e._UZ(340,"app-button",90),e.ALo(341,"translate"),e.qZA()()()()()(),e.TgZ(342,"div",107)(343,"div",52)(344,"div",53)(345,"div",54)(346,"div",55),e._uU(347),e.ALo(348,"translate"),e.ALo(349,"translate"),e.qZA()(),e.TgZ(350,"div",56)(351,"div",8)(352,"div",9)(353,"app-input",100,101),e.NdJ("valueChange",function(s){return a.changeOppProductService(s)}),e.ALo(355,"translate"),e.qZA()(),e.TgZ(356,"div",9)(357,"app-input",102),e.NdJ("valueChange",function(s){return a.changeOppQuantity(s)}),e.ALo(358,"translate"),e.qZA()(),e.TgZ(359,"div",9)(360,"app-input",103),e.NdJ("valueChange",function(s){return a.changeOppPrice(s)}),e.ALo(361,"translate"),e.qZA()(),e.TgZ(362,"div",9),e._UZ(363,"app-input",104),e.ALo(364,"translate"),e.qZA(),e.TgZ(365,"div",9)(366,"app-input",105,106),e.NdJ("valueChange",function(s){return a.changeOppLineDescription(s)}),e.ALo(368,"translate"),e.qZA()(),e.TgZ(369,"div",31)(370,"app-button",89),e.NdJ("buttonOnClick",function(){return a.opplineUpdate()}),e.ALo(371,"translate"),e.qZA(),e._UZ(372,"app-button",90),e.ALo(373,"translate"),e.qZA()()()()()(),e.TgZ(374,"div",108)(375,"div",52)(376,"div",53)(377,"div",54)(378,"div",55),e._uU(379),e.ALo(380,"translate"),e.ALo(381,"translate"),e.qZA()(),e.TgZ(382,"div",56)(383,"div",8)(384,"div",9),e._UZ(385,"app-input",109),e.ALo(386,"translate"),e.qZA(),e.TgZ(387,"div",9),e._UZ(388,"app-input",110),e.ALo(389,"translate"),e.qZA(),e.TgZ(390,"div",9),e._UZ(391,"app-input",111),e.ALo(392,"translate"),e.qZA(),e.TgZ(393,"div",9),e._UZ(394,"app-input",112),e.ALo(395,"translate"),e.qZA(),e.TgZ(396,"div",9),e._UZ(397,"app-input",113),e.ALo(398,"translate"),e.qZA(),e.TgZ(399,"div",31)(400,"app-button",89),e.NdJ("buttonOnClick",function(){return a.opplineDelete()}),e.ALo(401,"translate"),e.qZA(),e._UZ(402,"app-button",90),e.ALo(403,"translate"),e.qZA()()()()()()),2&o&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(11,234,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",a.enterpriseShortName),e.xp6(3),e.s9C("label",e.lcZ(15,236,"COMMON_FIELDS.BUSINESS_ENTITY")),e.s9C("defaultValue",a.businessEntityId),e.Q6J("options",a.businessEntityOptions),e.xp6(4),e.Q6J("ngIf",!1===a.type1),e.xp6(1),e.Q6J("ngIf",!0===a.type1),e.xp6(2),e.s9C("label",e.lcZ(22,238,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_NUM")),e.s9C("value",a.opportunityNum),e.Q6J("minlength",3)("maxlength",20),e.xp6(4),e.s9C("label",e.lcZ(26,240,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_NAME")),e.s9C("value",a.opportunityName),e.Q6J("maxlength",80),e.xp6(4),e.s9C("label",e.lcZ(30,242,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_TYPE")),e.s9C("defaultValue",a.defaultOppType),e.Q6J("options",a.oppTypeOptions),e.xp6(4),e.s9C("label",e.lcZ(33,244,"COMMON_FIELDS.CURRENCY")),e.s9C("defaultValue",a.defaultCurrency),e.Q6J("options",a.currencyOptions),e.xp6(3),e.s9C("label",e.lcZ(36,246,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_TOTAL")),e.s9C("value",a.opportunityTotal),e.xp6(3),e.s9C("label",e.lcZ(39,248,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_FOCUS")),e.s9C("defaultValue",a.defaultoppfocus),e.Q6J("options",a.oppFocusOptions),e.xp6(3),e.s9C("label",e.lcZ(42,250,"CRM_OPPORTUNITIES.CRM_SALES_STAGE")),e.s9C("defaultValue",a.defaultSalesStage),e.Q6J("options",a.salesStageOptions),e.xp6(3),e.s9C("label",e.lcZ(45,252,"CRM_OPPORTUNITIES.CRM_ESTIMATED_CLOSURE")),e.s9C("defaultValue",a.defaultEstimatedClosure),e.Q6J("options",a.estimatedClosureOptions),e.xp6(3),e.s9C("label",e.lcZ(48,254,"CRM_OPPORTUNITIES.CRM_PROBABILITY_OF_CLOSURE")),e.s9C("defaultValue",a.defaultProbabilityClosure),e.Q6J("options",a.probabilityClosureOptions),e.xp6(3),e.s9C("label",e.lcZ(51,256,"COMMON_FIELDS.STATUS")),e.s9C("defaultValue",a.defaultStatus),e.Q6J("options",a.statusOptions),e.xp6(3),e.s9C("placeholder",e.lcZ(54,258,"CRM_OPPORTUNITIES.CRM_EXPECTED_CLOSE_DATE")),e.s9C("defaultDate",a.exceptedCloseDate),e.xp6(3),e.s9C("label",e.lcZ(58,260,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.description),e.Q6J("maxlength",2e3),e.xp6(4),e.s9C("label",e.lcZ(61,262,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.xp6(2),e.s9C("label",e.lcZ(63,264,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(66,266,a.error)," "),e.xp6(5),e.Q6J("multiple",!0),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(76,268,"COMMON_BLOCK_TITLES.CONTACT_DETAILS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.contactsHeader)("value",a.contactsData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0)("selection",a.selectedRow),e.xp6(7),e.Q6J("ngForOf",a.contactsData),e.xp6(1),e.Q6J("ngIf",a.contactsData&&0==a.contactsData.length),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(91,270,"CRM_ACCOUNTS.CRM_SALES_REP")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.header1)("value",a.salesRepData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0)("selection",a.selectedRow),e.xp6(7),e.Q6J("ngForOf",a.salesRepData),e.xp6(1),e.Q6J("ngIf",a.salesRepData&&0==a.salesRepData.length),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(106,272,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_LINES")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.header2)("value",a.oppLinesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0)("selection",a.selectedRow),e.xp6(7),e.Q6J("ngForOf",a.oppLinesData),e.xp6(1),e.Q6J("ngIf",a.oppLinesData&&0==a.oppLinesData.length),e.xp6(6),e.AsE("",e.lcZ(123,274,"COMMON_FIELDS.CONTACT")," - ",e.lcZ(124,276,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(130,278,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",a.firstName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(134,280,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",a.lastName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(138,282,"COMMON_FIELDS.EMAIL")),e.s9C("value",a.contactEmail),e.Q6J("maxlength",60),e.xp6(4),e.s9C("label",e.lcZ(142,284,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.Q6J("options",a.countryCodeOptions),e.xp6(4),e.s9C("label",e.lcZ(146,286,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",a.phoneNumber),e.Q6J("minlength",10)("maxlength",10),e.xp6(4),e.s9C("label",e.lcZ(150,288,"COMMON_FIELDS.EXTENSION")),e.s9C("value",a.phoneNumberExtension),e.Q6J("maxlength",4),e.xp6(4),e.s9C("label",e.lcZ(153,290,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(155,292,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(162,294,"COMMON_BLOCK_TITLES.CONTACT_DETAILS")," - ",e.lcZ(163,296,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(169,298,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",a.firstName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(173,300,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",a.lastName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(177,302,"COMMON_FIELDS.EMAIL")),e.s9C("value",a.contactEmail),e.Q6J("maxlength",60),e.xp6(4),e.s9C("label",e.lcZ(181,304,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("defaultValue",a.countryCodeDisplayName),e.Q6J("options",a.countryCodeOptions),e.xp6(4),e.s9C("label",e.lcZ(185,306,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",a.phoneNumber),e.Q6J("minlength",10)("maxlength",10),e.xp6(4),e.s9C("label",e.lcZ(189,308,"COMMON_FIELDS.EXTENSION")),e.s9C("value",a.phoneNumberExtension),e.Q6J("maxlength",4),e.xp6(4),e.s9C("label",e.lcZ(192,310,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(194,312,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(201,314,"COMMON_FIELDS.CONTACT")," - ",e.lcZ(202,316,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(207,318,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",a.firstName),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(210,320,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",a.lastName),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(213,322,"COMMON_FIELDS.EMAIL")),e.s9C("value",a.contactEmail),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(216,324,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("value",a.countryCodeDisplayName),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(219,326,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",a.phoneNumber),e.Q6J("minlength",10)("maxlength",10),e.xp6(3),e.s9C("label",e.lcZ(223,328,"COMMON_FIELDS.EXTENSION")),e.s9C("value",a.phoneNumberExtension),e.Q6J("maxlength",4),e.xp6(4),e.s9C("label",e.lcZ(226,330,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(228,332,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(235,334,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(236,336,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(242,338,"CRM_ACCOUNTS.CRM_SALES_REP")),e.Q6J("options",a.salesRepNameOptions),e.xp6(4),e.s9C("placeholder",e.lcZ(246,340,"WORK_ABSENCES.WORK_FROM_DATE")),e.s9C("defaultDate",a.fromDateValue),e.xp6(4),e.s9C("placeholder",e.lcZ(249,342,"WORK_ABSENCES.WORK_TO_DATE")),e.s9C("defaultDate",a.toDateValue),e.xp6(3),e.s9C("label",e.lcZ(252,344,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(254,346,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(257,348,a.effectiveDateError)," "),e.xp6(7),e.AsE("",e.lcZ(264,350,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(265,352,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(270,354,"CRM_ACCOUNTS.CRM_SALES_REP")),e.s9C("value",a.salesRepDisplayName),e.xp6(3),e.s9C("placeholder",e.lcZ(274,356,"WORK_ABSENCES.WORK_FROM_DATE")),e.s9C("defaultDate",a.fromDateValue),e.xp6(4),e.s9C("placeholder",e.lcZ(277,358,"WORK_ABSENCES.WORK_TO_DATE")),e.s9C("defaultDate",a.toDateValue),e.xp6(3),e.s9C("label",e.lcZ(280,360,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(282,362,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(285,364,a.effectiveDateError)," "),e.xp6(7),e.AsE("",e.lcZ(292,366,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(293,368,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(298,370,"CRM_ACCOUNTS.CRM_SALES_REP")),e.s9C("value",a.salesRepDisplayName),e.xp6(3),e.s9C("label",e.lcZ(301,372,"WORK_ABSENCES.WORK_FROM_DATE")),e.s9C("value",a.fromDateValue),e.xp6(3),e.s9C("label",e.lcZ(304,374,"WORK_ABSENCES.WORK_TO_DATE")),e.s9C("value",a.toDateValue),e.xp6(3),e.s9C("label",e.lcZ(307,376,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(309,378,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(316,380,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_LINES")," - ",e.lcZ(317,382,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(323,384,"CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE")),e.s9C("value",a.oppProductService),e.xp6(4),e.s9C("label",e.lcZ(326,386,"CRM_OPPORTUNITIES.CRM_QUANTITY")),e.s9C("value",a.oppQuantity),e.xp6(3),e.s9C("label",e.lcZ(329,388,"CRM_OPPORTUNITIES.CRM_PRICE")),e.s9C("value",a.oppPrice),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(332,390,"CRM_OPPORTUNITIES.CRM_LINE_TOTAL")),e.s9C("value",a.oppLineTotal),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(336,392,"CRM_OPPORTUNITIES.CRM_LINE_DESCRIPTION")),e.s9C("value",a.oppLineDescription),e.xp6(4),e.s9C("label",e.lcZ(339,394,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(341,396,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(348,398,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_LINES")," - ",e.lcZ(349,400,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(355,402,"CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE")),e.s9C("value",a.oppProductService),e.xp6(4),e.s9C("label",e.lcZ(358,404,"CRM_OPPORTUNITIES.CRM_QUANTITY")),e.s9C("value",a.oppQuantity),e.xp6(3),e.s9C("label",e.lcZ(361,406,"CRM_OPPORTUNITIES.CRM_PRICE")),e.s9C("value",a.oppPrice),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(364,408,"CRM_OPPORTUNITIES.CRM_LINE_TOTAL")),e.s9C("value",a.oppLineTotal),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(368,410,"CRM_OPPORTUNITIES.CRM_LINE_DESCRIPTION")),e.s9C("value",a.oppLineDescription),e.xp6(4),e.s9C("label",e.lcZ(371,412,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(373,414,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(380,416,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_LINES")," - ",e.lcZ(381,418,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(386,420,"CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE")),e.s9C("value",a.oppProductService),e.xp6(3),e.s9C("label",e.lcZ(389,422,"CRM_OPPORTUNITIES.CRM_QUANTITY")),e.s9C("value",a.oppQuantity),e.xp6(3),e.s9C("label",e.lcZ(392,424,"CRM_OPPORTUNITIES.CRM_PRICE")),e.s9C("value",a.oppPrice),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(395,426,"CRM_OPPORTUNITIES.CRM_LINE_TOTAL")),e.s9C("value",a.oppLineTotal),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(398,428,"CRM_OPPORTUNITIES.CRM_LINE_DESCRIPTION")),e.s9C("value",a.oppLineDescription),e.xp6(3),e.s9C("label",e.lcZ(401,430,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(403,432,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[v.sg,v.O5,g.Ie,g.Q$,g.q_,q.r,V.a,W.k,K.Q,z.R,F.K,X.C,w.q,E.UQ,E.US,D.h4,D.jx,T.iA,T.lQ,T.Ei,y.X$]})}return i})();var M=c(42863),I=c(30578),ee=c(11735),te=c(68896);const it=["LineDescription"],nt=["OppNamevalid"],st=["OppType"],rt=["ProductService"],lt=["SalesrepValidation"],pt=["contactsphonecountrycodeDropDown"],ct=["descriptionvalid"],ut=["emailInputValid"],dt=["firstnameInput"],mt=["fromDate"],ht=["lastnameInput"],_t=["phoneExt"],gt=["phoneExtEdit"],Ct=["phoneInput"];function Ot(i,l){if(1&i&&(e.TgZ(0,"tr",112)(1,"td",113),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Tt(i,l){if(1&i&&e.YNc(0,Ot,4,4,"tr",111),2&i){const t=e.oxw();e.Q6J("ngIf",t.contactsData&&0==t.contactsData.length)}}function bt(i,l){if(1&i&&(e.TgZ(0,"th",117),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.header)," ")}}function Nt(i,l){1&i&&(e.TgZ(0,"tr")(1,"td",118),e._UZ(2,"div",119),e.qZA()())}function yt(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",114),e.YNc(2,bt,3,4,"th",115),e.qZA(),e.YNc(3,Nt,3,0,"tr",116)),2&i){const t=l.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngForOf",t[0]),e.xp6(1),e.Q6J("ngIf",o.contactsData&&0==o.contactsData.length)}}function St(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",122),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.editContact(n,s))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,o=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",o),e.xp6(1),e.hij(" ",o[t.field]," ")}}function Et(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",118)(2,"div",119)(3,"span",120),e.NdJ("click",function(){const a=e.CHM(t),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.removeContact(n,s))}),e.qZA()()(),e.YNc(4,St,2,5,"td",121),e.qZA()}if(2&i){const t=l.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function vt(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",124)(6,"br"),e.qZA()),2&i){const t=l.$implicit,o=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",o[t.field],e.oJD)}}function At(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,vt,7,4,"div",123),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function ft(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",125)(1,"td",118)(2,"div",119)(3,"span",126),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.removeContact(n,s))}),e.qZA()()(),e.TgZ(4,"ion-label",127),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.editContact(n,s))}),e.TgZ(5,"span",128),e._uU(6),e.ALo(7,"translate"),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"span",129),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span",130),e._uU(13),e.ALo(14,"translate"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(6),e.HOy(" ",e.lcZ(7,8,"COMMON_FIELDS.FIRST_NAME"),": ",null==t?null:t.firstName," ; ",e.lcZ(8,10,"COMMON_FIELDS.LAST_NAME"),": ",null==t?null:t.lastName,""),e.xp6(4),e.AsE("",e.lcZ(11,12,"COMMON_FIELDS.PHONE_NUMBER"),": ",null==t?null:t.phone_number," "),e.xp6(3),e.AsE("",e.lcZ(14,14,"COMMON_FIELDS.EMAIL"),": ",null==t?null:t.email," ")}}function Dt(i,l){if(1&i&&(e.TgZ(0,"tr",112)(1,"td",113),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Mt(i,l){if(1&i&&e.YNc(0,Dt,4,4,"tr",111),2&i){const t=e.oxw();e.Q6J("ngIf",t.salesRepData&&0==t.salesRepData.length)}}function It(i,l){if(1&i&&(e.TgZ(0,"th",117),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.header)," ")}}function Lt(i,l){1&i&&(e.TgZ(0,"tr")(1,"td",118),e._UZ(2,"div",119),e.qZA()())}function Zt(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",114),e.YNc(2,It,3,4,"th",115),e.qZA(),e.YNc(3,Lt,3,0,"tr",116)),2&i){const t=l.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngForOf",t[0]),e.xp6(1),e.Q6J("ngIf",o.salesRepData&&0==o.salesRepData.length)}}function Rt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",133),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.editsalesrep(n,s))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,o=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",o),e.xp6(1),e.hij(" ",o[t.field]," ")}}function Ut(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",118)(2,"div",119)(3,"span",131),e.NdJ("click",function(){const a=e.CHM(t),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.removesalesrep(n,s))}),e.qZA()()(),e.YNc(4,Rt,2,5,"td",132),e.qZA()}if(2&i){const t=l.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function Pt(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",124)(6,"br"),e.qZA()),2&i){const t=l.$implicit,o=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",o[t.field],e.oJD)}}function wt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Pt,7,4,"div",123),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function xt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",125)(1,"td",118)(2,"div",119)(3,"span",134),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.removesalesrep(n,s))}),e.qZA()()(),e.TgZ(4,"ion-label",127),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.editsalesrep(n,s))}),e.TgZ(5,"span",128),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",129),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",130),e._uU(12),e.ALo(13,"translate"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(6),e.AsE(" ",e.lcZ(7,6,"CRM_ACCOUNTS.CRM_SALES_REP"),": ",null==t?null:t.salesRepDisplayName,""),e.xp6(3),e.AsE("",e.lcZ(10,8,"WORK_ABSENCES.WORK_FROM_DATE"),": ",null==t?null:t.fromDateValue," "),e.xp6(3),e.AsE("",e.lcZ(13,10,"WORK_ABSENCES.WORK_TO_DATE"),": ",null==t?null:t.toDateValue," ")}}function Jt(i,l){if(1&i&&(e.TgZ(0,"tr",112)(1,"td",113),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function kt(i,l){if(1&i&&e.YNc(0,Jt,4,4,"tr",111),2&i){const t=e.oxw();e.Q6J("ngIf",t.oppLinesData&&0==t.oppLinesData.length)}}function qt(i,l){if(1&i&&(e.TgZ(0,"th",117),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.header)," ")}}function Vt(i,l){1&i&&(e.TgZ(0,"tr")(1,"td",118),e._UZ(2,"div",119),e.qZA()())}function Ft(i,l){if(1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",114),e.YNc(2,qt,3,4,"th",115),e.qZA(),e.YNc(3,Vt,3,0,"tr",116)),2&i){const t=l.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngForOf",t[0]),e.xp6(1),e.Q6J("ngIf",o.oppLinesData&&0==o.oppLinesData.length)}}function jt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",138),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.editOpplines(n,s))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,o=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",o),e.xp6(1),e.hij(" ",o[t.field]," ")}}function Bt(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",135)(2,"div",119)(3,"span",136),e.NdJ("click",function(){const a=e.CHM(t),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.removeOpplines(n,s))}),e.qZA()()(),e.YNc(4,jt,2,5,"td",137),e.qZA()}if(2&i){const t=l.columns;e.xp6(4),e.Q6J("ngForOf",t[0])}}function Qt(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",124)(6,"br"),e.qZA()),2&i){const t=l.$implicit,o=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",o[t.field],e.oJD)}}function Yt(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Qt,7,4,"div",123),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function $t(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",125)(1,"td",118)(2,"div",119)(3,"span",139),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.removeOpplines(n,s))}),e.qZA()()(),e.TgZ(4,"ion-label",127),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.editOpplines(n,s))}),e.TgZ(5,"span",128),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",129),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",130),e._uU(12),e.ALo(13,"translate"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(6),e.AsE(" ",e.lcZ(7,6,"CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE"),": ",null==t?null:t.oppProductService,""),e.xp6(3),e.AsE("",e.lcZ(10,8,"CRM_OPPORTUNITIES.CRM_QUANTITY"),": ",null==t?null:t.oppQuantity," "),e.xp6(3),e.AsE("",e.lcZ(13,10,"CRM_OPPORTUNITIES.CRM_PRICE"),": ",null==t?null:t.oppPrice," ")}}let Gt=(()=>{class i extends U.O{clientService;columnsheaders;crmOpportunitiesService;crmQuotesService;loggerService;navigationService;router;translateService;uiUtils;commonService;commonservice;enterprisesService;listingVariables;route;LineDescription;OppNamevalid;OppType;ProductService;SalesrepValidation;contactsphonecountrycodeDropDown;descriptionvalid;emailInputValid;firstnameInput;fromDate;lastnameInput;phoneExt;phoneExtEdit;phoneInput;accountDisplayName;accountName;actionType;attachmentColumnHeaders=[];attachmentsData;businessEntityDisplayName;contactEmail;contactPrimaryEnable;contactsData=[];contactsHeader;countryCodeDisplayName;countryCodeObj;countryCodeOptions;countryCodeSplit;createdUser;creationDate;currencyObj;currencyOptions;data;defaultCurrency;defaultEmail;defaultEnterprise;defaultEstimatedClosure;defaultOppFocus;defaultOppType;defaultProbabilityClosure;defaultSalesRep;defaultSalesStage;defaultStatus;description;disableSubmitBtn=!1;effectiveDateError;email;enterpriseId;enterpriseName;enterpriseShortName;error;estimatedClosureOptions;exceptedCloseDate;firstName;fromDateValue;header1;header2;headerAction;lastName;lastUpdateDate;lastUpdatedUser;loginUserDateFormat;objectType;oppData;oppEstimatedClosureDisplayName;oppEstimatedClosureName;oppEstimatedClosureObj;oppFocusDisplayName;oppFocusName;oppFocusObj;oppFocusOptions;oppLineDescription;oppLineTotal;oppLinesData=[];oppPrice;oppProbablityClosureDisplayName;oppProbablityClosureName;oppProbablityClosureObj;oppProductService;oppQuantity;oppSalesObj;oppSalesStageDisplayName;oppSalesStageName;oppTypeDisplayName;oppTypeName;oppTypeObj;oppTypeOptions;opportunityName;opportunityNum;opportunityTotal;pageTitle1;pageTitle;phone;phoneNumber;phoneNumberExtension;probabilityClosureOptions;recordId;rowData;rowIndex;salesRepData=[];salesRepDisplayName;salesRepName;salesRepNameOptions;salesRepObj;salesStageOptions;selectedRow;spinner=!0;statusDisplayName;statusName;statusObj;statusOptions;toDateValue;totalRecords;totalpages;dataJsonObj={};constructor(t,o,a,n,s,p,h,b,_,d,S,N,O,m){super(m,d),this.clientService=t,this.columnsheaders=o,this.crmOpportunitiesService=a,this.crmQuotesService=n,this.loggerService=s,this.navigationService=p,this.router=h,this.translateService=b,this.uiUtils=_,this.commonService=d,this.commonservice=S,this.enterprisesService=N,this.listingVariables=O,this.route=m,this.route.params.subscribe(A=>{this.recordId=A.id?A.id:A.parentId})}ngOnInit(){this.headerAction={BACK:!0},document.getElementsByTagName("body")}ngAfterContentInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.CRM_OPPORTUNITIES,this.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CRM_OPPORTUNITIES",value:this.dataJsonObj.sportRecordData.display_name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}];const t=JSON.parse(localStorage.getItem(r.BU.DATE_FORMATE_OBJ));this.loginUserDateFormat=this.lookupLanguageTranslations(t.lookup_id),this.objectType=this.route.snapshot.data.object_type,this.actionType=r.In.EDIT,this.attachmentColumnHeaders=this.columnsheaders.getAttachmentsColumnHeaders(),this.getAttachmentsList(),this.getRecordById(this.recordId),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.CRM_OPPORTUNITIES,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.contactsHeader=[[{field:"firstName",header:this.translateService.instant("COMMON_FIELDS.FIRST_NAME"),class:"w-160"},{field:"lastName",header:this.translateService.instant("COMMON_FIELDS.LAST_NAME"),class:"w-160"},{field:"phone_number",header:this.translateService.instant("COMMON_FIELDS.PHONE_NUMBER"),class:"w-180 list-value-right"},{field:"email",header:this.translateService.instant("COMMON_FIELDS.EMAIL"),class:""}]],this.header1=[[{headersort:"disableth",field:"salesRepName",header:this.translateService.instant("CRM_ACCOUNTS.CRM_SALES_REP"),class:""},{headersort:"disableth",field:"fromDateValue",header:this.translateService.instant("WORK_ABSENCES.WORK_FROM_DATE"),class:""},{headersort:"disableth",field:"toDateValue",header:this.translateService.instant("WORK_ABSENCES.WORK_TO_DATE"),class:""}]],this.header2=[[{headersort:"disableth",field:"oppProductService",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE"),class:""},{headersort:"disableth",field:"oppQuantity",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_QUANTITY"),class:""},{headersort:"disableth",field:"oppPrice",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_PRICE"),class:""},{headersort:"disableth",field:"oppLineTotal",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_LINE_TOTAL"),class:""},{headersort:"disableth",field:"oppLineDescription",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_LINE_DESCRIPTION"),class:""}]]}getRecordById(t){try{this.crmOpportunitiesService.get(t).subscribe(o=>{this.oppData=o,this.defaultEnterprise=this.oppData.enterprise.enterprise_id,this.commonService.getLookupCodesListJson(this.enterpriseId,"list").then(a=>{this.dataJsonObj.lookupCodesListJSON=a,this.getOppTypeOptions(),this.getCurrenciesOptions(""),this.getOppfocusOptions(),this.getOppSalesStageOptions(),this.getOppEstimatedClosureOptions(),this.getOppProbabilityClosureOptions(),this.getStatusOptions()}),this.enterpriseName=this.oppData.enterprise.enterprise_name,this.enterpriseShortName=this.oppData.enterprise.short_name,this.opportunityNum=this.oppData.opportunity_num,this.opportunityName=this.oppData.opportunity_name,this.description=this.oppData.description,this.businessEntityDisplayName=this.oppData.business_entity_name?this.lookupLanguageTranslations(this.oppData.business_entity_name.lookup_id):"",this.defaultOppType=this.oppData.opportunity_type.lookup_id,this.opportunityName=this.oppData.opportunity_name,this.objectType===r.hf.CRM_ACCOUNTS?this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CRM_OPPORTUNITIES",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}]:this.objectType===r.hf.CRM_SALES_REPS?this.translateService.use(localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE)).subscribe(a=>{this.pageTitle=this.commonservice.getCurrentPageTitle(this.recordId)+'<span class="page-title">&nbsp;- '+this.pageTitle1+"</span>"}):this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CRM_OPPORTUNITIES",value:this.opportunityName+this.dataJsonObj.pageTitle,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}],this.oppTypeName=this.oppData.opportunity_type.lookup_name,this.oppTypeDisplayName=this.oppData.opportunity_type?this.lookupLanguageTranslations(this.oppData.opportunity_type.lookup_id):"",this.opportunityTotal=this.oppData.opportunity_total,this.accountName=this.oppData.account_details.account_name,this.createdUser=this.oppData.created_by,this.lastUpdatedUser=this.oppData.updated_by,this.accountDisplayName=this.oppData.account_details.account_short_name,this.contactsData=[];for(let a=0;a<this.oppData.contact_details.length;a++)this.oppData.contact_details[a].firstName=this.oppData.contact_details[a].fname,this.oppData.contact_details[a].lastName=this.oppData.contact_details[a].lname,this.oppData.contact_details[a].phone_number=this.oppData.contact_details[a].phone,this.contactsData.push(this.oppData.contact_details[a]);this.salesRepData=[];for(let a=0;a<this.oppData.sales_rep.length;a++)this.oppData.sales_rep[a].salesRepDisplayName=this.oppData.sales_rep[a].sales_rep_name,this.oppData.sales_rep[a].salesRepName=this.oppData.sales_rep[a].sales_rep_name,this.oppData.sales_rep[a].fromDateValue=null!==this.oppData.sales_rep[a].from_date?u(this.oppData.sales_rep[a].from_date).format(this.loginUserDateFormat):"",this.oppData.sales_rep[a].toDateValue=null!==this.oppData.sales_rep[a].to_date?u(this.oppData.sales_rep[a].to_date).format(this.loginUserDateFormat):"",this.salesRepData.push(this.oppData.sales_rep[a]);this.oppLinesData=[];for(let a=0;a<this.oppData.opportunity_lines.length;a++)this.oppData.opportunity_lines[a].oppProductService=this.oppData.opportunity_lines[a].quantity,this.oppData.opportunity_lines[a].oppPrice=this.oppData.opportunity_lines[a].price,this.oppData.opportunity_lines[a].oppLineTotal=this.oppData.opportunity_lines[a].line_total,this.oppData.opportunity_lines[a].oppQuantity=this.oppData.opportunity_lines[a].quantity,this.oppData.opportunity_lines[a].oppLineDescription=this.oppData.opportunity_lines[a].line_description,this.oppLinesData.push(this.oppData.opportunity_lines[a]);this.defaultProbabilityClosure=this.oppData.probability_closure.lookup_id,this.oppProbablityClosureName=this.oppData.probability_closure.lookup_name,this.oppProbablityClosureDisplayName=this.oppData.probability_closure?this.lookupLanguageTranslations(this.oppData.probability_closure.lookup_id):"",this.defaultEstimatedClosure=this.oppData.estimated_closure.lookup_id,this.oppEstimatedClosureName=this.oppData.estimated_closure.lookup_name,this.oppEstimatedClosureDisplayName=this.oppData.estimated_closure?this.lookupLanguageTranslations(this.oppData.estimated_closure.lookup_id):"",this.defaultOppFocus=this.oppData.opportunity_focus.lookup_id,this.oppFocusName=this.oppData.opportunity_focus.lookup_name,this.oppFocusDisplayName=this.oppData.opportunity_focus?this.lookupLanguageTranslations(this.oppData.opportunity_focus.lookup_id):"",this.defaultSalesStage=this.oppData.sales_stage.lookup_id,this.oppSalesStageName=this.oppData.sales_stage.lookup_name,this.oppSalesStageDisplayName=this.oppData.sales_stage?this.lookupLanguageTranslations(this.oppData.sales_stage.lookup_id):"",this.defaultStatus=this.oppData.status.lookup_id,this.statusName=this.oppData.status.lookup_name,this.statusDisplayName=this.oppData.status?this.lookupLanguageTranslations(this.oppData.status.lookup_id):"",this.exceptedCloseDate=u(this.oppData.expected_close_date).format(this.loginUserDateFormat),this.defaultCurrency=this.oppData.currency?this.oppData.currency.lookup_id:"",this.currencyObj=this.oppData.currency},o=>{this.loggerService.setLoggerError(this.constructor.name,"get",o)})}catch(o){this.loggerService.setLoggerError(this.constructor.name,"getViewDetails",o)}}getAttachmentsList(){this.commonService.getAttachmentsList(this.objectType,this.recordId,"","","").then(t=>{if(t.rows.length>0)for(let o=0;o<t.rows.length;o++)t.rows[o].user_name=t.rows[o].f_name+", "+t.rows[o].l_name,t.rows[o].last_uploaded_date=this.commonservice.dbTimezoneFormat(t.rows[o].last_uploaded_date),this.attachmentsData=t.rows;else this.attachmentsData=[];this.totalRecords=t.totalCount,this.totalpages=t.pages,this.spinner=!1}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getAttachmentsList",t)})}changeOppName(t){try{this.opportunityName=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOppName",o)}}changeexpectedDateChange(t){try{this.exceptedCloseDate=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeexpectedDateChange",o)}}getOppTypeOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_TYPES],"").then(t=>{this.oppTypeOptions=t,this.defaultOppType=t[0].ID,this.oppTypeName=t[0].lookup_name,this.oppTypeDisplayName=this.lookupLanguageTranslations(t[0].lookup_id)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getFacilityOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getFacilityOptions",t)}}changeOpportunityType(t){try{this.defaultOppType=t.value,this.oppTypeObj=this.oppTypeOptions.find(o=>o.ID===parseInt(this.defaultOppType,10)),this.oppTypeName=this.oppTypeObj.lookup_name,this.oppTypeDisplayName=this.lookupLanguageTranslations(this.oppTypeObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeFacilityType",o)}}getCurrenciesOptions(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CURRENCIES],t).then(o=>{if(this.currencyOptions=o,this.currencyOptions.length>0){for(let a=0;a<this.currencyOptions.length;a++)this.currencyOptions[a].NAME=this.currencyOptions[a].lookup_display_name+" - "+this.currencyOptions[a].description;this.currencyOptions=this.currencyOptions}}).catch(o=>{this.loggerService.setLoggerError(this.constructor.name,"getCurrenciesOptions",o)})}catch(o){this.loggerService.setLoggerError(this.constructor.name,"getCurrenciesOptions",o)}}changeCurrency(t){this.defaultCurrency=t.value,this.currencyObj=this.currencyOptions.find(o=>o.ID===parseInt(this.defaultCurrency,10))}getOppfocusOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_FOCUS],"").then(t=>{this.oppFocusOptions=t},t=>{this.loggerService.setLoggerError(this.constructor.name,"getOppfocusOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getOppfocusOptions",t)}}changeOpportunityFocus(t){try{this.defaultOppFocus=t.value,this.oppFocusObj=this.oppFocusOptions.find(o=>o.ID===parseInt(this.defaultOppFocus,10)),this.oppFocusName=this.oppFocusObj.lookup_name,this.oppFocusDisplayName=this.lookupLanguageTranslations(this.oppFocusObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOpportunityFocus",o)}}getOppSalesStageOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_SALES_STAGES],"").then(t=>{this.salesStageOptions=t},t=>{this.loggerService.setLoggerError(this.constructor.name,"getOppSalesStageOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getOppSalesStageOptions",t)}}changeSalesStage(t){try{this.defaultSalesStage=t.value,this.oppSalesObj=this.salesStageOptions.find(o=>o.ID===parseInt(this.defaultSalesStage,10)),this.oppSalesStageName=this.oppSalesObj.lookup_name,this.oppSalesStageDisplayName=this.lookupLanguageTranslations(this.oppSalesObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeSalesStage",o)}}getOppEstimatedClosureOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_ESTIMATED_CLOSURE],"").then(t=>{this.estimatedClosureOptions=t},t=>{this.loggerService.setLoggerError(this.constructor.name,"getOppEstimatedClosureOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getOppEstimatedClosureOptions",t)}}changeEstimatedClosure(t){try{this.defaultEstimatedClosure=t.value,this.oppEstimatedClosureObj=this.estimatedClosureOptions.find(o=>o.ID===parseInt(this.defaultEstimatedClosure,10)),this.oppEstimatedClosureName=this.oppEstimatedClosureObj.lookup_name,this.oppEstimatedClosureDisplayName=this.lookupLanguageTranslations(this.oppEstimatedClosureObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeEstimatedClosure",o)}}getOppProbabilityClosureOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_PROBABILITY_CLOSURE],"").then(t=>{this.probabilityClosureOptions=t},t=>{this.loggerService.setLoggerError(this.constructor.name,"getOppEstimatedClosureOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getOppEstimatedClosureOptions",t)}}changeProbabilityClosure(t){try{this.defaultProbabilityClosure=t.value,this.oppProbablityClosureObj=this.probabilityClosureOptions.find(o=>o.ID===parseInt(this.defaultProbabilityClosure,10)),this.oppProbablityClosureName=this.oppProbablityClosureObj.lookup_name,this.oppProbablityClosureDisplayName=this.lookupLanguageTranslations(this.oppProbablityClosureObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeEstimatedClosure",o)}}changeDescriptionName(t){try{this.description=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeDescriptionName",o)}}getStatusOptions(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.OPPORTUNITY_STATUSES],"").then(t=>{this.statusOptions=t},t=>{this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getStatusOptions",t)}}changeStatus(t){try{this.defaultStatus=t.value,this.statusObj=this.statusOptions.find(o=>o.ID===parseInt(this.defaultStatus,10)),this.statusName=this.statusObj.lookup_name,this.statusDisplayName=this.lookupLanguageTranslations(this.statusObj.lookup_id)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeStatus",o)}}scrollToElement(t){setTimeout(()=>{const o=document.querySelector(t);o&&o.scrollIntoView({behavior:"smooth",block:"start"})},500)}updateRecord(){try{this.OppNamevalid.isValid()&&this.OppType.isValid()&&this.descriptionvalid.isValid()&&(this.contactsData.length>0?this.salesRepData.length>0?this.oppLinesData.length>0?(this.disableSubmitBtn=!0,this.crmOpportunitiesService.update(this.recordId,{enterprise:{enterprise_id:this.defaultEnterprise,enterprise_name:this.enterpriseName,short_name:this.enterpriseShortName},business_entity_name:this.oppData.business_entity_name,account_details:this.oppData.account_details,contact_details:this.contactsData,opportunity_num:this.opportunityNum,opportunity_name:this.opportunityName,opportunity_type:{lookup_id:this.defaultOppType,lookup_name:this.oppTypeName},expected_close_date:this.exceptedCloseDate,currency:this.currencyObj,opportunity_total:this.opportunityTotal,opportunity_focus:{lookup_id:this.defaultOppFocus,lookup_name:this.oppFocusName},sales_stage:{lookup_id:this.defaultSalesStage,lookup_name:this.oppSalesStageName},estimated_closure:{lookup_id:this.defaultEstimatedClosure,lookup_name:this.oppEstimatedClosureName},probability_closure:{lookup_id:this.defaultProbabilityClosure,lookup_name:this.oppProbablityClosureName},sales_rep:this.salesRepData,description:this.description,opportunity_lines:this.oppLinesData,status:{lookup_id:this.defaultStatus,lookup_name:this.statusName}}).then(o=>{this.disableSubmitBtn=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),this.commonService.redirectToPreviousUrl()},o=>{this.commonErrorCodes(JSON.parse(o))})):this.error="COMMON_VALIDATION_MESSAGES.VALID_ADD_OPPORTUNITY_LINE":this.error="COMMON_VALIDATION_MESSAGES.VALID_ADD_SALES_REP":this.error="COMMON_VALIDATION_MESSAGES.VALID_ADD_CONTACT_DETAIL")}catch(o){this.loggerService.setLoggerError(this.constructor.name,"updateRecord",o)}}commonErrorCodes(t){409===JSON.parse(t[r.BU.STATUS])&&(this.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}changeFirstName(t){try{this.firstName=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeFirstName",o)}}changeLastName(t){try{this.lastName=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeLastName",o)}}changeContactEmail(t){try{this.contactEmail=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeContactEmail",o)}}getCountryCodeOpt(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.COUNTRY_CODES],t).then(o=>{this.countryCodeOptions=o},o=>{this.loggerService.setLoggerError(this.constructor.name,"getCountryCodeOpt",o)})}catch(o){this.loggerService.setLoggerError(this.constructor.name,"getCountryCodeOpt",o)}}changeCountryCode(t){try{t.ID?(this.countryCodeObj=t,this.countryCodeDisplayName=this.countryCodeObj.NAME):this.countryCodeDisplayName=""}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeCountryCode",o)}}changePhoneNo(t){try{this.phoneNumber=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changePhoneNo",o)}}changeExternalPhoneNo(t){try{this.phoneNumberExtension=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeExternalPhoneNo",o)}}contactLinesAdd(){try{this.countryCodeSplit=3===this.countryCodeDisplayName.split("-").length?this.countryCodeDisplayName.split("-")[0]+"-"+this.countryCodeDisplayName.split("-")[1].trim():this.countryCodeDisplayName.split("-")[0].trim(),this.phone=this.countryCodeSplit+"-"+this.phoneNumber+" "+this.phoneNumberExtension,this.firstnameInput.isValid()&&this.lastnameInput.isValid()&&this.emailInputValid.isValid()&&this.contactsphonecountrycodeDropDown.isValid()&&this.phoneInput.isValid()&&this.phoneExt.isValid()&&(this.scrollToElement("#linesId"),this.contactsData.push({fname:this.firstName,lname:this.lastName,phone_country_code:this.countryCodeObj,phone:this.phoneNumber,phone_extn:this.phoneNumberExtension,email:this.contactEmail,defaultcountryCodename:this.countryCodeDisplayName,phoneNumberExtension:this.phoneNumberExtension,firstName:this.firstName,lastName:this.lastName,phone_number:this.phone}),$("#exampleModal1").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"contactLinesAdd",t)}}contactUpdate(){try{this.countryCodeSplit=3===this.countryCodeDisplayName.split("-").length?this.countryCodeDisplayName.split("-")[0]+"-"+this.countryCodeDisplayName.split("-")[1].trim():this.countryCodeDisplayName.split("-")[0].trim(),this.phone=this.countryCodeSplit+"-"+this.phoneNumber,this.firstnameInput.isValid()&&this.lastnameInput.isValid()&&this.emailInputValid.isValid()&&this.phoneInput.isValid()&&this.phoneExtEdit.isValid()&&(this.contactsData[this.rowIndex].fname=this.firstName,this.contactsData[this.rowIndex].lname=this.lastName,this.contactsData[this.rowIndex].phone_country_code=this.countryCodeObj,this.contactsData[this.rowIndex].phone=this.phoneNumber,this.contactsData[this.rowIndex].email=this.contactEmail,this.contactsData[this.rowIndex].defaultcountryCodename=this.countryCodeDisplayName,this.contactsData[this.rowIndex].phoneNumberExtension=this.phoneNumberExtension,this.contactsData[this.rowIndex].lastName=this.lastName,this.contactsData[this.rowIndex].phone_number=this.phone,this.contactsData[this.rowIndex].phone_extn=this.phoneNumberExtension,$("#exampleModal2").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"contactUpdate",t)}}contactAdd(t){try{this.error="",this.firstName="",this.lastName="",this.phoneNumber="",this.phoneNumberExtension="",this.contactEmail="",this.contactsphonecountrycodeDropDown.clearSelectInput(),this.countryCodeDisplayName="",this.phone="",this.phoneExt.clearMessage(),$("#exampleModal1").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal1")}catch(o){this.loggerService.setLoggerError(this.constructor.name,"contactAdd",o)}}editContact(t,o){try{this.rowIndex=t,this.rowData=o,this.firstName=this.rowData.fname,this.lastName=this.rowData.lname,this.phoneNumber=this.rowData.phone,this.contactEmail=this.rowData.email,this.countryCodeObj=this.rowData.phone_country_code,this.phoneNumberExtension=this.rowData.phone_extn,this.countryCodeDisplayName=this.lookupLanguageTranslations(this.rowData.phone_country_code.lookup_id),$("#exampleModal2").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal2")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editContact",a)}}removeContact(t,o){try{this.rowIndex=t,this.rowData=o,this.firstName=this.rowData.fname,this.lastName=this.rowData.lname,this.phoneNumber=this.rowData.phone,this.contactEmail=this.rowData.email,this.countryCodeDisplayName=this.lookupLanguageTranslations(this.rowData.phone_country_code.lookup_id),this.phoneNumberExtension=this.rowData.phone_extn,$("#exampleModal3").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal3")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeContact",a)}}contactdelete(){try{this.contactsData.splice(this.rowIndex,1),$("#exampleModal3").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"contactdelete",t)}}getSalesRepNames(t){try{this.crmQuotesService.getWorkResourceDropDown(this.enterpriseId,t).then(o=>{this.salesRepNameOptions=o},o=>{this.loggerService.setLoggerError(this.constructor.name,"getSalesRepNames",o)})}catch(o){this.loggerService.setLoggerError(this.constructor.name,"getSalesRepNames",o)}}changeSalesRep(t){try{this.effectiveDateError="",this.salesRepName=t.NAME,this.salesRepObj=t}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeSalesRep",o)}}changeFromDate(t){try{this.effectiveDateError="",this.fromDateValue=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeFromDate",o)}}changeToDate(t){try{this.effectiveDateError="",this.toDateValue=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeToDate",o)}}salesrepSubmit(){try{if(this.SalesrepValidation.isValid()&&this.fromDate.isValid())if(this.toDateValue&&new Date(this.toDateValue)<new Date(this.fromDateValue))this.effectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START";else if(this.salesRepData.find(o=>o.sales_rep_id===parseInt(this.salesRepObj.ID,10)))this.effectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS";else{const o={sales_rep_id:this.salesRepObj.ID,sales_rep_name:this.salesRepObj.NAME,from_date:this.fromDateValue,to_date:this.toDateValue,salesRepName:this.salesRepName,fromDateValue:u(this.fromDateValue).format(this.loginUserDateFormat),toDateValue:""!==this.toDateValue?u(this.toDateValue).format(this.loginUserDateFormat):""};this.salesRepData.push(o),$("#exampleModal4").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"salesrepSubmit",t)}}editsalesrep(t,o){try{this.rowIndex=t,this.rowData=o,this.defaultSalesRep=this.rowData.sales_rep_id,this.salesRepDisplayName=this.rowData.sales_rep_name,this.fromDateValue=u(this.rowData.from_date).format(this.loginUserDateFormat),this.toDateValue=null!==this.rowData.to_date?u(this.rowData.to_date).format(this.loginUserDateFormat):"",$("#exampleModal5").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal5")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editsalesrep",a)}}salesrepUpdate(){try{this.toDateValue&&new Date(this.toDateValue)<new Date(this.fromDateValue)?this.effectiveDateError="COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START":(this.salesRepData[this.rowIndex].sales_rep_name=this.salesRepDisplayName,this.salesRepData[this.rowIndex].from_date=this.fromDateValue,this.salesRepData[this.rowIndex].to_date=this.toDateValue,this.salesRepData[this.rowIndex].fromDateValue=u(this.fromDateValue).format(this.loginUserDateFormat),this.salesRepData[this.rowIndex].toDateValue=""!==this.toDateValue?u(this.toDateValue).format(this.loginUserDateFormat):"",$("#exampleModal5").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"salesrepUpdate",t)}}removesalesrep(t,o){try{this.rowIndex=t,this.rowData=o,this.defaultSalesRep=this.rowData.sales_rep_id,this.salesRepDisplayName=this.rowData.sales_rep_name,this.fromDateValue=u(this.rowData.from_date).format(this.loginUserDateFormat),this.toDateValue=""!==this.rowData.to_date?u(this.rowData.to_date).format(this.loginUserDateFormat):"",$("#exampleModal6").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal6")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removesalesrep",a)}}salesRepDelete(){try{this.salesRepData.splice(this.rowIndex,1),$("#exampleModal6").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"salesRepDelete",t)}}salesrepadd(t){try{t.stopPropagation(),this.error="",this.salesRepDisplayName="",this.fromDateValue="",this.toDateValue="",this.effectiveDateError="",this.SalesrepValidation.clearSelectInput(),$("#exampleModal4").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal4")}catch(o){this.loggerService.setLoggerError(this.constructor.name,"salesrepadd",o)}}changeOppProductService(t){try{this.oppProductService=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOppProductService",o)}}changeOppQuantity(t){try{this.oppQuantity=t.value,this.oppLineTotal=this.oppPrice&&""!==this.oppQuantity?this.oppQuantity*this.oppPrice:0}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOppQuantity",o)}}changeOppPrice(t){try{this.oppPrice=t.value,this.oppLineTotal=""!==this.oppPrice&&this.oppQuantity?this.oppQuantity*this.oppPrice:0}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOppPrice",o)}}changeOppLineDescription(t){try{this.oppLineDescription=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changeOppLineDescription",o)}}changetOpptotal(t){try{this.opportunityTotal=t.value}catch(o){this.loggerService.setLoggerError(this.constructor.name,"changetOpptotal",o)}}opplineadd(t){try{this.error="",this.oppProductService="",this.oppQuantity="",this.oppPrice="",this.oppLineTotal="",this.oppLineDescription="",$("#exampleModal7").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal7")}catch(o){this.loggerService.setLoggerError(this.constructor.name,"opplineadd",o)}}opplineSubmit(){try{this.ProductService.isValid()&&this.LineDescription.isValid()&&(this.oppLinesData.push({product_service:this.oppProductService,quantity:this.oppQuantity,price:this.oppPrice,line_total:this.oppLineTotal,line_description:this.oppLineDescription,oppProductService:this.oppProductService,oppQuantity:this.oppQuantity,oppPrice:this.oppPrice,oppLineTotal:this.oppLineTotal,oppLineDescription:this.oppLineDescription}),$("#exampleModal7").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"opplineSubmit",t)}}editOpplines(t,o){try{this.rowIndex=t,this.rowData=o,this.oppProductService=this.rowData.product_service,this.oppPrice=this.rowData.price,this.oppLineTotal=this.rowData.line_total,this.oppLineDescription=this.rowData.line_description,this.oppQuantity=this.rowData.quantity,$("#exampleModal8").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal8")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editOpplines",a)}}opplineUpdate(){try{this.ProductService.isValid()&&this.LineDescription.isValid()&&(this.oppLinesData[this.rowIndex].product_service=this.oppProductService,this.oppLinesData[this.rowIndex].price=this.oppPrice,this.oppLinesData[this.rowIndex].line_total=this.oppLineTotal,this.oppLinesData[this.rowIndex].line_description=this.oppLineDescription,this.oppLinesData[this.rowIndex].quantity=this.oppQuantity,this.oppLinesData[this.rowIndex].oppQuantity=this.oppQuantity,this.oppLinesData[this.rowIndex].oppLineDescription=this.oppLineDescription,this.oppLinesData[this.rowIndex].oppLineTotal=this.oppLineTotal,this.oppLinesData[this.rowIndex].oppPrice=this.oppPrice,this.oppLinesData[this.rowIndex].oppProductService=this.oppProductService,$("#exampleModal8").modal("hide"))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"opplineUpdate",t)}}removeOpplines(t,o){try{this.rowIndex=t,this.rowData=o,this.oppProductService=this.rowData.product_service,this.oppPrice=this.rowData.price,this.oppLineTotal=this.rowData.line_total,this.oppLineDescription=this.rowData.line_description,this.oppQuantity=this.rowData.quantity,$("#exampleModal9").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal9")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"removeOpplines",a)}}opplineDelete(){try{this.oppLinesData.splice(this.rowIndex,1),$("#exampleModal9").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"opplineDelete",t)}}pageheadeActionClick(t){"BACK"==t.value&&this.cancel()}static \u0275fac=function(o){return new(o||i)(e.Y36(G.a),e.Y36(M.Y),e.Y36(R),e.Y36(H.o),e.Y36(P.m),e.Y36(J.f),e.Y36(C.F0),e.Y36(y.sK),e.Y36(k.s),e.Y36(f.v),e.Y36(f.v),e.Y36(x.e),e.Y36(I.v),e.Y36(C.gz))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-crm-opportunity-edit"]],viewQuery:function(o,a){if(1&o&&(e.Gf(it,5),e.Gf(nt,5),e.Gf(st,5),e.Gf(rt,5),e.Gf(lt,5),e.Gf(pt,5),e.Gf(ct,5),e.Gf(ut,5),e.Gf(dt,5),e.Gf(mt,5),e.Gf(ht,5),e.Gf(_t,5),e.Gf(gt,5),e.Gf(Ct,5)),2&o){let n;e.iGM(n=e.CRH())&&(a.LineDescription=n.first),e.iGM(n=e.CRH())&&(a.OppNamevalid=n.first),e.iGM(n=e.CRH())&&(a.OppType=n.first),e.iGM(n=e.CRH())&&(a.ProductService=n.first),e.iGM(n=e.CRH())&&(a.SalesrepValidation=n.first),e.iGM(n=e.CRH())&&(a.contactsphonecountrycodeDropDown=n.first),e.iGM(n=e.CRH())&&(a.descriptionvalid=n.first),e.iGM(n=e.CRH())&&(a.emailInputValid=n.first),e.iGM(n=e.CRH())&&(a.firstnameInput=n.first),e.iGM(n=e.CRH())&&(a.fromDate=n.first),e.iGM(n=e.CRH())&&(a.lastnameInput=n.first),e.iGM(n=e.CRH())&&(a.phoneExt=n.first),e.iGM(n=e.CRH())&&(a.phoneExtEdit=n.first),e.iGM(n=e.CRH())&&(a.phoneInput=n.first)}},features:[e._Bn([I.v,M.Y]),e.qOj],decls:403,vars:448,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["disabled","true","id","opp-edit-enterprisename",3,"label","value"],["disabled","true","id","opp-edit-business-entity",3,"label","value"],["disabled","true",3,"label","value"],["mandatory","true","id","Opportunity-number","disabled","true",3,"label","value"],["autoCaseFlag","false","mandatory","true","id","Opportunity-name","disabled","false",3,"maxlength","label","value","valueChange"],["OppNamevalid",""],["mandatory","true","id","Opportunity-edit-Opportunitytype",3,"label","options","defaultValue","valueChange"],["OppType",""],["mandatory","false","id","Opportunity-edit-Currency",3,"label","options","defaultValue","valueChange"],["autoCaseFlag","false","type","number","mandatory","false","id","Opportunity-total","disabled","false",3,"label","value","valueChange"],["mandatory","false","id","Opportunity-edit-focus",3,"label","options","defaultValue","valueChange"],["mandatory","false","id","Opportunity-edit-SalesStage",3,"label","options","defaultValue","valueChange"],["mandatory","false","id","Opportunity-edit-EstimatedClosure",3,"label","options","defaultValue","valueChange"],["mandatory","false","id","Opportunity-edit-ProbabilityClosure",3,"label","options","defaultValue","valueChange"],["mandatory","true","id","opp-edit-status",3,"label","options","defaultValue","valueChange"],["dateformat","dd-MMM-yyyy","mandatory","false","disabled","false","id","crm-Opp-create-expected-close-date","showFullCalendar","true",3,"placeholder","defaultDate","dateChangeValue"],["mandatory","true","disabled","false","id","opp-edit-description",3,"label","defaultvalue","maxlength","valueChange"],["descriptionvalid",""],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","enterprise-edit-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","enterprise-edit-cancel",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0","order-md-1","order-2"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"multiple"],["accordianBundle",""],["id","editComponentsId",1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus",3,"isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","d-none","d-lg-block","max-height",3,"columns","value","rows","lazy","responsive","autoLayout","selection","selectionChange"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"d-lg-none"],["lines","full","class","pdl-0 pdr-0",4,"ngFor","ngForOf"],["className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus",3,"label","isEmitMouseEvent","buttonOnClick"],["id","editattachmentId"],[3,"header","data","objectType","objectId","actionType","spinner"],[3,"createdBy","lastUpdatedBy","showrecordhistory","creationDate","lastUpdatedDate"],["id","exampleModal1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],["mandatory","true","id","Opportunity-edit-firstname","disabled","false",3,"label","value","maxlength","valueChange"],["firstnameInput",""],["mandatory","true","id","Opportunity-edit-lastname","disabled","false",3,"label","value","maxlength","valueChange"],["lastnameInput",""],["mandatory","true","id","Opportunity-edit-email","disabled","false","type","email",3,"label","value","maxlength","valueChange"],["emailInputValid",""],["mandatory","true","id","Opportunity-edit-phonecountrycode",3,"label","options","selectedOption","searchValueChange"],["contactsphonecountrycodeDropDown",""],["mandatory","true","disabled","false","type","mobile",3,"label","value","minlength","maxlength","valueChange"],["phoneInput",""],["disabled","false","mandatory","true","id","Opportunity-edit-phonenumberext",3,"label","value","maxlength","valueChange"],["phoneExt",""],["className","btn btn-primary btn-sm","id","widget-parameters-add",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","widget-parameters-cancel",3,"label"],["id","exampleModal2","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","enterprises-create-contactType",3,"label","options","defaultValue","selectedOption","searchValueChange"],["phoneExtEdit",""],["className","btn btn-primary btn-sm","id","enterprise-edit-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","enterprise-edit-close",3,"label"],["id","exampleModal3","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","Opportunity-edit-firstname","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-edit-lastname","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-edit-email","disabled","true","type","email",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-edit-email","disabled","true",3,"label","value","maxlength"],["mandatory","true","disabled","true",3,"label","value","minlength","maxlength"],["disabled","true","mandatory","true","id","Opportunity-edit-phonenumberext",3,"label","value","maxlength"],["id","exampleModal4","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","crm-Opp-edit-Salesrep-name",3,"label","options","selectedOption","searchValueChange"],["SalesrepValidation",""],["dateformat","dd-MMM-yyyy","mandatory","true","disabled","false","id","crm-Opp-edit-Salesrep-assignment-date",3,"placeholder","defaultDate","dateChangeValue"],["fromDate",""],["dateformat","dd-MMM-yyyy","mandatory","false","disabled","false","id","crm-Opp-edit-Salesrep-assignment-date",3,"placeholder","defaultDate","dateChangeValue"],["className","btn btn-primary btn-sm","id","appraisal-templates-edit-resource-assigments-add",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","appraisal-templates-edit-resource-assigments-cancel",3,"label"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],["id","exampleModal5","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","Opportunity-edit-email","disabled","true",3,"label","value"],["id","exampleModal6","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","crm-quote-edit-Salesrep-from-date","disabled","true",3,"label","value"],["mandatory","true","id","crm-quote-edit-Salesrep-to-date","disabled","true",3,"label","value"],["id","exampleModal7","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","Opportunity-edit-product-service","disabled","false",3,"label","value","valueChange"],["ProductService",""],["mandatory","false","id","Opportunity-edit-quantity","disabled","false","type","number",3,"label","value","valueChange"],["mandatory","false","id","Opportunity-edit-price","disabled","false",3,"label","value","maxlength","valueChange"],["mandatory","false","id","Opportunity-edit-linetotal","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-edit-linedescription","disabled","false",3,"label","value","valueChange"],["LineDescription",""],["id","exampleModal8","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","exampleModal9","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","Opportunity-edit-product-service","disabled","true",3,"label","value"],["mandatory","true","id","Opportunity-edit-quantity","disabled","true","type","number",3,"label","value"],["mandatory","true","id","Opportunity-edit-price","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-edit-linetotal","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-edit-linedescription","disabled","true",3,"label","value"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[1,"checkboxcol",2,"width","2em"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"pSortableColumn"],[1,"text-center"],[1,"row-actions"],["data-toggle","modal","data-bs-target","#exampleModal3",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","click"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"],["lines","full",1,"pdl-0","pdr-0"],["data-toggle","modal","data-bs-target","#exampleModal3",1,"fas","fa-minus","mgr-4",3,"click"],[1,"mg-0",3,"click"],["color","primary",1,"mg-0","fs-13"],[1,"mg-0","fs-11"],["color","primary",1,"mg-0","fs-11"],["data-toggle","modal","data-bs-target","#exampleModal6",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal5",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal5",3,"pSelectableRow","click"],["data-toggle","modal","data-bs-target","#exampleModal6",1,"fas","fa-minus","mgr-4",3,"click"],[1,"text-center","cursor-pointer"],["data-toggle","modal","data-bs-target","#exampleModal9",1,"fas","fa-minus",3,"click"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","click"],["data-toggle","modal","data-bs-target","#exampleModal9",1,"fas","fa-minus","mgr-4",3,"click"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"app-input",11),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"app-input",12),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",9),e._UZ(19,"app-input",13),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",9)(22,"app-input",14,15),e.NdJ("valueChange",function(s){return a.changeOppName(s)}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",9)(26,"app-dropdown-singleselect",16,17),e.NdJ("valueChange",function(s){return a.changeOpportunityType(s)}),e.ALo(28,"translate"),e.qZA()(),e.TgZ(29,"div",9)(30,"app-dropdown-singleselect",18),e.NdJ("valueChange",function(s){return a.changeCurrency(s)}),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",9)(33,"app-input",19),e.NdJ("valueChange",function(s){return a.changetOpptotal(s)}),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"div",9)(36,"app-dropdown-singleselect",20),e.NdJ("valueChange",function(s){return a.changeOpportunityFocus(s)}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",9)(39,"app-dropdown-singleselect",21),e.NdJ("valueChange",function(s){return a.changeSalesStage(s)}),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"div",9)(42,"app-dropdown-singleselect",22),e.NdJ("valueChange",function(s){return a.changeEstimatedClosure(s)}),e.ALo(43,"translate"),e.qZA()(),e.TgZ(44,"div",9)(45,"app-dropdown-singleselect",23),e.NdJ("valueChange",function(s){return a.changeProbabilityClosure(s)}),e.ALo(46,"translate"),e.qZA()(),e.TgZ(47,"div",9)(48,"app-dropdown-singleselect",24),e.NdJ("valueChange",function(s){return a.changeStatus(s)}),e.ALo(49,"translate"),e.qZA()(),e.TgZ(50,"div",9)(51,"app-datepicker",25),e.NdJ("dateChangeValue",function(s){return a.changeexpectedDateChange(s)}),e.ALo(52,"translate"),e.qZA()(),e.TgZ(53,"div",3)(54,"app-textarea",26,27),e.NdJ("valueChange",function(s){return a.changeDescriptionName(s)}),e.ALo(56,"translate"),e.qZA()(),e.TgZ(57,"div",28)(58,"app-button",29),e.NdJ("buttonOnClick",function(){return a.updateRecord()}),e.ALo(59,"translate"),e.qZA(),e.TgZ(60,"app-button",30),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(61,"translate"),e.qZA(),e.TgZ(62,"div",31),e._uU(63),e.ALo(64,"translate"),e.qZA()()()()()(),e.TgZ(65,"div",3)(66,"div",32)(67,"div",33)(68,"p-accordion",34,35)(70,"p-accordionTab",36)(71,"p-header",37)(72,"span"),e._uU(73),e.ALo(74,"translate"),e.qZA(),e.TgZ(75,"app-button",38),e.NdJ("buttonOnClick",function(s){return a.contactAdd(s)}),e.qZA()(),e.TgZ(76,"p-table",39),e.NdJ("selectionChange",function(s){return a.selectedRow=s}),e.YNc(77,Tt,1,1,"ng-template",40),e.YNc(78,yt,4,2,"ng-template",41),e.YNc(79,Et,5,1,"ng-template",42),e.YNc(80,At,4,2,"ng-template",43),e.qZA(),e.TgZ(81,"div",44)(82,"ion-list"),e.YNc(83,ft,15,16,"ion-item",45),e.qZA()()(),e.TgZ(84,"p-accordionTab",36)(85,"p-header",37)(86,"span"),e._uU(87),e.ALo(88,"translate"),e.qZA(),e.TgZ(89,"app-button",46),e.NdJ("buttonOnClick",function(s){return a.salesrepadd(s)}),e.ALo(90,"translate"),e.qZA()(),e.TgZ(91,"p-table",39),e.NdJ("selectionChange",function(s){return a.selectedRow=s}),e.YNc(92,Mt,1,1,"ng-template",40),e.YNc(93,Zt,4,2,"ng-template",41),e.YNc(94,Ut,5,1,"ng-template",42),e.YNc(95,wt,4,2,"ng-template",43),e.qZA(),e.TgZ(96,"div",44)(97,"ion-list"),e.YNc(98,xt,14,12,"ion-item",45),e.qZA()()(),e.TgZ(99,"p-accordionTab",36)(100,"p-header",37)(101,"span"),e._uU(102),e.ALo(103,"translate"),e.qZA(),e.TgZ(104,"app-button",46),e.NdJ("buttonOnClick",function(s){return a.opplineadd(s)}),e.ALo(105,"translate"),e.qZA()(),e.TgZ(106,"p-table",39),e.NdJ("selectionChange",function(s){return a.selectedRow=s}),e.YNc(107,kt,1,1,"ng-template",40),e.YNc(108,Ft,4,2,"ng-template",41),e.YNc(109,Bt,5,1,"ng-template",42),e.YNc(110,Yt,4,2,"ng-template",43),e.qZA(),e.TgZ(111,"div",44)(112,"ion-list"),e.YNc(113,$t,14,12,"ion-item",45),e.qZA()()(),e.TgZ(114,"p-accordion",47),e._UZ(115,"app-attachment",48),e.qZA(),e._UZ(116,"app-recordhistory",49),e.qZA()()()()()()(),e.TgZ(117,"div",50)(118,"div",51)(119,"div",52)(120,"div",53)(121,"div",54),e._uU(122),e.ALo(123,"translate"),e.ALo(124,"translate"),e.qZA()(),e.TgZ(125,"div",55)(126,"div",8)(127,"div",9)(128,"app-input",56,57),e.NdJ("valueChange",function(s){return a.changeFirstName(s)}),e.ALo(130,"translate"),e.qZA()(),e.TgZ(131,"div",9)(132,"app-input",58,59),e.NdJ("valueChange",function(s){return a.changeLastName(s)}),e.ALo(134,"translate"),e.qZA()(),e.TgZ(135,"div",9)(136,"app-input",60,61),e.NdJ("valueChange",function(s){return a.changeContactEmail(s)}),e.ALo(138,"translate"),e.qZA()(),e.TgZ(139,"div",9)(140,"app-dropdown-search",62,63),e.NdJ("selectedOption",function(s){return a.changeCountryCode(s)})("searchValueChange",function(s){return a.getCountryCodeOpt(s)}),e.ALo(142,"translate"),e.qZA()(),e.TgZ(143,"div",9)(144,"app-inputnumber",64,65),e.NdJ("valueChange",function(s){return a.changePhoneNo(s)}),e.ALo(146,"translate"),e.qZA()(),e.TgZ(147,"div",9)(148,"app-inputnumber",66,67),e.NdJ("valueChange",function(s){return a.changeExternalPhoneNo(s)}),e.ALo(150,"translate"),e.qZA()(),e.TgZ(151,"div",28)(152,"app-button",68),e.NdJ("buttonOnClick",function(){return a.contactLinesAdd()}),e.ALo(153,"translate"),e.qZA(),e._UZ(154,"app-button",69),e.ALo(155,"translate"),e.qZA()()()()()(),e.TgZ(156,"div",70)(157,"div",51)(158,"div",52)(159,"div",53)(160,"div",54),e._uU(161),e.ALo(162,"translate"),e.ALo(163,"translate"),e.qZA()(),e.TgZ(164,"div",55)(165,"div",8)(166,"div",9)(167,"app-input",56,57),e.NdJ("valueChange",function(s){return a.changeFirstName(s)}),e.ALo(169,"translate"),e.qZA()(),e.TgZ(170,"div",9)(171,"app-input",58,59),e.NdJ("valueChange",function(s){return a.changeLastName(s)}),e.ALo(173,"translate"),e.qZA()(),e.TgZ(174,"div",9)(175,"app-input",60,61),e.NdJ("valueChange",function(s){return a.changeContactEmail(s)}),e.ALo(177,"translate"),e.qZA()(),e.TgZ(178,"div",9)(179,"app-dropdown-search",71,63),e.NdJ("selectedOption",function(s){return a.changeCountryCode(s)})("searchValueChange",function(s){return a.getCountryCodeOpt(s)}),e.ALo(181,"translate"),e.qZA()(),e.TgZ(182,"div",9)(183,"app-inputnumber",64,65),e.NdJ("valueChange",function(s){return a.changePhoneNo(s)}),e.ALo(185,"translate"),e.qZA()(),e.TgZ(186,"div",9)(187,"app-inputnumber",66,72),e.NdJ("valueChange",function(s){return a.changeExternalPhoneNo(s)}),e.ALo(189,"translate"),e.qZA()(),e.TgZ(190,"div",28)(191,"app-button",73),e.NdJ("buttonOnClick",function(){return a.contactUpdate()}),e.ALo(192,"translate"),e.qZA(),e._UZ(193,"app-button",74),e.ALo(194,"translate"),e.qZA()()()()()(),e.TgZ(195,"div",75)(196,"div",51)(197,"div",52)(198,"div",53)(199,"div",54),e._uU(200),e.ALo(201,"translate"),e.ALo(202,"translate"),e.qZA()(),e.TgZ(203,"div",55)(204,"div",8)(205,"div",9),e._UZ(206,"app-input",76),e.ALo(207,"translate"),e.qZA(),e.TgZ(208,"div",9),e._UZ(209,"app-input",77),e.ALo(210,"translate"),e.qZA(),e.TgZ(211,"div",9),e._UZ(212,"app-input",78),e.ALo(213,"translate"),e.qZA(),e.TgZ(214,"div",9),e._UZ(215,"app-input",79),e.ALo(216,"translate"),e.qZA(),e.TgZ(217,"div",9),e._UZ(218,"app-inputnumber",80),e.ALo(219,"translate"),e.qZA(),e.TgZ(220,"div",9),e._UZ(221,"app-inputnumber",81),e.ALo(222,"translate"),e.qZA(),e.TgZ(223,"div",28)(224,"app-button",73),e.NdJ("buttonOnClick",function(){return a.contactdelete()}),e.ALo(225,"translate"),e.qZA(),e._UZ(226,"app-button",74),e.ALo(227,"translate"),e.qZA()()()()()(),e.TgZ(228,"div",82)(229,"div",51)(230,"div",52)(231,"div",53)(232,"div",54),e._uU(233),e.ALo(234,"translate"),e.ALo(235,"translate"),e.qZA()(),e.TgZ(236,"div",55)(237,"div",8)(238,"div",9)(239,"app-dropdown-search",83,84),e.NdJ("selectedOption",function(s){return a.changeSalesRep(s)})("searchValueChange",function(s){return a.getSalesRepNames(s)}),e.ALo(241,"translate"),e.qZA()(),e.TgZ(242,"div",9)(243,"app-datepicker",85,86),e.NdJ("dateChangeValue",function(s){return a.changeFromDate(s)}),e.ALo(245,"translate"),e.qZA()(),e.TgZ(246,"div",9)(247,"app-datepicker",87),e.NdJ("dateChangeValue",function(s){return a.changeToDate(s)}),e.ALo(248,"translate"),e.qZA()(),e.TgZ(249,"div",28)(250,"app-button",88),e.NdJ("buttonOnClick",function(){return a.salesrepSubmit()}),e.ALo(251,"translate"),e.qZA(),e._UZ(252,"app-button",89),e.ALo(253,"translate"),e.qZA(),e.TgZ(254,"div",90),e._uU(255),e.ALo(256,"translate"),e.qZA()()()()()(),e.TgZ(257,"div",91)(258,"div",51)(259,"div",52)(260,"div",53)(261,"div",54),e._uU(262),e.ALo(263,"translate"),e.ALo(264,"translate"),e.qZA()(),e.TgZ(265,"div",55)(266,"div",8)(267,"div",9),e._UZ(268,"app-input",92),e.ALo(269,"translate"),e.qZA(),e.TgZ(270,"div",9)(271,"app-datepicker",85,86),e.NdJ("dateChangeValue",function(s){return a.changeFromDate(s)}),e.ALo(273,"translate"),e.qZA()(),e.TgZ(274,"div",9)(275,"app-datepicker",87),e.NdJ("dateChangeValue",function(s){return a.changeToDate(s)}),e.ALo(276,"translate"),e.qZA()(),e.TgZ(277,"div",28)(278,"app-button",88),e.NdJ("buttonOnClick",function(){return a.salesrepUpdate()}),e.ALo(279,"translate"),e.qZA(),e._UZ(280,"app-button",89),e.ALo(281,"translate"),e.qZA(),e.TgZ(282,"div",90),e._uU(283),e.ALo(284,"translate"),e.qZA()()()()()(),e.TgZ(285,"div",93)(286,"div",51)(287,"div",52)(288,"div",53)(289,"div",54),e._uU(290),e.ALo(291,"translate"),e.ALo(292,"translate"),e.qZA()(),e.TgZ(293,"div",55)(294,"div",8)(295,"div",9),e._UZ(296,"app-input",92),e.ALo(297,"translate"),e.qZA(),e.TgZ(298,"div",9),e._UZ(299,"app-input",94),e.ALo(300,"translate"),e.qZA(),e.TgZ(301,"div",9),e._UZ(302,"app-input",95),e.ALo(303,"translate"),e.qZA(),e.TgZ(304,"div",28)(305,"app-button",88),e.NdJ("buttonOnClick",function(){return a.salesRepDelete()}),e.ALo(306,"translate"),e.qZA(),e._UZ(307,"app-button",89),e.ALo(308,"translate"),e.qZA()()()()()(),e.TgZ(309,"div",96)(310,"div",51)(311,"div",52)(312,"div",53)(313,"div",54),e._uU(314),e.ALo(315,"translate"),e.ALo(316,"translate"),e.qZA()(),e.TgZ(317,"div",55)(318,"div",8)(319,"div",9)(320,"app-input",97,98),e.NdJ("valueChange",function(s){return a.changeOppProductService(s)}),e.ALo(322,"translate"),e.qZA()(),e.TgZ(323,"div",9)(324,"app-input",99),e.NdJ("valueChange",function(s){return a.changeOppQuantity(s)}),e.ALo(325,"translate"),e.qZA()(),e.TgZ(326,"div",9)(327,"app-input",100),e.NdJ("valueChange",function(s){return a.changeOppPrice(s)}),e.ALo(328,"translate"),e.qZA()(),e.TgZ(329,"div",9),e._UZ(330,"app-input",101),e.ALo(331,"translate"),e.qZA(),e.TgZ(332,"div",9)(333,"app-input",102,103),e.NdJ("valueChange",function(s){return a.changeOppLineDescription(s)}),e.ALo(335,"translate"),e.qZA()(),e.TgZ(336,"div",28)(337,"app-button",88),e.NdJ("buttonOnClick",function(){return a.opplineSubmit()}),e.ALo(338,"translate"),e.qZA(),e._UZ(339,"app-button",89),e.ALo(340,"translate"),e.qZA()()()()()(),e.TgZ(341,"div",104)(342,"div",51)(343,"div",52)(344,"div",53)(345,"div",54),e._uU(346),e.ALo(347,"translate"),e.ALo(348,"translate"),e.qZA()(),e.TgZ(349,"div",55)(350,"div",8)(351,"div",9)(352,"app-input",97,98),e.NdJ("valueChange",function(s){return a.changeOppProductService(s)}),e.ALo(354,"translate"),e.qZA()(),e.TgZ(355,"div",9)(356,"app-input",99),e.NdJ("valueChange",function(s){return a.changeOppQuantity(s)}),e.ALo(357,"translate"),e.qZA()(),e.TgZ(358,"div",9)(359,"app-input",100),e.NdJ("valueChange",function(s){return a.changeOppPrice(s)}),e.ALo(360,"translate"),e.qZA()(),e.TgZ(361,"div",9),e._UZ(362,"app-input",101),e.ALo(363,"translate"),e.qZA(),e.TgZ(364,"div",9)(365,"app-input",102,103),e.NdJ("valueChange",function(s){return a.changeOppLineDescription(s)}),e.ALo(367,"translate"),e.qZA()(),e.TgZ(368,"div",28)(369,"app-button",88),e.NdJ("buttonOnClick",function(){return a.opplineUpdate()}),e.ALo(370,"translate"),e.qZA(),e._UZ(371,"app-button",89),e.ALo(372,"translate"),e.qZA()()()()()(),e.TgZ(373,"div",105)(374,"div",51)(375,"div",52)(376,"div",53)(377,"div",54),e._uU(378),e.ALo(379,"translate"),e.ALo(380,"translate"),e.qZA()(),e.TgZ(381,"div",55)(382,"div",8)(383,"div",9),e._UZ(384,"app-input",106),e.ALo(385,"translate"),e.qZA(),e.TgZ(386,"div",9),e._UZ(387,"app-input",107),e.ALo(388,"translate"),e.qZA(),e.TgZ(389,"div",9),e._UZ(390,"app-input",108),e.ALo(391,"translate"),e.qZA(),e.TgZ(392,"div",9),e._UZ(393,"app-input",109),e.ALo(394,"translate"),e.qZA(),e.TgZ(395,"div",9),e._UZ(396,"app-input",110),e.ALo(397,"translate"),e.qZA(),e.TgZ(398,"div",28)(399,"app-button",88),e.NdJ("buttonOnClick",function(){return a.opplineDelete()}),e.ALo(400,"translate"),e.qZA(),e._UZ(401,"app-button",89),e.ALo(402,"translate"),e.qZA()()()()()()),2&o&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(11,242,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",a.enterpriseShortName),e.xp6(3),e.s9C("label",e.lcZ(14,244,"COMMON_FIELDS.BUSINESS_ENTITY")),e.s9C("value",a.businessEntityDisplayName),e.xp6(3),e.s9C("label",e.lcZ(17,246,"COMMON_PAGE_TITLES.CRM_ACCOUNT")),e.s9C("value",a.accountDisplayName),e.xp6(3),e.s9C("label",e.lcZ(20,248,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_NUM")),e.s9C("value",a.opportunityNum),e.xp6(3),e.s9C("label",e.lcZ(24,250,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_NAME")),e.s9C("value",a.opportunityName),e.Q6J("maxlength",80),e.xp6(4),e.s9C("label",e.lcZ(28,252,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_TYPE")),e.s9C("defaultValue",a.defaultOppType),e.Q6J("options",a.oppTypeOptions),e.xp6(4),e.s9C("label",e.lcZ(31,254,"COMMON_FIELDS.CURRENCY")),e.s9C("defaultValue",a.defaultCurrency),e.Q6J("options",a.currencyOptions),e.xp6(3),e.s9C("label",e.lcZ(34,256,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_TOTAL")),e.s9C("value",a.opportunityTotal),e.xp6(3),e.s9C("label",e.lcZ(37,258,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_FOCUS")),e.s9C("defaultValue",a.defaultOppFocus),e.Q6J("options",a.oppFocusOptions),e.xp6(3),e.s9C("label",e.lcZ(40,260,"CRM_OPPORTUNITIES.CRM_SALES_STAGE")),e.s9C("defaultValue",a.defaultSalesStage),e.Q6J("options",a.salesStageOptions),e.xp6(3),e.s9C("label",e.lcZ(43,262,"CRM_OPPORTUNITIES.CRM_ESTIMATED_CLOSURE")),e.s9C("defaultValue",a.defaultEstimatedClosure),e.Q6J("options",a.estimatedClosureOptions),e.xp6(3),e.s9C("label",e.lcZ(46,264,"CRM_OPPORTUNITIES.CRM_PROBABILITY_OF_CLOSURE")),e.s9C("defaultValue",a.defaultProbabilityClosure),e.Q6J("options",a.probabilityClosureOptions),e.xp6(3),e.s9C("label",e.lcZ(49,266,"COMMON_FIELDS.STATUS")),e.s9C("defaultValue",a.defaultStatus),e.Q6J("options",a.statusOptions),e.xp6(3),e.s9C("placeholder",e.lcZ(52,268,"CRM_OPPORTUNITIES.CRM_EXPECTED_CLOSE_DATE")),e.s9C("defaultDate",a.exceptedCloseDate),e.xp6(3),e.s9C("label",e.lcZ(56,270,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.description),e.Q6J("maxlength",2e3),e.xp6(4),e.s9C("label",e.lcZ(59,272,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.s9C("disabled",a.disableSubmitBtn),e.xp6(2),e.s9C("label",e.lcZ(61,274,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(64,276,a.error)," "),e.xp6(5),e.Q6J("multiple",!0),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(74,278,"COMMON_BLOCK_TITLES.CONTACT_DETAILS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.contactsHeader)("value",a.contactsData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0)("selection",a.selectedRow),e.xp6(7),e.Q6J("ngForOf",a.contactsData),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(88,280,"CRM_ACCOUNTS.CRM_SALES_REP")),e.xp6(2),e.s9C("label",e.lcZ(90,282,"COMMON_BUTTONS.BUTTON_ADD")),e.Q6J("isEmitMouseEvent",!0),e.xp6(2),e.Q6J("columns",a.header1)("value",a.salesRepData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0)("selection",a.selectedRow),e.xp6(7),e.Q6J("ngForOf",a.salesRepData),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(103,284,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_LINES")),e.xp6(2),e.s9C("label",e.lcZ(105,286,"COMMON_BUTTONS.BUTTON_ADD")),e.Q6J("isEmitMouseEvent",!0),e.xp6(2),e.Q6J("columns",a.header2)("value",a.oppLinesData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0)("selection",a.selectedRow),e.xp6(7),e.Q6J("ngForOf",a.oppLinesData),e.xp6(2),e.Q6J("header",a.attachmentColumnHeaders)("data",a.attachmentsData)("objectType",a.objectType)("objectId",a.recordId)("actionType",a.actionType)("spinner",a.spinner),e.xp6(1),e.Q6J("createdBy",a.createdUser)("lastUpdatedBy",a.lastUpdatedUser)("showrecordhistory",a.dataJsonObj.showrecordhistory)("creationDate",null==a.oppData?null:a.oppData.createdAt)("lastUpdatedDate",null==a.oppData?null:a.oppData.updatedAt),e.xp6(6),e.AsE("",e.lcZ(123,288,"COMMON_FIELDS.CONTACT")," - ",e.lcZ(124,290,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(130,292,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",a.firstName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(134,294,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",a.lastName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(138,296,"COMMON_FIELDS.EMAIL")),e.s9C("value",a.contactEmail),e.Q6J("maxlength",60),e.xp6(4),e.s9C("label",e.lcZ(142,298,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.Q6J("options",a.countryCodeOptions),e.xp6(4),e.s9C("label",e.lcZ(146,300,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",a.phoneNumber),e.Q6J("minlength",10)("maxlength",10),e.xp6(4),e.s9C("label",e.lcZ(150,302,"COMMON_FIELDS.EXTENSION")),e.s9C("value",a.phoneNumberExtension),e.Q6J("maxlength",4),e.xp6(4),e.s9C("label",e.lcZ(153,304,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(155,306,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(162,308,"COMMON_BLOCK_TITLES.CONTACT_DETAILS")," - ",e.lcZ(163,310,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(169,312,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",a.firstName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(173,314,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",a.lastName),e.Q6J("maxlength",40),e.xp6(4),e.s9C("label",e.lcZ(177,316,"COMMON_FIELDS.EMAIL")),e.s9C("value",a.contactEmail),e.Q6J("maxlength",60),e.xp6(4),e.s9C("label",e.lcZ(181,318,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("defaultValue",a.countryCodeDisplayName),e.Q6J("options",a.countryCodeOptions),e.xp6(4),e.s9C("label",e.lcZ(185,320,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",a.phoneNumber),e.Q6J("minlength",10)("maxlength",10),e.xp6(4),e.s9C("label",e.lcZ(189,322,"COMMON_FIELDS.EXTENSION")),e.s9C("value",a.phoneNumberExtension),e.Q6J("maxlength",4),e.xp6(4),e.s9C("label",e.lcZ(192,324,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(194,326,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(201,328,"COMMON_FIELDS.CONTACT")," - ",e.lcZ(202,330,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(207,332,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",a.firstName),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(210,334,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",a.lastName),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(213,336,"COMMON_FIELDS.EMAIL")),e.s9C("value",a.contactEmail),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(216,338,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("value",a.countryCodeDisplayName),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(219,340,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",a.phoneNumber),e.Q6J("minlength",10)("maxlength",10),e.xp6(3),e.s9C("label",e.lcZ(222,342,"COMMON_FIELDS.EXTENSION")),e.s9C("value",a.phoneNumberExtension),e.Q6J("maxlength",4),e.xp6(3),e.s9C("label",e.lcZ(225,344,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(227,346,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(234,348,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(235,350,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(241,352,"CRM_ACCOUNTS.CRM_SALES_REP")),e.Q6J("options",a.salesRepNameOptions),e.xp6(4),e.s9C("placeholder",e.lcZ(245,354,"WORK_ABSENCES.WORK_FROM_DATE")),e.s9C("defaultDate",a.fromDateValue),e.xp6(4),e.s9C("placeholder",e.lcZ(248,356,"WORK_ABSENCES.WORK_TO_DATE")),e.s9C("defaultDate",a.toDateValue),e.xp6(3),e.s9C("label",e.lcZ(251,358,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(253,360,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(256,362,a.effectiveDateError)," "),e.xp6(7),e.AsE("",e.lcZ(263,364,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(264,366,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(269,368,"CRM_ACCOUNTS.CRM_SALES_REP")),e.s9C("value",a.salesRepDisplayName),e.xp6(3),e.s9C("placeholder",e.lcZ(273,370,"WORK_ABSENCES.WORK_FROM_DATE")),e.s9C("defaultDate",a.fromDateValue),e.xp6(4),e.s9C("placeholder",e.lcZ(276,372,"WORK_ABSENCES.WORK_TO_DATE")),e.s9C("defaultDate",a.toDateValue),e.xp6(3),e.s9C("label",e.lcZ(279,374,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(281,376,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(284,378,a.effectiveDateError)," "),e.xp6(7),e.AsE("",e.lcZ(291,380,"CRM_ACCOUNTS.CRM_SALES_REP")," - ",e.lcZ(292,382,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(297,384,"CRM_ACCOUNTS.CRM_SALES_REP")),e.s9C("value",a.salesRepDisplayName),e.xp6(3),e.s9C("label",e.lcZ(300,386,"WORK_ABSENCES.WORK_FROM_DATE")),e.s9C("value",a.fromDateValue),e.xp6(3),e.s9C("label",e.lcZ(303,388,"WORK_ABSENCES.WORK_TO_DATE")),e.s9C("value",a.toDateValue),e.xp6(3),e.s9C("label",e.lcZ(306,390,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(308,392,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(315,394,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_LINES")," - ",e.lcZ(316,396,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(322,398,"CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE")),e.s9C("value",a.oppProductService),e.xp6(4),e.s9C("label",e.lcZ(325,400,"CRM_OPPORTUNITIES.CRM_QUANTITY")),e.s9C("value",a.oppQuantity),e.xp6(3),e.s9C("label",e.lcZ(328,402,"CRM_OPPORTUNITIES.CRM_PRICE")),e.s9C("value",a.oppPrice),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(331,404,"CRM_OPPORTUNITIES.CRM_LINE_TOTAL")),e.s9C("value",a.oppLineTotal),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(335,406,"CRM_OPPORTUNITIES.CRM_LINE_DESCRIPTION")),e.s9C("value",a.oppLineDescription),e.xp6(4),e.s9C("label",e.lcZ(338,408,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(340,410,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(347,412,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_LINES")," - ",e.lcZ(348,414,"COMMON_BUTTONS.BUTTON_UPDATE"),""),e.xp6(6),e.s9C("label",e.lcZ(354,416,"CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE")),e.s9C("value",a.oppProductService),e.xp6(4),e.s9C("label",e.lcZ(357,418,"CRM_OPPORTUNITIES.CRM_QUANTITY")),e.s9C("value",a.oppQuantity),e.xp6(3),e.s9C("label",e.lcZ(360,420,"CRM_OPPORTUNITIES.CRM_PRICE")),e.s9C("value",a.oppPrice),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(363,422,"CRM_OPPORTUNITIES.CRM_LINE_TOTAL")),e.s9C("value",a.oppLineTotal),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(367,424,"CRM_OPPORTUNITIES.CRM_LINE_DESCRIPTION")),e.s9C("value",a.oppLineDescription),e.xp6(4),e.s9C("label",e.lcZ(370,426,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(372,428,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(379,430,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_LINES")," - ",e.lcZ(380,432,"COMMON_BUTTONS.BUTTON_DELETE"),""),e.xp6(6),e.s9C("label",e.lcZ(385,434,"CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE")),e.s9C("value",a.oppProductService),e.xp6(3),e.s9C("label",e.lcZ(388,436,"CRM_OPPORTUNITIES.CRM_QUANTITY")),e.s9C("value",a.oppQuantity),e.xp6(3),e.s9C("label",e.lcZ(391,438,"CRM_OPPORTUNITIES.CRM_PRICE")),e.s9C("value",a.oppPrice),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(394,440,"CRM_OPPORTUNITIES.CRM_LINE_TOTAL")),e.s9C("value",a.oppLineTotal),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(397,442,"CRM_OPPORTUNITIES.CRM_LINE_DESCRIPTION")),e.s9C("value",a.oppLineDescription),e.xp6(3),e.s9C("label",e.lcZ(400,444,"COMMON_BUTTONS.BUTTON_DELETE")),e.xp6(2),e.s9C("label",e.lcZ(402,446,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[v.sg,v.O5,g.Ie,g.Q$,g.q_,q.r,V.a,W.k,K.Q,z.R,F.K,X.C,ee.W,te.Y,w.q,E.UQ,E.US,D.h4,D.jx,T.iA,T.lQ,T.Ei,y.X$]})}return i})();var B=c(15861),Ht=c(28168),Kt=c(44393),Wt=c(88425);const zt=["datatableComponent"];let Q=(()=>{class i extends U.O{ColumnHeader;actionSheetController;crmOpportunitiesService;loggerService;router;translateService;commonService;listingVariables;route;datatableComponent;actions;defaultPageName;enterpriseId;forceRefresh;listData;loginUserDateFormat;mobileRoutesArray=[];objectType;oppData;show=!0;recordId;searchString;statsObj;tableColumnHeaders;type="";dataJsonObj={};constructor(t,o,a,n,s,p,h,b,_){super(_,h),this.ColumnHeader=t,this.actionSheetController=o,this.crmOpportunitiesService=a,this.loggerService=n,this.router=s,this.translateService=p,this.commonService=h,this.listingVariables=b,this.route=_,this.route.params.subscribe(d=>{this.recordId=d.parentId}),this.route.queryParams.subscribe(d=>{this.dataJsonObj.queryParamsObj={defaultView:d.default_view,selectedMenuId:d.selectedMenuId,selectedSubMenuId:d.selectedSubMenuId}})}ngOnInit(){document.getElementsByTagName("body")}ngAfterContentInit(){this.initializeComponent()}initializeComponent(){this.showSpinner(),this.dataJsonObj.pageName=r.hf.CRM_OPPORTUNITIES,this.dataJsonObj.noDuplicates=void 0,this.objectType=this.route.snapshot.data.object_type,this.defaultPageName="crmOpportunities",this.dataJsonObj.advancedSearchObj={};const t=JSON.parse(localStorage.getItem(r.BU.DATE_FORMATE_OBJ));if(this.loginUserDateFormat=this.lookupLanguageTranslations(t.lookup_id),this.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.tableColumnHeaders=this.ColumnHeader.getOpportunityColumnHeaders(),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString="",this.actions={EDIT:this.roleRightsValidationByPage(r.hf.CRM_OPPORTUNITIES,r.AM.ACTIONS,r.In.EDIT),VIEW:this.roleRightsValidationByPage(r.hf.CRM_OPPORTUNITIES,r.AM.ACTIONS,r.In.VIEW)},this.initializePage(),this.forceRefresh=!1,this.commonService.currentEvent.subscribe(o=>{"crmopportunities"===o&&(this.forceRefresh=!0)}),this.dataJsonObj.addFiltersList=[],this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(r.hf.CRM_OPPORTUNITIES,r.AM.ACTIONS,r.In.CREATE)){let o="crmopportunities/crmopportunities/create";this.objectType===r.hf.CRM_ACCOUNTS?o="/crmaccounts/"+this.recordId+"/crmopportunities/crmaccountopportunity-create":this.objectType===r.hf.CRM_SALES_REPS&&(o="/crmsalesreps/"+this.recordId+"/crmopportunities/crmsalesrepopportunity-create"),this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:r.gL.URL,redirectURL:o,queryParams:"",iconClass:"fas fa-plus"})}this.roleRightsValidation("CRM_OPPORTUNITIES","CRM_OPPORTUNITIES","IMPORT")&&this.dataJsonObj.pageActionsList.push({actionName:"IMPORT",displayName:"COMMON_BUTTONS.BUTTON_IMPORT",actionType:r.gL.POPUP,redirectURL:"",queryParams:"",iconClass:"fas fa-file-import mr-1"}),this.roleRightsValidation("CRM_OPPORTUNITIES","CRM_OPPORTUNITIES","FILTERS")}initializePage(){try{this.objectType===r.hf.CRM_OPPORTUNITIES?(this.tableColumnHeaders=this.ColumnHeader.getOpportunityColumnHeaders(),this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.CRM_OPPORTUNITIES",value:"",showSubMenuDisplayName:!0}]):(this.tableColumnHeaders=this.ColumnHeader.getOpportunityColumnHeaders(),this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:this.commonService.getCurrentPageTitle(this.recordId),showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.CRM_OPPORTUNITIES",value:"",showSubMenuDisplayName:!0}])}catch(t){this.loggerService.setLoggerError(this.constructor.name,"initializePage",t)}}getAllListPagination(){try{switch(this.initializePage(),this.objectType){case r.hf.CRM_OPPORTUNITIES:this.type="",this.getAllRecords();break;case r.hf.CRM_SALES_REPS:this.type="crmsalesreps",this.getAllRecords();break;case r.hf.CRM_ACCOUNTS:this.type="crmaccounts",this.getAllRecords();break;default:this.getAllRecords()}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getAllListPagination",t)}}getSearchResult(t){try{this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString=t,this.getAllListPagination(),this.datatableComponent.reset()}catch(o){this.loggerService.setLoggerError(this.constructor.name,"getSearchResult",o)}}getAllRecords(){try{this.showSpinner();const t=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView);this.crmOpportunitiesService.getAll(this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.listingVariables.sortOrderColumn,this.searchString,this.enterpriseId,this.recordId,this.type,this.forceRefresh,t,this.statsObj,this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(a=>{if(this.hideSpinner(),a.rows.length>0){this.oppData&&this.oppData.length>0||(this.oppData=[]);for(let n=0;n<a.rows.length;n++){a.rows[n].enterprise.short_name='<a class="enable" id="enterprise.short_name'+a.rows[n]._id+'" href="enterprises/enterprises/'+a.rows[n].enterprise.enterprise_id+'/view" >'+a.rows[n].enterprise.short_name;const s={url:`crmopportunities/crmopportunities/${a.rows[n]._id}/view`,queryParams:this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:""},p=s.queryParams&&Object.keys(s.queryParams).length>0?`${s.url}?${JSON.stringify(s.queryParams)}`:s.url;a.rows[n].opportunity_name=`<a class="enable" id="opportunity_name${a.rows[n]._id}" href=${p}>${a.rows[n].opportunity_name}`,this.oppData=this.oppData.filter(h=>h._id!==a.rows[n]._id),this.oppData.push(a.rows[n])}a.totalCount&&(this.listingVariables.totalRecords=a.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=a.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.listData=this.listData.concat(a.rows)):this.listData=a.rows}else this.listData=[],this.oppData=[]})}catch(t){this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)}}loadPageData(t){this.listingVariables.pageNumbers=t.listingVariables.pageNumbers,t.clearMobileData&&(this.oppData=this.dataJsonObj.noDuplicates),t.isPaginationChange&&(this.dataJsonObj.selectedFilter=t.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=t.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=t.selectedAdvancedSearchObj),this.getAllListPagination()}getchangeEvent(t){t&&"success"===t.value&&(this.forceRefresh=!0,this.getAllListPagination())}createOpp(){try{this.router.navigate(this.objectType===r.hf.CRM_ACCOUNTS?["/crmaccounts/"+this.recordId+"/crmopportunities/crmaccountopportunity-create"]:this.objectType===r.hf.CRM_SALES_REPS?["/crmsalesreps/"+this.recordId+"/crmopportunities/crmsalesrepopportunity-create"]:["crmopportunities/crmopportunities/create"])}catch(t){this.loggerService.setLoggerError(this.constructor.name,"createOpp",t)}}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}searchClose(){try{this.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.getAllListPagination(),this.datatableComponent.reset()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"searchClose",t)}}onActionClicked(t){try{t.action===r.A0.EDIT?(this.router.navigate(["/crmopportunities/crmopportunities/"+t.data._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("crmopportunities")):t.action===r.A0.VIEW&&this.commonService.redirectToUrl(["..",t.data._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",o)}}statusData(t){try{this.statsObj=t.value,this.forceRefresh=!0,this.getAllListPagination()}catch(o){this.loggerService.setLoggerError(this.constructor.name,"statusData",o)}}mobileEventAction(t){this.mobileRoutesArray=[],this.roleRightsValidationByPage(r.hf.CRM_OPPORTUNITIES,r.AM.ACTIONS,r.In.EDIT)&&this.mobileRoutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/crmopportunities/crmopportunities/"+t._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("crmopportunities")}}),this.roleRightsValidationByPage(r.hf.CRM_OPPORTUNITIES,r.AM.ACTIONS,r.In.VIEW)&&this.mobileRoutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{this.commonService.redirectToUrl(["..",t._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}}),this.presentActionSheet(t)}presentActionSheet(t){var o=this;return(0,B.Z)(function*(){yield(yield o.actionSheetController.create({cssClass:"actionsheet",buttons:o.mobileRoutesArray})).present()})()}getRedirectedToView(t){try{this.roleRightsValidationByPage(r.hf.CRM_OPPORTUNITIES,r.AM.ACTIONS,r.In.VIEW)&&this.commonService.redirectToUrl(["..",t._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}catch(o){this.loggerService.setLoggerError(this.constructor.name,"getRedirectedToView",o)}}statsToggle(){this.show=!this.show}selectedViewType(t){this.dataJsonObj.selectedDisplayView=t}selectedFilterType(t){t||(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}onPageLevelActionClicked(t){"IMPORT"===t.actionName&&(this.dataJsonObj.isImportActionClicked=!0)}advancedSearchFilterClicked(t){this.dataJsonObj.selectedAdvancedSearchObj=t}onHeaderItemClick(t){switch(t.type){case"search":this.getSearchResult(t.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(t.event);break;case"filters":this.selectedFilterType(t.event);break;case"advanced_search":this.advancedSearchFilterClicked(t.event);break;case"page_actions":this.onPageLevelActionClicked(t.event)}}crmOpportunityStatsAction(){}static \u0275fac=function(o){return new(o||i)(e.Y36(M.Y),e.Y36(g.BX),e.Y36(R),e.Y36(P.m),e.Y36(C.F0),e.Y36(y.sK),e.Y36(f.v),e.Y36(I.v),e.Y36(C.gz))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-crm-opportunity-list"]],viewQuery:function(o,a){if(1&o&&e.Gf(zt,5),2&o){let n;e.iGM(n=e.CRH())&&(a.datatableComponent=n.first)}},features:[e._Bn([M.Y,I.v]),e.qOj],decls:10,vars:32,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],["id","tagid",3,"header","actions","totalPages","totalRecords","paginator","data","mobileListData","expand","statsShow","showRights","statsSearch","listingVariables","showSpinner","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","selectedSubMenuId","actionClicked","itemClickEvent","redirectionEvent","changeStats","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],[3,"actionClicked","pageName","emitEvent"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(s){return a.onHeaderItemClick(s)}),e.qZA()(),e.TgZ(4,"div",4)(5,"app-datatable",5,6),e.NdJ("actionClicked",function(s){return a.onActionClicked(s)})("itemClickEvent",function(s){return a.getRedirectedToView(s)})("redirectionEvent",function(s){return a.mobileEventAction(s)})("changeStats",function(s){return a.statusData(s)})("loadPageData",function(s){return a.loadPageData(s)}),e.qZA(),e.TgZ(7,"div",7)(8,"app-page-actions",8),e.NdJ("selectedAction",function(s){return a.onPageLevelActionClicked(s)}),e.qZA()()()()(),e.TgZ(9,"app-importdata",9),e.NdJ("emitEvent",function(s){return a.getchangeEvent(s)}),e.qZA()),2&o&&(e.xp6(3),e.Q6J("pageName",a.dataJsonObj.pageName)("defaultView",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",a.dataJsonObj.pageActionsList)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(2),e.Q6J("header",a.tableColumnHeaders)("actions",a.actions)("totalPages",a.listingVariables.totalpages)("totalRecords",a.listingVariables.totalRecords)("paginator",!0)("data",a.listData)("mobileListData",a.oppData)("expand",!1)("statsShow",a.show)("showRights",a.crmOpportunityStatsAction())("statsSearch",a.searchString)("listingVariables",a.listingVariables)("showSpinner",a.dataJsonObj.showSpinner)("selectedDisplayViewType",a.dataJsonObj.selectedDisplayView)("selectedFilterType",a.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",a.dataJsonObj.selectedAdvancedSearchObj)("pageName",a.dataJsonObj.pageName)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",a.dataJsonObj.pageActionsList),e.xp6(1),e.Q6J("actionClicked",a.dataJsonObj.isImportActionClicked)("pageName",a.defaultPageName))},dependencies:[Kt.M,Ht.n,w.q,Wt.y]})}return i})();var Xt=c(71238);function ea(i,l){if(1&i&&(e.TgZ(0,"tr",69)(1,"td",70),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function ta(i,l){if(1&i&&e.YNc(0,ea,4,4,"tr",68),2&i){const t=e.oxw();e.Q6J("ngIf",(null==t.oppData?null:t.oppData.contact_details)&&0==(null==t.oppData?null:t.oppData.contact_details.length))}}function aa(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function oa(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,aa,3,3,"th",71),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function ia(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",73),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.viewContact(n,s))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,o=e.oxw().$implicit;e.Tol(t.class),e.Q6J("pSelectableRow",o),e.xp6(1),e.hij(" ",o[t.field]," ")}}function na(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,ia,2,5,"td",72),e.qZA()),2&i){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function sa(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",75)(6,"br"),e.qZA()),2&i){const t=l.$implicit,o=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",o[t.field],e.oJD)}}function ra(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,sa,7,4,"div",74),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function la(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",76)(1,"ion-label",77),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.viewContact(n,s))}),e.TgZ(2,"span",78),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"span",79),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"span",80),e._uU(10),e.ALo(11,"translate"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(3),e.HOy(" ",e.lcZ(4,8,"COMMON_FIELDS.FIRST_NAME"),": ",null==t?null:t.fname," ; ",e.lcZ(5,10,"COMMON_FIELDS.LAST_NAME"),": ",null==t?null:t.lname,""),e.xp6(4),e.AsE("",e.lcZ(8,12,"COMMON_FIELDS.PHONE_NUMBER"),": ",null==t?null:t.phone," "),e.xp6(3),e.AsE("",e.lcZ(11,14,"COMMON_FIELDS.EMAIL"),": ",null==t?null:t.email," ")}}function pa(i,l){if(1&i&&(e.TgZ(0,"tr",69)(1,"td",70),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function ca(i,l){if(1&i&&e.YNc(0,pa,4,4,"tr",68),2&i){const t=e.oxw();e.Q6J("ngIf",(null==t.oppData?null:t.oppData.sales_rep)&&0==(null==t.oppData?null:t.oppData.sales_rep.length))}}function ua(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function da(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,ua,3,3,"th",71),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function ma(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",82),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.viewSalesRep(n,s))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,o=e.oxw().$implicit;e.Tol(t.class),e.Q6J("pSelectableRow",o),e.xp6(1),e.hij(" ",o[t.field]," ")}}function ha(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,ma,2,5,"td",81),e.qZA()),2&i){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function _a(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",75)(6,"br"),e.qZA()),2&i){const t=l.$implicit,o=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",o[t.field],e.oJD)}}function ga(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,_a,7,4,"div",74),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function Ca(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",76)(1,"ion-label",77),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.viewSalesRep(n,s))}),e.TgZ(2,"span",78),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",79),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",80),e._uU(9),e.ALo(10,"translate"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(3),e.AsE(" ",e.lcZ(4,6,"CRM_ACCOUNTS.CRM_SALES_REP"),": ",null==t?null:t.sales_rep_name,""),e.xp6(3),e.AsE("",e.lcZ(7,8,"WORK_ABSENCES.WORK_FROM_DATE"),": ",null==t?null:t.from_date," "),e.xp6(3),e.AsE("",e.lcZ(10,10,"WORK_ABSENCES.WORK_TO_DATE"),": ",null==t?null:t.to_date," ")}}function Oa(i,l){if(1&i&&(e.TgZ(0,"tr",69)(1,"td",70),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Ta(i,l){if(1&i&&e.YNc(0,Oa,4,4,"tr",68),2&i){const t=e.oxw();e.Q6J("ngIf",(null==t.oppData?null:t.oppData.opportunity_lines)&&0==(null==t.oppData?null:t.oppData.opportunity_lines.length))}}function ba(i,l){if(1&i&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.header)," ")}}function Na(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,ba,3,3,"th",71),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function ya(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"td",84),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),n=a.rowIndex,s=a.$implicit,p=e.oxw();return e.KtG(p.viewOppLines(n,s))}),e._uU(1),e.qZA()}if(2&i){const t=l.$implicit,o=e.oxw().$implicit;e.Tol(t.class),e.Q6J("pSelectableRow",o),e.xp6(1),e.hij(" ",o[t.field]," ")}}function Sa(i,l){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,ya,2,5,"td",83),e.qZA()),2&i){const t=l.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function Ea(i,l){if(1&i&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",75)(6,"br"),e.qZA()),2&i){const t=l.$implicit,o=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",o[t.field],e.oJD)}}function va(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,Ea,7,4,"div",74),e.qZA()()()),2&i){const t=l.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function Aa(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",76)(1,"ion-label",77),e.NdJ("click",function(){const a=e.CHM(t),n=a.index,s=a.$implicit,p=e.oxw();return e.KtG(p.viewOppLines(n,s))}),e.TgZ(2,"span",78),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",79),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",80),e._uU(9),e.ALo(10,"translate"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(3),e.AsE(" ",e.lcZ(4,6,"CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE"),": ",null==t?null:t.product_service,""),e.xp6(3),e.AsE("",e.lcZ(7,8,"CRM_OPPORTUNITIES.CRM_QUANTITY"),": ",null==t?null:t.quantity," "),e.xp6(3),e.AsE("",e.lcZ(10,10,"CRM_OPPORTUNITIES.CRM_PRICE"),": ",null==t?null:t.price," ")}}let ae=(()=>{class i extends U.O{ColumnHeader;_sharedService;actionSheetController;crmOpportunitiesService;loggerService;navigationService;router;translateService;uiUtils;commonService;enterprisesService;listingVariables;route;actionType;attachmentColumnHeaders;attachmentsData;contactsHeader;defaultTimeZone;dataJsonObj={};header1;header2;headerAction;loginUserDateFormat;mobileRoutesArray=[];objectType;oppData;recordId;rowData;rowIndex;spinner=!0;totalRecords;totalpages;utcTimezoneString;constructor(t,o,a,n,s,p,h,b,_,d,S,N,O){super(O,d),this.ColumnHeader=t,this._sharedService=o,this.actionSheetController=a,this.crmOpportunitiesService=n,this.loggerService=s,this.navigationService=p,this.router=h,this.translateService=b,this.uiUtils=_,this.commonService=d,this.enterprisesService=S,this.listingVariables=N,this.route=O,this.route.params.subscribe(m=>{this.recordId=m.id?m.id:m.parentId}),this.route.queryParams.subscribe(m=>{this.dataJsonObj.queryParamsObj={defaultView:m.defaultView,selectedMenuId:m.selectedMenuId,selectedSubMenuId:m.selectedSubMenuId}})}ngOnInit(){document.getElementsByTagName("body")}ngAfterContentInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.CRM_OPPORTUNITIES,this.headerAction={BACK:!0};const t=JSON.parse(localStorage.getItem(r.BU.DATE_FORMATE_OBJ));this.loginUserDateFormat=this.lookupLanguageTranslations(t.lookup_id);const o=JSON.parse(localStorage.getItem(r.BU.TIMEZONE_OBJ));this.defaultTimeZone=o.lookup_name;const s=o.description.split("(UTC")[1].split(")");this.utcTimezoneString=s[0].toString(),this.objectType=this.route.snapshot.data.object_type,this.getRecordById(this.recordId),this.actionType=r.In.VIEW,this.attachmentColumnHeaders=this.ColumnHeader.getAttachmentsColumnHeaders(),this.getAttachmentsList(),this.dataJsonObj.enterpriseData=JSON.parse(localStorage.getItem(r.BU.ENTERPRISE)),this.dataJsonObj.enterpriseId=this.dataJsonObj.enterpriseData.enterprise_id,this.contactsHeader=[[{field:"fname",header:this.translateService.instant("COMMON_FIELDS.FIRST_NAME"),class:"w-160"},{field:"lname",header:this.translateService.instant("COMMON_FIELDS.LAST_NAME"),class:"w-160"},{field:"phone",header:this.translateService.instant("COMMON_FIELDS.PHONE_NUMBER"),class:"w-180 list-value-right"},{field:"email",header:this.translateService.instant("COMMON_FIELDS.EMAIL"),class:"w-160"}]],this.header1=[[{headersort:"disableth",field:"sales_rep_name",header:this.translateService.instant("CRM_ACCOUNTS.CRM_SALES_REP"),class:""},{headersort:"disableth",field:"from_date",header:this.translateService.instant("WORK_ABSENCES.WORK_FROM_DATE"),class:""},{headersort:"disableth",field:"to_date",header:this.translateService.instant("WORK_ABSENCES.WORK_TO_DATE"),class:""}]],this.header2=[[{headersort:"disableth",field:"product_service",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE"),class:""},{headersort:"disableth",field:"quantity",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_QUANTITY"),class:""},{headersort:"disableth",field:"price",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_PRICE"),class:""},{headersort:"disableth",field:"line_total",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_LINE_TOTAL"),class:""},{headersort:"disableth",field:"line_description",header:this.translateService.instant("CRM_OPPORTUNITIES.CRM_LINE_DESCRIPTION"),class:""}]],this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.CRM_OPPORTUNITIES,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.dataJsonObj.selectedPage=r.hf.CRM_OPPORTUNITIES,this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}])}getRecordById(t){try{let o="";this.commonService.isMobileWindow()&&(o="&mobileview=true"),this.crmOpportunitiesService.get(t,o).subscribe(a=>{this.oppData=a,this.commonService.setCurrentPageTitle(this.oppData.opportunity_name,this.recordId),this.dataJsonObj.pageTitle=this.objectType===r.hf.CRM_ACCOUNTS||this.objectType===r.hf.CRM_SALES_REPS?[{key:"COMMON_PAGE_TITLES.CRM_OPPORTUNITY",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}]:[{key:"COMMON_PAGE_TITLES.CRM_OPPORTUNITY",value:this.oppData.opportunity_num,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.oppData.expected_close_date=u(this.oppData.expected_close_date).format(this.loginUserDateFormat);for(let n=0;n<this.oppData.sales_rep.length;n++)Z.L.isEmpty(this.oppData.sales_rep[n].from_date)||(this.oppData.sales_rep[n].from_date=this.commonService.convertToUserTimeZone(this.oppData.sales_rep[n].from_date,this.utcTimezoneString),this.oppData.sales_rep[n].from_date=u(new Date(this.oppData.sales_rep[n].from_date)).format(this.loginUserDateFormat)),Z.L.isEmpty(this.oppData.sales_rep[n].to_date)||(this.oppData.sales_rep[n].to_date=this.commonService.convertToUserTimeZone(this.oppData.sales_rep[n].to_date,this.utcTimezoneString),this.oppData.sales_rep[n].to_date=u(new Date(this.oppData.sales_rep[n].to_date)).format(this.loginUserDateFormat))},a=>{this.loggerService.setLoggerError(this.constructor.name,"get",a)})}catch(o){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",o)}}getDynamicJson(t){var o=this;return(0,B.Z)(function*(){for(let a of t)o.dataJsonObj[a.storingFieldName]=yield o.commonService.getDynamicJson(o.dataJsonObj.enterpriseId,a.folderName,a.jsonType);o.dataJsonObj.selectedObj={},o.dataJsonObj.selectedObj.recordId=o.recordId,o.dataJsonObj.selectedObj.pageObj=o.dataJsonObj.menuDataJson.filter(a=>a.menu_page.page_name===o.dataJsonObj.selectedPage),o.dataJsonObj.selectedObjEnabled=!0})()}getAttachmentsList(){this.commonService.getAttachmentsList(this.objectType,this.recordId,"","","").then(t=>{if(this._sharedService.emitChangeLoaders(!1),t.rows.length>0)for(let o=0;o<t.rows.length;o++)t.rows[o].user_name=t.rows[o].f_name+", "+t.rows[o].l_name,t.rows[o].last_uploaded_date=this.commonService.dbTimezoneFormat(t.rows[o].last_uploaded_date),this.attachmentsData=t.rows;else this.attachmentsData=[];this.totalRecords=t.totalCount,this.totalpages=t.pages,this.spinner=!1}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getAttachmentsList",t)})}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}viewSalesRep(t,o){try{this.rowIndex=t,this.rowData=o,$("#exampleModal5").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal5")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"viewSalesRep",a)}}viewContact(t,o){try{this.rowIndex=t,this.rowData=o,$("#exampleModal2").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal2")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"viewContact",a)}}viewOppLines(t,o){try{this.rowIndex=t,this.rowData=o,$("#exampleModal8").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal8")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"viewOppLines",a)}}mobileEventAction(t){this.mobileRoutesArray=[],this.roleRightsValidationByPage(r.hf.CRM_OPPORTUNITIES,r.AM.ACTIONS,r.In.VIEW)&&this.mobileRoutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/crmopportunities/crmopportunities/"+t._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("crmopportunities")}}),this.presentActionSheet(t)}presentActionSheet(t){var o=this;return(0,B.Z)(function*(){o.mobileRoutesArray.length>0?yield(yield o.actionSheetController.create({cssClass:"actionsheet",buttons:o.mobileRoutesArray})).present():o.uiUtils.displayWarningMessage("COMMON_VALIDATION_MESSAGES.VALID_PERFORM_ACTIONS")})()}cancelBtn(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelBtn",t)}}pageheadeActionClick(t){"BACK"==t.value&&this.cancel()}static \u0275fac=function(o){return new(o||i)(e.Y36(M.Y),e.Y36(Xt.F),e.Y36(g.BX),e.Y36(R),e.Y36(P.m),e.Y36(J.f),e.Y36(C.F0),e.Y36(y.sK),e.Y36(k.s),e.Y36(f.v),e.Y36(x.e),e.Y36(I.v),e.Y36(C.gz))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-crm-opportunity-view"]],features:[e._Bn([I.v,M.Y]),e.qOj],decls:184,vars:196,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],[1,"d-lg-none","card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["disabled","true","id","opp-view-enterprisename",3,"label","value"],["disabled","true","id","opp-view-business",3,"label","value"],["disabled","true","id","opp-view-account",3,"label","value"],["autoCaseFlag","false","mandatory","true","id","Opportunity-view-number","disabled","true",3,"minlength","maxlength","label","value"],["autoCaseFlag","false","mandatory","true","id","Opportunity-view-name","disabled","true",3,"maxlength","label","value"],["autoCaseFlag","false","mandatory","true","id","Opportunity-type","disabled","true",3,"maxlength","label","value"],["autoCaseFlag","false","mandatory","true","id","Opportunity-view-currency","disabled","true",3,"maxlength","label","value"],["autoCaseFlag","false","type","number","mandatory","false","id","Opportunity-view-total","disabled","true",3,"label","value"],["autoCaseFlag","false","mandatory","false","id","Opportunity-view-total","disabled","true",3,"label","value"],["autoCaseFlag","false","mandatory","false","id","Opportunity-sales-stage-view","disabled","true",3,"label","value"],["autoCaseFlag","false","mandatory","false","id","Opportunity-view-EstimatedClosure","disabled","true",3,"label","value"],["autoCaseFlag","false","mandatory","false","id","Opportunity-view-ProbabilityClosure","disabled","true",3,"label","value"],["autoCaseFlag","false","mandatory","false","id","Opportunity-view-status","disabled","true",3,"label","value"],["dateformat","dd-MMM-yyyy","mandatory","false","disabled","true","id","crm-Opp-create-expected-close-date",3,"label","value"],["mandatory","true","disabled","true","id","opp-view-description",3,"label","value"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-danger btn-sm","id","enterprise-view-cancel",3,"label","buttonOnClick"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"multiple"],["accordianBundle",""],["id","viewComponentsId",1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["selectionMode","single","dataKey","LineNum",1,"ptable","max-height","d-none","d-lg-block",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"d-lg-none"],["lines","full","class","pdl-0 pdr-0",4,"ngFor","ngForOf"],["id","viewattachmentId"],[3,"header","data","objectType","objectId","actionType","spinner"],[3,"createdBy","lastUpdatedBy","showrecordhistory","creationDate","lastUpdatedDate"],["id","exampleModal2","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],["mandatory","true","id","Opportunity-view-firstname","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-view-lastname","disabled","true",3,"label","value","maxlength"],["mandatory","true","id","Opportunity-view-email","disabled","true","type","email",3,"label","value"],["mandatory","true","id","Opportunity-view-phonecountrycode","disabled","true",3,"label","value"],["mandatory","true","disabled","true",3,"label","value"],["phoneInput",""],["disabled","true","mandatory","true","id","Opportunity-create-phonenumberext",3,"label","value"],["phoneExt",""],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","enterprise-view-close",3,"label"],["id","exampleModal5","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","false","disabled","true","id","crm-Opp-view-Salesrep-name",3,"label","value"],["mandatory","false","disabled","true","id","crm-Opp-view-Salesrep-assignment-date",3,"label","value"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","appraisal-templates-view-resource-assigments-cancel",3,"label"],["id","exampleModal8","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","Opportunity-view-product-service","disabled","true",3,"label","value"],["mandatory","false","id","Opportunity-view-quantity","disabled","true","type","number",3,"label","value"],["mandatory","false","id","Opportunity-view-price","disabled","true",3,"label","value","maxlength"],["mandatory","false","id","Opportunity-view-linetotal","disabled","true",3,"label","value"],["mandatory","true","id","Opportunity-view-linedescription","disabled","true",3,"label","value"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","click"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"],["lines","full",1,"pdl-0","pdr-0"],[1,"mg-0",3,"click"],["color","primary",1,"mg-0","fs-13"],[1,"mg-0","fs-11"],["color","primary",1,"mg-0","fs-11"],["data-toggle","modal","data-bs-target","#exampleModal5",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal5",3,"pSelectableRow","click"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal8",3,"pSelectableRow","click"]],template:function(o,a){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"app-input",11),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"app-input",12),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",9),e._UZ(19,"app-input",13),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",9),e._UZ(22,"app-input",14),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",9),e._UZ(25,"app-input",15),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",9),e._UZ(28,"app-input",16),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",9),e._UZ(31,"app-input",17),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",9),e._UZ(34,"app-input",18),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"div",9),e._UZ(37,"app-input",19),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"div",9),e._UZ(40,"app-input",20),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"div",9),e._UZ(43,"app-input",21),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"div",9),e._UZ(46,"app-input",22),e.ALo(47,"translate"),e.qZA(),e.TgZ(48,"div",9),e._UZ(49,"app-input",23),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"div",3),e._UZ(52,"app-input",24),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"div",25)(55,"app-button",26),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(56,"translate"),e.qZA()()()()()(),e.TgZ(57,"div",3)(58,"div",27)(59,"div",28)(60,"p-accordion",29,30)(62,"p-accordionTab",31)(63,"p-header",32)(64,"span"),e._uU(65),e.ALo(66,"translate"),e.qZA()(),e.TgZ(67,"p-table",33),e.YNc(68,ta,1,1,"ng-template",34),e.YNc(69,oa,2,1,"ng-template",35),e.YNc(70,na,2,1,"ng-template",36),e.YNc(71,ra,4,2,"ng-template",37),e.qZA(),e.TgZ(72,"div",38)(73,"ion-list"),e.YNc(74,la,12,16,"ion-item",39),e.qZA()()(),e.TgZ(75,"p-accordionTab",31)(76,"p-header",32)(77,"span"),e._uU(78),e.ALo(79,"translate"),e.qZA()(),e.TgZ(80,"p-table",33),e.YNc(81,ca,1,1,"ng-template",34),e.YNc(82,da,2,1,"ng-template",35),e.YNc(83,ha,2,1,"ng-template",36),e.YNc(84,ga,4,2,"ng-template",37),e.qZA(),e.TgZ(85,"div",38)(86,"ion-list"),e.YNc(87,Ca,11,12,"ion-item",39),e.qZA()()(),e.TgZ(88,"p-accordionTab",31)(89,"p-header",32)(90,"span"),e._uU(91),e.ALo(92,"translate"),e.qZA()(),e.TgZ(93,"p-table",33),e.YNc(94,Ta,1,1,"ng-template",34),e.YNc(95,Na,2,1,"ng-template",35),e.YNc(96,Sa,2,1,"ng-template",36),e.YNc(97,va,4,2,"ng-template",37),e.qZA(),e.TgZ(98,"div",38)(99,"ion-list"),e.YNc(100,Aa,11,12,"ion-item",39),e.qZA()()(),e.TgZ(101,"p-accordion",40),e._UZ(102,"app-attachment",41),e.qZA(),e._UZ(103,"app-recordhistory",42),e.qZA()()()()()()(),e.TgZ(104,"div",43)(105,"div",44)(106,"div",45)(107,"div",46)(108,"div",47),e._uU(109),e.ALo(110,"translate"),e.qZA()(),e.TgZ(111,"div",48)(112,"div",8)(113,"div",9),e._UZ(114,"app-input",49),e.ALo(115,"translate"),e.qZA(),e.TgZ(116,"div",9),e._UZ(117,"app-input",50),e.ALo(118,"translate"),e.qZA(),e.TgZ(119,"div",9),e._UZ(120,"app-input",51),e.ALo(121,"translate"),e.qZA(),e.TgZ(122,"div",9),e._UZ(123,"app-input",52),e.ALo(124,"translate"),e.qZA(),e.TgZ(125,"div",9),e._UZ(126,"app-inputnumber",53,54),e.ALo(128,"translate"),e.qZA(),e.TgZ(129,"div",9),e._UZ(130,"app-inputnumber",55,56),e.ALo(132,"translate"),e.qZA(),e.TgZ(133,"div",25),e._UZ(134,"app-button",57),e.ALo(135,"translate"),e.qZA()()()()()(),e.TgZ(136,"div",58)(137,"div",44)(138,"div",45)(139,"div",46)(140,"div",47),e._uU(141),e.ALo(142,"translate"),e.qZA()(),e.TgZ(143,"div",48)(144,"div",8)(145,"div",9),e._UZ(146,"app-input",59),e.ALo(147,"translate"),e.qZA(),e.TgZ(148,"div",9),e._UZ(149,"app-input",60),e.ALo(150,"translate"),e.qZA(),e.TgZ(151,"div",9),e._UZ(152,"app-input",60),e.ALo(153,"translate"),e.qZA(),e.TgZ(154,"div",25),e._UZ(155,"app-button",61),e.ALo(156,"translate"),e.qZA()()()()()(),e.TgZ(157,"div",62)(158,"div",44)(159,"div",45)(160,"div",46)(161,"div",47),e._uU(162),e.ALo(163,"translate"),e.qZA()(),e.TgZ(164,"div",48)(165,"div",8)(166,"div",9),e._UZ(167,"app-input",63),e.ALo(168,"translate"),e.qZA(),e.TgZ(169,"div",9),e._UZ(170,"app-input",64),e.ALo(171,"translate"),e.qZA(),e.TgZ(172,"div",9),e._UZ(173,"app-input",65),e.ALo(174,"translate"),e.qZA(),e.TgZ(175,"div",9),e._UZ(176,"app-input",66),e.ALo(177,"translate"),e.qZA(),e.TgZ(178,"div",9),e._UZ(179,"app-input",67),e.ALo(180,"translate"),e.qZA(),e.TgZ(181,"div",25),e._UZ(182,"app-button",61),e.ALo(183,"translate"),e.qZA()()()()()()),2&o&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(4),e.s9C("label",e.lcZ(11,118,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",null==a.oppData||null==a.oppData.enterprise?null:a.oppData.enterprise.short_name),e.xp6(3),e.s9C("label",e.lcZ(14,120,"COMMON_FIELDS.BUSINESS_ENTITY")),e.Q6J("value",a.lookupLanguageTranslations(null==a.oppData||null==a.oppData.business_entity_name?null:a.oppData.business_entity_name.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(17,122,"COMMON_PAGE_TITLES.CRM_ACCOUNT")),e.s9C("value",null==a.oppData||null==a.oppData.account_details?null:a.oppData.account_details.account_short_name),e.xp6(3),e.s9C("label",e.lcZ(20,124,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_NUM")),e.s9C("value",null==a.oppData?null:a.oppData.opportunity_num),e.Q6J("minlength",3)("maxlength",20),e.xp6(3),e.s9C("label",e.lcZ(23,126,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_NAME")),e.s9C("value",null==a.oppData?null:a.oppData.opportunity_name),e.Q6J("maxlength",80),e.xp6(3),e.s9C("label",e.lcZ(26,128,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_TYPE")),e.Q6J("maxlength",80)("value",a.lookupLanguageTranslations(null==a.oppData||null==a.oppData.opportunity_type?null:a.oppData.opportunity_type.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(29,130,"COMMON_FIELDS.CURRENCY")),e.Q6J("maxlength",80)("value",a.lookupLanguageTranslations(null==a.oppData||null==a.oppData.currency?null:a.oppData.currency.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(32,132,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_TOTAL")),e.s9C("value",null==a.oppData?null:a.oppData.opportunity_total),e.xp6(3),e.s9C("label",e.lcZ(35,134,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_FOCUS")),e.Q6J("value",a.lookupLanguageTranslations(null==a.oppData||null==a.oppData.opportunity_focus?null:a.oppData.opportunity_focus.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(38,136,"CRM_OPPORTUNITIES.CRM_SALES_STAGE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.oppData||null==a.oppData.sales_stage?null:a.oppData.sales_stage.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(41,138,"CRM_OPPORTUNITIES.CRM_ESTIMATED_CLOSURE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.oppData||null==a.oppData.estimated_closure?null:a.oppData.estimated_closure.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(44,140,"CRM_OPPORTUNITIES.CRM_PROBABILITY_OF_CLOSURE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.oppData?null:a.oppData.probability_closure.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(47,142,"COMMON_FIELDS.STATUS")),e.Q6J("value",a.lookupLanguageTranslations(null==a.oppData||null==a.oppData.status?null:a.oppData.status.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(50,144,"CRM_OPPORTUNITIES.CRM_EXPECTED_CLOSE_DATE")),e.s9C("value",null==a.oppData?null:a.oppData.expected_close_date),e.xp6(3),e.s9C("label",e.lcZ(53,146,"COMMON_FIELDS.DESCRIPTION")),e.s9C("value",null==a.oppData?null:a.oppData.description),e.xp6(3),e.s9C("label",e.lcZ(56,148,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(2),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(66,150,"COMMON_BLOCK_TITLES.CONTACT_DETAILS")),e.xp6(2),e.Q6J("columns",a.contactsHeader)("value",null==a.oppData?null:a.oppData.contact_details)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(7),e.Q6J("ngForOf",null==a.oppData?null:a.oppData.contact_details),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(79,152,"CRM_ACCOUNTS.CRM_SALES_REP")),e.xp6(2),e.Q6J("columns",a.header1)("value",null==a.oppData?null:a.oppData.sales_rep)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(7),e.Q6J("ngForOf",null==a.oppData?null:a.oppData.sales_rep),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(92,154,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_LINES")),e.xp6(2),e.Q6J("columns",a.header2)("value",null==a.oppData?null:a.oppData.opportunity_lines)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(7),e.Q6J("ngForOf",null==a.oppData?null:a.oppData.opp_lines),e.xp6(2),e.Q6J("header",a.attachmentColumnHeaders)("data",a.attachmentsData)("objectType",a.objectType)("objectId",a.recordId)("actionType",a.actionType)("spinner",a.spinner),e.xp6(1),e.Q6J("createdBy",null==a.oppData?null:a.oppData.created_by)("lastUpdatedBy",null==a.oppData?null:a.oppData.updated_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("creationDate",null==a.oppData?null:a.oppData.createdAt)("lastUpdatedDate",null==a.oppData?null:a.oppData.updatedAt),e.xp6(6),e.hij("",e.lcZ(110,156,"COMMON_BLOCK_TITLES.CONTACT_DETAILS")," "),e.xp6(5),e.s9C("label",e.lcZ(115,158,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",null==a.rowData?null:a.rowData.fname),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(118,160,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",null==a.rowData?null:a.rowData.fname),e.Q6J("maxlength",40),e.xp6(3),e.s9C("label",e.lcZ(121,162,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==a.rowData?null:a.rowData.email),e.xp6(3),e.s9C("label",e.lcZ(124,164,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.rowData||null==a.rowData.phone_country_code?null:a.rowData.phone_country_code.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(128,166,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==a.rowData?null:a.rowData.phone),e.xp6(4),e.s9C("label",e.lcZ(132,168,"COMMON_FIELDS.EXTENSION")),e.s9C("value",null==a.rowData?null:a.rowData.phone_extn),e.xp6(4),e.s9C("label",e.lcZ(135,170,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(7),e.hij("",e.lcZ(142,172,"CRM_ACCOUNTS.CRM_SALES_REP")," "),e.xp6(5),e.s9C("label",e.lcZ(147,174,"CRM_ACCOUNTS.CRM_SALES_REP")),e.s9C("value",null==a.rowData?null:a.rowData.sales_rep_name),e.xp6(3),e.s9C("label",e.lcZ(150,176,"WORK_ABSENCES.WORK_FROM_DATE")),e.s9C("value",null==a.rowData?null:a.rowData.from_date),e.xp6(3),e.s9C("label",e.lcZ(153,178,"WORK_ABSENCES.WORK_TO_DATE")),e.s9C("value",null==a.rowData?null:a.rowData.to_date),e.xp6(3),e.s9C("label",e.lcZ(156,180,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(7),e.hij("",e.lcZ(163,182,"CRM_OPPORTUNITIES.CRM_OPPORTUNITY_LINES")," "),e.xp6(5),e.s9C("label",e.lcZ(168,184,"CRM_OPPORTUNITIES.CRM_PRODUCT_OR_SERVICE")),e.s9C("value",null==a.rowData?null:a.rowData.product_service),e.xp6(3),e.s9C("label",e.lcZ(171,186,"CRM_OPPORTUNITIES.CRM_QUANTITY")),e.s9C("value",null==a.rowData?null:a.rowData.quantity),e.xp6(3),e.s9C("label",e.lcZ(174,188,"CRM_OPPORTUNITIES.CRM_PRICE")),e.s9C("value",null==a.rowData?null:a.rowData.price),e.Q6J("maxlength",60),e.xp6(3),e.s9C("label",e.lcZ(177,190,"CRM_OPPORTUNITIES.CRM_LINE_TOTAL")),e.s9C("value",null==a.rowData?null:a.rowData.line_total),e.xp6(3),e.s9C("label",e.lcZ(180,192,"CRM_OPPORTUNITIES.CRM_LINE_DESCRIPTION")),e.s9C("value",null==a.rowData?null:a.rowData.line_description),e.xp6(3),e.s9C("label",e.lcZ(183,194,"COMMON_BUTTONS.BUTTON_CLOSE")))},dependencies:[v.sg,v.O5,g.Ie,g.Q$,g.q_,q.r,V.a,F.K,ee.W,te.Y,w.q,E.UQ,E.US,D.h4,D.jx,T.iA,T.Ei,y.X$]})}return i})();const fa=[{path:"",data:{title:"Crm-Opportunity"},children:[{path:"",redirectTo:"crmopportunities/list",pathMatch:"full"},{path:"crmopportunities/list",canActivate:[L.P],component:Q,data:{object_type:r.hf.CRM_OPPORTUNITIES,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.bP.SUBMENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.In.ENABLED,pageName:r.hf.CRM_OPPORTUNITIES}},{path:"crmopportunities/create",canActivate:[L.P],component:j,data:{object_type:r.hf.CRM_OPPORTUNITIES,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.bP.SUBMENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.In.CREATE,pageName:r.hf.CRM_OPPORTUNITIES,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}},{path:"crmopportunities/:id/view",canActivate:[L.P],component:ae,data:{object_type:r.hf.CRM_OPPORTUNITIES,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.bP.SUBMENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.In.VIEW,pageName:r.hf.CRM_OPPORTUNITIES,pageSetting:r.AM.ACTIONS,settingField:r.In.VIEW}},{path:"crmopportunities/:id/edit",canActivate:[L.P],component:Gt,data:{object_type:r.hf.CRM_OPPORTUNITIES,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.bP.SUBMENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.In.EDIT,pageName:r.hf.CRM_OPPORTUNITIES,pageSetting:r.AM.ACTIONS,settingField:r.In.EDIT}},{path:"crmopportunities/:id/status",canActivate:[L.P],component:ae,data:{object_type:r.hf.CRM_OPPORTUNITIES,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.bP.SUBMENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.In.ACTIVATE,pageName:r.hf.CRM_OPPORTUNITIES}},{path:":parentId/activities",loadChildren:()=>Promise.resolve().then(c.bind(c,75896)).then(i=>i.ActivitiesModule)},{path:"crmaccountscrmopportunities-list",component:Q,data:{object_type:r.hf.CRM_ACCOUNTS,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.bP.SUBMENUS+"."+r.w1.CRM_OPPORTUNITY_ACTIVITIES+"."+r.In.ENABLED,pageName:r.hf.CRM_OPPORTUNITIES}},{path:"crmaccountopportunity-create",component:j,data:{object_type:r.hf.CRM_ACCOUNTS,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_ACCOUNTS+"."+r.bP.SUBMENUS+"."+r.w1.CRM_OPPORTUNITY_ACTIVITIES+"."+r.In.CREATE,pageName:r.hf.CRM_OPPORTUNITIES,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}},{path:"crmsalesrepscrmopportunities-list",component:Q,data:{object_type:r.hf.CRM_SALES_REPS,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_SALES_REPS+"."+r.bP.SUBMENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.In.ENABLED,pageName:r.hf.CRM_SALES_REPS}},{path:"crmsalesrepopportunity-create",component:j,data:{object_type:r.hf.CRM_SALES_REPS,responsibilityParam:r.bP.MENUS+"."+r.w1.CRM_SALES_REPS+"."+r.bP.SUBMENUS+"."+r.w1.CRM_OPPORTUNITIES+"."+r.In.CREATE,pageName:r.hf.CRM_SALES_REPS,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}}]}];let Da=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[C.Bz.forChild(fa),C.Bz]})}return i})();var oe=c(24006),Ma=c(65673);let Ia=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[v.ez,g.Pc,Ma.Q,y.aw,E.fx,oe.UX,oe.u5,T.U$,Da]})}return i})()}}]);