"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3368],{83368:(q,E,l)=>{l.r(E),l.d(E,{EnterprisesByTypeModule:()=>Z});var f=l(32174),R=l(27809),A=l(36895),y=l(11210),h=l(15861),g=l(42863),i=l(32236),_=l(71568),L=l(47561),N=l(28168),b=l(57936),O=l(30578),P=l(42786),v=l(71238),T=l(34942),o=l(94650),p=l(70057),j=l(15965),D=l(46448),u=l(62510),C=l(54463),w=l(37415),V=l(88425),M=l(77823);const J=["datatableComponent"];let B=(()=>{class c extends L.O{_sharedService;actionSheetController;ColumnHeader;enterprisesService;events;loggerService;menuCtrl;navigationService;router;translateService;alertController;commonService;listingVariables;modalController;route;datatableComponent;actions;activeStatus;dataJsonObj={};enterprisesListData;enterprisesMobileListData;enterprisesStatsObj=new U;enterpriseStatsObj;errorObj={};eventClickData;header;isFilterClicked=!1;login_enterprise_id;mobileroutesArray;noDublicates=void 0;show=!0;searchString;statsenterpriseslistData;status;statusObj;statusObjs;constructor(e,r,a,t,s,n,d,z,Q,W,G,I,X,K,m){super(m,I),this._sharedService=e,this.actionSheetController=r,this.ColumnHeader=a,this.enterprisesService=t,this.events=s,this.loggerService=n,this.menuCtrl=d,this.navigationService=z,this.router=Q,this.translateService=W,this.alertController=G,this.commonService=I,this.listingVariables=X,this.modalController=K,this.route=m,this.menuCtrl.swipeGesture(!1),this.route.queryParams.subscribe(S=>{this.dataJsonObj.queryParamsObj={defaultView:S.default_view,selectedMenuId:S.selectedMenuId,selectedSubMenuId:S.selectedSubMenuId,enterpriseTypeFilter:S.enterprise_type},this.initializeComponent(),this.resetData()})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.showSpinner(),this.dataJsonObj.pageName=i.hf.ENTERPRISES,this.events.subscribe("refreshSchoolData",r=>{r&&this.updateRecordData(r)}),this.dataJsonObj.isAdvancedSearchFilter=!1,this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.selectedMenu=JSON.parse(localStorage.getItem(i.BU.SELECTED_MENU)),this.dataJsonObj.selectedSubMenu=JSON.parse(localStorage.getItem(i.BU.MENU_CLICK_ITEM)),this.dataJsonObj.login_user_id=localStorage.getItem(i.BU.USER_ID),this.commonService.trackView(i.sn.ENTERPRISE_LIST),this.login_enterprise_id=localStorage.getItem(i.BU.LOG_IN_ENTERPRISE_ID),this.dataJsonObj.selectedEnterpriseId=parseInt(localStorage.getItem(i.BU.SELECTED_ENTERPRISE),10),this.getDynamicJson([{folderName:"lookup_codes",jsonType:"list",storingFieldName:"lookupCodesListJson"}]),this.dataJsonObj.pageAPIURL="api/v1/enterprises",this.dataJsonObj.isReferralCodesActionClicked=!1,this.header=this.ColumnHeader.getSchoolsColumnHeaders(),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.statsenterpriseslistData=T.h.getEnterprisesListStats(this.isFilterClicked,this.eventClickData),this.searchString="",this.actions={EDIT:this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.EDIT),VIEW:this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.VIEW),ACTIVATE:this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.ACTIVATE),INACTIVATE:this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.INACTIVATE),SUBSCRIBE:this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.SUBSCRIBE),UNSUBSCRIBE:this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.UNSUBSCRIBE),REFERRAL_CODES:this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.REFERRAL_CODES)},this.dataJsonObj.currentPageUrl=this.navigationService.getCurrentUrl(),this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.CREATE)&&this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:i.gL.URL,redirectURL:"/enterprises/enterprises/create",queryParams:"",iconClass:"fas fa-plus"})}ionViewWillEnter(){}getSearchResult(e){this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString=e,this.enterprisesMobileListData=[],this.getEnterprisesList(),this.datatableComponent.reset()}searchClose(){this.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.enterprisesMobileListData=[],this.getEnterprisesList(),this.datatableComponent.reset()}getDynamicJson(e){var r=this;return(0,h.Z)(function*(){for(let s of e)r.dataJsonObj[s.storingFieldName]=yield r.commonService.getDynamicJson(r.dataJsonObj.selectedEnterpriseId,s.folderName,s.jsonType);const t=(r.dataJsonObj.lookupCodesListJson&&r.dataJsonObj.lookupCodesListJson[i.ox.ENTERPRISE_TYPES]?r.dataJsonObj.lookupCodesListJson[i.ox.ENTERPRISE_TYPES]:[]).filter(s=>s.lookup_name===r.dataJsonObj?.queryParamsObj?.enterpriseTypeFilter);r.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.ENTERPRISES",value:t[0].lookup_display_name,showSubMenuDisplayName:!1}]})()}getEnterprisesList(){var e=this;return(0,h.Z)(function*(){try{const r=e.commonService.getMobileViewCondition(e.dataJsonObj.selectedDisplayView);e.status=e.statusObj,e.activeStatus=e.statusObjs;const a=e.dataJsonObj.selectedFilter?"&filtertype="+e.dataJsonObj.selectedFilter:"";e.showSpinner();const t=yield e.enterprisesService.getFilteredEnterprises(e.searchString,e.listingVariables.pageNumbers,e.listingVariables.rowsPerPage,e.listingVariables.sortOrderColumn,e.isFilterClicked,e.status,e.activeStatus,e.dataJsonObj.queryParamsObj.enterpriseTypeFilter,r,a,e.dataJsonObj.advancedSearchObj.inputAdvSearchObj);if(e.hideSpinner(),t.rows.length>0){e.enterprisesMobileListData&&e.enterprisesMobileListData.length>0||(e.enterprisesMobileListData=[]);for(let s=0;s<t.rows.length;s++){t.rows[s].display_grid_title=t.rows[s].short_name,t.rows[s].display_grid_title2=t.rows[s].displayValue,t.rows[s].display_grid_title3=t.rows[s]?.details,t.rows[s].display_grid_level_titles=!0,t.rows[s].page_name=i.hf.ENTERPRISES,t.rows[s].isEnterprisePage=!1,t.rows[s].imageName=t.rows[s].short_name,t.rows[s].shortName=t.rows[s].short_name,t.rows[s].isReferralCodesEnabled=e.dataJsonObj.selectedEnterpriseId===t.rows[s]._id;const n=e.getSwithEnterpriseInputData(t.rows[s],!1);if(t.rows[s].shortNameLink=`<a class="enable" id="short_name${t.rows[s]._id}" switchEnterpriseDetails='${n}' href="enterprises/enterprises/${t.rows[s]._id}/view">${t.rows[s].short_name}</a>`,t.rows[s].contact_details)for(let d=0;d<t.rows[s].contact_details.length;d++)t.rows[s].contact_details.fname=!0===t.rows[s].contact_details[d].primary?t.rows[s].contact_details[d].lname+" "+t.rows[s].contact_details[d].fname:"";if(t.rows[s].isSubscribed&&t.rows[s].userProfileStatus.lookup_name==i.t3.ACTIVE?t.rows[s].isSubscribedDisabled=t.rows[s].userProfileId&&t.rows[s].userProfileStatus.lookup_name==i.t3.ACTIVE&&t.rows[s].userProfileRole.lookup_name==i.ox.ENTERPRISE_EXTERNAL_USER:t.rows[s].isSubscribedEnabled=!t.rows[s].userProfileId||t.rows[s].userProfileStatus.lookup_name==i.t3.INACTIVE,t.rows[s].address)for(let d=0;d<t.rows[s].address.length;d++)!0===t.rows[s].address[d].primary&&(t.rows[s].address.country=t.rows[s].address[d].country?e.lookupLanguageTranslations(t.rows[s].address[d].country.lookup_id):"",t.rows[s].address.state=t.rows[s].address[d].state.state_name,t.rows[s].address.city=t.rows[s].address[d].city);t.rows[s].parent_enterprise_short_name=t.rows[s].parent_enterprise_id?t.rows[s].parent_enterprise_id.short_name:"",t.rows[s].imageDisplay=t.rows[s].enterprise_icon_file_path&&t.rows[s].enterprise_icon?t.rows[s].enterprise_icon_file_path+"/"+t.rows[s].enterprise_icon:null,t.rows[s].isEnabledText=t.rows[s].status?e.lookupLanguageTranslations(t.rows[s].status.lookup_id):"",e.enterprisesMobileListData=e.enterprisesMobileListData.filter(d=>d._id!==t.rows[s]._id),e.enterprisesMobileListData.push(t.rows[s])}t.totalCount&&(e.listingVariables.totalRecords=t.totalCount),1===e.listingVariables.pageNumbers&&(e.listingVariables.totalpages=t.pages),e.dataJsonObj.isLoadMoreClicked?(e.dataJsonObj.isLoadMoreClicked=!1,e.enterprisesListData=e.enterprisesListData.concat(t.rows)):e.enterprisesListData=t.rows}else e.listingVariables.totalRecords=1,e.enterprisesListData=[],e.enterprisesMobileListData=[];e.enterprisesStatsObj.TOTAL_ENTERPRISES=t.totalCount,e.enterprisesStatsObj.TOTAL_ENTERPRISES_ACTIVE=t.ActiveCount,e.enterprisesStatsObj.TOTAL_ENTERPRISES_INACTIVE=t.InactiveCount,e.enterprisesStatsObj.TOTAL_ENTERPRISES_FREE=t.FreeenterpriseCount,e.enterprisesStatsObj.TOTAL_ENTERPRISES_PRIVATE=t.PrivateenterpriseCount,e.statsDisabled(e.enterprisesStatsObj.TOTAL_ENTERPRISES,e.enterprisesStatsObj.TOTAL_ENTERPRISES_ACTIVE,e.enterprisesStatsObj.TOTAL_ENTERPRISES_INACTIVE,e.enterprisesStatsObj.TOTAL_ENTERPRISES_FREE,e.enterprisesStatsObj.TOTAL_ENTERPRISES_PRIVATE)}catch(r){e.hideSpinner(),e.loggerService.setLoggerError(e.constructor.name,"getEnterprisesList",r)}})()}getSwithEnterpriseInputData(e,r){return JSON.stringify({_id:e._id,enterprise_name:e.enterprise_name,short_name:e.short_name,is_predefined:e.is_predefined,parent_enterprise_id:e.parent_enterprise_id,allow_child_enterprises:e.allow_child_enterprises,ID:e._id,NAME:e.short_name,enterprise_id:e._id,userProfileId:e.userProfileId,userProfileStatus:e.userProfileStatus,userProfileRole:e.userProfileRole,shortName:e.shortName,forceLogout:!0,action:e.action?e.action:"",isActionClicked:r})}onActionClicked(e){try{e.action===i.A0.VIEW?(this.router.navigate([`enterprises/enterprises/${e.data._id}/view`]),this.router.routeReuseStrategy.clearModuleRouteCache("enterprises")):e.action===i.A0.EDIT?(this.router.navigate([`enterprises/enterprises/${e.data._id}/edit`]),this.router.routeReuseStrategy.clearModuleRouteCache("enterprises")):e.action===i.A0.ACTIVATE||e.action===i.A0.INACTIVATE?(this.router.navigate([`enterprises/enterprises/${e.data._id}/status`]),this.router.routeReuseStrategy.clearModuleRouteCache("enterprises")):"CHILD_CREATE"===e.action?(localStorage.setItem(i.BU.PARENT_ENTERPRISE_NAME,e.data.shortName),this.router.navigate([`enterprises/enterprises/create/${e.data._id}/child`]),this.router.routeReuseStrategy.clearModuleRouteCache("enterprises")):"SUBSCRIBE"===e.action?this.commonService.validateAccess()?this.commonService.accessDeniedPopup():(e.data.action=e.action,this.openSubscribePopup(e.data)):"REFERRAL_CODES"===e.action&&(this.dataJsonObj.selectedRecordId=e.data._id,this.dataJsonObj.isReferralCodesActionClicked=!0)}catch(r){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",r)}}openSubscribePopup(e){var r=this;return(0,h.Z)(function*(){const a=r.getSwithEnterpriseInputData(e,!0);if(a){const t=JSON.parse(a);r._sharedService.emitSwitchEnterprise(t)}})()}createEnterprise(){this.router.navigate(["enterprises/enterprises/create"])}getRedirectEnterprise(e){if(this.roleRightsValidationByPage(i.hf.ENTERPRISES,i.AM.ACTIONS,i.In.VIEW)){const r=this.getSwithEnterpriseInputData(e,!1);if(r){const a=JSON.parse(r);this._sharedService.emitSwitchEnterprise(a)}else this.router.navigate([`enterprises/enterprises/${e._id}/view`]),this.router.routeReuseStrategy.clearModuleRouteCache("enterprises")}}mobileEventAction(e){try{this.mobileroutesArray=[],this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.ACTIVATE)&&e.status.lookup_name===i.oP.INACTIVE&&this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.ACTIVATE)&&(e.parent_enterprise_id&&e.parent_enterprise_id._id&&e._id!==parseInt(this.login_enterprise_id,10)||"0"===this.login_enterprise_id)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ACTIVATE"),handler:()=>{this.router.navigate([`enterprises/enterprises/${e._id}/status`]),this.router.routeReuseStrategy.clearModuleRouteCache("enterprises")}}),(this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.EDIT)&&this.roleRightsValidationByPage(i.hf.ENTERPRISES,i.AM.ACTIONS,i.In.EDIT)&&e.parent_enterprise_id&&e.parent_enterprise_id._id&&e._id!==parseInt(this.login_enterprise_id,10)||"0"===this.login_enterprise_id)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate([`enterprises/enterprises/${e._id}/edit`]),this.router.routeReuseStrategy.clearModuleRouteCache("enterprises")}}),this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.INACTIVATE)&&e.status.lookup_name===i.oP.ACTIVE&&this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.INACTIVATE)&&(e.parent_enterprise_id&&e.parent_enterprise_id._id&&e._id!==parseInt(this.login_enterprise_id,10)||"0"===this.login_enterprise_id)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_INACTIVATE"),handler:()=>{this.router.navigate([`enterprises/enterprises/${e._id}/status`]),this.router.routeReuseStrategy.clearModuleRouteCache("enterprises")}}),this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.SUBSCRIBE)&&e.isSubscribedEnabled&&(e.action="SUBSCRIBE",this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_SUBSCRIBE"),handler:()=>{this.commonService.validateAccess()?this.commonService.accessDeniedPopup():this.openSubscribePopup(e)}})),this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.REFERRAL_CODES)&&e._id===this.dataJsonObj.selectedEnterpriseId&&(e.action="REFERRAL_CODES",this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_REFERRAL_CODES"),handler:()=>{this.dataJsonObj.selectedRecordId=e._id,this.dataJsonObj.isReferralCodesActionClicked=!0}})),this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.UNSUBSCRIBE)&&e.isSubscribedDisabled&&(e.action="UNSUBSCRIBE",this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_UNSUBSCRIBE"),handler:()=>{this.commonService.validateAccess()?this.commonService.accessDeniedPopup():this.openSubscribePopup(e)}})),this.roleRightsValidationByPage(i.hf.SCHOOLS,i.AM.ACTIONS,i.In.VIEW)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{this.router.navigate([`enterprises/enterprises/${e._id}/view`]),this.router.routeReuseStrategy.clearModuleRouteCache("enterprises")}}),this.presentActionSheet(e)}catch(r){this.loggerService.setLoggerError(this.constructor.name,"mobileEventAction",r)}}presentActionSheet(e){var r=this;return(0,h.Z)(function*(){r.mobileroutesArray&&r.mobileroutesArray.length>0&&(yield(yield r.actionSheetController.create({cssClass:"actionsheet",buttons:r.mobileroutesArray})).present())})()}toggle(){this.show=!this.show}Create(){this.router.navigate(["enterprises/enterprises/create"])}statsDisabled(e,r,a,t,s){try{this.enterpriseStatsObj=[],this.enterpriseStatsObj.push(0!==e?{value1:"TOTAL_ENTERPRISES"}:{value1:""}),this.enterpriseStatsObj.push(0!==r?{value2:"TOTAL_ENTERPRISES_ACTIVE"}:{value2:""}),this.enterpriseStatsObj.push(0!==a?{value3:"TOTAL_ENTERPRISES_INACTIVE"}:{value3:""}),this.enterpriseStatsObj.push(0!==t?{value4:"TOTAL_ENTERPRISES_FREE"}:{value4:""}),this.enterpriseStatsObj.push(0!==s?{value5:"TOTAL_ENTERPRISES_PRIVATE"}:{value5:""}),this.statsenterpriseslistData=T.h.getEnterprisesListStatsDisabled(this.isFilterClicked,"",this.enterpriseStatsObj)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"statsDisabled",n)}}statusData(e){try{this.isFilterClicked=!0,this.statusObj=e.value,this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.datatableComponent.reset(),this.enterprisesMobileListData=[],this.getEnterprisesList()}catch(r){this.loggerService.setLoggerError(this.constructor.name,"statusData",r)}}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}resetData(){this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString="",this.enterprisesMobileListData=[],this.enterprisesListData=[],this.getEnterprisesList(),this.datatableComponent?.reset()}updateRecordData(e){var r=this;return(0,h.Z)(function*(){const a=yield r.enterprisesService.getChildEnterpriseViewData(e),t=r.enterprisesListData.find(n=>n._id===e),s=r.enterprisesMobileListData.find(n=>n._id===e);t&&a&&(t.isSubscribed=a.isSubscribed,t.userProfileId=a.userProfileId,t.userProfileStatus=a.userProfileStatus,t.userProfileRole=a.userProfileRole,t.isSubscribedDisabled=!(!a.isSubscribed||a.userProfileStatus.lookup_name!==i.t3.ACTIVE)&&a.userProfileId&&a.userProfileStatus.lookup_name===i.t3.ACTIVE&&a.userProfileRole.lookup_name===i.ox.ENTERPRISE_EXTERNAL_USER,t.isSubscribedEnabled=!a.userProfileId||a.userProfileStatus.lookup_name===i.t3.INACTIVE),s&&a&&(s.isSubscribed=a.isSubscribed,s.userProfileId=a.userProfileId,s.userProfileStatus=a.userProfileStatus,s.userProfileRole=a.userProfileRole,s.isSubscribedDisabled=!(!a.isSubscribed||a.userProfileStatus.lookup_name!==i.t3.ACTIVE)&&a.userProfileId&&a.userProfileStatus.lookup_name===i.t3.ACTIVE&&a.userProfileRole.lookup_name===i.ox.ENTERPRISE_EXTERNAL_USER,s.isSubscribedEnabled=!a.userProfileId||a.userProfileStatus.lookup_name===i.t3.INACTIVE)})()}loadPageData(e){this.dataJsonObj.forceRefresh=e.forceRefresh,this.listingVariables.pageNumbers=e.listingVariables.pageNumbers,e.clearMobileData&&(this.enterprisesMobileListData=void 0),e.isPaginationChange&&(this.dataJsonObj.selectedFilter=e.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=e.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=e.selectedAdvancedSearchObj),this.getEnterprisesList()}changeSearchDropDownFieldValue(e,r,a,t,s){try{if(e){this.dataJsonObj.advancedSearchObj.selectedState="";const n=e;r[a]={};for(let d of t)r[a][d]=n[d];s&&this.dependencyFunction(s)}this.errorObj.error=""}catch(n){this.loggerService.setLoggerError(this.constructor.name,"changeApplication",n)}}dependencyFunction(e){"getStatesList"===e&&this.getStatesList("")}selectedViewType(e){this.dataJsonObj.selectedDisplayView=e}selectedFilterType(e){e?this.dataJsonObj.selectedFilter=e:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}onPageLevelActionClicked(e){}getStatesList(e){this.commonService.getStatesList(this.dataJsonObj.advancedSearchObj.selectedCountry.ID,e,this.dataJsonObj.selectedEnterpriseId).then(r=>{this.dataJsonObj.stateOptions=r.rows})}changeInputFieldValue(e,r,a){try{a[r]=e.value}catch(t){this.loggerService.setLoggerError(this.constructor.name,"changeInputFieldValue",t)}}referralCodesActionClosed(){this.dataJsonObj.isReferralCodesActionClicked=!1}advancedSearchFilterClicked(e){this.dataJsonObj.selectedAdvancedSearchObj=e}onHeaderItemClick(e){switch(e.type){case"search":this.getSearchResult(e.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(e.event);break;case"filters":this.selectedFilterType(e.event);break;case"advanced_search":this.advancedSearchFilterClicked(e.event);break;case"page_actions":this.onPageLevelActionClicked(e.event)}}static \u0275fac=function(r){return new(r||c)(o.Y36(v.F),o.Y36(p.BX),o.Y36(g.Y),o.Y36(b.e),o.Y36(j.z),o.Y36(P.m),o.Y36(p._q),o.Y36(D.f),o.Y36(u.F0),o.Y36(C.sK),o.Y36(p.Br),o.Y36(_.v),o.Y36(O.v),o.Y36(p.IN),o.Y36(u.gz))};static \u0275cmp=o.Xpm({type:c,selectors:[["app-enterprises-by-type-list"]],viewQuery:function(r,a){if(1&r&&o.Gf(J,5),2&r){let t;o.iGM(t=o.CRH())&&(a.datatableComponent=t.first)}},features:[o._Bn([O.v,g.Y,b.e]),o.qOj],decls:10,vars:37,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],[1,"card-body","pdt-0","pdb-0"],["id","enterprises-by-type-list",1,"fixed-height-content",3,"header","actions","listingVariables","totalPages","paginator","totalRecords","search","mobileListData","data","expand","statsDisplay","statData","statusDisplay","statsShow","statsSearch","showRights","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","showSpinner","selectedSubMenuId","actionClicked","redirectionEvent","itemClickEvent","changeStats","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],[3,"selectedRecordId","apiURLValue","isActionClicked","isActionClosed"]],template:function(r,a){1&r&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),o.NdJ("headerItemClick",function(s){return a.onHeaderItemClick(s)}),o.qZA()(),o.TgZ(4,"div",4)(5,"app-datatable",5,6),o.NdJ("actionClicked",function(s){return a.onActionClicked(s)})("redirectionEvent",function(s){return a.mobileEventAction(s)})("itemClickEvent",function(s){return a.getRedirectEnterprise(s)})("changeStats",function(s){return a.statusData(s)})("loadPageData",function(s){return a.loadPageData(s)}),o.qZA(),o.TgZ(7,"div",7)(8,"app-page-actions",8),o.NdJ("selectedAction",function(s){return a.onPageLevelActionClicked(s)}),o.qZA()()()()(),o.TgZ(9,"app-referral-code",9),o.NdJ("isActionClosed",function(){return a.referralCodesActionClosed()}),o.qZA()),2&r&&(o.xp6(3),o.Q6J("pageName",a.dataJsonObj.pageName)("defaultView",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",a.dataJsonObj.pageActionsList)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),o.xp6(2),o.Q6J("header",a.header)("actions",a.actions)("listingVariables",a.listingVariables)("totalPages",a.listingVariables.totalpages)("paginator",!0)("totalRecords",a.listingVariables.totalRecords)("search",a.searchString)("mobileListData",a.enterprisesMobileListData)("data",a.enterprisesListData)("expand",!1)("statsDisplay",a.statsenterpriseslistData)("statData",a.enterprisesStatsObj)("statusDisplay",a.statusObj)("statsShow",a.show)("statsSearch",a.searchString)("showRights",a.roleRightsValidation("SCHOOLS","SCHOOLS","STATS"))("selectedDisplayViewType",a.dataJsonObj.selectedDisplayView)("selectedFilterType",a.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",a.dataJsonObj.selectedAdvancedSearchObj)("pageName",a.dataJsonObj.pageName)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("showSpinner",a.dataJsonObj.showSpinner)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId),o.xp6(3),o.Q6J("isFabDisplay",!0)("actionsList",a.dataJsonObj.pageActionsList),o.xp6(1),o.Q6J("selectedRecordId",a.dataJsonObj.selectedRecordId)("apiURLValue",a.dataJsonObj.pageAPIURL)("isActionClicked",a.dataJsonObj.isReferralCodesActionClicked))},dependencies:[N.n,w.q,V.y,M.v]})}return c})();class U{TOTAL_ENTERPRISES;TOTAL_ENTERPRISES_ACTIVE;TOTAL_ENTERPRISES_INACTIVE;TOTAL_ENTERPRISES_FREE;TOTAL_ENTERPRISES_PRIVATE}const k=[{path:"",data:{title:"enterprises"},children:[{path:"",redirectTo:"enterprises/list",pathMatch:"full"},{path:"enterprisesbytype/list",canActivate:[y.P],component:B,data:{object_type:i.hf.SCHOOLS,title:"Enterprises Listing",responsibilityParam:i.bP.MENUS+"."+i.w1.SCHOOLS+"."+i.bP.SUBMENUS+"."+i.w1.SCHOOLS+"."+i.Iu.ENABLED,pageName:i.hf.SCHOOLS}}]}];let F=(()=>{class c{static \u0275fac=function(r){return new(r||c)};static \u0275mod=o.oAB({type:c});static \u0275inj=o.cJS({imports:[u.Bz.forChild(k),u.Bz]})}return c})();var H=l(83748),Y=l(93144),$=l(65673);let Z=(()=>{class c{static \u0275fac=function(r){return new(r||c)};static \u0275mod=o.oAB({type:c});static \u0275inj=o.cJS({imports:[f.fx,R.N,A.ez,F,H.v,Y.U$,C.aw,$.Q]})}return c})()}}]);