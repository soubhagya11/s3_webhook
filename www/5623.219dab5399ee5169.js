"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5623],{85623:(he,O,d)=>{d.d(O,{G:()=>ge});var T=d(15861),E=d(71568),S=d(73078),U=d(42786),l=d(32236),L=d(81145),C=d(57530),e=d(94650),b=d(15965),y=d(62510),v=d(11481),A=d(30958),x=d(70057),N=d(54463),f=d(36895),I=d(24006),D=d(37415),F=d(63556);function M(o,n){if(1&o&&(e.TgZ(0,"ion-avatar",26),e._UZ(1,"i"),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.Tol(null==t||null==t.properties?null:t.properties.iconName)}}function P(o,n){if(1&o&&(e.TgZ(0,"ion-avatar",26),e._UZ(1,"img",27),e.ALo(2,"imageTransform"),e.qZA()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("src",e.Dn7(2,1,null==t||null==t.properties?null:t.properties.facilityImageFilePath,null==t||null==t.properties?null:t.properties.facilityImageFileName,i.publishEnabled),e.LSH)}}function B(o,n){if(1&o&&(e.TgZ(0,"p",28),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.lnq("",null==t?null:t.facilityName," ",e.lcZ(2,3,"COMMON_FIELDS.AT"),"",null==t||null==t.address?null:t.address.city," ")}}function R(o,n){1&o&&e._UZ(0,"ion-note",29)}function J(o,n){if(1&o&&(e.TgZ(0,"p",28),e._uU(1),e.qZA()),2&o){const t=e.oxw(2).$implicit;e.xp6(1),e.hij("",null==t?null:t.facilityName," ")}}function Z(o,n){1&o&&e._UZ(0,"ion-note",29)}function w(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",22),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.assetDetailsPage(s))}),e.YNc(1,M,2,3,"ion-avatar",23),e.YNc(2,P,3,5,"ion-avatar",23),e.YNc(3,B,3,5,"p",24),e.YNc(4,R,1,0,"ion-note",25),e.YNc(5,J,2,1,"p",24),e.YNc(6,Z,1,0,"ion-note",25),e.qZA()}if(2&o){const t=e.oxw(),i=t.index,s=t.$implicit,a=e.oxw(2);e.MGl("id","assets-fleetname",i,""),e.Q6J("ngClass",i%2==0?"odd":"even"),e.xp6(1),e.Q6J("ngIf",""===(null==s||null==s.properties?null:s.properties.facilityImageFileName)||null===(null==s||null==s.properties?null:s.properties.facilityImageFileName)),e.xp6(1),e.Q6J("ngIf",""!==(null==s||null==s.properties?null:s.properties.facilityImageFileName)&&null!==(null==s.properties?null:s.properties.facilityImageFileName)),e.xp6(1),e.Q6J("ngIf",!0===a.removeattherate),e.xp6(1),e.Q6J("ngIf",!0===a.removeattherate),e.xp6(1),e.Q6J("ngIf",!1===a.removeattherate),e.xp6(1),e.Q6J("ngIf",!1===a.removeattherate)}}function k(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.addAssetToCart(s))}),e._UZ(1,"i",31),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"COMMON_BUTTONS.BUTTON_ADD")))}function j(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.deleteAssetToCart(s))}),e._UZ(1,"i",33),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()}2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"COMMON_BUTTONS.BUTTON_DELETE")))}function G(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item-sliding"),e.YNc(1,w,7,8,"ion-item",15),e.TgZ(2,"ion-item-options")(3,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.assetDetailsPage(a))}),e._UZ(4,"i",17),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"button",18),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.locateReserve(a))}),e._UZ(9,"i",19),e.TgZ(10,"span"),e._uU(11),e.ALo(12,"translate"),e.qZA()(),e.YNc(13,k,5,3,"button",20),e.YNc(14,j,5,3,"button",21),e.qZA()()}if(2&o){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",null==t?null:t.facilityName),e.xp6(5),e.Oqu(e.lcZ(7,6,"COMMON_BUTTONS.BUTTON_VIEW")),e.xp6(2),e.Q6J("hidden",null==t?null:t.locate),e.xp6(3),e.Oqu(e.lcZ(12,8,"NOTIFICATIONS.LOCATE")),e.xp6(2),e.Q6J("ngIf",!1===(null==t?null:t.addedToCart)||void 0===(null==t?null:t.addedToCart)),e.xp6(1),e.Q6J("ngIf",!0===(null==t?null:t.addedToCart))}}function Y(o,n){if(1&o&&(e.TgZ(0,"ion-list",13),e.YNc(1,G,15,10,"ion-item-sliding",14),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.fleetlistdata)}}function q(o,n){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(null==t?null:t.facilityName)}}function Q(o,n){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.lnq("",null==t?null:t.facilityName," ",e.lcZ(2,3,"COMMON_FIELDS.AT"),"",null==t||null==t.address?null:t.address.city,"")}}const K=function(o){return{"background-color":o}};function W(o,n){if(1&o&&(e.TgZ(0,"div")(1,"div",43),e._UZ(2,"div",44),e.TgZ(3,"div",45),e._UZ(4,"i",46),e.TgZ(5,"div",47),e.YNc(6,q,2,1,"div",48),e.YNc(7,Q,3,5,"div",48),e.qZA()()()()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(4),e.Tol(null==t||null==t.properties?null:t.properties.iconName),e.Q6J("ngStyle",e.VKq(6,K,null==t||null==t.properties?null:t.properties.FacilityTypeBackgroundColor)),e.xp6(2),e.Q6J("ngIf",!1===i.removeattherate),e.xp6(1),e.Q6J("ngIf",!0===i.removeattherate)}}function $(o,n){if(1&o&&(e.TgZ(0,"div")(1,"div",43),e._UZ(2,"div",50),e.TgZ(3,"div",51)(4,"div",52),e._UZ(5,"img",53),e.ALo(6,"imageTransform"),e.TgZ(7,"div",47)(8,"div",54),e._uU(9),e.qZA()()()()()()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(5),e.Q6J("src",e.Dn7(6,2,null==t||null==t.properties?null:t.properties.facilityImageFilePath,null==t||null==t.properties?null:t.properties.facilityImageFileName,i.publishEnabled),e.LSH),e.xp6(4),e.Oqu(null==t?null:t.facilityName)}}function H(o,n){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(null==t?null:t.fleetName)}}function V(o,n){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.lnq("",null==t?null:t.fleetName," ",e.lcZ(2,3,"AT"),"",null==t||null==t.address?null:t.address.city,"")}}function z(o,n){if(1&o&&(e.TgZ(0,"div")(1,"div",43),e._UZ(2,"div",50),e.TgZ(3,"div",51)(4,"div",52),e._UZ(5,"img",55),e.ALo(6,"imageTransform"),e.TgZ(7,"div",47),e.YNc(8,H,2,1,"div",48),e.YNc(9,V,3,5,"div",48),e.qZA()()()()()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(5),e.Q6J("src",e.Dn7(6,3,null==t||null==t.properties?null:t.properties.facilityImageFilePath,null==t||null==t.properties?null:t.properties.facilityImageFileName,i.publishEnabled),e.LSH),e.xp6(3),e.Q6J("ngIf",!1===i.removeattherate),e.xp6(1),e.Q6J("ngIf",!0===i.removeattherate)}}function X(o,n){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(null==t?null:t.facilityName)}}function ee(o,n){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.lnq("",null==t?null:t.facilityName," ",e.lcZ(2,3,"COMMON_FIELDS.AT"),"",null==t||null==t.address?null:t.address.city,"")}}function te(o,n){if(1&o&&(e.TgZ(0,"div")(1,"div",43),e._UZ(2,"div",44),e.TgZ(3,"div",51)(4,"div",52),e._UZ(5,"img",56),e.ALo(6,"imageTransform"),e.TgZ(7,"div",47),e.YNc(8,X,2,1,"div",48),e.YNc(9,ee,3,5,"div",48),e.qZA()()()()()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(5),e.Q6J("src",e.Dn7(6,3,null==t||null==t.properties?null:t.properties.facilityImageFilePath,null==t||null==t.properties?null:t.properties.facilityImageFileName,i.publishEnabled),e.LSH),e.xp6(3),e.Q6J("ngIf",!1===i.removeattherate),e.xp6(1),e.Q6J("ngIf",!0===i.removeattherate)}}function ie(o,n){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.Oqu(null==t?null:t.facilityName)}}function se(o,n){if(1&o&&(e.TgZ(0,"div",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=e.oxw(3).$implicit;e.xp6(1),e.lnq("",null==t?null:t.facilityName," ",e.lcZ(2,3,"COMMON_FIELDS.AT"),"",null==t||null==t.address?null:t.address.city,"")}}function ae(o,n){if(1&o&&(e.TgZ(0,"div")(1,"div",43),e._UZ(2,"div",44),e.TgZ(3,"div",51)(4,"div",52),e._UZ(5,"img",56),e.ALo(6,"imageTransform"),e.TgZ(7,"div",47),e.YNc(8,ie,2,1,"div",48),e.YNc(9,se,3,5,"div",48),e.qZA()()()()()),2&o){const t=e.oxw(2).$implicit,i=e.oxw(2);e.xp6(5),e.Q6J("src",e.Dn7(6,3,null==t||null==t.properties?null:t.properties.facilityImageFilePath,null==t||null==t.properties?null:t.properties.facilityImageFileName,i.publishEnabled),e.LSH),e.xp6(3),e.Q6J("ngIf",!1===i.removeattherate),e.xp6(1),e.Q6J("ngIf",!0===i.removeattherate)}}function le(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"ion-checkbox",57),e.NdJ("ngModelChange",function(s){e.CHM(t);const a=e.oxw(2).$implicit;return e.KtG(a.addedToCart=s)})("click",function(){e.CHM(t);const s=e.oxw(2).$implicit,a=e.oxw(2);return e.KtG(null!=s&&s.addedToCart?a.deleteAssetToCart(s):a.addAssetToCart(s))}),e.qZA()}if(2&o){const t=e.oxw(2),i=t.index,s=t.$implicit,a=e.oxw(2);e.MGl("id","checkbox",i,""),e.Q6J("disabled",!s.addedToCart&&a.count===a.countLimit)("ngClass",null!=s&&s.addedToCart?"multinav-checkbox":"unselect-checkbox")("checked",null==s?null:s.addedToCart)("ngModel",s.addedToCart)}}function oe(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",39)(1,"div",40),e.NdJ("tap",function(){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.addOrRemoveAsset(s))}),e.YNc(2,W,8,8,"div",41),e.YNc(3,$,10,6,"div",41),e.YNc(4,z,10,7,"div",41),e.YNc(5,te,10,7,"div",41),e.YNc(6,ae,10,7,"div",41),e.qZA(),e.YNc(7,le,1,5,"ion-checkbox",42),e.qZA()}if(2&o){const t=e.oxw(),i=t.$implicit,s=t.index,a=e.oxw(2);e.Q6J("ngClass",null!=i&&i.addedToCart&&!0===a.showCheckbox?"grid-selected":""),e.xp6(1),e.MGl("id","assets-fleetnameid",s,""),e.xp6(1),e.Q6J("ngIf",""===(null==i||null==i.properties?null:i.properties.facilityImageFileName)||null===(null==i||null==i.properties?null:i.properties.facilityImageFileName)),e.xp6(1),e.Q6J("ngIf",""!==(null==i||null==i.properties?null:i.properties.facilityImageFileName)&&null!==(null==i||null==i.properties?null:i.properties.facilityImageFileName)&&!1===a.showFleetName&&!0===a.showGridName),e.xp6(1),e.Q6J("ngIf",""!==(null==i||null==i.properties?null:i.properties.facilityImageFileName)&&null!==(null==i||null==i.properties?null:i.properties.facilityImageFileName)&&!1===a.showFleetName&&!1===a.showGridName),e.xp6(1),e.Q6J("ngIf",""!==(null==i||null==i.properties?null:i.properties.facilityImageFileName)&&null!==(null==i||null==i.properties?null:i.properties.facilityImageFileName)&&!0===a.showFleetName&&!0===a.showGridName),e.xp6(1),e.Q6J("ngIf",""!==(null==i||null==i.properties?null:i.properties.facilityImageFileName)&&null!==(null==i||null==i.properties?null:i.properties.facilityImageFileName)&&!0===a.showFleetName&&!1===a.showGridName),e.xp6(1),e.Q6J("ngIf",a.count>0&&!0===a.showCheckbox)}}function re(o,n){if(1&o&&(e.TgZ(0,"ion-col",37),e.YNc(1,oe,8,8,"ion-item",38),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.Q6J("ngIf",null==t?null:t.facilityName)}}function ne(o,n){if(1&o&&(e.TgZ(0,"ion-grid",34)(1,"ion-row",35),e.YNc(2,re,2,1,"ion-col",36),e.qZA()()),2&o){const t=e.oxw();e.Q6J("ngClass",1==t.nodata?"":"mgb-50"),e.xp6(2),e.Q6J("ngForOf",t.fleetlistdata)}}function ce(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"ion-infinite-scroll",58),e.NdJ("ionInfinite",function(s){e.CHM(t);const a=e.oxw();return e.KtG(a.doInfinite(s))}),e._UZ(1,"ion-infinite-scroll-content",59),e.ALo(2,"translate"),e.qZA()}2&o&&(e.xp6(1),e.s9C("loadingText",e.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_LOADING_PLEASE_WAIT")))}function _e(o,n){1&o&&(e.TgZ(0,"ion-row",60)(1,"ion-col",61)(2,"ion-label",62),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&o&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND")))}function de(o,n){1&o&&e._UZ(0,"ion-spinner",63)}let ge=(()=>{class o{apiEndPointUrl;events;facilitiesUiService;loggerService;router;sanitizer;commonServices;platform;route;syncService;toastCtrl;translateService;addedToCartarr=[];apiEndPoint;buildingCode;buildingfloorlevels;dataJsonObj={};count=0;countLimit;enterpriseId;error;facilitySearchName;fleetType;fleetTypesList;fleetlabelName;fleetlistdata;fleettypedefault;floorsenable;forceRefresh=!1;groupLoacteObject;hideloadassertmsg=!0;langcode;listType;menuClickFacilityType;messagelist;nodata;parameterName;position;publishEnabled=!1;recordsCount=20;removeattherate;rotationAngle;selectall=!1;selectedassetsfloorarr;showCheckbox=!1;showFleetName=!0;showGridName=!1;spinner;syncEnabled=!1;syncFreq;toLocationFleetname;tostermsg;constructor(t,i,s,a,r,g,c,_,m,u,p,me){this.apiEndPointUrl=t,this.events=i,this.facilitiesUiService=s,this.loggerService=a,this.router=r,this.sanitizer=g,this.commonServices=c,this.platform=_,this.route=m,this.syncService=u,this.toastCtrl=p,this.translateService=me,localStorage.getItem(l.BU.SELECTED_ENTERPRISE)?(this.enterpriseId=localStorage.getItem(l.BU.SELECTED_ENTERPRISE),this.buildingCode=localStorage.getItem(l.BU.BUILDING_CODE)):(this.enterpriseId=localStorage.getItem(l.BU.PARENT_ENTERPRISE_ID),this.buildingCode=localStorage.getItem(l.BU.PARENT_BUILDING_CODE)),this.route.queryParams.subscribe(h=>{this.dataJsonObj.queryParamsObj={defaultView:h.default_view,selectedMenuId:h.selectedMenuId,selectedSubMenuId:h.selectedSubMenuId,facilityTypeObj:h.facilityTypeObj,selectedSubmenuDisplayName:h.selectedSubmenuDisplayName,predefinedPathId:h.predefinedPathId,action:h.action}})}ngOnInit(){this.apiEndPoint=localStorage.getItem(l.BU.S3_URL)?localStorage.getItem(l.BU.S3_URL):this.apiEndPointUrl,this.initializeComponet(),this.route.params.subscribe(t=>{t.name?(this.commonServices.trackView(t.name),this.parameterName=t.name):this.commonServices.trackView(l.sn.FACILITIES_UI)})}getsyncSettings(){var t=this;return(0,T.Z)(function*(){const i=yield t.commonServices.getCacheSettings(l.hf.FACILITIES);t.syncEnabled=i.cacheEnabled,t.syncFreq=i.syncFreq,t.forceRefresh=i.forceRefresh,t.publishEnabled=i.publishEnabled})()}ionViewWillEnter(){this.initializeComponet()}ionViewWillLeave(){}ngOnDestroy(){localStorage.removeItem(l.BU.SIMILAR_TO_LOCATE_FLEET_NAME)}initializeComponet(){try{this.dataJsonObj.pageName=l.hf.FACILITIESUI,JSON.parse(localStorage.getItem(l.BU.MENU_CLICK_ITEM)),this.toLocationFleetname=localStorage.getItem(l.BU.SIMILAR_TO_LOCATE_FLEET_NAME),this.langcode=localStorage.getItem(l.BU.LOGIN_USER_LANGUAGE),localStorage.getItem(l.BU.SELECTED_ENTERPRISE)?(this.enterpriseId=localStorage.getItem(l.BU.SELECTED_ENTERPRISE),this.buildingCode=localStorage.getItem(l.BU.BUILDING_CODE),this.rotationAngle=localStorage.getItem(l.BU.ROTATION_ANGLE)):(this.enterpriseId=localStorage.getItem(l.BU.PARENT_ENTERPRISE_ID),this.buildingCode=localStorage.getItem(l.BU.PARENT_BUILDING_CODE),this.rotationAngle=localStorage.getItem(l.BU.PARENT_ROTATION_ANGLE)),this.selectall=!1,this.fleetlistdata=[],this.showFleetName=!0,this.showGridName=!1,this.nodata=!1,this.spinner=!1,this.position=localStorage.getItem(l.BU.MENU_POSITION);const i=localStorage.getItem(l.BU.SELECTED_ASSETS);this.addedToCartarr=i&&"[]"!=i?JSON.parse(localStorage.getItem(l.BU.SELECTED_ASSETS)):[],this.getEnterpriseDefaultUIData(),this.addedToCartarr?this.count=this.addedToCartarr.length:this.addedToCartarr=[],this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}]),this.getsyncSettings(),this.countLimit=parseInt(localStorage.getItem(l.BU.SELECT_LIMIT),10)}catch(t){this.loggerService.setLoggerError(this.constructor.name,"initializeComponet",t)}}getDynamicJson(t){var i=this;return(0,T.Z)(function*(){for(let s of t)i.dataJsonObj[s.storingFieldName]=yield i.commonServices.getDynamicJson(i.enterpriseId,s.folderName,s.jsonType);if(i.dataJsonObj?.queryParamsObj?.selectedMenuId&&i.dataJsonObj?.queryParamsObj?.selectedSubMenuId){const s=i.dataJsonObj.menuDataJson?i.dataJsonObj.menuDataJson.find(a=>a._id===parseInt(i.dataJsonObj.queryParamsObj.selectedMenuId,10)):{};i.dataJsonObj.selectedSubmenuObj=s.submenu?s.submenu.find(a=>a.submenu_id===parseInt(i.dataJsonObj.queryParamsObj.selectedSubMenuId,10)):{}}else if(i.dataJsonObj?.queryParamsObj?.facilityTypeObj)i.dataJsonObj.selectedSubmenuObj={facility_types:[JSON.parse(i.dataJsonObj.queryParamsObj.facilityTypeObj)]};else{const s=i.dataJsonObj.menuDataJson.find(a=>a.menu_page.page_name===i.dataJsonObj.pageName);i.dataJsonObj.selectedSubmenuObj=s.submenu?s.submenu[0]:{}}i.dataJsonObj.pageTitle=[{key:"",value:i.dataJsonObj.selectedSubmenuObj?.submenu_display_name,showSubMenuDisplayName:!1},{key:"",value:"",showSubMenuDisplayName:!1},{key:"",value:"",showSubMenuDisplayName:!1}],i.getMenuFacilityTypesData(),i.getmessagelist()})()}getMenuFacilityTypesData(){try{this.dataJsonObj?.selectedSubmenuObj&&(this.menuClickFacilityType=this.dataJsonObj.selectedSubmenuObj?.facility_types?this.dataJsonObj.selectedSubmenuObj.facility_types:"")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getMenuFacilityTypesData",t)}}getEnterpriseDefaultUIData(){try{if(localStorage.getItem(l.BU.DEFAULT_UI_SETTINGS_DATA)){let t=JSON.parse(localStorage.getItem(l.BU.DEFAULT_UI_SETTINGS_DATA));t.general_settings?(this.removeattherate=t.general_settings.is_city_enabled,this.showFleetName=t.general_settings.show_facility_name,this.showGridName=t.general_settings.show_grid_name,this.listType=C.L.isEmpty(t.general_settings.facility_list_type)?"GRID_VIEW":t.general_settings.facility_list_type.lookup_name,localStorage.setItem(l.BU.SELECT_LIMIT,t.general_settings.group_locate_selection_limit)):(this.removeattherate=!1,this.listType=l.ox.GRID_VIEW),this.recordsCount=20,this.platform.ready().then(i=>{const s=this.platform.width(),a=this.platform.height();this.listType===l.ox.GRID_VIEW?s<1201?this.recordsCount=Math.floor(s/103)*Math.floor(a/96):s<1441&&(this.recordsCount=Math.floor(s/111)*Math.floor(a/96)):this.recordsCount=Math.floor(a/44)}),t.map_settings&&(this.floorsenable=t.map_settings.is_floor_details_enabled),localStorage.setItem(l.BU.FLOORS_ENABLE,this.floorsenable),t.map_settings&&t.map_settings.radius_meters&&localStorage.setItem(l.BU.RADIUS_METERS,t.map_settings.radius_meters),t.map_settings&&t.map_settings.show_facilities&&localStorage.setItem(l.BU.SHOW_FLEETS,t.map_settings.show_facilities)}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getEnterpriseDefaultUIData",t)}}getmessagelist(){try{this.messagelist=[],this.fleetTypesList=[],this.buildingCode=localStorage.getItem(l.BU.BUILDING_CODE),this.facilitiesUiService.getFacilitiesListJson(this.enterpriseId,this.buildingCode,this.rotationAngle).then(t=>{if(this.buildingfloorlevels=t.floorsData,t.floorsData&&t.floorsData[0].features.length>0){for(let i=0;i<t.floorsData.length;i++)for(let s=0;s<t.floorsData[i].features.length;s++)t.floorsData[i].features[s].properties.facilityIconFileName&&this.messagelist.push(t.floorsData[i].features[s]);for(let i=0;i<this.messagelist.length;i++){this.messagelist[i].facilityName=this.messagelist[i].properties.facilityName,this.messagelist[i].facilityType=this.messagelist[i].properties.facilityType,this.messagelist[i].fleetCode=this.messagelist[i].properties.facilityId;for(let s=0;s<this.addedToCartarr.length;s++)this.addedToCartarr[s]._id===this.messagelist[i].facilityId&&(this.messagelist[i].addedToCart=!0)}if(this.messagelist=this.messagelist.filter(function(i){return""!==i}),this.messagelist.sort(function(i,s){return(i=i.properties.facilityName.toString().toLowerCase())===(s=s.properties.facilityName.toString().toLowerCase())?0:i>s?1:-1}),this.selectall=this.count===this.messagelist.length,this.messagelist.length>0){const i=[];let s=this.messagelist.length;this.listType===l.ox.LIST_VIEW&&this.messagelist.length>this.recordsCount?(s=this.recordsCount,this.hideloadassertmsg=!0):this.hideloadassertmsg=!1;for(let a=0;a<s;a++)if(this.menuClickFacilityType?.length>0)for(let r=0;r<this.menuClickFacilityType.length;r++)this.menuClickFacilityType[r].facility_type_name==this.messagelist[a].facilityType&&i.push(this.messagelist[a]);this.fleetlistdata=i;for(let a=0;a<this.fleetlistdata.length;a++)this.fleetlistdata[a].properties.facilityImageFileName&&this.fleetlistdata[a].properties.facilityImageFilePath&&(this.fleetlistdata[a].properties.mediaData=this.apiEndPoint+this.fleetlistdata[a].properties.facilityImageFilePath+"/"+this.fleetlistdata[a].properties.facilityImageFileName),this.fleetlistdata[a].facilityName=void 0!==this.fleetlistdata[a].name?null==this.fleetlistdata[a].name[this.langcode]||""===this.fleetlistdata[a].name[this.langcode]?this.fleetlistdata[a].facilityName:this.fleetlistdata[a].name[this.langcode]:this.fleetlistdata[a].facilityName;this.nodata=!1,this.fleetlistdata&&0==this.fleetlistdata.length&&(this.nodata=!0)}else this.nodata=!0,this.fleetlistdata=[],this.hideloadassertmsg=!1;this.spinner=!1}else this.nodata=!0,this.spinner=!1},t=>{try{t.status&&JSON.parse(t.status)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getmessagelistErrorBlock",i)}})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getmessagelist",t)}}searchresultlist(t){try{this.fleetlistdata=[];let i=[];if(this.messagelist&&this.messagelist.length>0&&!C.L.isEmpty(t)){for(let a=0;a<this.messagelist.length;a++)this.messagelist[a].properties&&this.messagelist[a].properties.facilityName.toLowerCase().includes(t.toLowerCase())&&i.push(this.messagelist[a]);let s=i.length;this.listType===l.ox.LIST_VIEW&&i.length>this.recordsCount?(s=this.recordsCount,this.hideloadassertmsg=!0):this.hideloadassertmsg=!1;for(let a=0;a<s;a++)if(this.menuClickFacilityType?.length>0)for(let r=0;r<this.menuClickFacilityType.length;r++)this.menuClickFacilityType[r].facility_type_name==i[a].facilityType&&this.fleetlistdata.push(i[a]);this.fleetlistdata.length<1||void 0===this.fleetlistdata?(this.nodata=!0,this.spinner=!1,this.fleetlistdata=[],this.hideloadassertmsg=!1):(this.nodata=!1,this.spinner=!1,this.hideloadassertmsg=!0)}else this.getmessagelist()}catch(i){this.loggerService.setLoggerError(this.constructor.name,"searchresultlist",i)}}doInfinite(t){try{const i=this.fleetlistdata.length;this.messagelist.length>=i?(this.hideloadassertmsg=!0,setTimeout(()=>{for(let s=i;s<i+this.recordsCount;s++){if(!(s<this.messagelist.length)){this.hideloadassertmsg=!1;break}if(this.messagelist[s].facilityName=void 0!==this.messagelist[s].name?null==this.messagelist[s].name[this.langcode]||""===this.messagelist[s].name[this.langcode]?this.messagelist[s].facilityName:this.messagelist[s].name[this.langcode]:this.messagelist[s].facilityName,this.fleetlistdata.push(this.messagelist[s]),this.fleetlistdata.length===this.messagelist.length)break}t.complete()},500)):this.hideloadassertmsg=!1}catch(i){this.loggerService.setLoggerError(this.constructor.name,"doInfinite",i)}}showToastMessage(t){var i=this;return(0,T.Z)(function*(){(yield i.toastCtrl.create({message:t,duration:2e3,position:"bottom",cssClass:"customToast"})).present()})()}clearmessage(){this.error=""}addOrRemoveAsset(t){try{t.addedToCart&&!0===this.showCheckbox?(this.deleteAssetToCart(t),t.addedToCart=!1):!t.addedToCart&&this.count>0&&!0===this.showCheckbox?this.addAssetToCart(t):this.assetDetailsPage(t)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"addOrRemoveAsset",i)}}addToCart(t){try{this.showCheckbox=!0,t.addedToCart||this.addAssetToCart(t)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"addToCart",i)}}addAssetToCart(t){try{if(this.showCheckbox=!0,0===this.count&&(this.addedToCartarr=[]),t.facilityId&&"number"==typeof t.facilityId&&(t._id=t.facilityId),0===this.addedToCartarr.length)t.addedToCart=!0,this.addedToCartarr.push(t),localStorage.setItem(l.BU.SELECTED_ASSETS,JSON.stringify(this.addedToCartarr)),this.count++;else if(t.properties.level===this.addedToCartarr[0].properties.level){const i=localStorage.getItem(l.BU.SELECT_LIMIT)?parseInt(localStorage.getItem(l.BU.SELECT_LIMIT),10):10;this.count<i?(t.addedToCart=!0,this.addedToCartarr.push(t),localStorage.setItem(l.BU.SELECTED_ASSETS,JSON.stringify(this.addedToCartarr)),this.count++,this.tostermsg=this.translateService.instant("TRIP_PLANNER.YOU_CAN_SELECT_ONLY"),this.showToastMessage(this.tostermsg+" "+i)):(t.addedToCart=!1,this.tostermsg=this.translateService.instant("TRIP_PLANNER.YOU_CAN_SELECT_ONLY"),this.showToastMessage(this.tostermsg+" "+i))}else{const i=localStorage.getItem(l.BU.SELECT_LIMIT)?parseInt(localStorage.getItem(l.BU.SELECT_LIMIT),10):10;this.count<i?(t.addedToCart=!0,this.addedToCartarr.push(t),localStorage.setItem(l.BU.SELECTED_ASSETS,JSON.stringify(this.addedToCartarr)),this.count++):(t.addedToCart=!1,this.tostermsg=this.translateService.instant("TRIP_PLANNER.YOU_CAN_SELECT_ONLY"),this.showToastMessage(this.tostermsg+" "+i))}this.selectall=this.count===this.messagelist.length,this.events.publish(l.xY.TRIP_FACILITIES_COUNT,this.count),localStorage.setItem(l.BU.TRIP_PLANNER_LOCATE_FACILITY,JSON.stringify(this.addedToCartarr[0]))}catch(i){this.loggerService.setLoggerError(this.constructor.name,"addAssetToCart",i)}}selectAllFleets(){try{let t=[];if(this.messagelist.length>0){this.addedToCartarr=this.addedToCartarr.concat(this.messagelist);const i=parseInt(localStorage.getItem(l.BU.SELECT_LIMIT),10);this.addedToCartarr.length>i&&(this.tostermsg=this.translateService.get("TRIP_PLANNER.YOU_CAN_SELECT_ONLY"),this.showToastMessage(this.tostermsg.value+" "+localStorage.getItem(l.BU.SELECT_LIMIT)));for(let s=0;s<this.addedToCartarr.length;s++)this.addedToCartarr[s].facilityId&&"number"==typeof this.addedToCartarr[s].facilityId&&(this.addedToCartarr[s]._id=this.addedToCartarr[s].facilityId,this.addedToCartarr[s].addedToCart=!0);if(t=this.addedToCartarr.reduce(function(s,a){const r=[a._id].join("|");return-1===s.temp.indexOf(r)&&s.temp.length<i&&(s.out.push(a),s.temp.push(r)),s},{temp:[],out:[]}).out,this.buildingfloorlevels.length>1){const s=[];if(this.addedToCartarr.length>0){for(let a=0;a<t.length;a++)this.addedToCartarr[a].addedToCart=!0,s.push(t[a]);t=s,this.count=t.length,this.addedToCartarr=t,localStorage.setItem(l.BU.SELECTED_ASSETS,JSON.stringify(this.addedToCartarr))}else this.addedToCartarr.addedToCart=!1,this.count=t.length,this.addedToCartarr=t,localStorage.setItem(l.BU.SELECTED_ASSETS,JSON.stringify(this.addedToCartarr))}else 1===this.buildingfloorlevels.length&&(this.count=t.length,this.addedToCartarr=t,localStorage.setItem(l.BU.SELECTED_ASSETS,JSON.stringify(this.addedToCartarr)));this.events.publish(l.xY.TRIP_FACILITIES_COUNT,this.count),localStorage.setItem(l.BU.TRIP_PLANNER_LOCATE_FACILITY,JSON.stringify(this.addedToCartarr[0]))}this.getmessagelist()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"selectAllFleets",t)}}deleteAssetToCart(t){try{let i=t._id;t.facilityId&&(i=t.facilityId);for(let s=0;s<this.addedToCartarr.length;s++)i===this.addedToCartarr[s]._id&&(this.addedToCartarr.splice(s,1),this.count--,delete t.addedToCart,localStorage.setItem(l.BU.SELECTED_ASSETS,JSON.stringify(this.addedToCartarr)));this.selectall=this.count===this.messagelist.length,0===this.count&&(this.showCheckbox=!1)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"deleteAssetToCart",i)}}handleKeyPress(t){try{13===t.keyCode&&this.searchresultlist(t.target.value)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"handleKeyPress",i)}}clearSearch(){this.searchresultlist("")}getMediaFiles(t){try{if(t.mediaData=this.apiEndPoint+t.facilityImageFilePath+"/"+t.facilityImageFileName,this.platform.is("android")||this.platform.is("ios")||this.platform.is("ipad")||this.platform.is("iphone")||this.platform.is("tablet"))try{this.syncService.getMobileAssetsData(t.facilityImageFilePath,t.facilityImageFileName,"image").then(i=>{let s=this.sanitizer.bypassSecurityTrustUrl(i);t.mediaData=s}).catch(i=>{})}catch(i){this.loggerService.setLoggerError(this.constructor.name,"getMobileAssetsData",i)}}catch(i){t.mediaData=this.apiEndPoint+t.facilityImageFilePath+"/"+t.facilityImageFileName,this.loggerService.setLoggerError(this.constructor.name,"getMediaFiles",i)}}assetDetailsPage(t){try{this.router.navigate(this.parameterName?["facilitiesui/facilitiesui/"+this.parameterName.replace(/\s+/g,"~")+"/"+t.facilityId+"/view"]:["facilitiesui/facilitiesui/"+t.properties.facilityTypeDisplayName.replace(/\s+/g,"~")+"/"+t.facilityId+"/view"])}catch(i){this.loggerService.setLoggerError(this.constructor.name,"assetDetailsPage",i)}}cartAddedAssetsLocateOffline(t,i){try{this.langcode=localStorage.getItem(l.BU.LOGIN_USER_LANGUAGE),localStorage.getItem(l.BU.SELECTED_ENTERPRISE)?(this.enterpriseId=localStorage.getItem(l.BU.SELECTED_ENTERPRISE),this.buildingCode=localStorage.getItem(l.BU.BUILDING_CODE),this.rotationAngle=localStorage.getItem(l.BU.ROTATION_ANGLE)):(this.enterpriseId=localStorage.getItem(l.BU.PARENT_ENTERPRISE_ID),this.buildingCode=localStorage.getItem(l.BU.PARENT_BUILDING_CODE),this.rotationAngle=localStorage.getItem(l.BU.PARENT_ROTATION_ANGLE)),"mytrip"===localStorage.getItem(l.BU.MY_TRIP)&&(this.addedToCartarr=JSON.parse(localStorage.getItem(l.BU.SELECTED_ASSETS)),this.selectedassetsfloorarr=[],localStorage.removeItem(l.BU.MY_TRIP)),localStorage.removeItem(l.BU.FROM_FLOOR),localStorage.setItem(l.BU.LAT,t.address.geoCoordinates[0]),localStorage.setItem(l.BU.LON,t.address.geoCoordinates[1]),localStorage.removeItem(l.BU.CLEAR_PATH),this.facilitiesUiService.getFacilitiesDisplaymapsettings(this.enterpriseId).then(s=>{const a=[],r=[];if(s&&s.result.length>0)for(let g=0;g<s.result.length;g++){a.push(s.result[g].baseTableColumnName);try{r.push(void 0!==s.result[g].name?null==s.result[g].name[this.langcode]||""===s.result[g].name[this.langcode]?s.result[g].labelToShowInMap:s.result[g].name[this.langcode]:s.result[g].labelToShowInMap)}catch(c){this.loggerService.setLoggerError(this.constructor.name,"getAssetDisplaymapsettings",c)}}r&&localStorage.setItem(l.BU.DISPLAY_COLUMNS,JSON.stringify(r)),a&&localStorage.setItem(l.BU.DISPLAY_PROPERTIES,JSON.stringify(a))},s=>{this.loggerService.setLoggerError(this.constructor.name,"getAssetDisplaymapsettings",s)}),this.facilitiesUiService.getFacilitiesListJson(this.enterpriseId,this.buildingCode,this.rotationAngle).then(s=>{const a=s.floorsData[0].features.filter(c=>"L25-Animals"!==c.properties.facilityType);s.floorsData[0].features=a,localStorage.setItem(l.BU.GROUP_LOC_LENGTH,"groupLocLength"),this.groupLoacteObject=s;const g=[];localStorage.setItem(l.BU.GROUP_LOCATE_LENGTH,this.addedToCartarr.length);for(let c=0;c<s.floorsData.length;c++){for(let _=0;_<s.floorsData[c].features.length;_++){for(let m=0;m<this.addedToCartarr.length;m++)s.floorsData[c].features[_].facilityId===this.addedToCartarr[m]._id&&(s.floorsData[c].features[_].addedToCart=this.addedToCartarr[m].addedToCart,s.floorsData[c].features[_].displaySequence=this.addedToCartarr[m].displaySequence,s.floorsData[c].features[_].action=i,s.floorsData[c].features[_].properties.addedToCart=!0,s.floorsData[c].features[_].properties.groupLocate="L60-SelectedAssets",s.floorsData[c].features[_].properties.special="true",-1===this.selectedassetsfloorarr.indexOf(this.addedToCartarr[m].properties.level)&&this.selectedassetsfloorarr.push(this.addedToCartarr[m].properties.level));s.floorsData[c].features[_].displaySequence=s.floorsData[c].features[_].displaySequence?s.floorsData[c].features[_].displaySequence:500}s.floorsData[c].features.sort((_,m)=>_.displaySequence-m.displaySequence),g.push(s.floorsData[c].facility_name)}for(let c=0;c<this.addedToCartarr.length;c++){const _=g.indexOf(this.addedToCartarr[c].properties.level);_>-1&&c===this.addedToCartarr.length-1&&(this.selectedassetsfloorarr&&this.selectedassetsfloorarr.length>1?setTimeout(()=>{if(localStorage.getItem(l.BU.MAP_CURRENT_GEO_LOCATION)){const m=Date.now();localStorage.setItem(l.BU.GROUP_LOCATE,"true"),this.setMapDataForGrouplocate(s,t,_,m)}else{const m=s.floorsData[_].floor_plan_facilityObj;localStorage.setItem(l.BU.LOCAL_ENDPOINT,"assets/enterprises/"),localStorage.setItem(l.BU.LC_SINGLE_FLEET,JSON.stringify(s)),localStorage.setItem(l.BU.F_CURRENT_FLOOR_NAME,t.properties.level);const u="fcurrentfloorname",p=t.facilityId;localStorage.setItem(l.BU.MULTI_FLOOR_SELECTED_ASSETS,JSON.stringify(this.selectedassetsfloorarr)),localStorage.setItem(l.BU.MAP_URL,"?ut=locate&sr=lcsinglefleet&pn=cartaddedassets&fp=true&cfn="+u+"&cfid="+p+"&cufloorid="+m+"&cfleetid="+t.facilityId+"&cbn="+s.facility_name+"&api=local&eid="+this.enterpriseId),this.commonServices.redirectToUrl(["maps","maps","list"],!0,!1,this.dataJsonObj.queryParamsObj,this.route)}},1500):setTimeout(()=>{if(localStorage.getItem(l.BU.MAP_CURRENT_GEO_LOCATION)){const m=Date.now();localStorage.setItem(l.BU.GROUP_LOCATE,"true"),this.setMapDataForGrouplocate(s,t,_,m)}else{localStorage.setItem(l.BU.GROUP_LOCATE,"true");const m=s.floorsData[_].floor_plan_facilityObj;localStorage.setItem(l.BU.LOCAL_ENDPOINT,"assets/enterprises/"),localStorage.setItem(l.BU.LC_SINGLE_FLEET,JSON.stringify(s)),localStorage.setItem(l.BU.F_CURRENT_FLOOR_NAME,t.properties.level);const u="fcurrentfloorname",p=t.facilityId;localStorage.setItem(l.BU.MULTI_FLOOR_SELECTED_ASSETS,JSON.stringify(this.selectedassetsfloorarr)),localStorage.setItem(l.BU.MAP_URL,"?ut=locate&sr=lcsinglefleet&pn=cartaddedassets&fp=true&cfn="+u+"&cfid="+p+"&cufloorid="+m+"&cfleetid="+t.facilityId+"&cbn="+s.facility_name+"&api=local&eid="+this.enterpriseId),this.commonServices.redirectToUrl(["maps","maps","list"],!0,!1,this.dataJsonObj.queryParamsObj,this.route)}},1500))}},s=>{})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"cartAddedAssetsLocateOffline",s)}}setMapDataForGrouplocate(t,i,s,a){try{if(localStorage.getItem(l.BU.FROM_FLOOR)){const r=t.floorsData[s].floor_plan_facilityObj;localStorage.setItem(l.BU.LOCAL_ENDPOINT,"assets/enterprises/"),localStorage.setItem(l.BU.LC_SINGLE_FLEET,JSON.stringify(t)),localStorage.setItem(l.BU.F_CURRENT_FLOOR_NAME,localStorage.getItem(l.BU.FROM_FLOOR));const g="fcurrentfloorname",c=i.facilityId;localStorage.setItem(l.BU.MULTI_FLOOR_SELECTED_ASSETS,JSON.stringify(this.selectedassetsfloorarr)),localStorage.setItem(l.BU.MAP_URL,"?ut=locate&sr=lcsinglefleet&pn=cartaddedassets&fp=true&cfn="+g+"&cfid="+c+"&cufloorid="+r+"&cfleetid="+i.facilityId+"&cbn="+t.facility_name+"&api=local&eid="+this.enterpriseId),this.commonServices.redirectToUrl(["maps","maps","list"],!0,!1,this.dataJsonObj.queryParamsObj,this.route)}else if(a+500>Date.now())setTimeout(()=>{this.setMapDataForGrouplocate(t,i,s,a)},100);else{const r=t.floorsData[s].floor_plan_facilityObj;localStorage.setItem(l.BU.LOCAL_ENDPOINT,"assets/enterprises/"),localStorage.setItem(l.BU.LC_SINGLE_FLEET,JSON.stringify(t)),localStorage.setItem(l.BU.F_CURRENT_FLOOR_NAME,i.properties.level),localStorage.getItem(l.BU.CURRENT_POSITION)&&parseInt(JSON.parse(localStorage.getItem(l.BU.CURRENT_POSITION)).accuracy,10)>10&&localStorage.removeItem(l.BU.CURRENT_POSITION);const g="fcurrentfloorname",c=i.facilityId;localStorage.setItem(l.BU.MULTI_FLOOR_SELECTED_ASSETS,JSON.stringify(this.selectedassetsfloorarr)),localStorage.setItem(l.BU.MAP_URL,"?ut=locate&sr=lcsinglefleet&pn=cartaddedassets&fp=true&cfn="+g+"&cfid="+c+"&cufloorid="+r+"&cfleetid="+i.facilityId+"&cbn="+t.facility_name+"&api=local&eid="+this.enterpriseId),this.commonServices.redirectToUrl(["maps","maps","list"],!0,!1,this.dataJsonObj.queryParamsObj,this.route)}}catch(r){this.loggerService.setLoggerError(this.constructor.name,"setMapDataForGrouplocate",r)}}static \u0275fac=function(i){return new(i||o)(e.Y36("apiEndPoint"),e.Y36(b.z),e.Y36(S.e),e.Y36(U.m),e.Y36(y.F0),e.Y36(v.H7),e.Y36(E.v),e.Y36(A.t4),e.Y36(y.gz),e.Y36(L._),e.Y36(x.yF),e.Y36(N.sK))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-fcilities-ui"]],features:[e._Bn([S.e,E.v])],decls:15,vars:12,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body","pdt-0"],["id","search-block",1,"search-block"],["size","12",1,"ion-no-padding"],["debounce","500","id","searchresid",1,"selectformfield","facilities-searchbar",3,"placeholder","ionChange","keypress"],["class","assets-grid-list ion-no-padding",4,"ngIf"],["class","assets-circle-grid-list pdt-0",3,"ngClass",4,"ngIf"],["id","doinfiniteid",3,"ionInfinite",4,"ngIf"],["class","error-message",4,"ngIf"],["name","circles","class","spinner",4,"ngIf"],[1,"assets-grid-list","ion-no-padding"],[4,"ngFor","ngForOf"],["lines","none","class","ion-no-padding assets-list-items",3,"id","ngClass","click",4,"ngIf"],["type","button","data-toggle","modal","data-bs-target","#exampleModal1",1,"item-options-btn","view-bg","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-15x","fa-eye"],["type","button","id","locatebuttonid",1,"item-options-btn","locate-bg","text-white",3,"hidden","click"],["aria-hidden","true",1,"fas","fa-location-arrow"],["type","button","class","item-options-btn add-bg text-white","color","primary","id","addbuttonid",3,"click",4,"ngIf"],["type","button","class","item-options-btn delete-bg text-white","id","deletebuttonid",3,"click",4,"ngIf"],["lines","none",1,"ion-no-padding","assets-list-items",3,"id","ngClass","click"],["class","asset-avatar-img bd-1",4,"ngIf"],["class","ion-no-margin asset-list-title",4,"ngIf"],["slot","end","class","fas fa-arrows-alt-h slide-icon fs-20 mg-0",4,"ngIf"],[1,"asset-avatar-img","bd-1"],["id","facilities-imagepath","onerror","this.onerror=null;this.src='assets/img/image_placeholder.jpg';",3,"src"],[1,"ion-no-margin","asset-list-title"],["slot","end",1,"fas","fa-arrows-alt-h","slide-icon","fs-20","mg-0"],["type","button","color","primary","id","addbuttonid",1,"item-options-btn","add-bg","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-plus"],["type","button","id","deletebuttonid",1,"item-options-btn","delete-bg","text-white",3,"click"],["aria-hidden","true",1,"fas","fa-trash"],[1,"assets-circle-grid-list","pdt-0",3,"ngClass"],[1,"justify-content-center"],["class","ion-text-center gridlist-item",4,"ngFor","ngForOf"],[1,"ion-text-center","gridlist-item"],["lines","none","class","asset-img-circle ion-no-padding ion-no-margin",3,"ngClass",4,"ngIf"],["lines","none",1,"asset-img-circle","ion-no-padding","ion-no-margin",3,"ngClass"],[1,"image-tap",3,"id","tap"],[4,"ngIf"],["class","gridlist-item-checkbox","name","fleetlabelName","ngDefaultControl","","type","checkbox",3,"disabled","ngClass","id","checked","ngModel","ngModelChange","click",4,"ngIf"],[1,"circle-icon","cursor-pointer"],[1,"check-box-bg"],[1,"position-relative","w-100","pdt-3","pdb-3","pdr-3","pdl-3","facility-icon-wrapper"],[3,"ngStyle"],[1,"facility-title"],["class","",4,"ngIf"],[1,""],[1,"imgcontainer-bg"],[1,"position-relative","pdt-3","pdb-3","pdr-3","pdl-3","facility-icon-wrapper"],[1,"w-100","h-100"],["id","assets-imagepath","onerror","this.onerror=null;this.src='assets/img/image_placeholder.jpg';",1,"fleet-img",3,"src"],["id","assets-imagefleetname",1,""],["onerror","this.onerror=null;this.src='assets/img/image_placeholder.jpg';",1,"fleet-img",3,"src"],["onerror","this.onerror=null;this.src='assets/img/image_placeholder.jpg';",1,"fleet-img","vertical-align-m",3,"src"],["name","fleetlabelName","ngDefaultControl","","type","checkbox",1,"gridlist-item-checkbox",3,"disabled","ngClass","id","checked","ngModel","ngModelChange","click"],["id","doinfiniteid",3,"ionInfinite"],["loadingSpinner","bubbles",3,"loadingText"],[1,"error-message"],["size","12",1,"ion-no-padding","ion-text-center"],["color","danger",1,"ion-text-center"],["name","circles",1,"spinner"]],template:function(i,s){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-pageheader",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"ion-row")(7,"ion-col",6)(8,"ion-searchbar",7),e.NdJ("ionChange",function(r){return s.searchresultlist(r.target.value)})("keypress",function(r){return s.handleKeyPress(r)}),e.ALo(9,"translate"),e.qZA()()()(),e.YNc(10,Y,2,1,"ion-list",8),e.YNc(11,ne,3,2,"ion-grid",9),e.YNc(12,ce,3,3,"ion-infinite-scroll",10),e.YNc(13,_e,5,3,"ion-row",11),e.YNc(14,de,1,0,"ion-spinner",12),e.qZA()()()),2&i&&(e.xp6(3),e.Q6J("pageName",s.dataJsonObj.pageName)("pageTitle",s.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(5),e.s9C("placeholder",e.lcZ(9,10,"COMMON_BUTTONS.BUTTON_SEARCH")),e.xp6(2),e.Q6J("ngIf","LIST_VIEW"===s.listType),e.xp6(1),e.Q6J("ngIf","GRID_VIEW"===s.listType),e.xp6(1),e.Q6J("ngIf",!0===s.hideloadassertmsg&&"Listing"===s.listType),e.xp6(1),e.Q6J("ngIf",1==s.nodata),e.xp6(1),e.Q6J("ngIf",!0===s.spinner))},dependencies:[f.mk,f.sg,f.O5,f.PC,I.Fj,I.JJ,I.On,D.q,N.X$,F.D]})}return o})()}}]);