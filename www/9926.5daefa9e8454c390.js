"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9926],{69926:(ya,R,u)=>{u.r(R),u.d(R,{GolfGamesModule:()=>Ta});var X=u(32174),ee=u(67375),h=u(36895),j=u(24006),v=u(11210),r=u(32236),O=u(62510),S=u(15861),C=u(71568),te=u(47386),ae=u(57936),oe=u(75875),I=u(90313),e=u(94650);let J=(()=>{class n{authService;commonService;constructor(t,a){this.authService=t,this.commonService=a}create(t,a,o,i){return new Promise((l,s)=>{const d=new FormData;a&&d.append("mainTitleImage",a,"mainTitleImage"),o&&d.append("detailsTitleImage",o,"detailsTitleImage"),i&&d.append("columnsImage",i,"columnsImage"),d.append("golfGameData",JSON.stringify(t)),this.authService.postApiCall("api/v1/golfgames/",d).subscribe(_=>{l(_)},_=>{s(_)})})}update(t,a){return new Promise((o,i)=>{this.authService.putApiCall("api/v1/golfgames/"+a,t).subscribe(l=>{o(l)},l=>{i(l)})})}updateLeadboardUIsettingsData(t,a,o,i,l){return new Promise((s,d)=>{const _=new FormData;o&&_.append("mainTitleImage",o,"mainTitleImage"),i&&_.append("detailsTitleImage",i,"detailsTitleImage"),l&&_.append("columnsImage",l,"columnsImage"),_.append("golfGameData",JSON.stringify(t)),this.authService.putApiCall("api/v1/golfgames/"+a+"?action=updateleaderboarduisettingsdata",_).subscribe(b=>{s(b)},b=>{d(b)})})}getAll(t,a,o,i,l,s,d,_,b){const m=I.L.isEmpty(b)?"":"&advSearchString="+JSON.stringify(b);return this.authService.getApiCall("api/v1/golfgames?skip="+o+"&limit="+i+"&type=list&sort="+a+"&search="+l+"&enterprise.enterprise_id="+t+_+(d?"&statusType="+d:"")+m,s)}get(t){let a;return a="api/v1/golfgames/"+t,this.authService.getApiCall(a,!0)}getGolfData(t){return new Promise((a,o)=>{this.authService.getApiCall("api/v1/golfgames/"+t).subscribe(i=>{a(i)},i=>{o(i)})})}validateAccessCode(t,a){return new Promise((o,i)=>{this.authService.patchApiCall(`api/v1/golfgames/${a}?action=validate`,{access_code:t}).subscribe(l=>{o(l)},l=>{i(l)})})}generateAccessCodes(){return new Promise((t,a)=>{this.authService.getApiCall("api/v1/golfgames?generate="+!0).subscribe(o=>{t(o)},o=>{a(o)})})}patch(t,a){return new Promise((o,i)=>{this.authService.patchApiCall("api/v1/golfgames/"+t,a).subscribe(l=>{o(l)},l=>{i(l)})})}getFacilityData(t,a){return new Promise((o,i)=>{const s=`api/v1/facilities?type=drop&enterprise.enterprise_id=${t}&facility_type.facility_type_name=${r.eY.GOLF_COURT}&search=${encodeURIComponent(a)}`;this.authService.getApiCall(s).subscribe(d=>{o(d)},d=>{i(d)})})}getActiveGolfGamesList(t,a,o,i,l){var s=this;return(0,S.Z)(function*(){try{const d=i?"&sort=updatedAt$-1":"",_=l?"&isLeaderBoardUISettings=true":"";return yield s.authService.getApiCallAsync(`api/v1/golfgames?&enterprise.enterprise_id=${t}&facility.facility_id=${a}&type=list&islimit=false&fiterdate=${o}${d}${_}`,!0)}catch{return[]}})()}getGolfGamesLeaderBoardData(t){var a=this;return(0,S.Z)(function*(){try{const o="leaderboard_ui_settings name";return yield a.authService.getApiCallAsync(`api/v1/golfgames?type=drop&enterprise.enterprise_id=${t}&requiredColumns=${o}&limit=1&sort=_id$-1`,!0)}catch{return[]}})()}getSelectedFacilityObj(t){var a=this;return(0,S.Z)(function*(){try{return yield a.authService.getApiCallAsync(`api/v1/facilities/${t}`,!0)}catch{return[]}})()}static \u0275fac=function(a){return new(a||n)(e.LFG(oe.e),e.LFG(C.v))};static \u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var T=u(42786),B=u(15439),U=u(26850),D=u(47561),f=u(54463),A=u(27601),y=u(2387),G=u(56368),k=u(9851),x=u(92634),P=u(68653),ie=u(42919),L=u(37415),H=u(65346),w=u(10805),p=u(93144);const ne=["golfGameName"],le=["startDatetimePicker"],se=["endDatetimePicker"],re=["facilityName"],de=["numberOfPlayers"],ce=["facility"];function _e(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"app-dropdown-singleselect",37,38),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeFacility(o))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"COMMON_PAGE_TITLES.FACILITY")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.facilityId),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.facilityOptions)}}function be(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"app-dropdown-search",39,40),e.NdJ("selectedOption",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSearchDropDownFacility(o))})("searchValueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.getFacilities(o))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"COMMON_PAGE_TITLES.FACILITY")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.facility),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.facilityOptions)}}function ue(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",10)(2,"div",42)(3,"app-datetimepicker",43,44),e.NdJ("editvalueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeStartDate(o))}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",45)(7,"app-dropdown-search",46),e.NdJ("selectedOption",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeTimeZone(o))})("searchValueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.getTimeZone(o))}),e.ALo(8,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("placeholder",e.lcZ(5,6,"COMMON_FIELDS.START_DATE")),e.Q6J("dateformat",t.loginUserDateFormat)("defaultDate",t.startDate),e.xp6(4),e.s9C("label",e.lcZ(8,8,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",t.userTimeZoneObj.timeZoneCode),e.Q6J("options",t.timezoneOptions)}}function me(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",10)(2,"div",42)(3,"app-datetimepicker",47,48),e.NdJ("editvalueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEndDate(o))}),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",45)(7,"app-dropdown-search",46),e.NdJ("selectedOption",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeTimeZone(o))})("searchValueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.getTimeZone(o))}),e.ALo(8,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("placeholder",e.lcZ(5,6,"COMMON_FIELDS.END_DATE")),e.Q6J("dateformat",t.loginUserDateFormat)("defaultDate",t.endDate),e.xp6(4),e.s9C("label",e.lcZ(8,8,"PREFERENCES.TIMEZONE")),e.s9C("defaultValue",t.userTimeZoneObj.timeZoneCode),e.Q6J("options",t.timezoneOptions)}}function ge(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",49)(1,"app-button",50),e.NdJ("buttonOnClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.generateAccessCode())}),e.ALo(2,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_BUTTONS.BUTTON_GENERATE_ACCESS_CODE")),e.Q6J("disabled",t.dataJsonObj.isAccessCodeAvailable)}}function pe(n,c){if(1&n&&(e.TgZ(0,"div",51),e._UZ(1,"app-input",52),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"NEW_VARIABLES.ACCESS_CODE")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.access_code)}}function he(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",49)(1,"app-button",50),e.NdJ("buttonOnClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.leaderboardUISettingsPopupOpen())}),e.ALo(2,"translate"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("label",e.lcZ(2,2,"GOLF_GAMES.LEADERBOARD_UI_SETTINGS")),e.Q6J("disabled",!1))}function fe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"input",65),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.field=o)})("blur",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw(3);return e.KtG(i.onHeaderEdit(o))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.s9C("placeholder",t.placeHolder),e.Q6J("ngModel",t.field)}}function Oe(n,c){if(1&n&&(e.TgZ(0,"span",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.editable?"":e.lcZ(2,1,t.field))}}function je(n,c){if(1&n&&(e.TgZ(0,"th",62),e.YNc(1,fe,1,2,"input",63),e.YNc(2,Oe,3,3,"span",64),e.qZA()),2&n){const t=c.$implicit;e.Q6J("pEditableColumn",t.editable),e.xp6(1),e.Q6J("ngIf",t.editable),e.xp6(1),e.Q6J("ngIf",!t.editable)}}function Se(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"input",65),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.field=o)})("blur",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw(3);return e.KtG(i.onHeaderEdit(o))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.s9C("placeholder",t.placeHolder),e.Q6J("ngModel",t.field)}}function Je(n,c){if(1&n&&(e.TgZ(0,"span",66),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.editable?"":e.lcZ(2,1,t.field))}}function Ce(n,c){if(1&n&&(e.TgZ(0,"th",67),e.YNc(1,Se,1,2,"input",63),e.YNc(2,Je,3,3,"span",64),e.qZA()),2&n){const t=c.$implicit;e.Q6J("pEditableColumn",t.editable),e.xp6(1),e.Q6J("ngIf",t.editable),e.xp6(1),e.Q6J("ngIf",!t.editable)}}function Te(n,c){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,je,3,3,"th",60),e.YNc(2,Ce,3,3,"th",61),e.qZA()),2&n){const t=c.$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.dataJsonObj.frozenColumns),e.xp6(1),e.Q6J("ngForOf",t)}}function ve(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"input",77),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit,l=e.oxw().$implicit;return e.KtG(l.rowData[i.field].value=o)})("change",function(){e.CHM(t);const o=e.oxw(2).$implicit,i=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.calculateTotal(i.rowData[o.field]))})("keypress",function(o){e.CHM(t);const i=e.oxw(5);return e.KtG(i._keyPress(o))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,a=e.oxw().$implicit;e.s9C("placeholder",null==a.rowData[t.field]?null:a.rowData[t.field].placeHolder),e.Q6J("ngModel",a.rowData[t.field].value)("minlength",1)("maxlength",3)}}function De(n,c){if(1&n&&(e.TgZ(0,"div",75),e.YNc(1,ve,1,4,"input",76),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==a.rowData[t.field]?null:a.rowData[t.field].editable),e.xp6(1),e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].editable?"":null==a.rowData[t.field]?null:a.rowData[t.field].value," ")}}function ye(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function Ee(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function Ie(n,c){1&n&&(e.TgZ(0,"td",71),e.ynx(1),e.TgZ(2,"p-cellEditor"),e.YNc(3,De,3,2,"ng-template",72),e.YNc(4,ye,1,1,"ng-template",73),e.qZA(),e.BQk(),e.YNc(5,Ee,1,1,"ng-template",null,74,e.W1O),e.qZA()),2&n&&e.Tol(c.$implicit.columnclass)}function Ae(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"input",77),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit,l=e.oxw().$implicit;return e.KtG(l.rowData[i.field].value=o)})("change",function(){e.CHM(t);const o=e.oxw(2).$implicit,i=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.calculateTotal(i.rowData[o.field]))})("keypress",function(o){e.CHM(t);const i=e.oxw(5);return e.KtG(i._keyPress(o))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,a=e.oxw().$implicit;e.s9C("placeholder",null==a.rowData[t.field]?null:a.rowData[t.field].placeHolder),e.Q6J("ngModel",a.rowData[t.field].value)("minlength",1)("maxlength",3)}}function Ge(n,c){if(1&n&&(e.TgZ(0,"div",75),e.YNc(1,Ae,1,4,"input",76),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==a.rowData[t.field]?null:a.rowData[t.field].editable),e.xp6(1),e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].editable?"":null==a.rowData[t.field]?null:a.rowData[t.field].value," ")}}function Le(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function we(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function Fe(n,c){1&n&&(e.TgZ(0,"td",78),e.ynx(1),e.TgZ(2,"p-cellEditor"),e.YNc(3,Ge,3,2,"ng-template",72),e.YNc(4,Le,1,1,"ng-template",73),e.qZA(),e.BQk(),e.YNc(5,we,1,1,"ng-template",null,74,e.W1O),e.qZA()),2&n&&e.Tol(c.$implicit.columnclass)}function Ne(n,c){if(1&n&&(e.TgZ(0,"tr",68),e.YNc(1,Ie,7,3,"td",69),e.YNc(2,Fe,7,3,"td",70),e.qZA()),2&n){const t=c.$implicit,a=c.columns,o=e.oxw(2);e.Q6J("pEditableRow",t),e.xp6(1),e.Q6J("ngForOf",o.dataJsonObj.frozenColumns),e.xp6(1),e.Q6J("ngForOf",a)}}function Ue(n,c){if(1&n&&(e.TgZ(0,"div",10)(1,"div",3)(2,"div",53)(3,"div",54)(4,"div",55)(5,"h4",56),e._uU(6),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",53)(9,"p-table",57),e.YNc(10,Te,3,2,"ng-template",58),e.YNc(11,Ne,3,3,"ng-template",59),e.qZA()()()()()()),2&n){const t=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,5,"GOLF_GAMES.SCOREBOARD")),e.xp6(3),e.Q6J("columns",null==t.dataJsonObj?null:t.dataJsonObj.columns)("value",null==t.dataJsonObj?null:t.dataJsonObj.golfCourtSettingsData)("scrollable",!0)("rows",10)}}function xe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",8)(2,"div",79)(3,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("title1_bg_color",o))}),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",79)(6,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("title1_font_color",o))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",79),e._UZ(9,"app-inputnumber",81),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",79)(12,"app-dropdown-singleselect",82),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeTitle1FontFamily(o))}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",79)(15,"div",83)(16,"label"),e._uU(17,"Background Image"),e.qZA(),e.TgZ(18,"app-imageupload",84),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeTitle1bgImg(o))}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("label",e.lcZ(4,10,"NEW_VARIABLES.TOP_MENU_BACKGROUND_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.title1_bg_color),e.xp6(3),e.s9C("label",e.lcZ(7,12,"PREFERENCES.FONT_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.title1_font_color),e.xp6(3),e.s9C("label",e.lcZ(10,14,"PREFERENCES.FONT_SIZE")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.title1_font_size),e.Q6J("maxlength",10),e.xp6(3),e.s9C("label",e.lcZ(13,16,"PREFERENCES.FONT_FAMILY")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.title1_font_family),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontFamilyOptions)}}function Me(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",8)(2,"div",79)(3,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("title2_bg_color",o))}),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",79)(6,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("title2_font_color",o))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",79),e._UZ(9,"app-inputnumber",81),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",79)(12,"app-dropdown-singleselect",82),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeTitle2FontFamily(o))}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",79)(15,"div",83)(16,"label"),e._uU(17,"Background Image"),e.qZA(),e.TgZ(18,"app-imageupload",85),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeTitle2bgImg(o))}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("label",e.lcZ(4,10,"NEW_VARIABLES.TOP_MENU_BACKGROUND_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color),e.xp6(3),e.s9C("label",e.lcZ(7,12,"PREFERENCES.FONT_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.title2_font_color),e.xp6(3),e.s9C("label",e.lcZ(10,14,"PREFERENCES.FONT_SIZE")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.title2_font_size),e.Q6J("maxlength",10),e.xp6(3),e.s9C("label",e.lcZ(13,16,"PREFERENCES.FONT_FAMILY")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.title2_font_family),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontFamilyOptions)}}function Ze(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",8)(2,"div",79)(3,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("table_header_bg_color",o))}),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",79)(6,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("table_header_font_color",o))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",79),e._UZ(9,"app-inputnumber",81),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",79)(12,"app-dropdown-singleselect",82),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeHeaderFontFamily(o))}),e.ALo(13,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("label",e.lcZ(4,10,"NEW_VARIABLES.TOP_MENU_BACKGROUND_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.table_header_bg_color),e.xp6(3),e.s9C("label",e.lcZ(7,12,"PREFERENCES.FONT_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.table_header_font_color),e.xp6(3),e.s9C("label",e.lcZ(10,14,"PREFERENCES.FONT_SIZE")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.table_header_font_size),e.Q6J("maxlength",10),e.xp6(3),e.s9C("label",e.lcZ(13,16,"PREFERENCES.FONT_FAMILY")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.table_header_font_family),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontFamilyOptions)}}function Re(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",8)(2,"div",79)(3,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("table_body_bg_color",o))}),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",79)(6,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("table_body_font_color",o))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",79),e._UZ(9,"app-inputnumber",81),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",79)(12,"app-dropdown-singleselect",82),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeColumnsFontFamily(o))}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",79)(15,"div",83)(16,"label"),e._uU(17,"Background Image"),e.qZA(),e.TgZ(18,"app-imageupload",86),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeColumnsbgImg(o))}),e.qZA()()(),e.TgZ(19,"div",79)(20,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("positive_bg_color",o))}),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",79)(23,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("negative_bg_color",o))}),e.ALo(24,"translate"),e.qZA()(),e.TgZ(25,"div",79)(26,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("neutral_bg_color",o))}),e.ALo(27,"translate"),e.qZA()(),e._UZ(28,"div",79),e.TgZ(29,"div",79)(30,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("positive_color",o))}),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",79)(33,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("negative_color",o))}),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"div",79)(36,"app-input",80),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("neutral_color",o))}),e.ALo(37,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("label",e.lcZ(4,22,"NEW_VARIABLES.TOP_MENU_BACKGROUND_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.table_body_bg_color),e.xp6(3),e.s9C("label",e.lcZ(7,24,"PREFERENCES.FONT_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.table_body_font_color),e.xp6(3),e.s9C("label",e.lcZ(10,26,"PREFERENCES.FONT_SIZE")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.table_body_font_size),e.Q6J("maxlength",10),e.xp6(3),e.s9C("label",e.lcZ(13,28,"PREFERENCES.FONT_FAMILY")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.table_body_font_family),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontFamilyOptions),e.xp6(8),e.s9C("label",e.lcZ(21,30,"NEW_VARIABLES.POSITIVE_BG_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.positive_bg_color),e.xp6(3),e.s9C("label",e.lcZ(24,32,"NEW_VARIABLES.NEGATIVE_BG_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.negative_bg_color),e.xp6(3),e.s9C("label",e.lcZ(27,34,"NEW_VARIABLES.NEUTRAL_BG_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.neutral_bg_color),e.xp6(4),e.s9C("label",e.lcZ(31,36,"NEW_VARIABLES.POSITIVE_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.positive_color),e.xp6(3),e.s9C("label",e.lcZ(34,38,"NEW_VARIABLES.NEGATIVE_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.negative_color),e.xp6(3),e.s9C("label",e.lcZ(37,40,"NEW_VARIABLES.NEUTRAL_COLOR")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.defaultLeaderBoardUISettings?null:t.dataJsonObj.defaultLeaderBoardUISettings.neutral_color)}}let Be=(()=>{class n extends D.O{buildJson;commonService;enterprisesService;translateService;golfGamesService;socketService;loggerService;uiUtils;route;golfGameName;startDatetimePicker;endDatetimePicker;facilityName;numberOfPlayers;facility;dataJsonObj={};errorObj={};loginUserDateFormat;utccurrentTime;startDate;endDate;userTimeZoneObj={};timezoneOptions;BACKSPEACE_CHARCODE=0;enableImageDeleteValue=!0;bgImage;title1bgimgFile;title2bgimgFile;columnsbgimgFile;leaderboardUISettingsObj;constructor(t,a,o,i,l,s,d,_,b){super(b,a),this.buildJson=t,this.commonService=a,this.enterprisesService=o,this.translateService=i,this.golfGamesService=l,this.socketService=s,this.loggerService=d,this.uiUtils=_,this.route=b}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.isFacilityFieldSearchDropDown=this.buildJson?.is_search_drop_down_field,this.dataJsonObj.defaultLeaderBoardUISettings={title1_bg_color:"#83e2da",title1_font_color:"#00496f",title2_bg_color:"#00496f",title2_font_color:"#83e2da",table_header_bg_color:"#5da75a",table_header_font_color:"#ffffff",table_body_bg_color:" #ffffff",table_body_font_color:"#00496f",positive_bg_color:"#cc0000",negative_bg_color:"#5da75a",neutral_bg_color:"#757171",positive_color:"#ffffff",negative_color:"#ffffff",neutral_color:"#ffffff",title1_font_size:64,title2_font_size:44,table_header_font_size:44,table_body_font_size:44},this.dataJsonObj.pageName=r.hf.GOLF_GAMES,this.dataJsonObj.inputObj={is_enabled:!0},this.dataJsonObj.isScoreBoardEnabled=!1,this.dataJsonObj.isAccessCodeAvailable=!1,this.dataJsonObj.totalCountsJSON={},this.dataJsonObj.enableactions={LEADERBOARD_UI_SETTINGS:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.LEADERBOARD_UI_SETTINGS),GENERATE_ACCESS_CODE:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.GENERATE_ACCESS_CODE),START_DATE:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.DISPLAY_START_DATE),END_DATE:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.DISPLAY_END_DATE)},this.dataJsonObj.selectedEnterpriseObj=this.commonService.getSelcetedEnterpriseObj(),this.dataJsonObj.inputObj.enterprise=this.dataJsonObj.selectedEnterpriseObj,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.GOLF_GAME",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.loginUserdata=JSON.parse(localStorage.getItem(r.BU.USER));const t=this.commonService.getLoginUserTimeZoneDateFormat();this.loginUserDateFormat=t.dateFormat,this.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.utccurrentTime=(new Date).toISOString();const a=this.displayDateFormatter(this.utccurrentTime,!0,!0);this.startDate=a.startDate,this.endDate=a.endDate,this.dataJsonObj.golfCourtSettingsData=[],this.dataJsonObj.rows=[],this.dataJsonObj.columns=[],this.getEnterpriseRecordById(),this.getFacilities(""),this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(o=>{this.dataJsonObj.lookupCodesListJSON=o,this.getFontFamilies(),this.getActiveGolfGames()}),this.commonService.getDynamicHeight(),this.dataJsonObj.displayTabTitle=[{title:"Main Title"},{title:"Details Title"},{title:"Header"},{title:"Columns"}],this.dataJsonObj.selectedTab="Main Title"}getEnterpriseRecordById(){try{this.enterprisesService.getEnterprisesViewData(this.dataJsonObj.selectedEnterpriseId).subscribe(t=>{this.dataJsonObj.enterpriseViewData=t},t=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",t)}}changeInputFieldValue(t,a,o){try{this.errorObj.error="",o[a]=t.value}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeInputFieldValue",i)}}createRecord(){try{const t=[];for(let a=0;a<this.dataJsonObj?.golf_court_settings?.scoreboard_attributes?.length;a++){const o={},i=[];o.attribute_name=this.dataJsonObj.golf_court_settings?.scoreboard_attributes[a].attribute_name;for(let l of this.dataJsonObj?.golfCourtSettingsData)if("Total"!==l.HOLE){const s={hole_number:l.HOLE,attribute_value:l[o.attribute_name],players:[]};if(l.rowData){const d=[],_=Object.keys(l.rowData);for(let b of _)d.push({player_name:l.rowData[b].field,value:l.rowData[b].value,display_sequence:l.rowData[b].display_sequence});d.sort((b,m)=>b.display_sequence-m.display_sequence),s.players=d}i.push(s)}o.attribute_level_scoreboard=i,t.push(o)}if(this.commonService.getUTCDateObj(this.endDate)<this.commonService.getUTCDateObj(this.startDate))this.errorObj.error=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START");else if(this.golfGameName.isValid()&&(this.dataJsonObj.isFacilityFieldSearchDropDown?this.facilityName.isValid():this.facility.isValid())&&this.numberOfPlayers.isValid()&&""===this.errorObj.error)if(this.dataJsonObj.generateAccessCodeButtonEnable&&I.L.isEmpty(this.dataJsonObj.access_code))this.errorObj.error=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_GENERATE_ACCESS_CODE");else{this.dataJsonObj.isSubmitButtonDisabled=!0;const a=this.defaultDisplayDateFormatter((new Date).toISOString(),!0,!0);this.leaderboardUISettingsObj||this.leaderboardUISettingsPopupSubmit();const o={enterprise:this.dataJsonObj.inputObj.enterprise,name:this.dataJsonObj.inputObj.name,start_datetime:this.commonService.convertUserTimeZoneDateToUTC(this.startDate,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign),end_datetime:this.commonService.convertUserTimeZoneDateToUTC(this.dataJsonObj.enableactions?.END_DATE?this.endDate:a.endDate,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign),facility:{facility_id:this.dataJsonObj.inputObj?.facility?.facility_id,facility_name:this.dataJsonObj.inputObj.facility?.facility_name},description:this.dataJsonObj.inputObj.description,number_of_players:this.dataJsonObj?.numberOfPlayers,scoreboard:t,access_code:this.dataJsonObj.access_code,leaderboard_ui_settings:this.leaderboardUISettingsObj,is_enabled:this.dataJsonObj.inputObj.is_enabled};this.title1bgimgFile=this.title1bgimgFile?this.commonService.dataURItoImgBlob(this.title1bgimgFile,"image/jpeg"):"",this.title2bgimgFile=this.title2bgimgFile?this.commonService.dataURItoImgBlob(this.title2bgimgFile,"image/jpeg"):"",this.columnsbgimgFile=this.columnsbgimgFile?this.commonService.dataURItoImgBlob(this.columnsbgimgFile,"image/jpeg"):"",this.golfGamesService.create(o,this.title1bgimgFile,this.title2bgimgFile,this.columnsbgimgFile).then(i=>{this.socketEmit({room:i._id,data:{columns:this.dataJsonObj.columns,dataArr:this.dataJsonObj.golfCourtSettingsData}}),this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),this.commonService.redirectToPreviousUrl()},i=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(i))})}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"submit",t)}}socketEmit(t){this.socketService.emitEvent("GOLF_SCOREBOARD",t)}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}commonErrorCodes(t){const a=JSON.parse(t[r.BU.STATUS]);409===a&&(this.errorObj.error="COMMON_STATUS_CODES."+a)}displayDateFormatter(t,a,o){try{const i=o?this.commonService.convertDateToUserTimeZone(t,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign):t,l={startDate:"",endDate:""};if(l.startDate=this.commonService.convertDateToUserFormat(i,r.eZ.HOURS_MINS,!0,"",!1),a){const s=o?this.commonService.convertDateToUserTimeZone(t,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign):t,d=B.utc(s).add(2,"hours");l.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return l}catch(i){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",i)}}defaultDisplayDateFormatter(t,a,o){try{const i=o?this.commonService.convertDateToUserTimeZone(t,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign):t,l={startDate:"",endDate:""};if(l.startDate=this.commonService.convertDateToUserFormat(i,r.eZ.HOURS_MINS,!0,"",!1),a){const s=o?this.commonService.convertDateToUserTimeZone(t,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign):t;s.setUTCDate(s.getUTCDate()+1),s.setUTCHours(0,0,0,0),l.endDate=s}return l}catch(i){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",i)}}changeStartDate(t){this.errorObj.error="";const a=this.displayDateFormatter(t.value,!1,!1);this.startDate=a.startDate}changeEndDate(t){this.errorObj.error="";const a=this.displayDateFormatter(t.value,!1,!1);this.endDate=a.startDate}getTimeZone(t){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.TIME_ZONES],t).then(a=>{if(this.timezoneOptions=a,this.timezoneOptions.length>0){for(let o=0;o<this.timezoneOptions.length;o++)this.timezoneOptions[o].NAME=this.timezoneOptions[o].NAME+" - "+this.timezoneOptions[o].description;this.timezoneOptions=this.timezoneOptions}})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getTimeZone",a)}}changeTimeZone(t){try{this.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.description),this.userTimeZoneObj.timeZoneCode=t.lookup_name;const a=this.displayDateFormatter(this.utccurrentTime,!0,!0);this.startDate=a.startDate,this.endDate=a.endDate}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeTimeZone",a)}}getFacilities(t){try{this.golfGamesService.getFacilityData(this.dataJsonObj.selectedEnterpriseId,t).then(a=>{this.dataJsonObj.facilityOptions=a},a=>{this.loggerService.setLoggerError(this.constructor.name,"getFacility",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getFacilities",a)}}stringFilter(t){return!(44==t.keyCode||94==t.keyCode)}changeFacility(t){try{this.errorObj.error="",this.dataJsonObj.numberOfPlayers="",this.dataJsonObj.columns=[],this.dataJsonObj.golfCourtSettingsData=[],this.dataJsonObj.facilityId=t.value,this.dataJsonObj.facilityObj=this.dataJsonObj.facilityOptions.find(a=>a.ID===parseInt(this.dataJsonObj.facilityId,10)),this.dataJsonObj.facility=this.dataJsonObj.facilityObj?.facility_display_name,this.dataJsonObj.facilityTypeName=this.dataJsonObj.facilityObj?.facility_type?.facility_type_name,this.dataJsonObj.inputObj.facility=this.dataJsonObj.facilityObj,this.dataJsonObj.isScoreBoardEnabled=this.dataJsonObj.facilityObj?.facility_type?.facility_type_name===r.eY.GOLF_COURT&&!I.L.isEmpty(this.dataJsonObj?.numberOfPlayers),this.dataJsonObj.golf_court_settings=this.dataJsonObj.facilityObj?.golf_court_settings?this.dataJsonObj.facilityObj?.golf_court_settings:{}}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeFacility",a)}}changeSearchDropDownFacility(t){try{this.errorObj.error="",this.dataJsonObj.numberOfPlayers="",this.dataJsonObj.columns=[],this.dataJsonObj.golfCourtSettingsData=[],this.dataJsonObj.facilityId=t.ID,this.dataJsonObj.facility=t.NAME,this.dataJsonObj.facilityTypeName=t?.facility_type?.facility_type_name,this.dataJsonObj.inputObj.facility=t,this.dataJsonObj.isScoreBoardEnabled=t?.facility_type?.facility_type_name===r.eY.GOLF_COURT&&!I.L.isEmpty(this.dataJsonObj?.numberOfPlayers),this.dataJsonObj.golf_court_settings=t?.golf_court_settings?t?.golf_court_settings:{}}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeSearchDropDownFacility",a)}}changeNumberOfPlayers(t){try{this.dataJsonObj.isScoreBoardEnabled=this.dataJsonObj.facilityTypeName===r.eY.GOLF_COURT&&!I.L.isEmpty(t.value),this.errorObj.error="";const a={},o={};for(let d of this.dataJsonObj.golfCourtSettingsData){const _=d.HOLE+"",b=d[this.dataJsonObj.golf_court_settings?.scoreboard_attributes[0].attribute_name];a[_+""]||(a[_+""]={}),a[_+""][b+""]||(a[_+""][b+""]={});const m=Object.keys(d.rowData);for(let g of m)a[_+""][b+""][g]=d.rowData[g].value,"Total"===_&&(o[g]=d.rowData[g].value)}this.dataJsonObj.totalCountsJSON={},this.dataJsonObj.golfCourtSettingsData=[],this.dataJsonObj.numberOfPlayers=t.value,this.dataJsonObj.frozenColumns=[{headersort:"disableth",placeHolder:"HOLE",field:"HOLE",header:"HOLE",class:"",columnclass:"text-end",editable:!1},{headersort:"disableth",placeHolder:this.dataJsonObj.golf_court_settings?.scoreboard_attributes[0].attribute_name,field:this.dataJsonObj.golf_court_settings?.scoreboard_attributes[0].attribute_name,header:this.dataJsonObj.golf_court_settings?.scoreboard_attributes[0].attribute_name,class:"",columnclass:"text-end",editable:!1}];const i=[];for(let d=1;d<=this.dataJsonObj.numberOfPlayers;d++)i.push(this.dataJsonObj.columns[d-1]?this.dataJsonObj.columns[d-1]:{headersort:"disableth",placeHolder:"Player - "+d,field:"Player - "+d,previous_value:"Player - "+d,header:"Player - "+d,class:"",columnclass:"text-end",editable:!0});this.dataJsonObj.columns=i;const l=this.dataJsonObj.golf_court_settings?.scoreboard_attributes[0]?.hole_level_Settings,s={HOLE:"Total",rowData:{}};s[this.dataJsonObj.golf_court_settings?.scoreboard_attributes[0].attribute_name]=0;for(let d=0;d<l.length;d++){const _={HOLE:l[d].hole_number,rowData:{}};_[this.dataJsonObj.golf_court_settings?.scoreboard_attributes[0].attribute_name]=l[d].value,s[this.dataJsonObj.golf_court_settings?.scoreboard_attributes[0].attribute_name]=s[this.dataJsonObj.golf_court_settings?.scoreboard_attributes[0].attribute_name]+parseInt(l[d].value);for(let b=0;b<this.dataJsonObj.columns.length;b++){const m=this.dataJsonObj.columns[b].field,g=l[d].value;_.rowData[m]={header:m,field:m,value:a&&a[l[d].hole_number+""]&&a[l[d].hole_number+""][g+""]&&a[l[d].hole_number+""][g+""][m]?a[l[d].hole_number+""][g+""][m]:"",display_sequence:b,editable:!0},s.rowData[m]||(s.rowData[m]={header:m,field:m,value:o&&o[m]?o[m]:0,editable:!1}),s.rowData[m].value=s.rowData[m].value+0}this.dataJsonObj.golfCourtSettingsData.push(_)}this.dataJsonObj.golfCourtSettingsData.push(s)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeNumberOfPlayers",a)}}onHeaderEdit(t){const a=t.previous_value;if(t.field||(t.field=t.previous_value),t.field!==a){t.previous_value=t.field;const o=this.dataJsonObj.columns.findIndex(i=>i.field===a);-1!==o&&(this.dataJsonObj.columns[o]=t);for(let i of this.dataJsonObj?.golfCourtSettingsData)i.rowData&&i.rowData[a]&&(i.rowData[t.field]=JSON.parse(JSON.stringify(i.rowData[a])),delete i.rowData[a],i.rowData[t.field].field=t.field)}}calculateTotal(t){const a=this.dataJsonObj.golfCourtSettingsData?this.dataJsonObj.golfCourtSettingsData.length-1:"";if(a&&this.dataJsonObj.golfCourtSettingsData[a]&&this.dataJsonObj.golfCourtSettingsData[a].rowData&&this.dataJsonObj.golfCourtSettingsData[a].rowData[t.field]){this.dataJsonObj.golfCourtSettingsData[a].rowData[t.field].value=0;for(let o of this.dataJsonObj?.golfCourtSettingsData)if("Total"!==o.HOLE){const i=o.rowData?o.rowData[t.field]:"",l=i&&i.value?parseInt(i.value,10):"";l&&(this.dataJsonObj.golfCourtSettingsData[a].rowData[t.field].value+=l)}}}generateAccessCode(){try{this.errorObj.error="",this.golfGamesService.generateAccessCodes().then(t=>{this.dataJsonObj.access_code=t[0],this.dataJsonObj.isAccessCodeAvailable=!0,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_ACCESS_CODE_GENERATE")},t=>{this.commonErrorCodes(JSON.parse(t))})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"generateAccessCode",t)}}_keyPress(t){this.errorObj.error="";const o=String.fromCharCode(t.charCode);/[0-9]/.test(o)||46===t.charCode&&43===t.charCode&&45===t.charCode||t.charCode===this.BACKSPEACE_CHARCODE?this.clearMessage():(this.errorObj.error="COMMON_VALIDATION_MESSAGES.VALID_ENTER_ONLY_NUMERIC_VALUE",t.preventDefault())}clearMessage(){}leaderboardUISettingsPopupOpen(){try{$("#exampleModal1").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal1")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"leaderboardUISettingsPopupOpen",t)}}leaderboardUISettingsPopupSubmit(){try{this.leaderboardUISettingsObj={main_title:{bg_color:this.dataJsonObj.defaultLeaderBoardUISettings.title1_bg_color,font_color:this.dataJsonObj.defaultLeaderBoardUISettings.title1_font_color,font_size:this.dataJsonObj.defaultLeaderBoardUISettings.title1_font_size,font_family:{lookup_id:this.dataJsonObj.title1FontFamilyObj.ID,lookup_name:this.dataJsonObj.title1FontFamilyObj.NAME}},details_title:{bg_color:this.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,font_color:this.dataJsonObj.defaultLeaderBoardUISettings.title2_font_color,font_size:this.dataJsonObj.defaultLeaderBoardUISettings.title2_font_size,font_family:{lookup_id:this.dataJsonObj.title2FontFamilyObj.ID,lookup_name:this.dataJsonObj.title2FontFamilyObj.NAME}},header:{bg_color:this.dataJsonObj.defaultLeaderBoardUISettings.table_header_bg_color,font_color:this.dataJsonObj.defaultLeaderBoardUISettings.table_header_font_color,font_size:this.dataJsonObj.defaultLeaderBoardUISettings.table_header_font_size,font_family:{lookup_id:this.dataJsonObj.headerFontFamilyObj.ID,lookup_name:this.dataJsonObj.headerFontFamilyObj.NAME}},columns:{bg_color:this.dataJsonObj.defaultLeaderBoardUISettings.table_body_bg_color,font_color:this.dataJsonObj.defaultLeaderBoardUISettings.table_body_font_color,font_size:this.dataJsonObj.defaultLeaderBoardUISettings.table_body_font_size,font_family:{lookup_id:this.dataJsonObj.columnsFontFamilyObj.ID,lookup_name:this.dataJsonObj.columnsFontFamilyObj.NAME},positive_bg_color:this.dataJsonObj.defaultLeaderBoardUISettings.positive_bg_color,positive_color:this.dataJsonObj.defaultLeaderBoardUISettings.positive_color,negative_bg_color:this.dataJsonObj.defaultLeaderBoardUISettings.negative_bg_color,negative_color:this.dataJsonObj.defaultLeaderBoardUISettings.negative_color,neutral_bg_color:this.dataJsonObj.defaultLeaderBoardUISettings.neutral_bg_color,neutral_color:this.dataJsonObj.defaultLeaderBoardUISettings.neutral_color}},$("#exampleModal1").modal("hide")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"leaderboardUISettingsPopupSubmit",t)}}cancelPopup(){$("#exampleModal1").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}tabvalueChange(t){this.dataJsonObj.selectedTab=t}defaultSettingsChangeColor(t,a){this.dataJsonObj.defaultLeaderBoardUISettings[t]=a.target.value}getFontFamilies(){this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.uP.FONT_NAMES],"").then(t=>{this.dataJsonObj.fontFamilyOptions=t,this.dataJsonObj.FontFamilyObj=t[0],this.dataJsonObj.defaultFontFamily=t[0].ID,this.dataJsonObj.title1_font_family=this.dataJsonObj.defaultFontFamily,this.dataJsonObj.title2_font_family=this.dataJsonObj.defaultFontFamily,this.dataJsonObj.table_header_font_family=this.dataJsonObj.defaultFontFamily,this.dataJsonObj.table_body_font_family=this.dataJsonObj.defaultFontFamily,this.dataJsonObj.title1FontFamilyObj=this.dataJsonObj.FontFamilyObj,this.dataJsonObj.title2FontFamilyObj=this.dataJsonObj.FontFamilyObj,this.dataJsonObj.headerFontFamilyObj=this.dataJsonObj.FontFamilyObj,this.dataJsonObj.columnsFontFamilyObj=this.dataJsonObj.FontFamilyObj})}ChangeTitle1FontFamily(t){this.dataJsonObj.title1_font_family=t.value,this.dataJsonObj.title1FontFamilyObj=this.dataJsonObj.fontFamilyOptions.find(a=>a.ID===parseInt(this.dataJsonObj.title1_font_family,10))}ChangeTitle2FontFamily(t){this.dataJsonObj.title2_font_family=t.value,this.dataJsonObj.title2FontFamilyObj=this.dataJsonObj.fontFamilyOptions.find(a=>a.ID===parseInt(this.dataJsonObj.title2_font_family,10))}ChangeHeaderFontFamily(t){this.dataJsonObj.table_header_font_family=t.value,this.dataJsonObj.headerFontFamilyObj=this.dataJsonObj.fontFamilyOptions.find(a=>a.ID===parseInt(this.dataJsonObj.table_header_font_family,10))}ChangeColumnsFontFamily(t){this.dataJsonObj.table_body_font_family=t.value,this.dataJsonObj.columnsFontFamilyObj=this.dataJsonObj.fontFamilyOptions.find(a=>a.ID===parseInt(this.dataJsonObj.table_body_font_family,10))}changeTitle1bgImg(t){try{""===t.error&&(this.title1bgimgFile=t.value)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeTitle1bgImg",a)}}changeTitle2bgImg(t){try{""===t.error&&(this.title2bgimgFile=t.value)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeTitle2bgImg",a)}}getActiveGolfGames(){var t=this;return(0,S.Z)(function*(){try{const a=yield t.golfGamesService.getGolfGamesLeaderBoardData(t.dataJsonObj.selectedEnterpriseId);if(a?.length>0&&a[0].leaderboard_ui_settings){const o=a[0]?.leaderboard_ui_settings?a[0].leaderboard_ui_settings:{};t.dataJsonObj.defaultLeaderBoardUISettings={title1_bg_color:o?.main_title?.bg_color?o.main_title.bg_color:t.dataJsonObj.defaultLeaderBoardUISettings.title1_bg_color,title1_font_color:o?.main_title?.font_color?o.main_title.font_color:t.dataJsonObj.defaultLeaderBoardUISettings.title1_font_color,title2_bg_color:o?.details_title?.bg_color?o.details_title.bg_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,title2_font_color:o?.details_title?.font_color?o.details_title.font_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,table_header_bg_color:o?.header?.bg_color?o.header.bg_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,table_header_font_color:o?.header?.font_color?o.header.font_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,table_body_bg_color:o?.columns?.bg_color?o.columns.bg_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,table_body_font_color:o?.columns?.font_color?o.columns.font_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,positive_bg_color:o?.columns?.positive_bg_color?o.columns.positive_bg_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,negative_bg_color:o?.columns?.negative_bg_color?o.columns.negative_bg_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,neutral_bg_color:o?.columns?.neutral_bg_color?o.columns.neutral_bg_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,positive_color:o?.columns?.positive_color?o.columns.positive_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,negative_color:o?.columns?.negative_color?o.columns.negative_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,neutral_color:o?.columns?.neutral_color?o.columns.neutral_color:t.dataJsonObj.defaultLeaderBoardUISettings.title2_bg_color,title1_font_size:o?.main_title?.font_size?o.main_title.font_size:t.dataJsonObj.defaultLeaderBoardUISettings.title1_font_size,title2_font_size:o?.details_title?.font_size?o.details_title.font_size:t.dataJsonObj.defaultLeaderBoardUISettings.title2_font_size,table_header_font_size:o?.header?.font_size?o.header.font_size:t.dataJsonObj.defaultLeaderBoardUISettings.table_header_font_size,table_body_font_size:o?.columns?.font_size?o.columns.font_size:t.dataJsonObj.defaultLeaderBoardUISettings.table_body_font_size},t.dataJsonObj.title1_font_family=o?.main_title?.font_family?.lookup_id?o.main_title.font_family.lookup_id:t.dataJsonObj.title1_font_family,t.dataJsonObj.title2_font_family=o?.details_title?.font_family?.lookup_id?o.details_title.font_family.lookup_id:t.dataJsonObj.defaultFontFamily,t.dataJsonObj.table_header_font_family=o?.header?.font_family?.lookup_id?o.header.font_family.lookup_id:t.dataJsonObj.defaultFontFamily,t.dataJsonObj.table_body_font_family=o?.columns?.font_family?.lookup_id?o.columns.font_family.lookup_id:t.dataJsonObj.defaultFontFamily,t.dataJsonObj.title1FontFamilyObj=o?.main_title?.font_family?o.main_title.font_family:t.dataJsonObj.FontFamilyObj,t.dataJsonObj.title2FontFamilyObj=o?.details_title?.font_family?o.details_title.font_family:t.dataJsonObj.FontFamilyObj,t.dataJsonObj.headerFontFamilyObj=o?.header?.font_family?o.header.font_family:t.dataJsonObj.FontFamilyObj,t.dataJsonObj.columnsFontFamilyObj=o?.columns?.font_family?o.columns.font_family:t.dataJsonObj.FontFamilyObj}}catch(a){t.loggerService.setLoggerError(t.constructor.name,"getActiveGolfGames",a)}})()}changeColumnsbgImg(t){try{""===t.error&&(this.columnsbgimgFile=t.value)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeColumnsbgImg",a)}}static \u0275fac=function(a){return new(a||n)(e.Y36("buildJosn"),e.Y36(C.v),e.Y36(ae.e),e.Y36(f.sK),e.Y36(J),e.Y36(U.$),e.Y36(T.m),e.Y36(A.s),e.Y36(O.gz))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-golf-games-create"]],viewQuery:function(a,o){if(1&a&&(e.Gf(ne,5),e.Gf(le,5),e.Gf(se,5),e.Gf(re,5),e.Gf(de,5),e.Gf(ce,5)),2&a){let i;e.iGM(i=e.CRH())&&(o.golfGameName=i.first),e.iGM(i=e.CRH())&&(o.startDatetimePicker=i.first),e.iGM(i=e.CRH())&&(o.endDatetimePicker=i.first),e.iGM(i=e.CRH())&&(o.facilityName=i.first),e.iGM(i=e.CRH())&&(o.numberOfPlayers=i.first),e.iGM(i=e.CRH())&&(o.facility=i.first)}},features:[e.qOj],decls:55,vars:49,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-lg-12"],[1,"row"],[1,"col-lg-2","col-md-4"],["mandatory","true","id","golfgames-create-name","autoCaseFlag","true","disabled","false",3,"label","maxlength","value","valueChange"],["golfGameName",""],["class","col-lg-2 col-md-4",4,"ngIf"],["mandatory","true","disabled","false","id","golfgames-create-RangeMaxValue",3,"label","value","maxlength","valueChange"],["numberOfPlayers",""],["class","col-lg-3 col-md-6 datetimepicker",4,"ngIf"],["class","col-md-3 mt-0 mt-lg-2 mb-2 mb-lg-0",4,"ngIf"],["class","col-md-2 mt-0 mt-lg-2 mb-2 mb-lg-0",4,"ngIf"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"col-md-12","text-end","mt-2","mb-2"],["className","btn btn-primary btn-sm pdr-rem-3 pdl-rem-3","id","golfgames-create-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","golfgames-create-cancel",3,"label","buttonOnClick"],["class","row",4,"ngIf"],["id","exampleModal1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"card-body"],[3,"displayTabTitleData","valueChange"],[4,"ngIf"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","usertype-translations-add-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","usertype-translations-add-cancel-btn",3,"label","buttonOnClick"],["mandatory","true","disabled","false","id","golfgames-create-facility",3,"label","options","defaultValue","valueChange"],["facility",""],["mandatory","true","disabled","false","id","golfgames-create-facility",3,"label","options","defaultValue","selectedOption","searchValueChange"],["facilityName",""],[1,"col-lg-3","col-md-6","datetimepicker"],[1,"col-8","col-md-8","pe-0"],["mandatory","true","disabled","false","id","golfgames-create-start-date",3,"placeholder","dateformat","defaultDate","editvalueChange"],["startDatetimePicker",""],[1,"col-4","col-md-4","ps-2"],["disabled","false","mandatory","true",3,"label","options","defaultValue","selectedOption","searchValueChange"],["mandatory","true","disabled","false","id","golfgames-create-end-date",3,"placeholder","dateformat","defaultDate","editvalueChange"],["endDatetimePicker",""],[1,"col-md-3","mt-0","mt-lg-2","mb-2","mb-lg-0"],["className","btn btn-primary btn-sm","id","golfgames-create-accesscodegenerate",1,"mgr-5",3,"label","disabled","buttonOnClick"],[1,"col-md-2","mt-0","mt-lg-2","mb-2","mb-lg-0"],["disabled","true","id","golfgames-create-accesscode",3,"label","value"],[1,"card"],[1,"card-content"],[1,"d-flex","align-items-center","justify-content-between","subsection-title-bg"],[1,"main-title","mg-0","fs-14","mgl-5"],["dataKey","HOLE","selectionMode","single","editMode","row",1,"ptable","mgb-10",3,"columns","value","scrollable","rows"],["pTemplate","header"],["pTemplate","body"],["style","min-width:100px","pFrozenColumn","",3,"pEditableColumn",4,"ngFor","ngForOf"],[3,"pEditableColumn",4,"ngFor","ngForOf"],["pFrozenColumn","",2,"min-width","100px",3,"pEditableColumn"],["class","p-inputtext p-component p-filled","type","text",3,"ngModel","placeholder","ngModelChange","blur",4,"ngIf"],["class","fw-600",4,"ngIf"],["type","text",1,"p-inputtext","p-component","p-filled",3,"ngModel","placeholder","ngModelChange","blur"],[1,"fw-600"],[3,"pEditableColumn"],[3,"pEditableRow"],["pEditableColumn","","style","min-width:100px","pFrozenColumn","",3,"class",4,"ngFor","ngForOf"],["pEditableColumn","",3,"class",4,"ngFor","ngForOf"],["pEditableColumn","","pFrozenColumn","",2,"min-width","100px"],["pTemplate","input"],["pTemplate","output"],["noEdit",""],[1,""],["class","p-inputtext p-component p-filled","type","text",3,"ngModel","placeholder","minlength","maxlength","ngModelChange","change","keypress",4,"ngIf"],["type","text",1,"p-inputtext","p-component","p-filled",3,"ngModel","placeholder","minlength","maxlength","ngModelChange","change","keypress"],["pEditableColumn",""],[1,"col-md-3"],["type","color","disabled","false",3,"label","value","change"],["mandatory","false","disabled","false","id","attributedefinitions-edit-displaysequence",3,"label","maxlength","value"],["mandatory","false","disabled","false","id","preferences-create-font",3,"label","options","defaultValue","valueChange"],[1,"imagewith-label"],["type","file","btnHide","true","action","create","imageid","image1",1,"edit-pic",3,"valueChange"],["type","file","btnHide","true","action","create","imageid","image2",1,"edit-pic",3,"valueChange"],["type","file","btnHide","true","action","create","imageid","image3",1,"edit-pic",3,"valueChange"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11)(12,"app-input",12,13),e.NdJ("valueChange",function(l){return o.changeInputFieldValue(l,"name",o.dataJsonObj.inputObj)}),e.ALo(14,"translate"),e.ALo(15,"translate"),e.qZA()(),e.YNc(16,_e,4,5,"div",14),e.YNc(17,be,4,5,"div",14),e.TgZ(18,"div",11)(19,"app-inputnumber",15,16),e.NdJ("valueChange",function(l){return o.changeNumberOfPlayers(l)}),e.ALo(21,"translate"),e.qZA()(),e.YNc(22,ue,9,10,"div",17),e.YNc(23,me,9,10,"div",17),e.YNc(24,ge,3,4,"div",18),e.YNc(25,pe,3,4,"div",19),e.TgZ(26,"div",20),e._uU(27),e.ALo(28,"translate"),e.qZA()()(),e.YNc(29,he,3,4,"div",18),e.TgZ(30,"div",21)(31,"app-button",22),e.NdJ("buttonOnClick",function(){return o.createRecord()}),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"app-button",23),e.NdJ("buttonOnClick",function(){return o.cancel()}),e.ALo(34,"translate"),e.qZA()()(),e.YNc(35,Ue,12,7,"div",24),e.qZA()()()()()(),e.TgZ(36,"div",25)(37,"div",26)(38,"div",27)(39,"div",28)(40,"div",29),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",30)(44,"div",31)(45,"app-tabgroup",32),e.NdJ("valueChange",function(l){return o.tabvalueChange(l)}),e.qZA(),e.YNc(46,xe,19,18,"div",33),e.YNc(47,Me,19,18,"div",33),e.YNc(48,Ze,14,18,"div",33),e.YNc(49,Re,38,42,"div",33),e.TgZ(50,"div",34)(51,"app-button",35),e.NdJ("buttonOnClick",function(){return o.leaderboardUISettingsPopupSubmit()}),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"app-button",36),e.NdJ("buttonOnClick",function(){return o.cancelPopup()}),e.ALo(54,"translate"),e.qZA()()()()()()()),2&a&&(e.xp6(6),e.Q6J("pageName",o.dataJsonObj.pageName)("pageTitle",o.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(6),e.hYB("label","",e.lcZ(14,31,"COMMON_PAGE_TITLES.TEAM")," ",e.lcZ(15,33,"COMMON_FIELDS.NAME"),""),e.s9C("value",null==o.dataJsonObj.inputObj?null:o.dataJsonObj.inputObj.name),e.Q6J("maxlength",30),e.xp6(4),e.Q6J("ngIf",!o.dataJsonObj.isFacilityFieldSearchDropDown),e.xp6(1),e.Q6J("ngIf",o.dataJsonObj.isFacilityFieldSearchDropDown),e.xp6(2),e.s9C("label",e.lcZ(21,35,"GOLF_GAMES.NUMBER_OF_PLAYERS")),e.s9C("value",null==o.dataJsonObj?null:o.dataJsonObj.numberOfPlayers),e.Q6J("maxlength",3),e.xp6(3),e.Q6J("ngIf",o.dataJsonObj.enableactions.START_DATE),e.xp6(1),e.Q6J("ngIf",o.dataJsonObj.enableactions.END_DATE),e.xp6(1),e.Q6J("ngIf",o.dataJsonObj.enableactions.GENERATE_ACCESS_CODE),e.xp6(1),e.Q6J("ngIf",o.dataJsonObj.isAccessCodeAvailable),e.xp6(2),e.hij(" ",e.lcZ(28,37,o.errorObj.error)," "),e.xp6(2),e.Q6J("ngIf",o.dataJsonObj.enableactions.LEADERBOARD_UI_SETTINGS),e.xp6(2),e.s9C("label",e.lcZ(32,39,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.Q6J("disabled",o.dataJsonObj.isSubmitButtonDisabled),e.xp6(2),e.s9C("label",e.lcZ(34,41,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(2),e.Q6J("ngIf",o.dataJsonObj.isScoreBoardEnabled),e.xp6(6),e.hij("",e.lcZ(42,43,"GOLF_GAMES.LEADERBOARD_UI_SETTINGS")," "),e.xp6(4),e.Q6J("displayTabTitleData",null==o.dataJsonObj?null:o.dataJsonObj.displayTabTitle),e.xp6(1),e.Q6J("ngIf","Main Title"===(null==o.dataJsonObj?null:o.dataJsonObj.selectedTab)),e.xp6(1),e.Q6J("ngIf","Details Title"===(null==o.dataJsonObj?null:o.dataJsonObj.selectedTab)),e.xp6(1),e.Q6J("ngIf","Header"===(null==o.dataJsonObj?null:o.dataJsonObj.selectedTab)),e.xp6(1),e.Q6J("ngIf","Columns"===(null==o.dataJsonObj?null:o.dataJsonObj.selectedTab)),e.xp6(2),e.s9C("label",e.lcZ(52,45,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.xp6(2),e.s9C("label",e.lcZ(54,47,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[h.sg,h.O5,y.r,G.a,k.k,x.K,P.f,te.L,ie.C,L.q,H.S,w.jx,j.Fj,j.JJ,j.wO,j.nD,j.On,p.iA,p.on,p.Wq,p.YL,p.D$,f.X$],styles:[".player-view[_ngcontent-%COMP%]{max-height:200px}input[_ngcontent-%COMP%]{width:100%;height:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{min-width:80px;max-width:80px;padding:0 5px 2px;border:1px solid #dee2e6;border-top-width:0px}"]})}return n})();var ke=u(28168),M=u(70057),V=u(46448),Z=u(30578),Pe=u(8227);function He(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("main_title_bg_color",o))}),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",13)(6,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("main_title_font_color",o))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",13)(9,"app-inputnumber",15),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeFontSize("main_title_font_size",o))}),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",13)(12,"app-dropdown-singleselect",16),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeMainTitleFontFamily(o))}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",17)(15,"app-radiobutton",18),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMainTitleFontStyleRadioButtonOptions(o))}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",13)(18,"app-dropdown-singleselect",19),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeMainTitleFontWeight(o))}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",13)(21,"div",20)(22,"label"),e._uU(23,"Background Image"),e.qZA(),e.TgZ(24,"app-imageupload",21),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMainTitlebgImg(o))})("imageRemove",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.backgroundImageRemove("mainTitleImgFileSrc"))})("deleteClick",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteImgClick(o))}),e.qZA()()(),e.TgZ(25,"div",17)(26,"app-radiobutton",22),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeMainTitleTextAlignRadioButtonOptions(o))}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("label",e.lcZ(4,19,"NEW_VARIABLES.TOP_MENU_BACKGROUND_COLOR")),e.s9C("value",t.dataJsonObj.main_title_bg_color),e.xp6(3),e.s9C("label",e.lcZ(7,21,"PREFERENCES.FONT_COLOR")),e.s9C("value",t.dataJsonObj.main_title_font_color),e.xp6(3),e.s9C("label",e.lcZ(10,23,"PREFERENCES.FONT_SIZE")),e.s9C("value",t.dataJsonObj.main_title_font_size),e.Q6J("maxlength",10),e.xp6(3),e.s9C("label",e.lcZ(13,25,"PREFERENCES.FONT_FAMILY")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.main_title_font_family),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontFamilyOptions),e.xp6(3),e.s9C("label",e.lcZ(16,27,"PREFERENCES.FONT_STYLE")),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.mainTitleFontStyleRadioButtonsList),e.xp6(3),e.s9C("label",e.lcZ(19,29,"PREFERENCES.FONT_WEIGHT")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.main_title_font_weight),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontWeightOptions),e.xp6(6),e.s9C("defaultImage",t.dataJsonObj.mainTitleImgFileSrc),e.s9C("imageName",null==t.menuSubmitTypeObj?null:t.menuSubmitTypeObj.menu_display_name),e.Q6J("enableImageDelete",t.enableImageDeleteValue),e.xp6(2),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.mainTitleTextAlignRadioButtonsList)}}function Ve(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("details_title_bg_color",o))}),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",13)(6,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("details_title_font_color",o))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",13)(9,"app-inputnumber",15),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeFontSize("details_title_font_size",o))}),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",17)(12,"app-radiobutton",23),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeDetailsTitleFontStyleRadioButtonOptions(o))}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",13)(15,"app-dropdown-singleselect",19),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeDetailsTitleFontWeight(o))}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",13)(18,"app-dropdown-singleselect",16),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeDetailsTitleFontFamily(o))}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",13)(21,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("details_title_border_color",o))}),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"div",13)(24,"app-inputnumber",24),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeFontSize("details_title_border_width",o))}),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",25)(27,"app-radiobutton",26),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeDetailsTitleBorderStyleRadioButtonOptions(o))}),e.ALo(28,"translate"),e.qZA()(),e.TgZ(29,"div",13)(30,"div",20)(31,"label"),e._uU(32,"Background Image"),e.qZA(),e.TgZ(33,"app-imageupload",27),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeDetailsTitlebgImg(o))})("imageRemove",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.backgroundImageRemove("detailsTitleImgFileSrc"))})("deleteClick",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteImgClick(o))}),e.qZA()()(),e.TgZ(34,"div",17)(35,"app-radiobutton",22),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeDetailsTitleTextAlignRadioButtonOptions(o))}),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("label",e.lcZ(4,26,"NEW_VARIABLES.TOP_MENU_BACKGROUND_COLOR")),e.s9C("value",t.dataJsonObj.details_title_bg_color),e.xp6(3),e.s9C("label",e.lcZ(7,28,"PREFERENCES.FONT_COLOR")),e.s9C("value",t.dataJsonObj.details_title_font_color),e.xp6(3),e.s9C("label",e.lcZ(10,30,"PREFERENCES.FONT_SIZE")),e.s9C("value",t.dataJsonObj.details_title_font_size),e.Q6J("maxlength",10),e.xp6(3),e.s9C("label",e.lcZ(13,32,"PREFERENCES.FONT_STYLE")),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.detailsTitleFontStyleRadioButtonsList),e.xp6(3),e.s9C("label",e.lcZ(16,34,"PREFERENCES.FONT_WEIGHT")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.details_title_font_weight),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontWeightOptions),e.xp6(3),e.s9C("label",e.lcZ(19,36,"PREFERENCES.FONT_FAMILY")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.details_title_font_family),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontFamilyOptions),e.xp6(3),e.s9C("label",e.lcZ(22,38,"PREFERENCES.BORDER_COLOR")),e.s9C("value",t.dataJsonObj.details_title_border_color),e.xp6(3),e.s9C("label",e.lcZ(25,40,"PREFERENCES.BORDER_WIDTH")),e.s9C("value",t.dataJsonObj.details_title_border_width),e.Q6J("maxlength",2),e.xp6(3),e.s9C("label",e.lcZ(28,42,"PREFERENCES.BORDER_STYLE")),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.detailsTitleBorderStyleRadioButtonsList),e.xp6(6),e.s9C("defaultImage",t.dataJsonObj.detailsTitleImgFileSrc),e.s9C("imageName",null==t.menuSubmitTypeObj?null:t.menuSubmitTypeObj.menu_display_name),e.Q6J("enableImageDelete",t.enableImageDeleteValue),e.xp6(2),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.detailsTitleTextAlignRadioButtonsList)}}function qe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("table_header_bg_color",o))}),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",13)(6,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("table_header_font_color",o))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",13)(9,"app-inputnumber",15),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeFontSize("table_header_font_size",o))}),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",13)(12,"app-dropdown-singleselect",16),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeHeaderFontFamily(o))}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",17)(15,"app-radiobutton",28),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeTableHeaderFontStyleRadioButtonOptions(o))}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",13)(18,"app-dropdown-singleselect",19),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeTableHeaderTitleFontWeight(o))}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",13)(21,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("table_header_border_color",o))}),e.ALo(22,"translate"),e.qZA()(),e.TgZ(23,"div",13)(24,"app-inputnumber",24),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeFontSize("table_header_border_width",o))}),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",25)(27,"app-radiobutton",29),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeTableHeaderBorderStyleRadioButtonOptions(o))}),e.ALo(28,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("label",e.lcZ(4,22,"NEW_VARIABLES.TOP_MENU_BACKGROUND_COLOR")),e.s9C("value",t.dataJsonObj.table_header_bg_color),e.xp6(3),e.s9C("label",e.lcZ(7,24,"PREFERENCES.FONT_COLOR")),e.s9C("value",t.dataJsonObj.table_header_font_color),e.xp6(3),e.s9C("label",e.lcZ(10,26,"PREFERENCES.FONT_SIZE")),e.s9C("value",t.dataJsonObj.table_header_font_size),e.Q6J("maxlength",10),e.xp6(3),e.s9C("label",e.lcZ(13,28,"PREFERENCES.FONT_FAMILY")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.table_header_font_family),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontFamilyOptions),e.xp6(3),e.s9C("label",e.lcZ(16,30,"PREFERENCES.FONT_STYLE")),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.tableHeaderFontStyleRadioButtonsList),e.xp6(3),e.s9C("label",e.lcZ(19,32,"PREFERENCES.FONT_WEIGHT")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.table_header_title_font_weight),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontWeightOptions),e.xp6(3),e.s9C("label",e.lcZ(22,34,"PREFERENCES.BORDER_COLOR")),e.s9C("value",t.dataJsonObj.table_header_border_color),e.xp6(3),e.s9C("label",e.lcZ(25,36,"PREFERENCES.BORDER_WIDTH")),e.s9C("value",t.dataJsonObj.table_header_border_width),e.Q6J("maxlength",2),e.xp6(3),e.s9C("label",e.lcZ(28,38,"PREFERENCES.BORDER_STYLE")),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.TableHeaderBorderStyleRadioButtonsList)}}function Ye(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("table_body_bg_color",o))}),e.ALo(4,"translate"),e.qZA()(),e.TgZ(5,"div",13)(6,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("table_body_font_color",o))}),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"div",13)(9,"app-inputnumber",15),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeFontSize("table_body_font_size",o))}),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",13)(12,"app-dropdown-singleselect",16),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeColumnsFontFamily(o))}),e.ALo(13,"translate"),e.qZA()(),e.TgZ(14,"div",17)(15,"app-radiobutton",30),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeTableColumnsFontStyleRadioButtonOptions(o))}),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"div",13)(18,"app-dropdown-singleselect",19),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.ChangeTableColumnValuesFontWeight(o))}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",13)(21,"div",20)(22,"label"),e._uU(23,"Background Image"),e.qZA(),e.TgZ(24,"app-imageupload",31),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.changeColumnsbgImg(o))})("imageRemove",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.backgroundImageRemove("columnsTitleImgFileSrc"))})("deleteClick",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteImgClick(o))}),e.qZA()()(),e.TgZ(25,"div",13)(26,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("positive_bg_color",o))}),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",13)(29,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("negative_bg_color",o))}),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",13)(32,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("neutral_bg_color",o))}),e.ALo(33,"translate"),e.qZA()(),e._UZ(34,"div",13),e.TgZ(35,"div",13)(36,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("positive_color",o))}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",13)(39,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("negative_color",o))}),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"div",13)(42,"app-input",14),e.NdJ("change",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.defaultSettingsChangeColor("neutral_color",o))}),e.ALo(43,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("label",e.lcZ(4,30,"NEW_VARIABLES.TOP_MENU_BACKGROUND_COLOR")),e.s9C("value",t.dataJsonObj.table_body_bg_color),e.xp6(3),e.s9C("label",e.lcZ(7,32,"PREFERENCES.FONT_COLOR")),e.s9C("value",t.dataJsonObj.table_body_font_color),e.xp6(3),e.s9C("label",e.lcZ(10,34,"PREFERENCES.FONT_SIZE")),e.s9C("value",t.dataJsonObj.table_body_font_size),e.Q6J("maxlength",10),e.xp6(3),e.s9C("label",e.lcZ(13,36,"PREFERENCES.FONT_FAMILY")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.table_body_font_family),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontFamilyOptions),e.xp6(3),e.s9C("label",e.lcZ(16,38,"PREFERENCES.FONT_STYLE")),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.tableColumnsFontStyleRadioButtonsList),e.xp6(3),e.s9C("label",e.lcZ(19,40,"PREFERENCES.FONT_WEIGHT")),e.s9C("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.table_column_values_font_weight),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.fontWeightOptions),e.xp6(6),e.s9C("defaultImage",t.dataJsonObj.columnsTitleImgFileSrc),e.s9C("imageName",null==t.menuSubmitTypeObj?null:t.menuSubmitTypeObj.menu_display_name),e.Q6J("enableImageDelete",t.enableImageDeleteValue),e.xp6(2),e.s9C("label",e.lcZ(27,42,"NEW_VARIABLES.POSITIVE_BG_COLOR")),e.s9C("value",t.dataJsonObj.positive_bg_color),e.xp6(3),e.s9C("label",e.lcZ(30,44,"NEW_VARIABLES.NEGATIVE_BG_COLOR")),e.s9C("value",t.dataJsonObj.negative_bg_color),e.xp6(3),e.s9C("label",e.lcZ(33,46,"NEW_VARIABLES.NEUTRAL_BG_COLOR")),e.s9C("value",t.dataJsonObj.neutral_bg_color),e.xp6(4),e.s9C("label",e.lcZ(37,48,"NEW_VARIABLES.POSITIVE_COLOR")),e.s9C("value",t.dataJsonObj.positive_color),e.xp6(3),e.s9C("label",e.lcZ(40,50,"NEW_VARIABLES.NEGATIVE_COLOR")),e.s9C("value",t.dataJsonObj.negative_color),e.xp6(3),e.s9C("label",e.lcZ(43,52,"NEW_VARIABLES.NEUTRAL_COLOR")),e.s9C("value",t.dataJsonObj.neutral_color)}}let q=(()=>{class n{apiEndPointUrl;golfGamesService;loggerService;translateService;uiUtils;commonService;dataJsonObj={};errorObj={};enableImageDeleteValue=!0;bgImage;mainTitlebgimgFile;detailsTitlebgimgFile;columnsbgimgFile;leaderboardUISettingsObj;set isLeaderboardUISettingsPopupEnabled(t){this.dataJsonObj.isLeaderboardUISettingsPopup=t,this.dataJsonObj.isLeaderboardUISettingsPopup&&this.leaderboardUISettingsPopupOpen()}set recordIds(t){this.dataJsonObj.recordIds=t,this.dataJsonObj.recordIds?.length>0&&(this.dataJsonObj.recordIdsArr=this.dataJsonObj.recordIds)}set selectedUISettingsData(t){this.dataJsonObj.inputLeaderboardThemeSettingsData=t}leaderboardUISettingsPopupCloseEmitter=new e.vpe;leaderboardUISettingsPopupResponseEmitter=new e.vpe;constructor(t,a,o,i,l,s){this.apiEndPointUrl=t,this.golfGamesService=a,this.loggerService=o,this.translateService=i,this.uiUtils=l,this.commonService=s}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.isLeaderboardUISettingsPopup=!1,this.dataJsonObj.refreshMatTabGroup=!1,this.dataJsonObj.selectedEnterpriseId=parseInt(localStorage.getItem(r.BU.SELECTED_ENTERPRISE),10),this.dataJsonObj.selectedEnterpriseObj=JSON.parse(localStorage.getItem(r.BU.SELECTED_ENTERPRISE_OBJ)),this.dataJsonObj.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl,this.dataJsonObj.currentDate=this.commonService.getDateObj((new Date).toISOString(),this.dataJsonObj.loginUserDateFormat);const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.loginUserDateFormat=t.dateFormat,this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(a=>{this.dataJsonObj.lookupCodesListJSON=a,this.getFontFamilies(),this.getFontWeight()}),this.dataJsonObj.displayTabTitle=[{title:"Main Title"},{title:"Details Title"},{title:"Header"},{title:"Columns"}],this.dataJsonObj.selectedTab="Main Title",this.dataJsonObj.mainTitleTextAlignRadioButtonsList=[{displayname:this.translateService.instant("GOLF_GAMES.LEFT"),checked:!0,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.CENTER"),checked:!1,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.RIGHT"),checked:!1,disabled:!1}],this.dataJsonObj.mainTitleFontStyleRadioButtonsList=[{displayname:this.translateService.instant("GOLF_GAMES.NORMAL"),checked:!0,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.ITALIC"),checked:!1,disabled:!1}],this.dataJsonObj.detailsTitleFontStyleRadioButtonsList=[{displayname:this.translateService.instant("GOLF_GAMES.NORMAL"),checked:!0,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.ITALIC"),checked:!1,disabled:!1}],this.dataJsonObj.tableHeaderFontStyleRadioButtonsList=[{displayname:this.translateService.instant("GOLF_GAMES.NORMAL"),checked:!0,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.ITALIC"),checked:!1,disabled:!1}],this.dataJsonObj.detailsTitleBorderStyleRadioButtonsList=[{displayname:this.translateService.instant("GOLF_GAMES.SOLID"),checked:!0,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.DASHED"),checked:!1,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.DOTTED"),checked:!1,disabled:!1}],this.dataJsonObj.TableHeaderBorderStyleRadioButtonsList=[{displayname:this.translateService.instant("GOLF_GAMES.SOLID"),checked:!0,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.DASHED"),checked:!1,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.DOTTED"),checked:!1,disabled:!1}],this.dataJsonObj.tableColumnsFontStyleRadioButtonsList=[{displayname:this.translateService.instant("GOLF_GAMES.NORMAL"),checked:!0,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.ITALIC"),checked:!1,disabled:!1}],this.dataJsonObj.detailsTitleTextAlignRadioButtonsList=[{displayname:this.translateService.instant("GOLF_GAMES.LEFT"),checked:!0,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.CENTER"),checked:!1,disabled:!1},{displayname:this.translateService.instant("GOLF_GAMES.RIGHT"),checked:!1,disabled:!1}]}getRecordById(t){try{if(this.dataJsonObj.leaderboardUISettingsData=t.leaderboard_ui_settings,this.dataJsonObj.main_title_bg_color=this.dataJsonObj.leaderboardUISettingsData?.main_title?.bg_color,this.dataJsonObj.main_title_font_color=this.dataJsonObj.leaderboardUISettingsData?.main_title?.font_color,this.dataJsonObj.main_title_font_size=this.dataJsonObj.leaderboardUISettingsData?.main_title?.font_size,this.dataJsonObj.mainTitleFontStyle=this.dataJsonObj.leaderboardUISettingsData?.main_title?.font_style,this.dataJsonObj.mainTitleFontStyleValue=this.getFontStyleValue(this.dataJsonObj.leaderboardUISettingsData?.main_title?.font_style),this.dataJsonObj.mainTitleFontStyleValue)for(let a of this.dataJsonObj.mainTitleFontStyleRadioButtonsList)a.checked=a.displayname==this.dataJsonObj.mainTitleFontStyleValue;if(this.dataJsonObj.main_title_font_family=this.dataJsonObj.leaderboardUISettingsData?.main_title?.font_family.lookup_id,this.dataJsonObj.main_title_font_weight=this.dataJsonObj.leaderboardUISettingsData?.main_title?.font_weight.lookup_id,this.dataJsonObj.mainTitleTextAlign=this.dataJsonObj.leaderboardUISettingsData?.main_title?.text_align,this.dataJsonObj.mainTitleTextAlignValue=this.getTextAlignValue(this.dataJsonObj.leaderboardUISettingsData?.main_title?.text_align),this.dataJsonObj.mainTitleTextAlignValue)for(let a of this.dataJsonObj.mainTitleTextAlignRadioButtonsList)a.checked=a.displayname==this.dataJsonObj.mainTitleTextAlignValue;if(this.dataJsonObj.details_title_bg_color=this.dataJsonObj.leaderboardUISettingsData?.details_title?.bg_color,this.dataJsonObj.details_title_font_color=this.dataJsonObj.leaderboardUISettingsData?.details_title?.font_color,this.dataJsonObj.details_title_font_size=this.dataJsonObj.leaderboardUISettingsData?.details_title?.font_size,this.dataJsonObj.detailsTitleFontStyle=this.dataJsonObj.leaderboardUISettingsData?.details_title?.font_style,this.dataJsonObj.detailsTitleFontStyleValue=this.getFontStyleValue(this.dataJsonObj.leaderboardUISettingsData?.details_title?.font_style),this.dataJsonObj.detailsTitleFontStyleValue)for(let a of this.dataJsonObj.detailsTitleFontStyleRadioButtonsList)a.checked=a.displayname==this.dataJsonObj.mainTitleFontStyleValue;if(this.dataJsonObj.details_title_font_family=this.dataJsonObj.leaderboardUISettingsData?.details_title?.font_family.lookup_id,this.dataJsonObj.details_title_font_weight=this.dataJsonObj.leaderboardUISettingsData?.details_title?.font_weight.lookup_id,this.dataJsonObj.details_title_border_color=this.dataJsonObj.leaderboardUISettingsData?.details_title?.border_color,this.dataJsonObj.details_title_border_width=this.dataJsonObj.leaderboardUISettingsData?.details_title?.border_width,this.dataJsonObj.detailsTitleBorderStyle=this.dataJsonObj.leaderboardUISettingsData?.details_title?.border_style,this.dataJsonObj.detailsTitleBorderStyleValue=this.getDetailsTitleBorderStyleValue(this.dataJsonObj.leaderboardUISettingsData?.details_title?.border_style),this.dataJsonObj.detailsTitleBorderStyleValue)for(let a of this.dataJsonObj.detailsTitleBorderStyleRadioButtonsList)a.checked=a.displayname==this.dataJsonObj.detailsTitleBorderStyleValue;if(this.dataJsonObj.table_header_font_family=this.dataJsonObj.leaderboardUISettingsData?.details_title?.font_family.lookup_id,this.dataJsonObj.table_header_title_font_weight=this.dataJsonObj.leaderboardUISettingsData?.table_header_title?.font_weight.lookup_id,this.dataJsonObj.detailsTitleTextAlign=this.dataJsonObj.leaderboardUISettingsData?.details_title?.text_align,this.dataJsonObj.detailsTitleTextAlignValue=this.getTextAlignValue(this.dataJsonObj.leaderboardUISettingsData?.details_title?.text_align),this.dataJsonObj.detailsTitleTextAlignValue)for(let a of this.dataJsonObj.detailsTitleTextAlignRadioButtonsList)a.checked=a.displayname==this.dataJsonObj.detailsTitleTextAlignValue;if(this.dataJsonObj.table_header_bg_color=this.dataJsonObj.leaderboardUISettingsData?.header?.bg_color,this.dataJsonObj.table_header_font_color=this.dataJsonObj.leaderboardUISettingsData?.header?.font_color,this.dataJsonObj.table_header_font_size=this.dataJsonObj.leaderboardUISettingsData?.header?.font_size,this.dataJsonObj.tableHeaderFontStyle=this.dataJsonObj.leaderboardUISettingsData?.header?.font_style,this.dataJsonObj.tableHeaderTitleFontStyleValue=this.getFontStyleValue(this.dataJsonObj.leaderboardUISettingsData?.table_header_title?.font_style),this.dataJsonObj.tableHeaderFontStyleValue)for(let a of this.dataJsonObj.tableHeaderFontStyleRadioButtonsList)a.checked=a.displayname==this.dataJsonObj.tableHeaderTitleFontStyleValue;if(this.dataJsonObj.table_header_border_color=this.dataJsonObj.leaderboardUISettingsData?.header?.border_color,this.dataJsonObj.table_header_border_width=this.dataJsonObj.leaderboardUISettingsData?.header?.border_width,this.dataJsonObj.tableHeaderBorderStyle=this.dataJsonObj.leaderboardUISettingsData?.header?.border_style,this.dataJsonObj.tableHeaderBorderStyleValue=this.getTableHeaderBorderStyleValue(this.dataJsonObj.leaderboardUISettingsData?.header?.border_style),this.dataJsonObj.tableHeaderBorderStyleValue)for(let a of this.dataJsonObj.TableHeaderBorderStyleRadioButtonsList)a.checked=a.displayname==this.dataJsonObj.tableHeaderBorderStyleValue;if(this.dataJsonObj.table_body_font_family=this.dataJsonObj.leaderboardUISettingsData?.column?.font_family.lookup_id,this.dataJsonObj.table_column_values_font_weight=this.dataJsonObj.leaderboardUISettingsData?.column?.font_weight.lookup_id,this.dataJsonObj.table_body_bg_color=this.dataJsonObj.leaderboardUISettingsData?.columns?.bg_color,this.dataJsonObj.table_body_font_color=this.dataJsonObj.leaderboardUISettingsData?.columns?.font_color,this.dataJsonObj.table_body_font_size=this.dataJsonObj.leaderboardUISettingsData?.columns?.font_size,this.dataJsonObj.tableBodyFontStyle=this.dataJsonObj.leaderboardUISettingsData?.columns?.font_style,this.dataJsonObj.tableBodyFontStyleValue=this.getFontStyleValue(this.dataJsonObj.leaderboardUISettingsData?.columns?.font_style),this.dataJsonObj.tableBodyFontStyleValue)for(let a of this.dataJsonObj.tableColumnsFontStyleRadioButtonsList)a.checked=a.displayname==this.dataJsonObj.tableBodyFontStyleValue;this.dataJsonObj.table_body_font_family=this.dataJsonObj.leaderboardUISettingsData?.columns?.font_family.lookup_id,this.dataJsonObj.positive_bg_color=this.dataJsonObj.leaderboardUISettingsData?.columns?.positive_bg_color,this.dataJsonObj.positive_color=this.dataJsonObj.leaderboardUISettingsData?.columns?.positive_color,this.dataJsonObj.negative_bg_color=this.dataJsonObj.leaderboardUISettingsData?.columns?.negative_bg_color,this.dataJsonObj.negative_color=this.dataJsonObj.leaderboardUISettingsData?.columns?.negative_color,this.dataJsonObj.neutral_bg_color=this.dataJsonObj.leaderboardUISettingsData?.columns?.neutral_bg_color,this.dataJsonObj.neutral_color=this.dataJsonObj.leaderboardUISettingsData?.columns?.neutral_color,this.dataJsonObj.mainTitleImgFileSrc=this.dataJsonObj.leaderboardUISettingsData.main_title.mainTitleImgFileSrc?this.dataJsonObj.leaderboardUISettingsData.main_title.mainTitleImgFileSrc:this.dataJsonObj.leaderboardUISettingsData?.main_title?.background_image_file_path&&this.dataJsonObj.leaderboardUISettingsData?.main_title?.background_image_file_name?this.dataJsonObj.apiEndPoint+this.dataJsonObj.leaderboardUISettingsData?.main_title?.background_image_file_path+"/"+this.dataJsonObj.leaderboardUISettingsData?.main_title?.background_image_file_name:"",this.dataJsonObj.detailsTitleImgFileSrc=this.dataJsonObj.leaderboardUISettingsData.details_title.detailsTitleImgFileSrc?this.dataJsonObj.leaderboardUISettingsData.details_title.detailsTitleImgFileSrc:this.dataJsonObj.leaderboardUISettingsData?.details_title?.background_image_file_path&&this.dataJsonObj.leaderboardUISettingsData?.details_title?.background_image_file_name?this.dataJsonObj.apiEndPoint+this.dataJsonObj.leaderboardUISettingsData?.details_title?.background_image_file_path+"/"+this.dataJsonObj.leaderboardUISettingsData?.details_title?.background_image_file_name:"",this.dataJsonObj.columnsTitleImgFileSrc=this.dataJsonObj.leaderboardUISettingsData.columns.columnsTitleImgFileSrc?this.dataJsonObj.leaderboardUISettingsData.columns.columnsTitleImgFileSrc:this.dataJsonObj.leaderboardUISettingsData?.columns?.background_image_file_path&&this.dataJsonObj.leaderboardUISettingsData?.columns?.background_image_file_name?this.dataJsonObj.apiEndPoint+this.dataJsonObj.leaderboardUISettingsData?.columns?.background_image_file_path+"/"+this.dataJsonObj.leaderboardUISettingsData?.columns?.background_image_file_name:"",this.mainTitlebgimgFile="",this.detailsTitlebgimgFile="",this.columnsbgimgFile="",this.dataJsonObj.original_main_title_image_name=this.dataJsonObj.leaderboardUISettingsData?.main_title?.background_image_file_name?this.dataJsonObj.leaderboardUISettingsData?.main_title?.background_image_file_name:"",this.dataJsonObj.original_details_title_image_name=this.dataJsonObj.leaderboardUISettingsData?.details_title?.background_image_file_name?this.dataJsonObj.leaderboardUISettingsData?.details_title?.background_image_file_name:"",this.dataJsonObj.original_columns_image_name=this.dataJsonObj.leaderboardUISettingsData?.columns?.background_image_file_name?this.dataJsonObj.leaderboardUISettingsData?.columns?.background_image_file_name:""}catch{}}leaderboardUISettingsPopupOpen(){try{this.dataJsonObj.refreshMatTabGroup=!0,this.dataJsonObj.inputLeaderboardThemeSettingsData&&this.getRecordById({leaderboard_ui_settings:this.dataJsonObj.inputLeaderboardThemeSettingsData}),this.dataJsonObj.selectedTab="Main Title",$("#leaderboardUISettingsModal1").modal("show"),$(".modal-backdrop").insertAfter("#leaderboardUISettingsModal1")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"leaderboardUISettingsPopupOpen",t)}}cancelPopup(){this.dataJsonObj.refreshMatTabGroup=!1,$("#leaderboardUISettingsModal1").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open"),this.leaderboardUISettingsPopupCloseEmitter.emit(!1)}tabvalueChange(t){this.dataJsonObj.selectedTab=t}defaultSettingsChangeColor(t,a){switch(t){case"main_title_bg_color":this.dataJsonObj.main_title_bg_color=a.target.value;break;case"main_title_font_color":this.dataJsonObj.main_title_font_color=a.target.value;break;case"details_title_bg_color":this.dataJsonObj.details_title_bg_color=a.target.value;break;case"details_title_font_color":this.dataJsonObj.details_title_font_color=a.target.value;break;case"details_title_border_color":this.dataJsonObj.details_title_border_color=a.target.value;break;case"table_header_bg_color":this.dataJsonObj.table_header_bg_color=a.target.value;break;case"table_header_font_color":this.dataJsonObj.table_header_font_color=a.target.value;break;case"table_header_border_color":this.dataJsonObj.table_header_border_color=a.target.value;break;case"table_body_bg_color":this.dataJsonObj.table_body_bg_color=a.target.value;break;case"table_body_font_color":this.dataJsonObj.table_body_font_color=a.target.value;break;case"positive_bg_color":this.dataJsonObj.positive_bg_color=a.target.value;break;case"negative_bg_color":this.dataJsonObj.negative_bg_color=a.target.value;break;case"neutral_bg_color":this.dataJsonObj.neutral_bg_color=a.target.value;break;case"positive_color":this.dataJsonObj.positive_color=a.target.value;break;case"negative_color":this.dataJsonObj.negative_color=a.target.value;break;case"neutral_color":this.dataJsonObj.neutral_color=a.target.value}}defaultSettingsChangeFontSize(t,a){switch(t){case"main_title_font_size":this.dataJsonObj.main_title_font_size=a.value;break;case"details_title_font_size":this.dataJsonObj.details_title_font_size=a.value;break;case"table_header_font_size":this.dataJsonObj.table_header_font_size=a.value;break;case"table_body_font_size":this.dataJsonObj.table_body_font_size=a.value;break;case"details_title_border_width":this.dataJsonObj.details_title_border_width=a.value;break;case"table_header_border_width":this.dataJsonObj.table_header_border_width=a.value}}getFontFamilies(){this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.uP.FONT_NAMES],"").then(t=>{this.dataJsonObj.fontFamilyOptions=t,this.dataJsonObj.FontFamilyObj=t[0],this.dataJsonObj.defaultFontFamily=t[0].ID,this.dataJsonObj.main_title_font_family=this.dataJsonObj.defaultFontFamily,this.dataJsonObj.details_title_font_family=this.dataJsonObj.defaultFontFamily,this.dataJsonObj.table_header_font_family=this.dataJsonObj.defaultFontFamily,this.dataJsonObj.table_body_font_family=this.dataJsonObj.defaultFontFamily,this.dataJsonObj.mainTitleFontFamilyObj=this.dataJsonObj.FontFamilyObj,this.dataJsonObj.detailsTitleFontFamilyObj=this.dataJsonObj.FontFamilyObj,this.dataJsonObj.headerFontFamilyObj=this.dataJsonObj.FontFamilyObj,this.dataJsonObj.columnsFontFamilyObj=this.dataJsonObj.FontFamilyObj})}getFontWeight(){this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.uP.FONT_WEIGHT],"").then(t=>{this.dataJsonObj.fontWeightOptions=t,this.dataJsonObj.FontWeightObj=t[0],this.dataJsonObj.mainTitleDefaultFontWeight=t[0].ID,this.dataJsonObj.main_title_font_weight=this.dataJsonObj.mainTitleDefaultFontWeight,this.dataJsonObj.mainTitleFontWeightObj=this.dataJsonObj.FontWeightObj,this.dataJsonObj.detailsTitleDefaultFontWeight=t[0].ID,this.dataJsonObj.details_title_font_weight=this.dataJsonObj.detailsTitleDefaultFontWeight,this.dataJsonObj.detailsTitleFontFamilyObj=this.dataJsonObj.FontWeightObj,this.dataJsonObj.tableHeaderTitleDefaultFontWeight=t[0].ID,this.dataJsonObj.table_header_title_font_weight=this.dataJsonObj.tableHeaderTitleDefaultFontWeight,this.dataJsonObj.tableHeaderTitleFontWeightObj=this.dataJsonObj.FontWeightObj,this.dataJsonObj.tableColumnValuesDefaultFontWeight=t[0].ID,this.dataJsonObj.table_column_values_font_weight=this.dataJsonObj.tableColumnValuesDefaultFontWeight,this.dataJsonObj.tableColumnValuesFontWeightObj=this.dataJsonObj.FontWeightObj})}ChangeMainTitleFontWeight(t){this.dataJsonObj.main_title_font_weight=t.value,this.dataJsonObj.mainTitleFontWeightObj=this.dataJsonObj.fontWeightOptions.find(a=>a.ID===parseInt(this.dataJsonObj.main_title_font_weight,10))}ChangeDetailsTitleFontWeight(t){this.dataJsonObj.details_title_font_weight=t.value,this.dataJsonObj.detailsTitleFontWeightObj=this.dataJsonObj.fontWeightOptions.find(a=>a.ID===parseInt(this.dataJsonObj.details_title_font_weight,10))}ChangeTableHeaderTitleFontWeight(t){this.dataJsonObj.table_header_title_font_weight=t.value,this.dataJsonObj.tableHeaderTitleFontWeightObj=this.dataJsonObj.fontWeightOptions.find(a=>a.ID===parseInt(this.dataJsonObj.table_header_title_font_weight,10))}ChangeTableColumnValuesFontWeight(t){this.dataJsonObj.table_column_values_font_weight=t.value,this.dataJsonObj.tableColumnValuesFontWeightObj=this.dataJsonObj.fontWeightOptions.find(a=>a.ID===parseInt(this.dataJsonObj.table_column_values_font_weight,10))}ChangeMainTitleFontFamily(t){this.dataJsonObj.main_title_font_family=t.value,this.dataJsonObj.mainTitleFontFamilyObj=this.dataJsonObj.fontFamilyOptions.find(a=>a.ID===parseInt(this.dataJsonObj.main_title_font_family,10))}ChangeDetailsTitleFontFamily(t){this.dataJsonObj.details_title_font_family=t.value,this.dataJsonObj.detailsTitleFontFamilyObj=this.dataJsonObj.fontFamilyOptions.find(a=>a.ID===parseInt(this.dataJsonObj.details_title_font_family,10))}ChangeHeaderFontFamily(t){this.dataJsonObj.table_header_font_family=t.value,this.dataJsonObj.headerFontFamilyObj=this.dataJsonObj.fontFamilyOptions.find(a=>a.ID===parseInt(this.dataJsonObj.table_header_font_family,10))}ChangeColumnsFontFamily(t){this.dataJsonObj.table_body_font_family=t.value,this.dataJsonObj.columnsFontFamilyObj=this.dataJsonObj.fontFamilyOptions.find(a=>a.ID===parseInt(this.dataJsonObj.table_body_font_family,10))}changeMainTitlebgImg(t){try{""===t.error&&(this.mainTitlebgimgFile=t.value,this.dataJsonObj.mainTitleImgFileSrc=t.value)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeMainTitlebgImg",a)}}changeDetailsTitlebgImg(t){try{""===t.error&&(this.detailsTitlebgimgFile=t.value,this.dataJsonObj.detailsTitleImgFileSrc=t.value)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeDetailsTitlebgImg",a)}}changeColumnsbgImg(t){try{""===t.error&&(this.columnsbgimgFile=t.value,this.dataJsonObj.columnsTitleImgFileSrc=t.value)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeColumnsbgImg",a)}}leaderboardUISettingsPopupSubmit(){try{this.dataJsonObj.refreshMatTabGroup=!1,this.dataJsonObj.isSubmitButtonDisabled=!0,this.leaderboardUISettingsObj={main_title:{bg_color:this.dataJsonObj.main_title_bg_color,font_color:this.dataJsonObj.main_title_font_color,font_size:this.dataJsonObj.main_title_font_size,font_style:this.dataJsonObj.mainTitleFontStyle,font_family:{lookup_id:this.dataJsonObj.mainTitleFontFamilyObj?.ID,lookup_name:this.dataJsonObj.mainTitleFontFamilyObj?.NAME},font_weight:{lookup_id:this.dataJsonObj.mainTitleFontWeightObj?.ID,lookup_name:this.dataJsonObj.mainTitleFontWeightObj?.NAME},text_align:this.dataJsonObj.mainTitleTextAlign,background_image_file_path:this.dataJsonObj.leaderboardUISettingsData?.main_title?.background_image_file_path,background_image_file_name:this.dataJsonObj.leaderboardUISettingsData?.main_title?.background_image_file_name,mainTitleImgFileSrc:this.dataJsonObj.mainTitleImgFileSrc},details_title:{bg_color:this.dataJsonObj.details_title_bg_color,font_color:this.dataJsonObj.details_title_font_color,font_size:this.dataJsonObj.details_title_font_size,font_style:this.dataJsonObj.detailsTitleFontStyle,font_family:{lookup_id:this.dataJsonObj.detailsTitleFontFamilyObj?.ID,lookup_name:this.dataJsonObj.detailsTitleFontFamilyObj?.NAME},font_weight:{lookup_id:this.dataJsonObj.detailsTitleFontWeightObj?.ID,lookup_name:this.dataJsonObj.detailsTitleFontWeightObj?.NAME},text_align:this.dataJsonObj.detailsTitleTextAlign,background_image_file_path:this.dataJsonObj.leaderboardUISettingsData?.details_title?.background_image_file_path,background_image_file_name:this.dataJsonObj.leaderboardUISettingsData?.details_title?.background_image_file_name,detailsTitleImgFileSrc:this.dataJsonObj.detailsTitleImgFileSrc,border_color:this.dataJsonObj.details_title_border_color,border_width:this.dataJsonObj.details_title_border_width,border_style:this.dataJsonObj.detailsTitleBorderStyle},header:{bg_color:this.dataJsonObj.table_header_bg_color,font_color:this.dataJsonObj.table_header_font_color,font_size:this.dataJsonObj.table_header_font_size,font_style:this.dataJsonObj.tableHeaderFontStyle,font_family:{lookup_id:this.dataJsonObj.headerFontFamilyObj?.ID,lookup_name:this.dataJsonObj.headerFontFamilyObj?.NAME},font_weight:{lookup_id:this.dataJsonObj.tableHeaderTitleFontWeightObj?.ID,lookup_name:this.dataJsonObj.tableHeaderTitleFontWeightObj?.NAME},border_color:this.dataJsonObj.table_header_border_color,border_width:this.dataJsonObj.table_header_border_width,border_style:this.dataJsonObj.tableHeaderBorderStyle},columns:{bg_color:this.dataJsonObj.table_body_bg_color,font_color:this.dataJsonObj.table_body_font_color,font_size:this.dataJsonObj.table_body_font_size,font_style:this.dataJsonObj.tableBodyFontStyle,font_family:{lookup_id:this.dataJsonObj.columnsFontFamilyObj?.ID,lookup_name:this.dataJsonObj.columnsFontFamilyObj?.NAME},font_weight:{lookup_id:this.dataJsonObj.tableColumnValuesFontWeightObj?.ID,lookup_name:this.dataJsonObj.tableColumnValuesFontWeightObj?.NAME},background_image_file_path:this.dataJsonObj.leaderboardUISettingsData?.columns?.background_image_file_path,background_image_file_name:this.dataJsonObj.leaderboardUISettingsData?.columns?.background_image_file_name,columnsTitleImgFileSrc:this.dataJsonObj.columnsTitleImgFileSrc,positive_bg_color:this.dataJsonObj.positive_bg_color,positive_color:this.dataJsonObj.positive_color,negative_bg_color:this.dataJsonObj.negative_bg_color,negative_color:this.dataJsonObj.negative_color,neutral_bg_color:this.dataJsonObj.neutral_bg_color,neutral_color:this.dataJsonObj.neutral_color}};const t=JSON.parse(JSON.stringify(this.leaderboardUISettingsObj));delete t?.main_title?.mainTitleImgFileSrc,delete t?.details_title?.detailsTitleImgFileSrc,delete t?.columns?.columnsTitleImgFileSrc;const a={enterprise:this.dataJsonObj.selectedEnterpriseObj,recordIds:this.dataJsonObj.recordIdsArr,leaderboard_ui_settings:t,original_main_title_image_name:this.dataJsonObj.original_main_title_image_name,original_details_title_image_name:this.dataJsonObj.original_details_title_image_name,original_columns_image_name:this.dataJsonObj.original_columns_image_name};$("#leaderboardUISettingsModal1").modal("hide"),this.mainTitlebgimgFile=this.mainTitlebgimgFile?this.commonService.dataURItoImgBlob(this.mainTitlebgimgFile,"image/jpeg"):"",this.detailsTitlebgimgFile=this.detailsTitlebgimgFile?this.commonService.dataURItoImgBlob(this.detailsTitlebgimgFile,"image/jpeg"):"",this.columnsbgimgFile=this.columnsbgimgFile?this.commonService.dataURItoImgBlob(this.columnsbgimgFile,"image/jpeg"):"",this.golfGamesService.updateLeadboardUIsettingsData(a,this.dataJsonObj.recordIdsArr[0],this.mainTitlebgimgFile,this.detailsTitlebgimgFile,this.columnsbgimgFile).then(o=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_SUBMIT"),this.leaderboardUISettingsPopupResponseEmitter.emit(this.leaderboardUISettingsObj)},o=>{this.leaderboardUISettingsPopupCloseEmitter.emit(!1),this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(o)),this.loggerService.setLoggerError(this.constructor.name,"leaderboardUISettingsPopupSubmit",o)})}catch(t){this.dataJsonObj.isSubmitButtonDisabled=!1,this.leaderboardUISettingsPopupCloseEmitter.emit(!1),this.loggerService.setLoggerError(this.constructor.name,"leaderboardUISettingsPopupSubmit",t)}}updateRecord(){}commonErrorCodes(t){const a=JSON.parse(t[r.BU.STATUS]);409===a&&(this.errorObj.error="COMMON_STATUS_CODES."+a)}displayDateFormatter(t,a,o){try{const i=o?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,l={startDate:"",endDate:""};if(l.startDate=this.commonService.convertDateToUserFormat(i,r.eZ.HOURS_MINS,!0,"",!1),a){const s=o?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t;s.setUTCDate(s.getUTCDate()+1),s.setUTCHours(0,0,0,0),l.endDate=s}return l}catch(i){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",i)}}changeMainTitleTextAlignRadioButtonOptions(t){for(let a of this.dataJsonObj.mainTitleTextAlignRadioButtonsList)a.checked=a.displayname==t.value;switch(t.value){case this.translateService.instant("GOLF_GAMES.LEFT"):this.dataJsonObj.mainTitleTextAlign="text-start";break;case this.translateService.instant("GOLF_GAMES.RIGHT"):this.dataJsonObj.mainTitleTextAlign="text-end";break;case this.translateService.instant("GOLF_GAMES.CENTER"):this.dataJsonObj.mainTitleTextAlign="text-center"}}changeMainTitleFontStyleRadioButtonOptions(t){for(let a of this.dataJsonObj.mainTitleFontStyleRadioButtonsList)a.checked=a.displayname==t.value;switch(t.value){case this.translateService.instant("GOLF_GAMES.NORMAL"):this.dataJsonObj.mainTitleFontStyle="normal";break;case this.translateService.instant("GOLF_GAMES.ITALIC"):this.dataJsonObj.mainTitleFontStyle="italic"}}changeDetailsTitleFontStyleRadioButtonOptions(t){for(let a of this.dataJsonObj.detailsTitleFontStyleRadioButtonsList)a.checked=a.displayname==t.value;switch(t.value){case this.translateService.instant("GOLF_GAMES.NORMAL"):this.dataJsonObj.detailsTitleFontStyle="normal";break;case this.translateService.instant("GOLF_GAMES.ITALIC"):this.dataJsonObj.detailsTitleFontStyle="italic"}}changeTableHeaderFontStyleRadioButtonOptions(t){for(let a of this.dataJsonObj.tableHeaderFontStyleRadioButtonsList)a.checked=a.displayname==t.value;switch(t.value){case this.translateService.instant("GOLF_GAMES.NORMAL"):this.dataJsonObj.tableHeaderFontStyle="normal";break;case this.translateService.instant("GOLF_GAMES.ITALIC"):this.dataJsonObj.tableHeaderFontStyle="italic"}}changeDetailsTitleBorderStyleRadioButtonOptions(t){for(let a of this.dataJsonObj.detailsTitleBorderStyleRadioButtonsList)a.checked=a.displayname==t.value;switch(t.value){case this.translateService.instant("GOLF_GAMES.SOLID"):this.dataJsonObj.detailsTitleBorderStyle="solid";break;case this.translateService.instant("GOLF_GAMES.DASHED"):this.dataJsonObj.detailsTitleBorderStyle="dashed";break;case this.translateService.instant("GOLF_GAMES.DOTTED"):this.dataJsonObj.detailsTitleBorderStyle="dotted"}}changeDetailsTitleTextAlignRadioButtonOptions(t){for(let a of this.dataJsonObj.detailsTitleTextAlignRadioButtonsList)a.checked=a.displayname==t.value;switch(t.value){case this.translateService.instant("GOLF_GAMES.LEFT"):this.dataJsonObj.detailsTitleTextAlign="text-start";break;case this.translateService.instant("GOLF_GAMES.RIGHT"):this.dataJsonObj.detailsTitleTextAlign="text-end";break;case this.translateService.instant("GOLF_GAMES.CENTER"):this.dataJsonObj.detailsTitleTextAlign="text-center"}}changeTableHeaderBorderStyleRadioButtonOptions(t){for(let a of this.dataJsonObj.TableHeaderBorderStyleRadioButtonsList)a.checked=a.displayname==t.value;switch(t.value){case this.translateService.instant("GOLF_GAMES.SOLID"):this.dataJsonObj.tableHeaderBorderStyle="solid";break;case this.translateService.instant("GOLF_GAMES.DASHED"):this.dataJsonObj.tableHeaderBorderStyle="dashed";break;case this.translateService.instant("GOLF_GAMES.DOTTED"):this.dataJsonObj.tableHeaderBorderStyle="dotted"}}changeTableColumnsFontStyleRadioButtonOptions(t){for(let a of this.dataJsonObj.tableColumnsFontStyleRadioButtonsList)a.checked=a.displayname==t.value;switch(t.value){case this.translateService.instant("GOLF_GAMES.NORMAL"):this.dataJsonObj.tableHeaderFontStyle="normal";break;case this.translateService.instant("GOLF_GAMES.ITALIC"):this.dataJsonObj.tableHeaderFontStyle="italic"}}backgroundImageRemove(t){this.dataJsonObj[t]=""}deleteImgClick(t){}getTextAlignValue(t){let a;switch(t){case"text-start":a=this.translateService.instant("GOLF_GAMES.LEFT");break;case"text-center":a=this.translateService.instant("GOLF_GAMES.CENTER");break;case"text-end":a=this.translateService.instant("GOLF_GAMES.RIGHT")}return a}getFontStyleValue(t){let a;switch(t){case"normal":a=this.translateService.instant("GOLF_GAMES.NORMAL");break;case"italic":a=this.translateService.instant("GOLF_GAMES.ITALIC")}return a}getDetailsTitleBorderStyleValue(t){let a;switch(t){case"solid":a=this.translateService.instant("GOLF_GAMES.SOLID");break;case"dashed":a=this.translateService.instant("GOLF_GAMES.DASHED");break;case"dotted":a=this.translateService.instant("GOLF_GAMES.DOTTED")}return a}getTableHeaderBorderStyleValue(t){let a;switch(t){case"solid":a=this.translateService.instant("GOLF_GAMES.SOLID");break;case"dashed":a=this.translateService.instant("GOLF_GAMES.DASHED");break;case"dotted":a=this.translateService.instant("GOLF_GAMES.DOTTED")}return a}static \u0275fac=function(a){return new(a||n)(e.Y36("apiEndPoint"),e.Y36(J),e.Y36(T.m),e.Y36(f.sK),e.Y36(A.s),e.Y36(C.v))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-leaderboard-ui-settings"]],inputs:{isLeaderboardUISettingsPopupEnabled:"isLeaderboardUISettingsPopupEnabled",recordIds:"recordIds",selectedUISettingsData:"selectedUISettingsData"},outputs:{leaderboardUISettingsPopupCloseEmitter:"leaderboardUISettingsPopupCloseEmitter",leaderboardUISettingsPopupResponseEmitter:"leaderboardUISettingsPopupResponseEmitter"},decls:19,vars:15,consts:[["id","leaderboardUISettingsModal1","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"card-body"],[3,"displayTabTitleData","refreshMatTabGroup","valueChange"],[4,"ngIf"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","usertype-translations-add-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","usertype-translations-add-cancel-btn",3,"label","buttonOnClick"],[1,"row","form-bs"],[1,"col-md-3"],["type","color","disabled","false",3,"label","value","change"],["mandatory","false","disabled","false","id","attributedefinitions-edit-displaysequence",3,"label","maxlength","value","valueChange"],["mandatory","false","disabled","false","id","preferences-create-font",3,"label","options","defaultValue","valueChange"],[1,"col-md-6"],["id","leaderboard-ui-main-title-font-style-radiobuttongroup","psClassName","mgb-14",1,"d-flex",3,"label","options","valueChange"],["mandatory","false","disabled","false","id","preferences-create-font-weight",3,"label","options","defaultValue","valueChange"],[1,"imagewith-label"],["type","file","btnHide","true","action","edit","imageid","image1","id","menusettings-edit-menuimage",1,"edit-pic",3,"enableImageDelete","defaultImage","imageName","valueChange","imageRemove","deleteClick"],["id","events-create-radiobuttongroup","psClassName","mgb-14",1,"d-flex",3,"options","valueChange"],["id","leaderboard-ui-details-title-font-style-radiobuttongroup","psClassName","mgb-14",1,"d-flex",3,"label","options","valueChange"],["mandatory","false","disabled","false","id","preferences-border-width",3,"label","maxlength","value","valueChange"],[1,"col-md-5"],["id","details-title-border-style-radiobuttongroup","psClassName","mgb-14",1,"d-flex",3,"options","label","valueChange"],["type","file","btnHide","true","action","edit","imageid","image2","id","menusettings-edit-menuimage",1,"edit-pic",3,"enableImageDelete","defaultImage","imageName","valueChange","imageRemove","deleteClick"],["id","leaderboard-ui-table-header-font-style-radiobuttongroup","psClassName","mgb-14",1,"d-flex",3,"label","options","valueChange"],["id","table-header-border-style-radiobuttongroup","psClassName","mgb-14",1,"d-flex",3,"options","label","valueChange"],["id","leaderboard-ui-table-column-values-font-style-radiobuttongroup","psClassName","mgb-14",1,"d-flex",3,"label","options","valueChange"],["type","file","btnHide","true","action","edit","imageid","image3","id","menusettings-edit-menuimage",1,"edit-pic",3,"enableImageDelete","defaultImage","imageName","valueChange","imageRemove","deleteClick"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5),e.ALo(6,"translate"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"app-tabgroup",7),e.NdJ("valueChange",function(l){return o.tabvalueChange(l)}),e.qZA(),e.YNc(10,He,27,31,"div",8),e.YNc(11,Ve,36,44,"div",8),e.YNc(12,qe,29,40,"div",8),e.YNc(13,Ye,44,54,"div",8),e.TgZ(14,"div",9)(15,"app-button",10),e.NdJ("buttonOnClick",function(){return o.leaderboardUISettingsPopupSubmit()}),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"app-button",11),e.NdJ("buttonOnClick",function(){return o.cancelPopup()}),e.ALo(18,"translate"),e.qZA()()()()()()()),2&a&&(e.xp6(5),e.hij("",e.lcZ(6,9,"GOLF_GAMES.LEADERBOARD_UI_SETTINGS")," "),e.xp6(4),e.Q6J("displayTabTitleData",null==o.dataJsonObj?null:o.dataJsonObj.displayTabTitle)("refreshMatTabGroup",null==o.dataJsonObj?null:o.dataJsonObj.refreshMatTabGroup),e.xp6(1),e.Q6J("ngIf","Main Title"===(null==o.dataJsonObj?null:o.dataJsonObj.selectedTab)),e.xp6(1),e.Q6J("ngIf","Details Title"===(null==o.dataJsonObj?null:o.dataJsonObj.selectedTab)),e.xp6(1),e.Q6J("ngIf","Header"===(null==o.dataJsonObj?null:o.dataJsonObj.selectedTab)),e.xp6(1),e.Q6J("ngIf","Columns"===(null==o.dataJsonObj?null:o.dataJsonObj.selectedTab)),e.xp6(2),e.s9C("label",e.lcZ(16,11,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.xp6(2),e.s9C("label",e.lcZ(18,13,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[h.O5,y.r,G.a,k.k,Pe.k,x.K,P.f,H.S,f.X$]})}return n})();var $e=u(88425),F=u(3848);const Qe=["datatableComponent"],ze=["accessCodeInput"];function Ke(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"span",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().index,i=e.oxw(2);return e.KtG(i.onSelectTab(o))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,1,t.displayName))}}function We(n,c){1&n&&(e.TgZ(0,"mat-tab"),e.YNc(1,Ke,4,3,"ng-template",41),e.qZA())}function Xe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-tab-group",39),e.NdJ("selectedIndexChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.dataJsonObj.selectTabIndex=o)}),e.YNc(1,We,2,0,"mat-tab",40),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("selectedIndex",t.dataJsonObj.selectTabIndex),e.xp6(1),e.Q6J("ngForOf",t.dataJsonObj.tabsList)}}function et(n,c){1&n&&(e.TgZ(0,"div",43)(1,"p",44),e._uU(2," Verified"),e._UZ(3,"i",45),e.qZA()())}let tt=(()=>{class n extends D.O{apiEndPointUrl;actionSheetController;loggerService;navigationService;golfGamesService;router;uiUtils;translateService;commonService;listingVariables;route;datatableComponent;accessCodeInput;searchValueChange=new e.vpe;apiEndPoint;dataJsonObj={};listDataSubscription;localendpoint;mobileRoutesArray;noDuplicates;paginator=!1;loginUserDateFormat;userTimeZoneObj={};startDate;endDate;errorObj={};constructor(t,a,o,i,l,s,d,_,b,m,g){super(g,b),this.apiEndPointUrl=t,this.actionSheetController=a,this.loggerService=o,this.navigationService=i,this.golfGamesService=l,this.router=s,this.uiUtils=d,this.translateService=_,this.commonService=b,this.listingVariables=m,this.route=g,this.route.queryParams.subscribe(E=>{this.dataJsonObj.queryParamsObj={defaultView:E.default_view,selectedMenuId:E.selectedMenuId,selectedSubMenuId:E.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.showSpinner(),this.dataJsonObj.pageName=r.hf.GOLF_GAMES,this.dataJsonObj.isLeaderboardUISettingsPopupEnabled=!1,this.dataJsonObj.isSubmitButtonDisabled=!1,this.dataJsonObj.isAccessCodeVerified=!1,this.dataJsonObj.selectedMenu=JSON.parse(localStorage.getItem(r.BU.SELECTED_MENU)),this.dataJsonObj.selectedSubMenu=JSON.parse(localStorage.getItem(r.BU.MENU_CLICK_ITEM)),this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.GOLF_GAMES",value:"",showSubMenuDisplayName:!1}],this.dataJsonObj.tabsList=[],this.dataJsonObj.tabsDataList=[{displayName:"COMMON_BLOCK_TITLES.ON_GOING",tabName:r.EL.ON_GOING,sortOrder:"start_datetime$1",action:r.In.ON_GOING},{displayName:"COMMON_BLOCK_TITLES.FUTURE",tabName:r.EL.YET_TO_START,sortOrder:"start_datetime$1",action:r.In.SCHEDULED},{displayName:"COMMON_FIELDS.CLOSED",tabName:r.EL.CLOSED,sortOrder:"start_datetime$-1",action:r.In.CLOSED}];for(let d=0;d<this.dataJsonObj.tabsDataList.length;d++)this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.TAB_DISPLAY_SETTINGS,this.dataJsonObj.tabsDataList[d].action)&&this.dataJsonObj.tabsList.push(this.dataJsonObj.tabsDataList[d]);this.dataJsonObj.selectTabIndex=0,this.dataJsonObj.forceRefresh=!0,this.dataJsonObj.currentPageUrl=this.navigationService.getCurrentUrl(),this.dataJsonObj.golfGamesObj={},this.dataJsonObj.golfGamesObj.dataDisplayList=[],this.dataJsonObj.golfGamesMobileListData=[],this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.enableactions={START_DATE:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.DISPLAY_START_DATE)};const t=[{headersort:"",sortfield:"name",field:"name",header:this.translateService.instant("COMMON_PAGE_TITLES.TEAM")+" "+this.translateService.instant("NEW_VARIABLES.NAME"),class:""},{headersort:"",sortfield:"facility.facility_name",field:"facility.facility_name",header:"COMMON_PAGE_TITLES.FACILITY",class:""},{headersort:"",sortfield:"number_of_players",field:"number_of_players",header:"GOLF_GAMES.NUMBER_OF_PLAYERS",class:"w-80 text-end"}],l=(this.dataJsonObj.enableactions.START_DATE?t.concat([{headersort:"",sortfield:"start_datetime",field:"startDateTime_zone",header:"COMMON_FIELDS.START_DATE",class:"w-160 text-end"}]):t).concat([{headersort:"disableth",sortfield:"status",field:"statusDisplay",header:"COMMON_FIELDS.STATUS",class:"w-80"},{headersort:"disableth",sortfield:"",field:"COMMON_FIELDS.ACTIONS",header:"COMMON_FIELDS.ACTIONS",class:"w-100"}]);this.dataJsonObj.headers=[l],this.dataJsonObj.pageLevelActionsList={CREATE:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.CREATE)},this.dataJsonObj.golfGamesObj.actionsList={WEBDASHBOARD:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.WEB_DASHBOARD),VIEW:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.VIEW),SCOREBOARD:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.SCOREBOARD),LEADERBOARD_UI_SETTINGS:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.LEADERBOARD_UI_SETTINGS),COPY_LINK:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.DISPLAY_ACCESS_CODE),VIEW_ACCESS_CODE:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.DISPLAY_ACCESS_CODE)},this.dataJsonObj.pageActionsList=[],this.dataJsonObj.addFiltersList=[],this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.CREATE)&&this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:"URL",redirectURL:this.dataJsonObj.currentPageUrl+"/create",queryParams:"",iconClass:"fas fa-plus"}),this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.FILTERS),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1;const s=this.commonService.getLoginUserTimeZoneDateFormat();this.loginUserDateFormat=s.dateFormat,this.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(s.timeZoneDescription),this.userTimeZoneObj.timeZoneCode=s.timeZoneCode,this.dataJsonObj.searchTerm="",this.dataJsonObj.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE)?localStorage.getItem(r.BU.SELECTED_ENTERPRISE):localStorage.getItem(r.BU.PARENT_ENTERPRISE_ID),this.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl,this.localendpoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl,this.getAllRecords()}ngOnDestroy(){this.listDataSubscription&&(this.listDataSubscription.unsubscribe(),this.listDataSubscription=void 0),this.dataJsonObj.selectedFilter=""}getSearchResult(t){try{this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchTerm=t,this.dataJsonObj.golfGamesMobileListData=[],this.getAllRecords(),this.datatableComponent.reset(),this.searchValueChange.emit(t)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getSearchResult",a)}}searchClose(){try{this.dataJsonObj.searchTerm="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.golfGamesMobileListData=[],this.getAllRecords(),this.datatableComponent.reset(),this.searchValueChange.emit("")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"searchClose",t)}}getAllRecords(){try{const t=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView);this.listDataSubscription&&(this.listDataSubscription.unsubscribe(),this.listDataSubscription=void 0),this.dataJsonObj.stats=this.dataJsonObj.statsObj;const o=this.dataJsonObj.tabsList[this.dataJsonObj.selectTabIndex],i=o?.tabName,l=this.listingVariables.sortOrderColumn?this.listingVariables.sortOrderColumn:o?.sortOrder;this.showSpinner(),this.listDataSubscription=this.golfGamesService.getAll(this.dataJsonObj.enterpriseId,l,this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.dataJsonObj.searchTerm,this.dataJsonObj.forceRefresh,i,t,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(s=>{if(this.hideSpinner(),s.rows.length>0){this.dataJsonObj.golfGamesMobileListData&&this.dataJsonObj.golfGamesMobileListData.length>0||(this.dataJsonObj.golfGamesMobileListData=[]);for(let d=0;d<s.rows.length;d++){s.rows[d].display_grid_title=s.rows[d].display_name,s.rows[d].page_name=r.hf.GOLF_GAMES,s.rows[d].imageName=s.rows[d].name;const _=this.displayDateFormatter(s.rows[d].start_datetime,!1,!0);this.startDate=_.startDate;const b=this.displayDateFormatter(s.rows[d].end_datetime,!1,!0);this.endDate=b.startDate,s.rows[d].start_datetime=this.startDate,s.rows[d].end_datetime=this.endDate,s.rows[d].startDateTime_zone=this.startDate+" "+this.userTimeZoneObj.timeZoneCode;const m={url:`golfgames/golfgames/${s.rows[d]._id}/view`,queryParams:this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:""},g=m.queryParams&&Object.keys(m.queryParams).length>0?`${m.url}?${JSON.stringify(m.queryParams)}`:m.url;s.rows[d].name=`<a class="enable" id="golf_games_view_${s.rows[d]._id}" href=${g}>${s.rows[d].name}`;const va=this.displayDateFormatter((new Date).toISOString(),!1,!0).startDate,K=this.commonService.getUTCDateObj(this.startDate),W=this.commonService.getUTCDateObj(this.endDate),N=this.commonService.getUTCDateObj(va);K<=N&&N<W?s.rows[d].statusDisplay=r.hf.IN_PROGRESS:N>=W?s.rows[d].statusDisplay=r.hf.CLOSED:K>N&&(s.rows[d].statusDisplay=r.hf.YET_TO_START),this.dataJsonObj.golfGamesMobileListData=this.dataJsonObj.golfGamesMobileListData.filter(Da=>Da._id!==s.rows[d]._id),this.dataJsonObj.golfGamesMobileListData.push(s.rows[d])}s.totalCount&&(this.listingVariables.totalRecords=s.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=s.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.dataJsonObj.golfGamesObj.dataDisplayList=this.dataJsonObj.golfGamesObj.dataDisplayList.concat(s.rows)):this.dataJsonObj.golfGamesObj.dataDisplayList=s.rows}else this.dataJsonObj.golfGamesObj.dataDisplayList=[],this.dataJsonObj.golfGamesMobileListData=[]})}catch(t){this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)}}onItemClicked(t){try{this.commonService.redirectToUrl(["..",t._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"onItemClicked",a)}}onSort(t){try{this.listingVariables.sortOrder=t.order,this.listingVariables.sortField=t.field}catch(a){this.loggerService.setLoggerError(this.constructor.name,"onSort",a)}}copyLinkButton(){const t=this.dataJsonObj.access_code,a=document.createElement("input");document.body.appendChild(a),a.value=t,a.select(),document.execCommand("copy"),document.body.removeChild(a),this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_ACCESS_CODE_COPY")}onActionClicked(t){try{switch(this.dataJsonObj.access_code=t.data?.access_code,t.action){case r.A0.SCOREBOARD:t.data?.access_code?this.openAccessCodePopup(t.data._id):this.getActionFormattedData(`${this.dataJsonObj.currentPageUrl}/${t.data._id}/scoreboard`);break;case r.A0.LEADERBOARD_UI_SETTINGS:this.dataJsonObj.isLeaderboardUISettingsPopupEnabled=!0,this.dataJsonObj.recordId=t.data._id;break;case r.A0.VIEW:this.getActionFormattedData(`${this.dataJsonObj.currentPageUrl}/${t.data._id}/view`);break;case r.hf.WEB_DASHBOARD:this.getActionFormattedData(`${this.dataJsonObj.currentPageUrl}/${t.data._id}/dashboard`);break;case r.A0.COPY_LINK:this.copyLinkButton();break;case r.A0.VIEW_ACCESS_CODE:t.data?.access_code?this.viewAccessCodePopup(t.data):this.commonService.redirectToUrl(["golfgames","golfgames",t.data._id,"view"],!0,!1,{},this.route)}}catch(a){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",a)}}getActionFormattedData(t){var a=this;return(0,S.Z)(function*(){a.commonService.redirectToUrl([t],!0,!0,a.dataJsonObj.queryParamsObj?a.dataJsonObj.queryParamsObj:"",a.route)})()}mobileEventAction(t){}loadPageData(t){this.dataJsonObj.forceRefresh=t.forceRefresh,this.listingVariables.pageNumbers=t.listingVariables.pageNumbers,t.clearMobileData&&(this.dataJsonObj.golfGamesMobileListData=this.noDuplicates),t.isPaginationChange&&(this.dataJsonObj.selectedFilter=t.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=t.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=t.selectedAdvancedSearchObj),this.getAllRecords()}selectedViewType(t){this.dataJsonObj.selectedDisplayView=t}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}selectedFilterType(t){t?this.dataJsonObj.selectedFilter=t:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}onPageLevelActionClicked(t){}advancedSearchFilterClicked(t){this.dataJsonObj.selectedAdvancedSearchObj=t}onHeaderItemClick(t){switch(t.type){case"search":this.getSearchResult(t.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(t.event);break;case"filters":this.selectedFilterType(t.event);break;case"advanced_search":this.advancedSearchFilterClicked(t.event);break;case"page_actions":this.onPageLevelActionClicked(t.event)}}displayDateFormatter(t,a,o){try{const i=o?this.commonService.convertDateToUserTimeZone(t,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign):t,l={startDate:"",endDate:""};if(l.startDate=this.commonService.convertDateToUserFormat(i,r.eZ.HOURS_MINS,!0,"",!1),a){const s=o?this.commonService.convertDateToUserTimeZone(t,this.userTimeZoneObj.utcMinutes,this.userTimeZoneObj.utcMinutesSign):t,d=B.utc(s).add(2,"hours");l.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return l}catch(i){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",i)}}validateAccessCode(){try{this.accessCodeInput.isValid()&&(this.dataJsonObj.isSubmitButtonDisabled=!0,this.golfGamesService.validateAccessCode(this.dataJsonObj.access_code,this.dataJsonObj.selectedRecordId).then(t=>{this.dataJsonObj.isAccessCodeVerified=t,this.dataJsonObj.isAccessCodeVerified?(this.getActionFormattedData(`${this.dataJsonObj.currentPageUrl}/${this.dataJsonObj.selectedRecordId}/scoreboard`),this.cancelPopup()):this.errorObj.error="COMMON_VALIDATION_MESSAGES.VALID_ACCESS_CODE",this.dataJsonObj.isSubmitButtonDisabled=!1},t=>{this.dataJsonObj.isSubmitButtonDisabled=!1}))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"validateAccessCode",t)}}openAccessCodePopup(t){this.accessCodeInput.clearmessage(),this.errorObj.error="",this.dataJsonObj.access_code="",this.dataJsonObj.isAccessCodeVerified=!1,this.dataJsonObj.selectedRecordId=t,this.dataJsonObj.viewURL=`golfgames/golfgames/${t}/view`,$("#accessCodeModal").modal("show"),$(".modal-backdrop").insertAfter("#accessCodeModal")}viewAccessCodePopup(t){this.dataJsonObj.access_code=t.access_code,$("#viewAccessCodeModal").modal("show"),$(".modal-backdrop").insertAfter("#viewAccessCodeModal")}cancelPopup(){this.dataJsonObj.selectedRecordId="",$("#accessCodeModal").modal("hide"),$("#viewAccessCodeModal").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}getLeaderboardUISettingsPopupClose(t){this.dataJsonObj.isLeaderboardUISettingsPopupEnabled=t}changeInputFieldValue(t,a,o){try{this.errorObj.error="",o[a]=t.value}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeInputFieldValue",i)}}onSelectTab(t){try{this.dataJsonObj.selectTabIndex=t,this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.golfGamesMobileListData=[],this.getAllRecords(),this.datatableComponent.reset()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"onSelectTab",a)}}static \u0275fac=function(a){return new(a||n)(e.Y36("apiEndPoint"),e.Y36(M.BX),e.Y36(T.m),e.Y36(V.f),e.Y36(J),e.Y36(O.F0),e.Y36(A.s),e.Y36(f.sK),e.Y36(C.v),e.Y36(Z.v),e.Y36(O.gz))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-golf-games-list"]],viewQuery:function(a,o){if(1&a&&(e.Gf(Qe,5),e.Gf(ze,5)),2&a){let i;e.iGM(i=e.CRH())&&(o.datatableComponent=i.first),e.iGM(i=e.CRH())&&(o.accessCodeInput=i.first)}},outputs:{searchValueChange:"searchValueChange"},features:[e.qOj],decls:58,vars:62,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0","pdl-0","pdr-0"],["mat-align-tabs","start","class","fanguage-tabs",3,"selectedIndex","selectedIndexChange",4,"ngIf"],["id","tagid",3,"header","totalRecords","data","expand","paginator","listingVariables","actions","totalPages","mobileListData","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","showSpinner","selectedSubMenuId","actionClicked","itemClickEvent","redirectionEvent","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],["id","accessCodeModal","tabindex","-1","role","dialog","aria-labelledby","accessCodeModal","aria-hidden","true",1,"modal","fade","userprofile-add-modal"],["role","document",1,"modal-dialog","modal-md","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","accessCodeModal",1,"modal-title"],[1,"modal-body","bd-0"],[1,"row","g-0"],[1,"col-md-12"],[1,"row","form-bs"],[1,"col-md-6"],["autoCaseFlag","false","disabled","false","mandatory","true","id","access-code",3,"label","minlength","maxlength","value","valueChange"],["accessCodeInput",""],["class","col-md-2 mt-2",4,"ngIf"],[1,"text-end","mt-2",3,"ngClass"],["className","btn btn-primary btn-sm","id","referral-codes-submit-btn",1,"mgr-5",3,"label","disabled","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"col-md-12","text-center"],[1,"btn","btn-link",3,"href"],["id","viewAccessCodeModal","tabindex","-1","role","dialog","aria-labelledby","viewAccessCodeModal","aria-hidden","true",1,"modal","fade","userprofile-add-modal"],["id","viewAccessCodeModal",1,"modal-title"],[1,"col-md-12","fs-2","d-flex","align-items-center","justify-content-center"],[1,"col-md-7","d-flex","align-items-center","justify-content-end",3,"innerHTML"],[1,"col-md-1"],[1,"col-md-4","d-flex","align-items-center","justify-content-start"],[1,"btn","btn-link","btn-sm","text-center","text-success","p-0","me-2","mgt-5","cursor-pointer",2,"font-size","smaller",3,"title","click"],[1,"fas","fa-copy"],[1,"text-end","mt-2","col-md-12"],["className","btn btn-primary btn-sm","id","referral-codes-close-btn",3,"label","buttonOnClick"],[3,"isLeaderboardUISettingsPopupEnabled","recordId","leaderboardUISettingsPopupCloseEmitter"],["mat-align-tabs","start",1,"fanguage-tabs",3,"selectedIndex","selectedIndexChange"],[4,"ngFor","ngForOf"],["mat-tab-label",""],[1,"fs-13","mg-0","tab-label","d-flex","align-items-center","justify-content-center","parent-tab",3,"click"],[1,"col-md-2","mt-2"],[1,"mg-0","text-nowrap"],[1,"m-0","mgl-5","fas","fa-check-circle","text-success"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(l){return o.onHeaderItemClick(l)}),e.qZA()(),e.TgZ(4,"div",4),e.YNc(5,Xe,2,2,"mat-tab-group",5),e.TgZ(6,"app-datatable",6,7),e.NdJ("actionClicked",function(l){return o.onActionClicked(l)})("itemClickEvent",function(l){return o.onItemClicked(l)})("redirectionEvent",function(l){return o.mobileEventAction(l)})("loadPageData",function(l){return o.loadPageData(l)}),e.qZA(),e.TgZ(8,"div",8)(9,"app-page-actions",9),e.NdJ("selectedAction",function(l){return o.onPageLevelActionClicked(l)}),e.qZA()()()()(),e.TgZ(10,"div",10)(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14),e._uU(15),e.ALo(16,"translate"),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18)(22,"div",19)(23,"app-input",20,21),e.NdJ("valueChange",function(l){return o.changeInputFieldValue(l,"access_code",o.dataJsonObj)}),e.ALo(25,"translate"),e.qZA()(),e.YNc(26,et,4,0,"div",22),e.TgZ(27,"div",23)(28,"app-button",24),e.NdJ("buttonOnClick",function(){return o.validateAccessCode()}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",25),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",26)(34,"a",27),e._uU(35,"Redirect to View Page"),e.qZA()()()()()()()()(),e.TgZ(36,"div",28)(37,"div",11)(38,"div",12)(39,"div",13)(40,"div",29),e._uU(41),e.ALo(42,"translate"),e.qZA()(),e.TgZ(43,"div",15)(44,"div",16)(45,"div",26)(46,"div",18)(47,"div",30),e._UZ(48,"div",31)(49,"div",32),e.TgZ(50,"div",33)(51,"a",34),e.NdJ("click",function(){return o.copyLinkButton()}),e.ALo(52,"translate"),e._UZ(53,"i",35),e.qZA()()(),e.TgZ(54,"div",36)(55,"app-button",37),e.NdJ("buttonOnClick",function(){return o.cancelPopup()}),e.ALo(56,"translate"),e.qZA()()()()()()()()(),e.TgZ(57,"app-leaderboard-ui-settings",38),e.NdJ("leaderboardUISettingsPopupCloseEmitter",function(l){return o.getLeaderboardUISettingsPopupClose(l)}),e.qZA()),2&a&&(e.xp6(3),e.Q6J("pageName",o.dataJsonObj.pageName)("defaultView",null==o.dataJsonObj.queryParamsObj?null:o.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",o.dataJsonObj.pageActionsList)("pageTitle",o.dataJsonObj.pageTitle)("selectedMenuId",null==o.dataJsonObj.queryParamsObj?null:o.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==o.dataJsonObj.queryParamsObj?null:o.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(2),e.Q6J("ngIf",(null==o.dataJsonObj||null==o.dataJsonObj.tabsList?null:o.dataJsonObj.tabsList.length)>0),e.xp6(1),e.Q6J("header",o.dataJsonObj.headers)("totalRecords",o.listingVariables.totalRecords)("data",o.dataJsonObj.golfGamesObj.dataDisplayList)("expand",!1)("paginator",!0)("listingVariables",o.listingVariables)("actions",o.dataJsonObj.golfGamesObj.actionsList)("totalPages",o.listingVariables.totalpages)("mobileListData",o.dataJsonObj.golfGamesMobileListData)("selectedDisplayViewType",o.dataJsonObj.selectedDisplayView)("selectedFilterType",o.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",o.dataJsonObj.selectedAdvancedSearchObj)("pageName",o.dataJsonObj.pageName)("selectedMenuId",null==o.dataJsonObj.queryParamsObj?null:o.dataJsonObj.queryParamsObj.selectedMenuId)("showSpinner",o.dataJsonObj.showSpinner)("selectedSubMenuId",null==o.dataJsonObj.queryParamsObj?null:o.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",o.dataJsonObj.pageActionsList),e.xp6(6),e.AsE("",e.lcZ(16,46,"COMMON_BUTTONS.VALIDATE")," ",e.lcZ(17,48,"NEW_VARIABLES.ACCESS_CODE"),""),e.xp6(8),e.s9C("label",e.lcZ(25,50,"NEW_VARIABLES.ACCESS_CODE")),e.s9C("value",o.dataJsonObj.access_code),e.Q6J("minlength",3)("maxlength",10),e.xp6(3),e.Q6J("ngIf",null==o.dataJsonObj?null:o.dataJsonObj.isAccessCodeVerified),e.xp6(1),e.Q6J("ngClass",null!=o.dataJsonObj&&o.dataJsonObj.isAccessCodeVerified?"col-md-4":"col-md-6"),e.xp6(1),e.s9C("label",e.lcZ(29,52,"COMMON_BUTTONS.VALIDATE")),e.Q6J("disabled",o.dataJsonObj.isSubmitButtonDisabled),e.xp6(3),e.hij(" ",e.lcZ(32,54,o.errorObj.error)," "),e.xp6(3),e.s9C("href",null==o.dataJsonObj?null:o.dataJsonObj.viewURL,e.LSH),e.xp6(7),e.Oqu(e.lcZ(42,56,"NEW_VARIABLES.ACCESS_CODE")),e.xp6(7),e.Q6J("innerHTML",null==o.dataJsonObj?null:o.dataJsonObj.access_code,e.oJD),e.xp6(3),e.s9C("title",e.lcZ(52,58,"COMMON_BUTTONS.BUTTON_COPY")),e.xp6(4),e.s9C("label",e.lcZ(56,60,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(2),e.Q6J("isLeaderboardUISettingsPopupEnabled",o.dataJsonObj.isLeaderboardUISettingsPopupEnabled)("recordId",o.dataJsonObj.recordId))},dependencies:[h.mk,h.sg,h.O5,y.r,G.a,ke.n,L.q,q,$e.y,F.uD,F.uX,F.SP,f.X$]})}return n})();var at=u(65305);function ot(n,c){if(1&n&&(e.TgZ(0,"div",25),e._UZ(1,"app-input",26),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.START_DATE")),e.s9C("value",null==t.dataJsonObj.golfGameViewData?null:t.dataJsonObj.golfGameViewData.start_datetime)}}function it(n,c){if(1&n&&(e.TgZ(0,"div",25),e._UZ(1,"app-input",27),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.END_DATE")),e.s9C("value",null==t.dataJsonObj.golfGameViewData?null:t.dataJsonObj.golfGameViewData.end_datetime)}}function nt(n,c){if(1&n&&(e.TgZ(0,"th",33),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.field)," ")}}function lt(n,c){if(1&n&&(e.TgZ(0,"th",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.field)," ")}}function st(n,c){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,nt,3,3,"th",31),e.YNc(2,lt,3,3,"th",32),e.qZA()),2&n){const t=c.$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.dataJsonObj.frozenColumns),e.xp6(1),e.Q6J("ngForOf",t)}}function rt(n,c){if(1&n&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.xp6(1),e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function dt(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function ct(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function _t(n,c){1&n&&(e.TgZ(0,"td",38),e.ynx(1),e.TgZ(2,"p-cellEditor"),e.YNc(3,rt,2,1,"ng-template",39),e.YNc(4,dt,1,1,"ng-template",40),e.qZA(),e.BQk(),e.YNc(5,ct,1,1,"ng-template",null,41,e.W1O),e.qZA()),2&n&&e.Tol(c.$implicit.columnclass)}function bt(n,c){if(1&n&&(e.TgZ(0,"div",42),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.xp6(1),e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function ut(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function mt(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function gt(n,c){1&n&&(e.TgZ(0,"td",43),e.ynx(1),e.TgZ(2,"p-cellEditor"),e.YNc(3,bt,2,1,"ng-template",39),e.YNc(4,ut,1,1,"ng-template",40),e.qZA(),e.BQk(),e.YNc(5,mt,1,1,"ng-template",null,41,e.W1O),e.qZA()),2&n&&e.Tol(c.$implicit.columnclass)}function pt(n,c){if(1&n&&(e.TgZ(0,"tr",35),e.YNc(1,_t,7,3,"td",36),e.YNc(2,gt,7,3,"td",37),e.qZA()),2&n){const t=c.$implicit,a=c.columns,o=e.oxw(2);e.Q6J("pEditableRow",t),e.xp6(1),e.Q6J("ngForOf",o.dataJsonObj.frozenColumns),e.xp6(1),e.Q6J("ngForOf",a)}}function ht(n,c){if(1&n&&(e.TgZ(0,"p-table",28),e.YNc(1,st,3,2,"ng-template",29),e.YNc(2,pt,3,3,"ng-template",30),e.qZA()),2&n){const t=e.oxw();e.Q6J("columns",null==t.dataJsonObj?null:t.dataJsonObj.columns)("value",null==t.dataJsonObj?null:t.dataJsonObj.golfCourtSettingsData)("scrollable",!0)("rows",null==t.dataJsonObj?null:t.dataJsonObj.rows)}}let ft=(()=>{class n extends D.O{apiEndPointUrl;golfGamesService;loggerService;router;translateService;commonService;route;dataJsonObj={};errorObj={};recordId;constructor(t,a,o,i,l,s,d){super(d,s),this.apiEndPointUrl=t,this.golfGamesService=a,this.loggerService=o,this.router=i,this.translateService=l,this.commonService=s,this.route=d,this.route.params.subscribe(_=>{this.dataJsonObj.recordId=_.id}),this.route.queryParams.subscribe(_=>{this.dataJsonObj.queryParamsObj={defaultView:_.defaultView,selectedMenuId:_.selectedMenuId,selectedSubMenuId:_.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.selectedPage=r.hf.GOLF_GAMES,this.dataJsonObj.totalCountsJSON={},this.dataJsonObj.userTimeZoneObj={},this.dataJsonObj.url=this.router.url.split("/")[4],this.dataJsonObj.extendEndTime=!1,this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl;const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.dataJsonObj.loginUserDateFormat=t.dateFormat,this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(o=>{this.dataJsonObj.lookupCodesListJSON=o}),this.dataJsonObj.enableactions={START_DATE:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.DISPLAY_START_DATE),END_DATE:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.DISPLAY_END_DATE),SHOW_RECORD_HISTORY:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.RECORD_HISTORY)},this.getRecordById(),this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}])}getDynamicJson(t){var a=this;return(0,S.Z)(function*(){for(let o of t)a.dataJsonObj[o.storingFieldName]=yield a.commonService.getDynamicJson(a.dataJsonObj.selectedEnterpriseId,o.folderName,o.jsonType);a.dataJsonObj.selectedObj={},a.dataJsonObj.selectedObj.recordId=a.recordId,a.dataJsonObj.selectedObj.pageObj=a.dataJsonObj.menuDataJson.filter(o=>o.menu_page.page_name===a.dataJsonObj.selectedPage),a.dataJsonObj.selectedObjEnabled=!0})()}getRecordById(){try{this.golfGamesService.get(this.dataJsonObj.recordId).subscribe(t=>{this.dataJsonObj.golfGameViewData=t,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.GOLF_GAME",value:this.dataJsonObj.golfGameViewData.name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}];const a=this.displayDateFormatter(this.dataJsonObj.golfGameViewData.start_datetime,!1,!0);this.dataJsonObj.startDate=a.startDate;const o=this.displayDateFormatter(this.dataJsonObj.golfGameViewData.end_datetime,!1,!0);this.dataJsonObj.endDate=o.startDate,this.dataJsonObj.golfGameViewData.start_datetime=this.dataJsonObj.startDate+" "+this.dataJsonObj.userTimeZoneObj.timeZoneCode,this.dataJsonObj.golfGameViewData.end_datetime=this.dataJsonObj.endDate+" "+this.dataJsonObj.userTimeZoneObj.timeZoneCode,this.getScoreBoardData(this.dataJsonObj.golfGameViewData)})}catch{}}getScoreBoardData(t){try{this.dataJsonObj.totalCountsJSON={},this.dataJsonObj.golfCourtSettingsData=[],this.dataJsonObj.frozenColumns=[{headersort:"disableth",placeHolder:"HOLE",field:"HOLE",header:"HOLE",class:"",columnclass:"text-end",editable:!1},{headersort:"disableth",placeHolder:t?.scoreboard[0]?.attribute_name,field:t?.scoreboard[0]?.attribute_name,header:t?.scoreboard[0]?.attribute_name,class:"",columnclass:"text-end",editable:!1}];const a=[],o=new Set;for(let s=0;s<t.scoreboard.length;s++)for(let d=0;d<t.scoreboard[s].attribute_level_scoreboard.length;d++)for(let _=0;_<t.scoreboard[s].attribute_level_scoreboard[d].players.length;_++){const b=t.scoreboard[s].attribute_level_scoreboard[d].players[_].player_name;o.has(b)||(a.push({headersort:"disableth",placeHolder:b,field:b,header:b,previous_value:b,class:"",columnclass:"text-end",editable:!0}),o.add(b))}this.dataJsonObj.columns=a;const i=t.scoreboard[0].attribute_level_scoreboard,l={HOLE:"Total",rowData:{}};l[t?.scoreboard[0]?.attribute_name]=0;for(let s=0;s<i.length;s++){const d={HOLE:i[s].hole_number,rowData:{}};d[t?.scoreboard[0]?.attribute_name]=i[s].attribute_value,l[t?.scoreboard[0]?.attribute_name]=l[t?.scoreboard[0]?.attribute_name]+parseInt(i[s].attribute_value);for(let _=0;_<i[s].players.length;_++)d.rowData[i[s].players[_].player_name]={header:i[s].players[_].player_name,field:i[s].players[_].player_name,value:i[s].players[_].value,placeHolder:"",disabled:!1,editable:!0},l.rowData[i[s].players[_].player_name]||(l.rowData[i[s].players[_].player_name]={header:i[s].players[_].player_name,field:i[s].players[_].player_name,value:0,placeHolder:"",disabled:!1,editable:!1}),i[s].players[_].value&&(l.rowData[i[s].players[_].player_name].value=l.rowData[i[s].players[_].player_name].value+parseInt(i[s].players[_].value,10));this.dataJsonObj.golfCourtSettingsData.push(d)}this.dataJsonObj.golfCourtSettingsData.push(l)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getScoreBoardData",a)}}commonErrorCodes(t){409===JSON.parse(t[r.BU.STATUS])&&(this.errorObj.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Close",t)}}displayDateFormatter(t,a,o){try{const i=o?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,l={startDate:"",endDate:""};if(l.startDate=this.commonService.convertDateToUserFormat(i,r.eZ.HOURS_MINS,!0,"",!1),a){const s=o?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,d=this.commonService.addHoursToDate(s,120);l.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return l}catch(i){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",i)}}cancelPopUpButton(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",t)}}static \u0275fac=function(a){return new(a||n)(e.Y36("apiEndPoint"),e.Y36(J),e.Y36(T.m),e.Y36(O.F0),e.Y36(f.sK),e.Y36(C.v),e.Y36(O.gz))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-golf-games-view"]],features:[e._Bn([J]),e.qOj],decls:36,vars:29,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],["id","extraPaddingBottomID",1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-lg-2","col-md-4"],["disabled","true","id","golfgames-view-name",3,"label","value"],["disabled","true","id","golfgames-view-facilityname",3,"label","value"],["disabled","true","id","golfgames-view-numberofplayers",3,"label","value"],["class","col-md-6",4,"ngIf"],[1,"col-md-12","text-end","mt-2","mb-2"],["className","btn btn-danger btn-sm","id","iotevents-view-close",3,"label","buttonOnClick"],[1,"position-relative"],[3,"selectedPage"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-content"],[1,"d-flex","align-items-center","justify-content-between","subsection-title-bg"],[1,"main-title","mg-0","fs-14","mgl-5"],["class","ptable mgb-10","dataKey","HOLE","selectionMode","single","editMode","row",3,"columns","value","scrollable","rows",4,"ngIf"],[1,"col-md-6"],["disabled","true","id","golfgames-view-start_date",3,"label","value"],["disabled","true","id","golfgames-view-end_date",3,"label","value"],["dataKey","HOLE","selectionMode","single","editMode","row",1,"ptable","mgb-10",3,"columns","value","scrollable","rows"],["pTemplate","header"],["pTemplate","body"],["class","fw-600","style","min-width:100px","pFrozenColumn","",4,"ngFor","ngForOf"],["class","fw-600",4,"ngFor","ngForOf"],["pFrozenColumn","",1,"fw-600",2,"min-width","100px"],[1,"fw-600"],[3,"pEditableRow"],["pEditableColumn","","style","min-width:100px","pFrozenColumn","",3,"class",4,"ngFor","ngForOf"],["pEditableColumn","",3,"class",4,"ngFor","ngForOf"],["pEditableColumn","","pFrozenColumn","",2,"min-width","100px"],["pTemplate","input"],["pTemplate","output"],["noEdit",""],[1,""],["pEditableColumn",""]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",9),e._UZ(14,"app-input",11),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",9),e._UZ(17,"app-input",12),e.ALo(18,"translate"),e.qZA(),e.YNc(19,ot,3,4,"div",13),e.YNc(20,it,3,4,"div",13),e.TgZ(21,"div",14)(22,"app-button",15),e.NdJ("buttonOnClick",function(){return o.cancel()}),e.ALo(23,"translate"),e.qZA()()(),e.TgZ(24,"div",16),e._UZ(25,"app-body-ads",17),e.qZA(),e.TgZ(26,"div",18)(27,"div",19)(28,"div",20)(29,"div",21)(30,"div",22)(31,"h4",23),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",20),e.YNc(35,ht,3,4,"p-table",24),e.qZA()()()()()()()()()()()),2&a&&(e.xp6(6),e.Q6J("pageName",o.dataJsonObj.pageName)("pageTitle",o.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.hYB("label","",e.lcZ(11,17,"COMMON_PAGE_TITLES.TEAM")," ",e.lcZ(12,19,"COMMON_FIELDS.NAME"),""),e.s9C("value",null==o.dataJsonObj.golfGameViewData?null:o.dataJsonObj.golfGameViewData.name),e.xp6(4),e.s9C("label",e.lcZ(15,21,"COMMON_PAGE_TITLES.FACILITY")),e.s9C("value",null==o.dataJsonObj.golfGameViewData||null==o.dataJsonObj.golfGameViewData.facility?null:o.dataJsonObj.golfGameViewData.facility.facility_name),e.xp6(3),e.s9C("label",e.lcZ(18,23,"GOLF_GAMES.NUMBER_OF_PLAYERS")),e.s9C("value",null==o.dataJsonObj.golfGameViewData?null:o.dataJsonObj.golfGameViewData.number_of_players),e.xp6(2),e.Q6J("ngIf",o.dataJsonObj.enableactions.START_DATE),e.xp6(1),e.Q6J("ngIf",o.dataJsonObj.enableactions.END_DATE),e.xp6(2),e.s9C("label",e.lcZ(23,25,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(3),e.Q6J("selectedPage",o.dataJsonObj.selectedPage),e.xp6(7),e.Oqu(e.lcZ(33,27,"GOLF_GAMES.SCOREBOARD")),e.xp6(3),e.Q6J("ngIf",(null==o.dataJsonObj||null==o.dataJsonObj.golfCourtSettingsData?null:o.dataJsonObj.golfCourtSettingsData.length)>0))},dependencies:[h.sg,h.O5,y.r,G.a,L.q,at.j,w.jx,p.iA,p.on,p.Wq,p.YL,p.D$,f.X$],styles:[".player-view[_ngcontent-%COMP%]{max-height:200px}input[_ngcontent-%COMP%]{width:100%;height:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{min-width:100px;max-width:100px;padding:0 5px 2px;border:1px solid #dee2e6;border-top-width:0px}"]})}return n})();function Ot(n,c){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"app-input",28),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.START_DATE")),e.s9C("value",null==t.dataJsonObj.golfGameViewData?null:t.dataJsonObj.golfGameViewData.startDatetime)}}function jt(n,c){if(1&n&&(e.TgZ(0,"div",27),e._UZ(1,"app-input",29),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"COMMON_FIELDS.END_DATE")),e.s9C("value",null==t.dataJsonObj.golfGameViewData?null:t.dataJsonObj.golfGameViewData.endDatetime)}}function St(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"app-button",30),e.NdJ("buttonOnClick",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addPlayers())}),e.ALo(1,"translate"),e.qZA()}2&n&&e.s9C("label",e.lcZ(1,1,"COMMON_BUTTONS.BUTTON_ADD_PLAYERS"))}function Jt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"app-inputnumber",31),e.NdJ("valueChange",function(o){e.CHM(t);const i=e.oxw();return e.KtG(i.addNumberOfPlayers(o))}),e.ALo(1,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.s9C("label",e.lcZ(1,3,"GOLF_GAMES.ADD_NUMBER_OF_PLAYERS")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.addPlayersValue),e.Q6J("maxlength",3)}}function Ct(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.field=o)})("blur",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw(3);return e.KtG(i.onHeaderEdit(o))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.s9C("placeholder",t.placeHolder),e.Q6J("ngModel",t.field)}}function Tt(n,c){if(1&n&&(e.TgZ(0,"th",37),e.YNc(1,Ct,1,2,"input",38),e.TgZ(2,"span",39),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=c.$implicit;e.Q6J("pEditableColumn",t.editable),e.xp6(1),e.Q6J("ngIf",t.editable),e.xp6(2),e.Oqu(t.editable?"":e.lcZ(4,3,t.field))}}function vt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"input",40),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.field=o)})("blur",function(){e.CHM(t);const o=e.oxw().$implicit,i=e.oxw(3);return e.KtG(i.onHeaderEdit(o))}),e.qZA()}if(2&n){const t=e.oxw().$implicit;e.s9C("placeholder",t.placeHolder),e.Q6J("ngModel",t.field)}}function Dt(n,c){if(1&n&&(e.TgZ(0,"th",41),e.YNc(1,vt,1,2,"input",38),e.TgZ(2,"span",39),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=c.$implicit;e.Q6J("pEditableColumn",t.editable),e.xp6(1),e.Q6J("ngIf",t.editable),e.xp6(2),e.Oqu(t.editable?"":e.lcZ(4,3,t.field))}}function yt(n,c){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Tt,5,5,"th",35),e.YNc(2,Dt,5,5,"th",36),e.qZA()),2&n){const t=c.$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.dataJsonObj.frozenColumns),e.xp6(1),e.Q6J("ngForOf",t)}}function Et(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"input",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit,l=e.oxw().$implicit;return e.KtG(l.rowData[i.field].value=o)})("change",function(){e.CHM(t);const o=e.oxw(2).$implicit,i=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.calculateTotal(i.rowData[o.field]))})("keydown.enter",function(){e.CHM(t);const o=e.oxw(2).$implicit,i=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.calculateTotal(i.rowData[o.field]))})("keypress",function(o){e.CHM(t);const i=e.oxw(5);return e.KtG(i._keyPress(o))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,a=e.oxw().$implicit;e.s9C("placeholder",null==a.rowData[t.field]?null:a.rowData[t.field].placeHolder),e.Q6J("ngModel",a.rowData[t.field].value)("minlength",1)("maxlength",3)}}function It(n,c){if(1&n&&(e.TgZ(0,"div",49),e.YNc(1,Et,1,4,"input",50),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==a.rowData[t.field]?null:a.rowData[t.field].editable),e.xp6(1),e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].editable?"":null==a.rowData[t.field]?null:a.rowData[t.field].value," ")}}function At(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function Gt(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function Lt(n,c){1&n&&(e.TgZ(0,"td",45),e.ynx(1),e.TgZ(2,"p-cellEditor"),e.YNc(3,It,3,2,"ng-template",46),e.YNc(4,At,1,1,"ng-template",47),e.qZA(),e.BQk(),e.YNc(5,Gt,1,1,"ng-template",null,48,e.W1O),e.qZA()),2&n&&e.Tol(c.$implicit.columnclass)}function wt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"input",51),e.NdJ("ngModelChange",function(o){e.CHM(t);const i=e.oxw(2).$implicit,l=e.oxw().$implicit;return e.KtG(l.rowData[i.field].value=o)})("change",function(){e.CHM(t);const o=e.oxw(2).$implicit,i=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.calculateTotal(i.rowData[o.field]))})("keydown.enter",function(){e.CHM(t);const o=e.oxw(2).$implicit,i=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.calculateTotal(i.rowData[o.field]))})("keypress",function(o){e.CHM(t);const i=e.oxw(5);return e.KtG(i._keyPress(o))}),e.qZA()}if(2&n){const t=e.oxw(2).$implicit,a=e.oxw().$implicit;e.s9C("placeholder",null==a.rowData[t.field]?null:a.rowData[t.field].placeHolder),e.Q6J("ngModel",a.rowData[t.field].value)("minlength",1)("maxlength",3)}}function Ft(n,c){if(1&n&&(e.TgZ(0,"div",49),e.YNc(1,wt,1,4,"input",50),e._uU(2),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",null==a.rowData[t.field]?null:a.rowData[t.field].editable),e.xp6(1),e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].editable?"":null==a.rowData[t.field]?null:a.rowData[t.field].value," ")}}function Nt(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function Ut(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function xt(n,c){1&n&&(e.TgZ(0,"td",52),e.ynx(1),e.TgZ(2,"p-cellEditor"),e.YNc(3,Ft,3,2,"ng-template",46),e.YNc(4,Nt,1,1,"ng-template",47),e.qZA(),e.BQk(),e.YNc(5,Ut,1,1,"ng-template",null,48,e.W1O),e.qZA()),2&n&&e.Tol(c.$implicit.columnclass)}function Mt(n,c){if(1&n&&(e.TgZ(0,"tr",42),e.YNc(1,Lt,7,3,"td",43),e.YNc(2,xt,7,3,"td",44),e.qZA()),2&n){const t=c.$implicit,a=c.columns,o=e.oxw(2);e.Q6J("pEditableRow",t),e.xp6(1),e.Q6J("ngForOf",o.dataJsonObj.frozenColumns),e.xp6(1),e.Q6J("ngForOf",a)}}function Zt(n,c){if(1&n&&(e.TgZ(0,"p-table",32),e.YNc(1,yt,3,2,"ng-template",33),e.YNc(2,Mt,3,3,"ng-template",34),e.qZA()),2&n){const t=e.oxw();e.Q6J("columns",null==t.dataJsonObj?null:t.dataJsonObj.columns)("value",null==t.dataJsonObj?null:t.dataJsonObj.golfCourtSettingsData)("scrollable",!0)("rows",null==t.dataJsonObj?null:t.dataJsonObj.rows)}}let Rt=(()=>{class n extends D.O{apiEndPointUrl;golfGamesService;loggerService;navigationService;router;translateService;uiUtils;commonService;socketService;route;dataJsonObj={};errorObj={};loginUserDateFormat;utccurrentTime;startDate;endDate;userTimeZoneObj={};timezoneOptions;BACKSPEACE_CHARCODE=0;constructor(t,a,o,i,l,s,d,_,b,m){super(m,_),this.apiEndPointUrl=t,this.golfGamesService=a,this.loggerService=o,this.navigationService=i,this.router=l,this.translateService=s,this.uiUtils=d,this.commonService=_,this.socketService=b,this.route=m,this.route.params.subscribe(g=>{this.dataJsonObj.recordId=g.id,this.getRecordById()})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.GOLF_GAMES,this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.dataJsonObj.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl,this.dataJsonObj.enterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.enableImageDeleteValue=!0,this.dataJsonObj.isSubmitButtonDisabled=!1,this.dataJsonObj.totalCountsJSON={},this.dataJsonObj.isNumberOfPlayersEditEnabled=!1,this.dataJsonObj.golfCourtSettingsData=[],this.dataJsonObj.columns=[],this.dataJsonObj.userTimeZoneObj={},this.dataJsonObj.htmlPageRolesEnumValuesJson={pageEnum:r.hf,pageSettingEnum:r.AM,pageSettingFieldsEnum:r.In};const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.dataJsonObj.loginUserDateFormat=t.dateFormat,this.dataJsonObj.enableactions={START_DATE:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.DISPLAY_START_DATE),END_DATE:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.DISPLAY_END_DATE),SHOW_RECORD_HISTORY:this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.RECORD_HISTORY)}}getRecordById(){try{this.golfGamesService.get(this.dataJsonObj.recordId).subscribe(t=>{this.dataJsonObj.golfGameViewData=t,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.GOLF_GAME",value:this.dataJsonObj.golfGameViewData?.name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"GOLF_GAMES.SCOREBOARD",value:"",showSubMenuDisplayName:!1}];const a=this.displayDateFormatter(this.dataJsonObj.golfGameViewData.start_datetime,!1,!0);this.startDate=a.startDate;const o=this.displayDateFormatter(this.dataJsonObj.golfGameViewData.end_datetime,!1,!0);this.endDate=o.startDate,this.dataJsonObj.numberOfPlayers=this.dataJsonObj.golfGameViewData.number_of_players,this.dataJsonObj.golfGameViewData.startDatetime=this.startDate+" "+this.dataJsonObj.userTimeZoneObj.timeZoneCode,this.dataJsonObj.golfGameViewData.endDatetime=this.endDate+" "+this.dataJsonObj.userTimeZoneObj.timeZoneCode,this.getScoreBoardData(this.dataJsonObj.golfGameViewData)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)}}getScoreBoardData(t){try{this.dataJsonObj.totalCountsJSON={},this.dataJsonObj.golfCourtSettingsData=[],this.dataJsonObj.frozenColumns=[{headersort:"disableth",placeHolder:"HOLE",field:"HOLE",header:"HOLE",class:"",columnclass:"text-end",editable:!1},{headersort:"disableth",placeHolder:t?.scoreboard[0]?.attribute_name,field:t?.scoreboard[0]?.attribute_name,header:t?.scoreboard[0]?.attribute_name,class:"",columnclass:"text-end",editable:!1}];const a=[],o=new Set;for(let s=0;s<t.scoreboard.length;s++)for(let d=0;d<t.scoreboard[s].attribute_level_scoreboard.length;d++)for(let _=0;_<t.scoreboard[s].attribute_level_scoreboard[d].players.length;_++){const b=t.scoreboard[s].attribute_level_scoreboard[d].players[_].player_name;o.has(b)||(a.push({headersort:"disableth",placeHolder:b,field:b,header:b,previous_value:b,class:"",columnclass:"text-end",editable:!0}),o.add(b))}this.dataJsonObj.columns=a;const i=t.scoreboard[0].attribute_level_scoreboard,l={HOLE:"Total",rowData:{}};l[t?.scoreboard[0]?.attribute_name]=0;for(let s=0;s<i.length;s++){const d={HOLE:i[s].hole_number,rowData:{}};d[t?.scoreboard[0]?.attribute_name]=i[s].attribute_value,l[t?.scoreboard[0]?.attribute_name]=l[t?.scoreboard[0]?.attribute_name]+parseInt(i[s].attribute_value);for(let _=0;_<i[s].players.length;_++)d.rowData[i[s].players[_].player_name]={header:i[s].players[_].player_name,field:i[s].players[_].player_name,value:i[s].players[_].value,display_sequence:_,disabled:!1,editable:!0},l.rowData[i[s].players[_].player_name]||(l.rowData[i[s].players[_].player_name]={header:i[s].players[_].player_name,field:i[s].players[_].player_name,value:0,disabled:!1,editable:!1}),i[s].players[_].value&&(l.rowData[i[s].players[_].player_name].value=l.rowData[i[s].players[_].player_name].value+parseInt(i[s].players[_].value,10));this.dataJsonObj.golfCourtSettingsData.push(d)}this.dataJsonObj.golfCourtSettingsData.push(l),this.dataJsonObj.originalColumns=JSON.parse(JSON.stringify(this.dataJsonObj.columns)),this.dataJsonObj.originalGolfCourtSettingsData=JSON.parse(JSON.stringify(this.dataJsonObj.golfCourtSettingsData))}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getScoreBoardData",a)}}addPlayers(){this.dataJsonObj.isNumberOfPlayersEditEnabled=!0}addNumberOfPlayers(t){if(t.value){this.dataJsonObj.addPlayersValue=t.value?parseInt(t.value,10):"",this.dataJsonObj.numberOfPlayers=this.dataJsonObj.numberOfPlayers+this.dataJsonObj.addPlayersValue;for(let o of this.dataJsonObj.golfCourtSettingsData){const i=Object.keys(o.rowData).length;for(let l=1;l<=this.dataJsonObj.addPlayersValue;l++){const s="Player - "+(i+l);o.rowData[s]||(o.rowData[s]={}),o.rowData[s]={header:s,field:s,value:"",display_sequence:i+l-1,disabled:!1,editable:!0}}}const a=this.dataJsonObj.columns.length;for(let o=1;o<=this.dataJsonObj.addPlayersValue;o++){const i="Player - "+(a+o);this.dataJsonObj.columns.push({headersort:"disableth",field:i,header:i,previous_value:i,class:"",columnclass:"text-end",editable:!0})}}else this.dataJsonObj.columns=JSON.parse(JSON.stringify(this.dataJsonObj.originalColumns)),this.dataJsonObj.golfCourtSettingsData=JSON.parse(JSON.stringify(this.dataJsonObj.originalGolfCourtSettingsData));this.dataJsonObj.isNumberOfPlayersEditEnabled=!1,this.dataJsonObj.addPlayersValue=""}updateRecord(){try{const t=[];for(let o=0;o<this.dataJsonObj.golfGameViewData?.scoreboard.length;o++){const i={},l=[];i.attribute_name=this.dataJsonObj.golfGameViewData.scoreboard[o].attribute_name;for(let s of this.dataJsonObj?.golfCourtSettingsData)if("Total"!==s.HOLE){const d={hole_number:s.HOLE,attribute_value:s[i.attribute_name],players:[]};if(s.rowData){const _=[],b=Object.keys(s.rowData);for(let m of b)_.push({player_name:s.rowData[m].field,value:s.rowData[m].value,display_sequence:s.rowData[m].display_sequence});_.sort((m,g)=>m.display_sequence-g.display_sequence),d.players=_}l.push(d)}i.attribute_level_scoreboard=l,t.push(i)}this.dataJsonObj.isSubmitButtonDisabled=!0,this.golfGamesService.update({enterprise:this.dataJsonObj.golfGameViewData.enterprise,name:this.dataJsonObj.golfGameViewData.name,start_datetime:this.dataJsonObj.golfGameViewData.start_datetime,end_datetime:this.dataJsonObj.golfGameViewData.end_datetime,facility:this.dataJsonObj.golfGameViewData.facility,description:this.dataJsonObj.golfGameViewData.description,number_of_players:this.dataJsonObj.numberOfPlayers,scoreboard:t,is_enabled:this.dataJsonObj.golfGameViewData.is_enabled},this.dataJsonObj.recordId).then(o=>{this.socketEmit({room:this.dataJsonObj.recordId,data:{columns:this.dataJsonObj.columns,dataArr:this.dataJsonObj.golfCourtSettingsData}}),this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT")},o=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(o)),this.loggerService.setLoggerError(this.constructor.name,"updateRecord",o)})}catch(t){this.dataJsonObj.isSubmitButtonDisabled=!1,this.loggerService.setLoggerError(this.constructor.name,"updateRecord",t)}}socketEmit(t){this.socketService.emitEvent("GOLF_SCOREBOARD",t)}commonErrorCodes(t){try{const a=JSON.parse(t[r.BU.STATUS]);409===a&&(this.dataJsonObj.error="COMMON_STATUS_CODES."+a)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"commonErrorCodes",a)}}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}displayDateFormatter(t,a,o){try{const i=o?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,l={startDate:"",endDate:""};if(l.startDate=this.commonService.convertDateToUserFormat(i,r.eZ.HOURS_MINS,!0,"",!1),a){const s=o?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,d=this.commonService.addHoursToDate(s,120);l.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return l}catch(i){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",i)}}onHeaderEdit(t){const a=t.previous_value;if(t.field||(t.field=t.previous_value),t.field!==a){t.previous_value=t.field;const o=this.dataJsonObj.columns.findIndex(i=>i.field===a);-1!==o&&(this.dataJsonObj.columns[o]=t);for(let i of this.dataJsonObj?.golfCourtSettingsData)i.rowData&&i.rowData[a]&&(i.rowData[t.field]=JSON.parse(JSON.stringify(i.rowData[a])),delete i.rowData[a],i.rowData[t.field].field=t.field)}this.dataJsonObj.originalColumns=JSON.parse(JSON.stringify(this.dataJsonObj.columns)),this.dataJsonObj.originalGolfCourtSettingsData=JSON.parse(JSON.stringify(this.dataJsonObj.golfCourtSettingsData))}calculateTotal(t){const a=this.dataJsonObj.golfCourtSettingsData?this.dataJsonObj.golfCourtSettingsData.length-1:"";if(a&&this.dataJsonObj.golfCourtSettingsData[a]&&this.dataJsonObj.golfCourtSettingsData[a].rowData&&this.dataJsonObj.golfCourtSettingsData[a].rowData[t.field]){this.dataJsonObj.golfCourtSettingsData[a].rowData[t.field].value=0;for(let o of this.dataJsonObj?.golfCourtSettingsData)if("Total"!==o.HOLE){const i=o.rowData?o.rowData[t.field]:"",l=i&&i.value?parseInt(i.value,10):"";l&&(this.dataJsonObj.golfCourtSettingsData[a].rowData[t.field].value+=l)}}this.dataJsonObj.originalColumns=JSON.parse(JSON.stringify(this.dataJsonObj.columns)),this.dataJsonObj.originalGolfCourtSettingsData=JSON.parse(JSON.stringify(this.dataJsonObj.golfCourtSettingsData))}_keyPress(t){this.errorObj.error="";const o=String.fromCharCode(t.charCode);/[0-9]/.test(o)||46===t.charCode&&43===t.charCode&&45===t.charCode||t.charCode===this.BACKSPEACE_CHARCODE?this.clearMessage():(this.errorObj.error="COMMON_VALIDATION_MESSAGES.VALID_ENTER_ONLY_NUMERIC_VALUE",t.preventDefault())}clearMessage(){}static \u0275fac=function(a){return new(a||n)(e.Y36("apiEndPoint"),e.Y36(J),e.Y36(T.m),e.Y36(V.f),e.Y36(O.F0),e.Y36(f.sK),e.Y36(A.s),e.Y36(C.v),e.Y36(U.$),e.Y36(O.gz))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-golf-games-scoreboard"]],features:[e._Bn([J,C.v]),e.qOj],decls:43,vars:34,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-lg-12"],[1,"row"],[1,"col-lg-3","col-md-6"],["disabled","true","id","golfgames-view-name",3,"label","value"],["disabled","true","id","golfgames-view-facilityname",3,"label","value"],["disabled","true","id","golfgames-view-numberofplayers",3,"label","value"],["class","col-lg-6 col-md-6",4,"ngIf"],[1,"col-md-3"],["className","btn btn-primary btn-sm","class","mgr-5","id","golfgames-edit-submit",3,"label","buttonOnClick",4,"ngIf"],["mandatory","false","disabled","false","id","golfgames-create-addplayersvalue",3,"label","value","maxlength","valueChange",4,"ngIf"],[1,"col-md-12","text-end","mt-2","mb-2"],["className","btn btn-primary btn-sm pdr-rem-3 pdl-rem-3","id","golfgames-edit-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","golfgames-create-cancel",3,"label","buttonOnClick"],[1,"card"],[1,"card-content"],[1,"d-flex","align-items-center","justify-content-between","subsection-title-bg"],[1,"main-title","mg-0","fs-14","mgl-5"],["class","ptable mgb-10","dataKey","HOLE","selectionMode","single","editMode","row",3,"columns","value","scrollable","rows",4,"ngIf"],[1,"col-lg-6","col-md-6"],["disabled","true","id","golfgames-view-start_date",3,"label","value"],["disabled","true","id","golfgames-view-end_date",3,"label","value"],["className","btn btn-primary btn-sm","id","golfgames-edit-submit",1,"mgr-5",3,"label","buttonOnClick"],["mandatory","false","disabled","false","id","golfgames-create-addplayersvalue",3,"label","value","maxlength","valueChange"],["dataKey","HOLE","selectionMode","single","editMode","row",1,"ptable","mgb-10",3,"columns","value","scrollable","rows"],["pTemplate","header"],["pTemplate","body"],["style","min-width:100px","pFrozenColumn","",3,"pEditableColumn",4,"ngFor","ngForOf"],[3,"pEditableColumn",4,"ngFor","ngForOf"],["pFrozenColumn","",2,"min-width","100px",3,"pEditableColumn"],["class","p-inputtext p-component p-filled","type","text",3,"ngModel","placeholder","ngModelChange","blur",4,"ngIf"],[1,"fw-600"],["type","text",1,"p-inputtext","p-component","p-filled",3,"ngModel","placeholder","ngModelChange","blur"],[3,"pEditableColumn"],[3,"pEditableRow"],["pEditableColumn","","style","min-width:100px","pFrozenColumn","",3,"class",4,"ngFor","ngForOf"],["pEditableColumn","",3,"class",4,"ngFor","ngForOf"],["pEditableColumn","","pFrozenColumn","",2,"min-width","100px"],["pTemplate","input"],["pTemplate","output"],["noEdit",""],[1,""],["class","p-inputtext p-component p-filled","type","text",3,"ngModel","placeholder","minlength","maxlength","ngModelChange","change","keydown.enter","keypress",4,"ngIf"],["type","text",1,"p-inputtext","p-component","p-filled",3,"ngModel","placeholder","minlength","maxlength","ngModelChange","change","keydown.enter","keypress"],["pEditableColumn",""]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10)(11,"div",11),e._UZ(12,"app-input",12),e.ALo(13,"translate"),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",11),e._UZ(16,"app-input",13),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",11),e._UZ(19,"app-input",14),e.ALo(20,"translate"),e.qZA(),e.YNc(21,Ot,3,4,"div",15),e.YNc(22,jt,3,4,"div",15),e.qZA(),e.TgZ(23,"div",10)(24,"div",16),e.YNc(25,St,2,3,"app-button",17),e.qZA(),e.TgZ(26,"div",16),e.YNc(27,Jt,2,5,"app-inputnumber",18),e.qZA()(),e.TgZ(28,"div",19)(29,"app-button",20),e.NdJ("buttonOnClick",function(){return o.updateRecord()}),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"app-button",21),e.NdJ("buttonOnClick",function(){return o.cancel()}),e.ALo(32,"translate"),e.qZA()()()(),e.TgZ(33,"div",10)(34,"div",3)(35,"div",22)(36,"div",23)(37,"div",24)(38,"h4",25),e._uU(39),e.ALo(40,"translate"),e.qZA()(),e.TgZ(41,"div",22),e.YNc(42,Zt,3,4,"p-table",26),e.qZA()()()()()()()()()()()),2&a&&(e.xp6(6),e.Q6J("pageName",o.dataJsonObj.pageName)("pageTitle",o.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(6),e.hYB("label","",e.lcZ(13,20,"COMMON_PAGE_TITLES.TEAM")," ",e.lcZ(14,22,"COMMON_FIELDS.NAME"),""),e.s9C("value",null==o.dataJsonObj.golfGameViewData?null:o.dataJsonObj.golfGameViewData.name),e.xp6(4),e.s9C("label",e.lcZ(17,24,"COMMON_PAGE_TITLES.FACILITY")),e.s9C("value",null==o.dataJsonObj.golfGameViewData||null==o.dataJsonObj.golfGameViewData.facility?null:o.dataJsonObj.golfGameViewData.facility.facility_name),e.xp6(3),e.s9C("label",e.lcZ(20,26,"GOLF_GAMES.NUMBER_OF_PLAYERS")),e.s9C("value",o.dataJsonObj.numberOfPlayers),e.xp6(2),e.Q6J("ngIf",o.dataJsonObj.enableactions.START_DATE),e.xp6(1),e.Q6J("ngIf",o.dataJsonObj.enableactions.END_DATE),e.xp6(3),e.Q6J("ngIf",o.roleRightsValidationByPage(null==o.dataJsonObj.htmlPageRolesEnumValuesJson?null:o.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.GOLF_GAMES,null==o.dataJsonObj.htmlPageRolesEnumValuesJson?null:o.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,null==o.dataJsonObj.htmlPageRolesEnumValuesJson?null:o.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.ADD_PLAYERS)),e.xp6(2),e.Q6J("ngIf",null==o.dataJsonObj?null:o.dataJsonObj.isNumberOfPlayersEditEnabled),e.xp6(2),e.s9C("label",e.lcZ(30,28,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.Q6J("disabled",o.dataJsonObj.isSubmitButtonDisabled),e.xp6(2),e.s9C("label",e.lcZ(32,30,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(8),e.Oqu(e.lcZ(40,32,"GOLF_GAMES.SCOREBOARD")),e.xp6(3),e.Q6J("ngIf",(null==o.dataJsonObj||null==o.dataJsonObj.golfCourtSettingsData?null:o.dataJsonObj.golfCourtSettingsData.length)>0))},dependencies:[h.sg,h.O5,y.r,G.a,x.K,L.q,w.jx,j.Fj,j.JJ,j.wO,j.nD,j.On,p.iA,p.on,p.Wq,p.YL,p.D$,f.X$],styles:[".player-view[_ngcontent-%COMP%]{max-height:200px}input[_ngcontent-%COMP%]{width:100%;height:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{min-width:100px;max-width:100px;padding:0 5px 2px;border:1px solid #dee2e6;border-top-width:0px}"]})}return n})();function Bt(n,c){if(1&n&&(e.TgZ(0,"th",22),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.field)," ")}}function kt(n,c){if(1&n&&(e.TgZ(0,"th",23),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.field)," ")}}function Pt(n,c){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Bt,3,3,"th",20),e.YNc(2,kt,3,3,"th",21),e.qZA()),2&n){const t=c.$implicit,a=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",a.dataJsonObj.frozenColumns),e.xp6(1),e.Q6J("ngForOf",t)}}function Ht(n,c){if(1&n&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.xp6(1),e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function Vt(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function qt(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function Yt(n,c){1&n&&(e.TgZ(0,"td",27),e.ynx(1),e.TgZ(2,"p-cellEditor"),e.YNc(3,Ht,2,1,"ng-template",28),e.YNc(4,Vt,1,1,"ng-template",29),e.qZA(),e.BQk(),e.YNc(5,qt,1,1,"ng-template",null,30,e.W1O),e.qZA()),2&n&&e.Tol(c.$implicit.columnclass)}function $t(n,c){if(1&n&&(e.TgZ(0,"div",31),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.xp6(1),e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function Qt(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function zt(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw().$implicit,a=e.oxw().$implicit;e.hij(" ",null!=a.rowData[t.field]&&a.rowData[t.field].value?null==a.rowData[t.field]?null:a.rowData[t.field].value:a[t.field]?a[t.field]:"--"," ")}}function Kt(n,c){1&n&&(e.TgZ(0,"td",32),e.ynx(1),e.TgZ(2,"p-cellEditor"),e.YNc(3,$t,2,1,"ng-template",28),e.YNc(4,Qt,1,1,"ng-template",29),e.qZA(),e.BQk(),e.YNc(5,zt,1,1,"ng-template",null,30,e.W1O),e.qZA()),2&n&&e.Tol(c.$implicit.columnclass)}function Wt(n,c){if(1&n&&(e.TgZ(0,"tr",24),e.YNc(1,Yt,7,3,"td",25),e.YNc(2,Kt,7,3,"td",26),e.qZA()),2&n){const t=c.$implicit,a=c.columns,o=e.oxw(2);e.Q6J("pEditableRow",t),e.xp6(1),e.Q6J("ngForOf",o.dataJsonObj.frozenColumns),e.xp6(1),e.Q6J("ngForOf",a)}}function Xt(n,c){if(1&n&&(e.TgZ(0,"p-table",17),e.YNc(1,Pt,3,2,"ng-template",18),e.YNc(2,Wt,3,3,"ng-template",19),e.qZA()),2&n){const t=e.oxw();e.Q6J("columns",null==t.dataJsonObj?null:t.dataJsonObj.columns)("value",null==t.dataJsonObj?null:t.dataJsonObj.golfCourtSettingsData)("scrollable",!0)("rows",null==t.dataJsonObj?null:t.dataJsonObj.rows)}}let ea=(()=>{class n extends D.O{apiEndPointUrl;golfGamesService;loggerService;router;translateService;commonService;route;socketService;dataJsonObj={};errorObj={};socketSubscriber;socketEmitIntervalSubscribe;constructor(t,a,o,i,l,s,d,_){super(d,s),this.apiEndPointUrl=t,this.golfGamesService=a,this.loggerService=o,this.router=i,this.translateService=l,this.commonService=s,this.route=d,this.socketService=_,this.route.params.subscribe(b=>{this.dataJsonObj.recordId=b.id}),this.route.queryParams.subscribe(b=>{this.dataJsonObj.queryParamsObj={defaultView:b.defaultView,selectedMenuId:b.selectedMenuId,selectedSubMenuId:b.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}ngOnDestroy(){this.socketEmitSubscribeclearInterval(),this.socketSubscriber&&this.socketSubscriber.unsubscribe()}socketEmitSubscribeclearInterval(){this.socketEmitIntervalSubscribe&&(clearInterval(this.socketEmitIntervalSubscribe),this.socketEmitIntervalSubscribe=null)}initializeComponent(){this.dataJsonObj.selectedPage=r.hf.GOLF_GAMES,this.dataJsonObj.totalCountsJSON={},this.dataJsonObj.userTimeZoneObj={},this.dataJsonObj.url=this.router.url.split("/")[4],this.dataJsonObj.extendEndTime=!1,this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl;const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.dataJsonObj.loginUserDateFormat=t.dateFormat,this.commonService.getLookupCodesListJson(this.dataJsonObj.selectedEnterpriseId,"list").then(o=>{this.dataJsonObj.lookupCodesListJSON=o}),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.GOLF_GAMES,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.getRecordById(),this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}]),this.intializeSocket(this.dataJsonObj.recordId)}getDynamicJson(t){var a=this;return(0,S.Z)(function*(){for(let o of t)a.dataJsonObj[o.storingFieldName]=yield a.commonService.getDynamicJson(a.dataJsonObj.selectedEnterpriseId,o.folderName,o.jsonType);a.dataJsonObj.selectedObj={},a.dataJsonObj.selectedObj.recordId=a.dataJsonObj.recordId,a.dataJsonObj.selectedObj.pageObj=a.dataJsonObj.menuDataJson.filter(o=>o.menu_page.page_name===a.dataJsonObj.selectedPage),a.dataJsonObj.selectedObjEnabled=!0})()}getRecordById(){try{this.golfGamesService.get(this.dataJsonObj.recordId).subscribe(t=>{this.dataJsonObj.golfGameViewData=t,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.GOLF_GAME",value:this.dataJsonObj.golfGameViewData.name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.DASHBOARD",value:"",showSubMenuDisplayName:!1}];const a=this.displayDateFormatter(this.dataJsonObj.golfGameViewData.start_datetime,!1,!0);this.dataJsonObj.startDate=a.startDate;const o=this.displayDateFormatter(this.dataJsonObj.golfGameViewData.end_datetime,!1,!0);this.dataJsonObj.endDate=o.startDate,this.dataJsonObj.golfGameViewData.start_datetime=this.dataJsonObj.startDate+" "+this.dataJsonObj.userTimeZoneObj.timeZoneCode,this.dataJsonObj.golfGameViewData.end_datetime=this.dataJsonObj.endDate+" "+this.dataJsonObj.userTimeZoneObj.timeZoneCode,this.getScoreBoardData(this.dataJsonObj.golfGameViewData)})}catch{}}getScoreBoardData(t){try{this.dataJsonObj.totalCountsJSON={},this.dataJsonObj.golfCourtSettingsData=[],this.dataJsonObj.frozenColumns=[{headersort:"disableth",placeHolder:"HOLE",field:"HOLE",header:"HOLE",class:"",columnclass:"text-end",editable:!1},{headersort:"disableth",placeHolder:t?.scoreboard[0]?.attribute_name,field:t?.scoreboard[0]?.attribute_name,header:t?.scoreboard[0]?.attribute_name,class:"",columnclass:"text-end",editable:!1}];const a=[],o=new Set;for(let s=0;s<t.scoreboard.length;s++)for(let d=0;d<t.scoreboard[s].attribute_level_scoreboard.length;d++)for(let _=0;_<t.scoreboard[s].attribute_level_scoreboard[d].players.length;_++){const b=t.scoreboard[s].attribute_level_scoreboard[d].players[_].player_name;o.has(b)||(a.push({headersort:"disableth",placeHolder:b,field:b,header:b,previous_value:b,class:"",columnclass:"text-end",editable:!0}),o.add(b))}this.dataJsonObj.columns=a;const i=t.scoreboard[0].attribute_level_scoreboard,l={HOLE:"Total",rowData:{}};l[t?.scoreboard[0]?.attribute_name]=0;for(let s=0;s<i.length;s++){const d={HOLE:i[s].hole_number,rowData:{}};d[t?.scoreboard[0]?.attribute_name]=i[s].attribute_value,l[t?.scoreboard[0]?.attribute_name]=l[t?.scoreboard[0]?.attribute_name]+parseInt(i[s].attribute_value);for(let _=0;_<i[s].players.length;_++)d.rowData[i[s].players[_].player_name]={header:i[s].players[_].player_name,field:i[s].players[_].player_name,value:i[s].players[_].value,placeHolder:"",disabled:!1,editable:!0},l.rowData[i[s].players[_].player_name]||(l.rowData[i[s].players[_].player_name]={header:i[s].players[_].player_name,field:i[s].players[_].player_name,value:0,placeHolder:"",disabled:!1,editable:!1}),i[s].players[_].value&&(l.rowData[i[s].players[_].player_name].value=l.rowData[i[s].players[_].player_name].value+parseInt(i[s].players[_].value,10));this.dataJsonObj.golfCourtSettingsData.push(d)}this.dataJsonObj.golfCourtSettingsData.push(l)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getScoreBoardData",a)}}commonErrorCodes(t){409===JSON.parse(t[r.BU.STATUS])&&(this.errorObj.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Close",t)}}displayDateFormatter(t,a,o){try{const i=o?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,l={startDate:"",endDate:""};if(l.startDate=this.commonService.convertDateToUserFormat(i,r.eZ.HOURS_MINS,!0,"",!1),a){const s=o?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,d=this.commonService.addHoursToDate(s,120);l.endDate=this.commonService.convertDateToUserFormat(d,r.eZ.HOURS_MINS,!0,"",!1)}return l}catch(i){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",i)}}cancelPopUpButton(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",t)}}intializeSocket(t){this.socketSubscriber&&this.socketSubscriber.unsubscribe(),this.socketSubscriber=this.socketService.subscribeEvent(t).subscribe(a=>{this.dataJsonObj.columns=a.columns,this.dataJsonObj.golfCourtSettingsData=a.dataArr})}static \u0275fac=function(a){return new(a||n)(e.Y36("apiEndPoint"),e.Y36(J),e.Y36(T.m),e.Y36(O.F0),e.Y36(f.sK),e.Y36(C.v),e.Y36(O.gz),e.Y36(U.$))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-golf-games-dashboard"]],features:[e._Bn([J]),e.qOj],decls:22,vars:11,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body","p-0"],[1,"row"],[1,"card"],[1,"card-content"],[1,"d-flex","align-items-center","justify-content-between","subsection-title-bg"],[1,"main-title","mg-0","fs-14","mgl-5"],["class","ptable mgb-10","dataKey","HOLE","selectionMode","single","editMode","row",3,"columns","value","scrollable","rows",4,"ngIf"],[1,"row","form-bs"],[1,"col-md-12","text-end","mt-2","mb-2"],["className","btn btn-danger btn-sm","id","iotevents-view-close",3,"label","buttonOnClick"],["dataKey","HOLE","selectionMode","single","editMode","row",1,"ptable","mgb-10",3,"columns","value","scrollable","rows"],["pTemplate","header"],["pTemplate","body"],["class","fw-600","style","min-width:100px","pFrozenColumn","",4,"ngFor","ngForOf"],["class","fw-600",4,"ngFor","ngForOf"],["pFrozenColumn","",1,"fw-600",2,"min-width","100px"],[1,"fw-600"],[3,"pEditableRow"],["pEditableColumn","","style","min-width:100px","pFrozenColumn","",3,"class",4,"ngFor","ngForOf"],["pEditableColumn","",3,"class",4,"ngFor","ngForOf"],["pEditableColumn","","pFrozenColumn","",2,"min-width","100px"],["pTemplate","input"],["pTemplate","output"],["noEdit",""],[1,""],["pEditableColumn",""]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",3)(10,"div",9)(11,"div",10)(12,"div",11)(13,"h4",12),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",9),e.YNc(17,Xt,3,4,"p-table",13),e.qZA()()()()(),e.TgZ(18,"div",14)(19,"div",15)(20,"app-button",16),e.NdJ("buttonOnClick",function(){return o.cancel()}),e.ALo(21,"translate"),e.qZA()()()()()()()()()),2&a&&(e.xp6(6),e.Q6J("pageName",o.dataJsonObj.pageName)("pageTitle",o.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(8),e.Oqu(e.lcZ(15,7,"GOLF_GAMES.SCOREBOARD")),e.xp6(3),e.Q6J("ngIf",(null==o.dataJsonObj||null==o.dataJsonObj.golfCourtSettingsData?null:o.dataJsonObj.golfCourtSettingsData.length)>0),e.xp6(3),e.s9C("label",e.lcZ(21,9,"COMMON_BUTTONS.BUTTON_CLOSE")))},dependencies:[h.sg,h.O5,y.r,L.q,w.jx,p.iA,p.on,p.Wq,p.YL,p.D$,f.X$],styles:[".player-view[_ngcontent-%COMP%]{max-height:200px}input[_ngcontent-%COMP%]{width:100%;height:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{min-width:100px;max-width:100px;padding:0 5px 2px;border:1px solid #dee2e6;border-top-width:0px}"]})}return n})();var Y=u(61135),Q=u(17445),z=u(22529);const ta=["datatableComponent"],aa=["playersDataPTable"],oa=["playersIonContent"];function ia(n,c){if(1&n&&(e.TgZ(0,"div",19)(1,"a",20),e._UZ(2,"img",21),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.s9C("src",t.dataJsonObj.sidebarTopImage,e.LSH)}}function na(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"span",29),e.NdJ("click",function(){const i=e.CHM(t).index,l=e.oxw(2);return e.KtG(l.onSelectedFacility(i))}),e._uU(1),e.qZA()}if(2&n){const t=c.$implicit;e.xp6(1),e.Oqu(null==t?null:t.NAME)}}function la(n,c){if(1&n&&(e.TgZ(0,"li",22)(1,"span",23)(2,"span",24),e._uU(3),e.qZA(),e._UZ(4,"i",25),e.qZA(),e.TgZ(5,"div",26)(6,"div",27),e.YNc(7,na,2,1,"span",28),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(null==t.dataJsonObj?null:t.dataJsonObj.facility),e.xp6(4),e.Q6J("ngForOf",t.dataJsonObj.facilityOptions)}}function sa(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"span",32)(1,"span",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.leaderboardUISettingsPopupOpen())}),e._UZ(2,"i",34),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.s9C("title",e.lcZ(3,1,"GOLF_GAMES.UI_SETTINGS")))}function ra(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"span",32)(1,"span",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.displayInFullScreen())}),e._UZ(2,"i",35),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.s9C("title",e.lcZ(3,1,"COMMON_BUTTONS.BUTTON_FULLSCREEN")))}function da(n,c){if(1&n&&(e.TgZ(0,"span",30),e.YNc(1,sa,4,3,"span",31),e.YNc(2,ra,4,3,"span",31),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.dataJsonObj.enableactions.UI_SETTINGS&&!t.isFullScreen),e.xp6(1),e.Q6J("ngIf",!(null!=t.dataJsonObj&&null!=t.dataJsonObj.queryParamsObj&&t.dataJsonObj.queryParamsObj.showFullScreen))}}function ca(n,c){if(1&n&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.header2))}}function _a(n,c){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,ca,3,3,"div",37),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.dataJsonObj.headers)}}function ba(n,c){if(1&n&&(e.TgZ(0,"tr",47)(1,"td",48),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_LEADERBOARD_NO_PLAYERS_INFO"),"")}}function ua(n,c){if(1&n&&e.YNc(0,ba,4,4,"tr",46),2&n){const t=e.oxw(2);e.Q6J("ngIf",!(null!=t.dataJsonObj&&null!=t.dataJsonObj.leaderBoardDataJSON&&null!=t.dataJsonObj.leaderBoardDataJSON.players&&t.dataJsonObj.leaderBoardDataJSON.players.length||null!=t.dataJsonObj&&t.dataJsonObj.showSpinner))}}function ma(n,c){if(1&n&&(e.TgZ(0,"th"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=c.$implicit;e.Tol(t.class),e.xp6(1),e.hij(" ",e.lcZ(2,4,t.header)," ")}}function ga(n,c){if(1&n&&(e.TgZ(0,"tr",49),e.YNc(1,ma,3,6,"th",50),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("ngForOf",t)}}function pa(n,c){if(1&n&&(e.TgZ(0,"td",53)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=c.$implicit,a=e.oxw().$implicit;e.Tol(t.class),e.Q6J("ngClass","score"===t.field&&a[t.field]>0?"leaderboard-positive-text":"score"===t.field&&a[t.field]<0?"leaderboard-negative-text":"score"===t.field&&0===a[t.field]?"leaderboard-equal-text":""),e.xp6(2),e.Oqu("score"===t.field&&0===a[t.field]?"E":a[t.field])}}function ha(n,c){if(1&n&&(e.TgZ(0,"tr",51),e.YNc(1,pa,3,5,"td",52),e.qZA()),2&n){const t=c.columns;e.xp6(1),e.Q6J("ngForOf",t)}}function fa(n,c){if(1&n&&(e.TgZ(0,"div",7)(1,"ion-content",39,40)(3,"p-table",41,42),e.YNc(5,ua,1,1,"ng-template",43),e.YNc(6,ga,2,1,"ng-template",44),e.YNc(7,ha,2,1,"ng-template",45),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Udp("min-height",t.dataJsonObj.ionContentHeight),e.Q6J("scrollEvents",!0),e.xp6(2),e.Q6J("columns",null==t.dataJsonObj?null:t.dataJsonObj.headers)("value",null==t.dataJsonObj||null==t.dataJsonObj.leaderBoardDataJSON?null:t.dataJsonObj.leaderBoardDataJSON.players)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0)("scrollable",!0)("scrollHeight",t.dataJsonObj.scrollableHeight)}}const Oa=function(n){return{"fullscreen-mode":n}},Sa=[{path:"",data:{title:"golfgames"},children:[{path:"golfgames/list",component:tt,canActivate:[v.P],data:{object_type:r.hf.GOLF_GAMES,title:"Golf Game List",pageName:r.hf.GOLF_GAMES}},{path:"golfgames/create",component:Be,canActivate:[v.P],data:{object_type:r.hf.GOLF_GAMES,title:"Golf Game Create",pageName:r.hf.GOLF_GAMES,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}},{path:"golfgames/leaderboard",component:(()=>{class n extends D.O{apiEndPointUrl;buildJson;golfGamesService;loggerService;router;translateService;commonService;listingVariables;route;uiUtils;datatableComponent;playersDataPTable;playersIonContent;searchValueChange=new e.vpe;onResize(t){this.setScrollableDynamicHeight()}dataJsonObj={};errorObj={};isFullScreen=!1;timeIntervalSubject;timeIntervalSubscription;scrollTimeIntervalSubject;scrollTimeIntervalSubscription;constructor(t,a,o,i,l,s,d,_,b,m){super(b,d),this.apiEndPointUrl=t,this.buildJson=a,this.golfGamesService=o,this.loggerService=i,this.router=l,this.translateService=s,this.commonService=d,this.listingVariables=_,this.route=b,this.uiUtils=m,this.route.params.subscribe(g=>{this.dataJsonObj.recordId=g.id}),this.route.queryParams.subscribe(g=>{this.dataJsonObj.queryParamsObj={defaultView:g.defaultView,selectedMenuId:g.selectedMenuId,selectedSubMenuId:g.selectedSubMenuId,showFullScreen:g.showFullScreen,selectedFacilityId:g.selectedFacilityId}})}ngOnInit(){this.initializeComponent(),this.route.queryParams.subscribe(t=>{this.isFullScreen="true"===t.showFullScreen})}ngOnDestroy(){this.stopTimeInterval(),this.stopScrollTimeInterval()}initializeComponent(){this.dataJsonObj.queryParamsObj?.showFullScreen&&this.commonService.hideWebHeaderFooter(),this.dataJsonObj.enableactions={UI_SETTINGS:this.roleRightsValidationByPage(r.hf.GOLF_GAMES_LEADERBOARD,r.AM.ACTIONS,r.In.UI_SETTINGS)},this.dataJsonObj.selectedPage=r.hf.GOLF_GAMES_LEADERBOARD,this.dataJsonObj.totalCountsJSON={},this.dataJsonObj.userTimeZoneObj={},this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(r.BU.SELECTED_ENTERPRISE),this.dataJsonObj.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl;const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.dataJsonObj.loginUserDateFormat=t.dateFormat,this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"},{folderName:"facilities",jsonType:"v2",storingFieldName:"facilitiesListJson"}]),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.noDuplicates=void 0,this.dataJsonObj.isEnableFacilitySelection=!1,this.dataJsonObj.isLeaderboardUISettingsPopupEnabled=!1,this.dataJsonObj.defaultUISettingsData=JSON.parse(localStorage.getItem(r.BU.DEFAULT_UI_SETTINGS_DATA)),this.dataJsonObj.sidebarTopImage=this.commonService.checkLocalMobileDataImages(this.dataJsonObj.defaultUISettingsData.enterprise_top_image_file_path,this.dataJsonObj.defaultUISettingsData.enterprise_top_image_file_name,!1)}getDynamicJson(t){var a=this;return(0,S.Z)(function*(){for(let o of t)a.dataJsonObj[o.storingFieldName]=yield a.commonService.getDynamicJson(a.dataJsonObj.selectedEnterpriseId,o.folderName,o.jsonType);a.dataJsonObj.selectedObj={},a.dataJsonObj.selectedObj.recordId=a.dataJsonObj.recordId,a.dataJsonObj.selectedObj.pageObj=a.dataJsonObj.menuDataJson.filter(o=>o.menu_page.page_name===a.dataJsonObj.selectedPage),a.dataJsonObj.selectedObjEnabled=!0,a.dataJsonObj.facilitiesDataList=a.dataJsonObj.facilitiesListJson?a.dataJsonObj.facilitiesListJson.filter(o=>o.facility_type.facility_type_name===r.eY.GOLF_COURT):[],a.dataJsonObj.facilitiesDataList?.length>0&&(a.dataJsonObj.facilitiesDataList.sort((o,i)=>o.NAME.localeCompare(i.NAME)),a.getFacilities(""))})()}getFacilities(t){var a=this;return(0,S.Z)(function*(){try{if(a.dataJsonObj.facilityOptions=yield a.commonService.getFilteredDynamicJSONData(a.dataJsonObj.facilitiesDataList,"NAME",t),a.dataJsonObj.facilityOptions?.length>0){const o=a.dataJsonObj.queryParamsObj?.selectedFacilityId?a.dataJsonObj.facilityOptions.findIndex(i=>i.ID+""==a.dataJsonObj.queryParamsObj?.selectedFacilityId+""):0;a.onSelectedFacility(o)}}catch(o){a.loggerService.setLoggerError(a.constructor.name,"getFacilities",o)}})()}getActiveGolfGames(t){var a=this;return(0,S.Z)(function*(){try{const o=yield a.golfGamesService.getActiveGolfGamesList(a.dataJsonObj.selectedEnterpriseId,a.dataJsonObj.facilityId,a.dataJsonObj.golfCourtSettingsJSON.displayDateSpecificTimeZone,!0,t),i=o&&o.rows?o.rows:[];o?.latestLeaderBoardUISettings&&(a.dataJsonObj.leaderboardUIThemeData=JSON.parse(JSON.stringify(o.latestLeaderBoardUISettings)),a.dataJsonObj.leaderboardUIThemeSettingsData=o.latestLeaderBoardUISettings,a.leaderboardDynamicTheme()),yield a.getLeaderBoardData(i)}catch(o){a.loggerService.setLoggerError(a.constructor.name,"getActiveGolfGames",o)}})()}getHeadersDynamicHeight(){const t=document.getElementById("mainHeaderMobId"),a=t?t.offsetHeight:0,o=document.getElementById("mainHeaderWebId"),i=o?o.offsetHeight:0,l=document.getElementById("golfgames-leaderboard-header"),s=l?l.offsetHeight:0,d=document.getElementById("golfgames-leaderboard-title-headers");this.dataJsonObj.headersDynamicHeight=s+(d?d.offsetHeight:0)+a+i;const b=window.innerHeight-this.dataJsonObj.headersDynamicHeight;this.dataJsonObj.ionContentHeight=`${b}px`}setScrollableDynamicHeight(){const t=document.getElementById("golfgames-leaderboard-table-headers"),a=t?t.offsetHeight:0,o=document.getElementById("golfgames-leaderboard-table-data-rows"),i=o?o.offsetHeight:0,l=window.innerHeight-this.dataJsonObj.headersDynamicHeight-a,s=i?Math.floor(l/i)*i:l;this.dataJsonObj.scrollableHeight=s+i,this.dataJsonObj.ionContentHeight=`${this.dataJsonObj.scrollableHeight}px`}getLeaderBoardData(t){var a=this;return(0,S.Z)(function*(){const o={date:a.dataJsonObj.golfCourtSettingsJSON.displayDate,attributeName:a.dataJsonObj.golfCourtSettingsJSON.attributeName,totalAttributeValue:a.dataJsonObj.golfCourtSettingsJSON.totalAttributeValue,totalAttributeValueByHole:a.dataJsonObj.golfCourtSettingsJSON.totalAttributeValueByHole,targetTotalHoles:a.dataJsonObj.golfCourtSettingsJSON.targetTotalHoles,players:[]};a.dataJsonObj.finishedLabel=a.translateService.instant("GOLF_GAMES.FINISHED"),a.dataJsonObj.recordIds=[];for(let i of t){a.dataJsonObj.recordIds.push(i._id);const l={};for(let d of i.scoreboard[0].attribute_level_scoreboard)for(let _ of d.players){l[_.player_name]||(l[_.player_name]={completedHoles:0,totalAttributeValue:0,playerName:_.player_name});const b=_.value&&parseInt(_.value,10)?parseInt(_.value,10):0;l[_.player_name].completedHoles<d.hole_number&&b&&(l[_.player_name].completedHoles=d.hole_number),l[_.player_name].totalAttributeValue=l[_.player_name].totalAttributeValue+b}const s=Object.keys(l);for(let d of s)l[d].completedHoles&&o.players.push({holes:l[d].completedHoles===o.targetTotalHoles?a.dataJsonObj.finishedLabel:l[d].completedHoles,completedHoles:l[d].completedHoles,score:l[d].completedHoles?l[d].totalAttributeValue-o.totalAttributeValueByHole[l[d].completedHoles]:0,playerName:l[d].playerName})}o.players.sort((i,l)=>i.completedHoles<l.completedHoles?1:i.completedHoles>l.completedHoles||i.score<l.score?-1:i.score>l.score?1:0),a.playersDataPTable&&(a.dataJsonObj.leaderBoardDataJSON=o,a.dataJsonObj.disableLeaderboardUISettingsPopup=!a.dataJsonObj.leaderBoardDataJSON?.players.length,a.hideSpinner(),setTimeout(()=>{a.setScrollableDynamicHeight(),a.initializeScrollTimeInterval(o.players.length)},0))})()}changeFacility(t){try{const a=this.dataJsonObj.facilityOptions.findIndex(o=>o.ID+""==t.value+"");this.onSelectedFacility(a)}catch(a){this.loggerService.setLoggerError(this.constructor.name,"changeFacility",a)}}onSelectedFacility(t){try{this.dataJsonObj.selectedFacilityIndex=t,this.errorObj.error="",this.dataJsonObj.leaderBoardDataJSON={},this.dataJsonObj.isEnableFacilitySelection=!1;const a=this.dataJsonObj.facilityOptions[t];this.dataJsonObj.facilityId=a.ID,this.dataJsonObj.facility=a.NAME,this.showSpinner(),this.stopTimeInterval(),this.stopScrollTimeInterval(),this.getSelectedFacilityObj()}catch(a){this.loggerService.setLoggerError(this.constructor.name,"onSelectedFacility",a)}}getSelectedFacilityObj(){var t=this;return(0,S.Z)(function*(){if(!t.dataJsonObj.facilitiesDetailsJson||!t.dataJsonObj.facilitiesDetailsJson[t.dataJsonObj.facilityId+""]){const o=localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE)?localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE):"en",i=yield t.commonService.getDynamicJsonByPath(`assets/enterprises/${t.dataJsonObj.selectedEnterpriseId}/facilities/details/${t.dataJsonObj.facilityId}/`,`${o}.json`),l=i&&0!==i.length?i:{};t.dataJsonObj.facilitiesDetailsJson||(t.dataJsonObj.facilitiesDetailsJson={}),t.dataJsonObj.facilitiesDetailsJson[t.dataJsonObj.facilityId+""]=l}t.dataJsonObj.selectedFacilityObj=t.dataJsonObj.facilitiesDetailsJson[t.dataJsonObj.facilityId+""];const a=t.dataJsonObj.selectedFacilityObj?.golf_court_settings;if(a){const o=(new Date).toISOString(),i=t.displayDateFormatter(o,!1,!0,""),l=t.displayDateFormatter(o,!0,!0,"YYYY-MM-DD");t.dataJsonObj.startDate=l.startDate,t.dataJsonObj.endDate=l.endDate;const s={attributeName:a.scoreboard_attributes?.length>0?a.scoreboard_attributes[0].attribute_name:"",totalAttributeValue:0,totalAttributeValueByHole:{},targetTotalHoles:a.number_of_holes,displayDate:i.startDate,displayDateSpecificTimeZone:t.dataJsonObj.startDate.split(" ")[0]};if(a.scoreboard_attributes?.length>0&&a.scoreboard_attributes[0].hole_level_Settings)for(let _ of a.scoreboard_attributes[0].hole_level_Settings){const b=_.value&&parseInt(_.value,10)?parseInt(_.value,10):0;s.totalAttributeValueByHole[_.hole_number]=s.totalAttributeValueByHole[_.hole_number-1]?s.totalAttributeValueByHole[_.hole_number-1]+b:b,s.totalAttributeValue=s.totalAttributeValue+b}t.dataJsonObj.golfCourtSettingsJSON=s;const d=t.translateService.instant("GOLF_GAMES.HOLES");t.dataJsonObj.headers=[{headersort:"disableth",sortfield:"name",field:"playerName",header:"NEW_VARIABLES.NAME",header2:`${s.displayDate}`,class:""},{headersort:"disableth",field:"holes",header:"GOLF_GAMES.HOLES",header2:`${d}: ${s.targetTotalHoles}`,class:"w-230 text-center"},{headersort:"disableth",sortfield:"",field:"score",header:"GOLF_GAMES.SCORE",header2:`${s.attributeName.toLowerCase()}: ${s.totalAttributeValue}`,class:"w-200 text-center"}],t.getHeadersDynamicHeight(),yield t.getActiveGolfGames(!0)}})()}displayDateFormatter(t,a,o,i){try{const l=o?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,s={startDate:"",endDate:""};if(s.startDate=i?this.commonService.convertDateToSpecificFormat(l,r.eZ.HOURS_MINS,!0,"",!1,i):this.commonService.convertDateToUserFormat(l,"",!0,"",!1),a){const d=o?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t;d.setUTCDate(d.getUTCDate()+1),d.setUTCHours(0,0,0,0),s.endDate=d}return s}catch(l){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",l)}}commonErrorCodes(t){409===JSON.parse(t[r.BU.STATUS])&&(this.errorObj.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"Close",t)}}cancelPopUpButton(){try{document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelPopUpButton",t)}}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}initializeTimeInterval(t){this.timeIntervalSubject=new Y.X(this.refreshDataUntilEvent()),this.timeIntervalSubscription=(0,Q.F)(this.buildJson.leader_board_refresh_time_interval).pipe((0,z.o)(()=>this.dataJsonObj.endDate>new Date)).subscribe(()=>{this.timeIntervalSubject.next(this.refreshDataUntilEvent())})}refreshDataUntilEvent(){return this.getActiveGolfGames(!1),""}stopTimeInterval(){this.timeIntervalSubscription&&this.timeIntervalSubscription.unsubscribe()}initializeScrollTimeInterval(t){this.dataJsonObj.totalScrollsCount=Math.ceil(this.playersDataPTable.el.nativeElement.scrollHeight/this.dataJsonObj.scrollableHeight),this.dataJsonObj.currentScrollNumber=0,this.scrollTimeIntervalSubject=new Y.X(this.refreshScrollUntilEvent()),this.scrollTimeIntervalSubscription=(0,Q.F)(this.buildJson.leader_board_refresh_scroll_time_interval).pipe((0,z.o)(()=>this.dataJsonObj.currentScrollNumber<=this.dataJsonObj.totalScrollsCount)).subscribe(()=>{this.scrollTimeIntervalSubject.next(this.refreshScrollUntilEvent())})}refreshScrollUntilEvent(){const t=this.playersIonContent.el.shadowRoot.querySelector(".inner-scroll");if(this.dataJsonObj.currentScrollNumber===this.dataJsonObj.totalScrollsCount){this.dataJsonObj.currentScrollNumber=0,t.scrollTop=this.dataJsonObj.currentScrollNumber*this.dataJsonObj.scrollableHeight,this.stopScrollTimeInterval();const a=this.dataJsonObj.selectedFacilityIndex+1;this.onSelectedFacility(a<this.dataJsonObj.facilityOptions.length?a:0)}else t.scrollTop=this.dataJsonObj.currentScrollNumber*this.dataJsonObj.scrollableHeight,this.dataJsonObj.currentScrollNumber++;return""}stopScrollTimeInterval(){this.scrollTimeIntervalSubscription&&this.scrollTimeIntervalSubscription.unsubscribe()}enableFacilitySelection(){this.dataJsonObj.isEnableFacilitySelection=!0}disableFacilitySelection(){this.dataJsonObj.isEnableFacilitySelection=!1}displayInFullScreen(){this.commonService.commonRedirectUrl(`${this.router.url}&showFullScreen=true&selectedFacilityId=${this.dataJsonObj.facilityId}`)}hex2rgb(t){var o,i,a=[];if(3===(t=t.substr(1)).length)for(o=t.split(""),i=0;i<3;i++)a.push(parseInt(o[i]+""+o[i],16));else{if(6!==t.length)throw new Error("'"+t+"' is not a valid hex format");for(o=t.match(/.{2}/g),i=0;i<3;i++)a.push(parseInt(o[i],16))}return a}leaderboardUISettingsPopupOpen(){if(this.dataJsonObj.disableLeaderboardUISettingsPopup)this.uiUtils.displayOrangeMessage("COMMON_TOAST_MESSAGES.TOAST_NO_ACTIVE_GOLF_GAME_PLAYERS_AVAILABLE");else try{this.dataJsonObj.isLeaderboardUISettingsPopupEnabled=!0}catch(t){this.loggerService.setLoggerError(this.constructor.name,"leaderboardUISettingsPopupOpen",t)}}getLeaderboardUISettingsPopupClose(t){this.dataJsonObj.isLeaderboardUISettingsPopupEnabled=t}updatedLeaderboardUISettings(t){t&&(this.dataJsonObj.leaderboardUIThemeSettingsData=t,this.dataJsonObj.leaderboardUIThemeData=JSON.parse(JSON.stringify(t))),this.dataJsonObj.isLeaderboardUISettingsPopupEnabled=!1,this.leaderboardDynamicTheme()}leaderboardDynamicTheme(){try{this.dataJsonObj.leaderboardUIThemeData.main_title_bg_color=this.dataJsonObj.leaderboardUIThemeData?.main_title?.bg_color||"#83e2da",this.dataJsonObj.leaderboardUIThemeData.main_title_text_color=this.dataJsonObj.leaderboardUIThemeData?.main_title?.font_color||"#00496f",this.dataJsonObj.leaderboardUIThemeData.main_title_font_size=this.dataJsonObj.leaderboardUIThemeData?.main_title?.font_size+"px"||0,this.dataJsonObj.leaderboardUIThemeData.main_title_font_style=this.dataJsonObj.leaderboardUIThemeData?.main_title?.font_style||"normal",this.dataJsonObj.leaderboardUIThemeData.main_title_font_family=this.dataJsonObj.leaderboardUIThemeData?.main_title?.font_family?.lookup_name||"Open Sans",this.dataJsonObj.leaderboardUIThemeData.main_title_font_weight=this.dataJsonObj.leaderboardUIThemeData?.main_title?.font_weight?.lookup_name||"700",this.dataJsonObj.leaderboardUIThemeData.details_title_font_size=this.dataJsonObj.leaderboardUIThemeData?.details_title?.font_size+"px"||0,this.dataJsonObj.leaderboardUIThemeData.details_title_font_style=this.dataJsonObj.leaderboardUIThemeData?.details_title?.font_style||"normal",this.dataJsonObj.leaderboardUIThemeData.details_title_border_color=this.dataJsonObj.leaderboardUIThemeData?.details_title?.border_color||"#ffffff",this.dataJsonObj.leaderboardUIThemeData.details_title_border_width=this.dataJsonObj.leaderboardUIThemeData?.details_title?.border_width+"px"||0,this.dataJsonObj.leaderboardUIThemeData.details_title_border_style=this.dataJsonObj.leaderboardUIThemeData?.details_title?.border_style||"solid",this.dataJsonObj.leaderboardUIThemeData.details_title_font_family=this.dataJsonObj.leaderboardUIThemeData?.details_title?.font_family?.lookup_name||"Open Sans",this.dataJsonObj.leaderboardUIThemeData.details_title_font_weight=this.dataJsonObj.leaderboardUIThemeData?.details_title?.font_weight?.lookup_name||"700",this.dataJsonObj.leaderboardUIThemeData.details_title_bg_color=this.dataJsonObj.leaderboardUIThemeData?.details_title?.bg_color||"#00496f",this.dataJsonObj.leaderboardUIThemeData.details_title_text_color=this.dataJsonObj.leaderboardUIThemeData?.details_title?.font_color||"#83e2da",this.dataJsonObj.leaderboardUIThemeData.table_header_bg_color=this.dataJsonObj.leaderboardUIThemeData?.header?.bg_color||"#5da75a",this.dataJsonObj.leaderboardUIThemeData.table_header_text_color=this.dataJsonObj.leaderboardUIThemeData?.header?.font_color||"#ffffff",this.dataJsonObj.leaderboardUIThemeData.header_title_font_size=this.dataJsonObj.leaderboardUIThemeData?.header?.font_size+"px"||0,this.dataJsonObj.leaderboardUIThemeData.table_header_title_font_style=this.dataJsonObj.leaderboardUIThemeData?.header?.font_style||"normal",this.dataJsonObj.leaderboardUIThemeData.header_title_font_family=this.dataJsonObj.leaderboardUIThemeData?.header?.font_family?.lookup_name||"Open Sans",this.dataJsonObj.leaderboardUIThemeData.table_header_title_font_weight=this.dataJsonObj.leaderboardUIThemeData?.header?.font_weight?.lookup_name||"700",this.dataJsonObj.leaderboardUIThemeData.table_header_border_color=this.dataJsonObj.leaderboardUIThemeData?.header?.border_color||"#ffffff",this.dataJsonObj.leaderboardUIThemeData.table_header_border_width=this.dataJsonObj.leaderboardUIThemeData?.header?.border_width+"px"||0,this.dataJsonObj.leaderboardUIThemeData.table_header_border_style=this.dataJsonObj.leaderboardUIThemeData?.header?.border_style||"solid",this.dataJsonObj.leaderboardUIThemeData.table_coloumn_bg_color=this.dataJsonObj.leaderboardUIThemeData?.columns?.bg_color||"#83e2da",this.dataJsonObj.leaderboardUIThemeData.table_coloumn_text_color=this.dataJsonObj.leaderboardUIThemeData?.columns?.font_color||"#00496f",this.dataJsonObj.leaderboardUIThemeData.column_values_font_size=this.dataJsonObj.leaderboardUIThemeData?.columns?.font_size+"px"||0,this.dataJsonObj.leaderboardUIThemeData.table_column_values_font_style=this.dataJsonObj.leaderboardUIThemeData?.details_title?.font_style||"normal",this.dataJsonObj.leaderboardUIThemeData.table_coloumn_font_family=this.dataJsonObj.leaderboardUIThemeData?.columns?.font_family?.lookup_name||"Open Sans",this.dataJsonObj.leaderboardUIThemeData.table_column_values_font_weight=this.dataJsonObj.leaderboardUIThemeData?.columns?.font_weight?.lookup_name||"400",this.dataJsonObj.leaderboardUIThemeData.positive_bg_color=this.dataJsonObj.leaderboardUIThemeData?.columns?.positive_bg_color||"#cc0000",this.dataJsonObj.leaderboardUIThemeData.positive_text_color=this.dataJsonObj.leaderboardUIThemeData?.columns?.positive_color||"#ffffff",this.dataJsonObj.leaderboardUIThemeData.neutral_bg_color=this.dataJsonObj.leaderboardUIThemeData?.columns?.neutral_bg_color||"#757171",this.dataJsonObj.leaderboardUIThemeData.neutral_text_color=this.dataJsonObj.leaderboardUIThemeData?.columns?.neutral_color||"#ffffff",this.dataJsonObj.leaderboardUIThemeData.negative_bg_color=this.dataJsonObj.leaderboardUIThemeData?.columns?.negative_bg_color||"#5da75a",this.dataJsonObj.leaderboardUIThemeData.negative_text_color=this.dataJsonObj.leaderboardUIThemeData?.columns?.negative_color||"#ffffff",this.dataJsonObj.leaderboardUIThemeData.main_title_bg_img=this.getBodyBackGroundImage("main_title_bg_image"),this.dataJsonObj.leaderboardUIThemeData.details_title_bg_img=this.getBodyBackGroundImage("details_title_bg_image"),this.dataJsonObj.leaderboardUIThemeData.table_coloumn_bg_img=this.getBodyBackGroundImage("column_bg_image");let t=`\n          body {\n            --leaderboard-main-title-bg-color: ${this.dataJsonObj.leaderboardUIThemeData?.main_title_bg_color};\n            --leaderboard-main-title-text-color: ${this.dataJsonObj.leaderboardUIThemeData?.main_title_text_color};\n            --leaderboard-main-title-font-size: ${this.dataJsonObj.leaderboardUIThemeData.main_title_font_size};\n            --leaderboard-main-title-font-style: ${this.dataJsonObj.leaderboardUIThemeData.main_title_font_style};\n            --leaderboard-main-title-font-family: ${this.dataJsonObj.leaderboardUIThemeData.main_title_font_family};\n            --leaderboard-main-title-font-weight: ${this.dataJsonObj.leaderboardUIThemeData.main_title_font_weight};\n            --leaderboard-details-title-font-size: ${this.dataJsonObj.leaderboardUIThemeData.details_title_font_size};\n            --leaderboard-details-title-font-style: ${this.dataJsonObj.leaderboardUIThemeData.details_title_font_style};\n            --leaderboard-details-title-border-color: ${this.dataJsonObj.leaderboardUIThemeData.details_title_border_color};\n            --leaderboard-details-title-border-width: ${this.dataJsonObj.leaderboardUIThemeData.details_title_border_width};\n            --leaderboard-details-title-border-style: ${this.dataJsonObj.leaderboardUIThemeData.details_title_border_style};\n            --leaderboard-details-title-font-family: ${this.dataJsonObj.leaderboardUIThemeData.details_title_font_family};\n            --leaderboard-details-title-font-weight: ${this.dataJsonObj.leaderboardUIThemeData.details_title_font_weight};\n            --leaderboard-details-title-bg-color: ${this.dataJsonObj.leaderboardUIThemeData?.details_title_bg_color};\n            --leaderboard-details-title-text-color: ${this.dataJsonObj.leaderboardUIThemeData?.details_title_text_color};\n            --leaderboard-table-header-bg-color: ${this.dataJsonObj.leaderboardUIThemeData?.table_header_bg_color};\n            --leaderboard-table-header-text-color: ${this.dataJsonObj.leaderboardUIThemeData?.table_header_text_color};\n            --leaderboard-header-title-font-size: ${this.dataJsonObj.leaderboardUIThemeData.header_title_font_size};\n            --leaderboard-table-header-title-font-style: ${this.dataJsonObj.leaderboardUIThemeData.table_header_title_font_style};\n            --leaderboard-header-title-font-family: ${this.dataJsonObj.leaderboardUIThemeData.header_title_font_family};\n            --leaderboard-table-header-title-font-weight: ${this.dataJsonObj.leaderboardUIThemeData.table_header_title_font_weight};\n            --leaderboard-table-headere-border-color: ${this.dataJsonObj.leaderboardUIThemeData.table_header_border_color};\n            --leaderboard-table-header-border-width: ${this.dataJsonObj.leaderboardUIThemeData.table_header_border_width};\n            --leaderboard-table-header-border-style: ${this.dataJsonObj.leaderboardUIThemeData.table_header_border_style};\n            --leaderboard-table-column-bg-color: ${this.dataJsonObj.leaderboardUIThemeData?.table_coloumn_bg_color};\n            --leaderboard-table-column-text-color: ${this.dataJsonObj.leaderboardUIThemeData?.table_coloumn_text_color};\n            --leaderboard-column-values-font-size: ${this.dataJsonObj.leaderboardUIThemeData.column_values_font_size};\n            --leaderboard-table-column-values-font-style: ${this.dataJsonObj.leaderboardUIThemeData.table_column_values_font_style};\n            --leaderboard-table-column-font-family: ${this.dataJsonObj.leaderboardUIThemeData?.table_coloumn_font_family};\n            --leaderboard-table-column-values-font-weight: ${this.dataJsonObj.leaderboardUIThemeData.table_column_values_font_weight};\n            --positive-bg-color: ${this.dataJsonObj.leaderboardUIThemeData?.positive_bg_color};\n            --positive-text-color: ${this.dataJsonObj.leaderboardUIThemeData?.positive_text_color};\n            --negative-bg-color: ${this.dataJsonObj.leaderboardUIThemeData?.negative_bg_color};\n            --negative-text-color: ${this.dataJsonObj.leaderboardUIThemeData?.negative_text_color};\n            --neutral-bg-color: ${this.dataJsonObj.leaderboardUIThemeData?.neutral_bg_color};\n            --neutral-text-color: ${this.dataJsonObj.leaderboardUIThemeData?.neutral_text_color};\n          }`,a=document.getElementById("leaderboardthemeadded")||document.createElement("style");a.innerHTML=t,a.id="leaderboardthemeadded",document.getElementsByTagName("head")[0].appendChild(a)}catch(t){console.error(t)}}getBodyBackGroundImage(t){let a="",o="",i="";switch(t){case"main_title_bg_image":default:i="main_title",a="background_image_file_path",o="background_image_file_name";break;case"details_title_bg_image":i="details_title",a="background_image_file_path",o="background_image_file_name";break;case"column_bg_image":i="columns",a="background_image_file_path",o="background_image_file_name"}return(this.dataJsonObj.leaderboardUIThemeData&&this.dataJsonObj.leaderboardUIThemeData[i]&&this.dataJsonObj.leaderboardUIThemeData[i][a]+"/"+this.dataJsonObj.leaderboardUIThemeData[i][o]?this.dataJsonObj.apiEndPoint+this.dataJsonObj.leaderboardUIThemeData[i][a]+"/"+this.dataJsonObj.leaderboardUIThemeData[i][o]:"")||"/assets/img/login_bg.jpg"}static \u0275fac=function(a){return new(a||n)(e.Y36("apiEndPoint"),e.Y36("buildJosn"),e.Y36(J),e.Y36(T.m),e.Y36(O.F0),e.Y36(f.sK),e.Y36(C.v),e.Y36(Z.v),e.Y36(O.gz),e.Y36(A.s))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-golf-games-leaderboard"]],viewQuery:function(a,o){if(1&a&&(e.Gf(ta,5),e.Gf(aa,5),e.Gf(oa,5)),2&a){let i;e.iGM(i=e.CRH())&&(o.datatableComponent=i.first),e.iGM(i=e.CRH())&&(o.playersDataPTable=i.first),e.iGM(i=e.CRH())&&(o.playersIonContent=i.first)}},hostBindings:function(a,o){1&a&&e.NdJ("resize",function(l){return o.onResize(l)},!1,e.Jf7)},outputs:{searchValueChange:"searchValueChange"},features:[e._Bn([J,Z.v]),e.qOj],decls:20,vars:12,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","fullscreenID",1,"card-body","p-0",3,"ngClass"],[1,"row"],[1,"card"],[1,"card-content"],["id","golfgames-leaderboard-header",1,"d-flex","align-items-center","justify-content-center","leaderboard-title-bg","golf-game-leaderboard-title"],[1,"d-flex","align-items-center","justify-content-between","w-100"],["class","enterpriselist-bg logo position-relative","id","enterpriseLogoID",4,"ngIf"],[1,"d-flex","align-items-center","column",3,"ngClass"],[1,"list-inline","leaderboard-list","pdt-5","pdb-5","pdl-10","mg-0"],["class","nav-item dropdown","id","navbarDropdownMenuLink","data-bs-toggle","dropdown","role","button","aria-expanded","false",4,"ngIf"],["class","d-flex align-items-center column column-auto",4,"ngIf"],["id","golfgames-leaderboard-title-headers","class","d-flex align-items-center justify-content-center golf-game-leaderboard-info-wrapper leaderboard-details-bdrt leaderboard-details-bdrb",4,"ngIf"],["class","card",4,"ngIf"],[3,"isLeaderboardUISettingsPopupEnabled","recordIds","selectedUISettingsData","leaderboardUISettingsPopupCloseEmitter","leaderboardUISettingsPopupResponseEmitter"],["id","enterpriseLogoID",1,"enterpriselist-bg","logo","position-relative"],[1,"brand-logo-wrapper","d-flex","align-items-center","pdl-5","pdr-5","pdt-5","pdb-5"],["onError","this.onerror=null;this.src='../../../assets/img/pigeon-suite-light-logo.png';",1,"brand-logo",3,"src"],["id","navbarDropdownMenuLink","data-bs-toggle","dropdown","role","button","aria-expanded","false",1,"nav-item","dropdown"],[1,"d-flex","align-items-center"],[1,"text-nowrap","leaderboard-event-name"],[1,"caret-icon","fas","fa-caret-down","ps-1"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu","dropdown-menu-end"],[1,"leaderboard-event-listscroll","d-flex","flex-column","pdl-10","pdr-10"],["class","leaderboard-event-item text-nowrap fw-700",3,"click",4,"ngFor","ngForOf"],[1,"leaderboard-event-item","text-nowrap","fw-700",3,"click"],[1,"d-flex","align-items-center","column","column-auto"],["class","d-flex justify-content-end pdl-5 pdr-5 btn-fullscreen-mode",4,"ngIf"],[1,"d-flex","justify-content-end","pdl-5","pdr-5","btn-fullscreen-mode"],["id","golf-games-leaderboard-fullscreen",1,"cursor-pointer","d-flex","align-items-center",3,"click"],[1,"icon-ui-settings-circle",3,"title"],[1,"fas","fa-expand-arrows-alt","mgr-5","fullscreen-mode-icon",3,"title"],["id","golfgames-leaderboard-title-headers",1,"d-flex","align-items-center","justify-content-center","golf-game-leaderboard-info-wrapper","leaderboard-details-bdrt","leaderboard-details-bdrb"],["class","leaderboard-details-info pdl-10 text-capitalize",4,"ngFor","ngForOf"],[1,"leaderboard-details-info","pdl-10","text-capitalize"],[3,"scrollEvents"],["playersIonContent",""],["selectionMode","single","dataKey","LineNum",1,"ptable","d-none","d-lg-block","golf-leader-board",3,"columns","value","rows","lazy","responsive","autoLayout","scrollable","scrollHeight"],["playersDataPTable",""],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["class","golf-game-leader-board-row-values no-results-found",4,"ngIf"],[1,"golf-game-leader-board-row-values","no-results-found"],[1,"text-center","text-danger"],["id","golfgames-leaderboard-table-headers",1,"golf-game-leader-board-row","sub-title"],[3,"class",4,"ngFor","ngForOf"],["id","golfgames-leaderboard-table-data-rows",1,"golf-game-leader-board-row-values"],[3,"class","ngClass",4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",3)(8,"div",7)(9,"div",8)(10,"div",9)(11,"span",10),e.YNc(12,ia,3,1,"div",11),e.TgZ(13,"span",12)(14,"ul",13),e.YNc(15,la,8,2,"li",14),e.qZA()(),e.YNc(16,da,3,2,"span",15),e.qZA()(),e.YNc(17,_a,2,1,"div",16),e.YNc(18,fa,8,11,"div",17),e.qZA()()()()()()()()()(),e.TgZ(19,"app-leaderboard-ui-settings",18),e.NdJ("leaderboardUISettingsPopupCloseEmitter",function(l){return o.getLeaderboardUISettingsPopupClose(l)})("leaderboardUISettingsPopupResponseEmitter",function(l){return o.updatedLeaderboardUISettings(l)}),e.qZA()),2&a&&(e.xp6(5),e.Q6J("ngClass",e.VKq(10,Oa,o.isFullScreen)),e.xp6(7),e.Q6J("ngIf",o.isFullScreen),e.xp6(1),e.Q6J("ngClass",o.isFullScreen?"justify-content-start":"justify-content-center"),e.xp6(2),e.Q6J("ngIf",(null==o.dataJsonObj||null==o.dataJsonObj.facilityOptions?null:o.dataJsonObj.facilityOptions.length)>1),e.xp6(1),e.Q6J("ngIf",o.dataJsonObj.enableactions.UI_SETTINGS&&!o.isFullScreen||!(null!=o.dataJsonObj&&null!=o.dataJsonObj.queryParamsObj&&o.dataJsonObj.queryParamsObj.showFullScreen)),e.xp6(1),e.Q6J("ngIf",(null==o.dataJsonObj?null:o.dataJsonObj.headers)&&(null==o.dataJsonObj?null:o.dataJsonObj.headers.length)>0),e.xp6(1),e.Q6J("ngIf",(null==o.dataJsonObj?null:o.dataJsonObj.headers)&&(null==o.dataJsonObj?null:o.dataJsonObj.headers.length)>0&&(null==o.dataJsonObj?null:o.dataJsonObj.headersDynamicHeight)&&(null==o.dataJsonObj?null:o.dataJsonObj.ionContentHeight)),e.xp6(1),e.Q6J("isLeaderboardUISettingsPopupEnabled",o.dataJsonObj.isLeaderboardUISettingsPopupEnabled)("recordIds",o.dataJsonObj.recordIds)("selectedUISettingsData",o.dataJsonObj.leaderboardUIThemeSettingsData))},dependencies:[h.mk,h.sg,h.O5,M.W2,q,w.jx,p.iA,f.X$],styles:[".player-view[_ngcontent-%COMP%]{max-height:200px}input[_ngcontent-%COMP%]{width:100%;height:20px}.leaderboard-details-bdrt[_ngcontent-%COMP%]{border-top:var(--leaderboard-details-title-border-width) var(--leaderboard-details-title-border-style) var(--leaderboard-details-title-border-color)}.leaderboard-details-bdrb[_ngcontent-%COMP%]{border-bottom:var(--leaderboard-details-title-border-width) var(--leaderboard-details-title-border-style) var(--leaderboard-details-title-border-color)}.leaderboard-details-info[_ngcontent-%COMP%]{flex-grow:1;font-weight:var(--leaderboard-details-title-font-weight);font-family:var(--leaderboard-details-title-font-family);font-style:var(--leaderboard-details-title-font-style)}.leaderboard-details-info[_ngcontent-%COMP%]:not(:last-child){border-right:var(--leaderboard-details-title-border-width) var(--leaderboard-details-title-border-style) var(--leaderboard-details-title-border-color)}.column[_ngcontent-%COMP%]{flex:1}.column-auto[_ngcontent-%COMP%]{flex:0 0 auto}"]})}return n})(),canActivate:[v.P],data:{object_type:r.hf.GOLF_GAMES_LEADERBOARD,title:"Golf Game List",pageName:r.hf.GOLF_GAMES_LEADERBOARD}},{path:"golfgames/:id/view",component:ft,canActivate:[v.P],data:{object_type:r.hf.GOLF_GAMES,title:"Golf Game View",pageName:r.hf.GOLF_GAMES,pageSetting:r.AM.ACTIONS,settingField:r.In.VIEW}},{path:"golfgames/:id/scoreboard",component:Rt,canActivate:[v.P],data:{object_type:r.hf.GOLF_GAMES,title:"Golf Game Scoreboard",pageName:r.hf.GOLF_GAMES,pageSetting:r.AM.ACTIONS,settingField:r.In.SCOREBOARD}},{path:"golfgames/:id/dashboard",component:ea,canActivate:[v.P],data:{object_type:r.hf.GOLF_GAMES,title:"Golf Game Dashboard",pageName:r.hf.GOLF_GAMES,pageSetting:r.AM.ACTIONS,settingField:r.In.WEB_DASHBOARD}}]}];let Ja=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[O.Bz.forChild(Sa),O.Bz]})}return n})();var Ca=u(65673);let Ta=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[h.ez,M.Pc,Ja,Ca.Q,f.aw,X.fx,j.UX,j.u5,ee.UM,p.U$,F.Nh]})}return n})()}}]);