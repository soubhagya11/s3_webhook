"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9160],{69160:($a,F,c)=>{c.r(F),c.d(F,{ApplicationManagerModule:()=>Ha});var f=c(32174),o=c(32236),m=c(62510),T=c(15861),N=c(26827),E=c(71568),I=c(47561),Y=c(57936),M=c(42786),Q=c(1026),a=c(94650),D=c(46448),J=c(54463),w=c(27601),v=c(36895),S=c(93144),C=c(10805),k=c(2387),P=c(56368),H=c(9851),Z=c(47178),U=c(93837),R=c(1067),z=c(42919),L=c(37415);const K=["applicationAdd"],X=["multiselectTablename"],W=["pageNameInput"],aa=["displayNameInput"],ta=["pageRoutingInput"],ea=["languageDisplayName"],na=["languageAdd"],ia=function(s){return[s]};function sa(s,d){if(1&s){const t=a.EpF();a.TgZ(0,"div",18)(1,"app-checkbox",62),a.NdJ("valueChange",function(e){const l=a.CHM(t).$implicit,r=a.oxw(2).$implicit,p=a.oxw(2);return a.KtG(p.changeCheckBoxValue(e,r.field,null==l?null:l.name))}),a.qZA()()}if(2&s){const t=d.$implicit;a.xp6(1),a.Q6J("options",a.VKq(2,ia,t))("checked",null==t?null:t.data_value)}}function oa(s,d){if(1&s&&(a.TgZ(0,"div",27),a.YNc(1,sa,2,4,"div",61),a.qZA()),2&s){const t=a.oxw().$implicit,n=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",n.dataJsonObj.dynamicFieldJSon[t.field])}}function la(s,d){if(1&s&&(a.TgZ(0,"p-accordionTab",59)(1,"p-header",33)(2,"span"),a._uU(3),a.qZA()(),a.TgZ(4,"p-table",60),a.YNc(5,oa,2,1,"ng-template",38),a.qZA()()),2&s){const t=d.$implicit,n=a.oxw(2);a.MGl("id","",t.field,"_tab_id"),a.Q6J("selected",!1),a.xp6(3),a.Oqu(t.displayName),a.xp6(1),a.Q6J("value",n.dataJsonObj.data)("rows",1)("responsive",!0)("autoLayout",!1)}}function ra(s,d){if(1&s&&(a.TgZ(0,"div",3)(1,"div",29)(2,"div",30)(3,"p-accordion"),a.YNc(4,la,6,7,"p-accordionTab",58),a.qZA()()()()),2&s){const t=a.oxw();a.xp6(4),a.Q6J("ngForOf",t.dataJsonObj.dynamicAccordions)}}function da(s,d){if(1&s&&(a.TgZ(0,"tr",64)(1,"td",65),a._uU(2),a.ALo(3,"translate"),a.qZA()()),2&s){const t=a.oxw().$implicit;a.xp6(1),a.uIk("colspan",t[0].length+1),a.xp6(1),a.hij(" ",a.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function ca(s,d){if(1&s&&a.YNc(0,da,4,4,"tr",63),2&s){const t=a.oxw();a.Q6J("ngIf",t.dataJsonObj.inputObj.language_translations&&0==t.dataJsonObj.inputObj.language_translations.length)}}function pa(s,d){if(1&s&&(a.TgZ(0,"th"),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&s){const t=d.$implicit;a.xp6(1),a.hij(" ",a.lcZ(2,1,t.header)," ")}}function ba(s,d){if(1&s&&(a.TgZ(0,"tr"),a.YNc(1,pa,3,3,"th",66),a.qZA()),2&s){const t=d.$implicit;a.xp6(1),a.Q6J("ngForOf",t[0])}}function ua(s,d){if(1&s){const t=a.EpF();a.TgZ(0,"td",68),a.NdJ("click",function(e){a.CHM(t);const i=a.oxw().rowIndex,l=a.oxw();return a.KtG(l.languagesAction(e,"EDIT",i))}),a._uU(1),a.qZA()}if(2&s){const t=d.$implicit,n=a.oxw().$implicit;a.Gre("",t.class," "),a.Q6J("pSelectableRow",n),a.xp6(1),a.hij(" ",n[t.field]," ")}}function Oa(s,d){if(1&s&&(a.TgZ(0,"tr"),a.YNc(1,ua,2,5,"td",67),a.qZA()),2&s){const t=d.columns;a.xp6(1),a.Q6J("ngForOf",t[0])}}function ga(s,d){if(1&s&&(a.TgZ(0,"div",3)(1,"strong"),a._uU(2),a.ALo(3,"translate"),a.qZA(),a._uU(4," : "),a._UZ(5,"span",70)(6,"br"),a.qZA()),2&s){const t=d.$implicit,n=a.oxw().$implicit;a.xp6(2),a.Oqu(a.lcZ(3,2,t.header)),a.xp6(3),a.Q6J("innerHTML",n[t.field],a.oJD)}}function _a(s,d){if(1&s&&(a.TgZ(0,"tr")(1,"td")(2,"div",2),a.YNc(3,ga,7,4,"div",69),a.qZA()()()),2&s){const t=d.columns;a.xp6(1),a.uIk("colspan",t[0].length+2),a.xp6(2),a.Q6J("ngForOf",t[1])}}function ha(s,d){if(1&s){const t=a.EpF();a.TgZ(0,"ion-item",71)(1,"ion-label",72),a.NdJ("click",function(e){const l=a.CHM(t).index,r=a.oxw();return a.KtG(r.languagesAction(e,"EDIT",l))}),a.TgZ(2,"span",73),a._uU(3),a.ALo(4,"translate"),a.qZA(),a.TgZ(5,"span",74),a._uU(6),a.ALo(7,"translate"),a.qZA(),a.TgZ(8,"span",74),a._uU(9),a.ALo(10,"translate"),a.qZA()()()}if(2&s){const t=d.$implicit;a.xp6(3),a.AsE(" ",a.lcZ(4,6,"PREFERENCES.LANGUAGE"),": ",null==t?null:t.language_name_value,""),a.xp6(3),a.AsE("",a.lcZ(7,8,"COMMON_FIELDS.DISPLAY_NAME"),": ",null==t?null:t.page_display_name," "),a.xp6(3),a.AsE("",a.lcZ(10,10,"COMMON_FIELDS.ENABLED"),": ",null==t?null:t.is_enabled_value," ")}}function ja(s,d){1&s&&(a.TgZ(0,"p",75),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&s&&(a.xp6(1),a.hij(" ",a.lcZ(2,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),""))}function ma(s,d){if(1&s){const t=a.EpF();a.TgZ(0,"div",9)(1,"app-dropdown-search",76,77),a.NdJ("selectedOption",function(e){a.CHM(t);const i=a.oxw();return a.KtG(i.changeSearchDropDownFieldValue(e,"language_id","languageTranslationObj.language",["language_id","language_name","language_display_name","language_code"]))})("searchValueChange",function(e){a.CHM(t);const i=a.oxw();return a.KtG(i.getLanguagesList(e))}),a.ALo(3,"translate"),a.qZA()()}if(2&s){const t=a.oxw();a.xp6(1),a.s9C("label",a.lcZ(3,2,"PREFERENCES.LANGUAGE")),a.Q6J("options",t.dataJsonObj.translateLanguageOptions)}}function Ja(s,d){if(1&s&&(a.TgZ(0,"div",9),a._UZ(1,"app-input",78),a.ALo(2,"translate"),a.qZA()),2&s){const t=a.oxw();a.xp6(1),a.s9C("label",a.lcZ(2,2,"PREFERENCES.LANGUAGE")),a.s9C("value",null==t.dataJsonObj.inputObj.languageTranslationObj?null:t.dataJsonObj.inputObj.languageTranslationObj.language_name_value)}}let ya=(()=>{class s extends I.O{applicationmanagerService;loggerService;navigationService;router;translateService;customScreenStaticContentService;uiUtils;commonService;enterprisesService;route;applicationAdd;multiselectTablename;pageNameInput;displayNameInput;pageRoutingInput;languageDisplayName;languageAdd;dataJsonObj={};errorObj={};constructor(t,n,e,i,l,r,p,_,O,g){super(g,_),this.applicationmanagerService=t,this.loggerService=n,this.navigationService=e,this.router=i,this.translateService=l,this.customScreenStaticContentService=r,this.uiUtils=p,this.commonService=_,this.enterprisesService=O,this.route=g}ngOnInit(){this.dataJsonObj.headerAction={BACK:!0},this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=o.hf.APPLICATION_MANAGER,this.commonService.trackView(o.sn.APPLICATION_MANAGER_CREATE),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.APPLICATION_MANAGER",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.dataJsonObj.selectedEnterpriseId=parseInt(localStorage.getItem(o.BU.SELECTED_ENTERPRISE),10),this.dataJsonObj.languagesFromJson={},this.getLanguagesfromJson(),this.dataJsonObj.data=[{}],this.dataJsonObj.isSubmitButtonDisabled=!1,this.dataJsonObj.inputObj={is_enabled:!0},this.dataJsonObj.lookupCodesListJson={},this.dataJsonObj.dynamicAccordions=[],this.dataJsonObj.dynamicFieldJSon={},this.dataJsonObj.tablenamesList=[],this.dataJsonObj.inputObj.underlying_tables=[],this.dataJsonObj.enabledOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}],this.dataJsonObj.htmlEnumValuesJson={applicationNames:o.ox.APPLICATION_NAMES},this.getLookupCodesListJson(),this.getDynamicFieldsList(),this.getTablenamesList(""),this.dataJsonObj.selectedEnterpriseObj=this.commonService.getSelcetedEnterpriseObj(),this.dataJsonObj.inputObj.enterprise=this.dataJsonObj.selectedEnterpriseObj,this.dataJsonObj.inputObj.language_translations=[],this.errorObj.languageTranslationerrorObj={},this.dataJsonObj.languageHeaders=[[{headersort:"disableth",field:"language_name_value",header:"PREFERENCES.LANGUAGE",class:"w-100"},{headersort:"disableth",field:"page_value_display_name",header:"COMMON_FIELDS.DISPLAY_NAME",class:""},{headersort:"disableth",field:"is_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.getLanguagesList("")}getLookupCodesListJson(){var t=this;return(0,T.Z)(function*(){t.dataJsonObj.lookupCodesListJson=yield t.commonService.getDynamicJson(t.dataJsonObj.selectedEnterpriseId,"lookup_codes","list")})()}changeCheckBoxValue(t,n,e){try{n?(this.dataJsonObj.inputObj[n]||(this.dataJsonObj.inputObj[n]={}),this.dataJsonObj.inputObj[n][e]=t.value):this.dataJsonObj.inputObj[e]=t.value,this.dataJsonObj.dynamicAccordions=this.dataJsonObj.inputObj.actions?.filters?this.dataJsonObj.accordions:this.dataJsonObj.dynamicAccordions.filter(i=>"filters"!==i.field)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeCheckBoxValue",i)}}changeInputFieldValue(t,n,e){const i=e?e.split("."):[];let l=this.dataJsonObj.inputObj;for(;i.length>0;){const r=i.shift();l[r]||(l[r]={}),l=l[r]}l[n]=t.value}changeDropDownFieldValue(t,n,e,i,l){try{if(t.value){this.errorObj.error="";const r=e.split(".");let p=this.dataJsonObj;for(let u of r)p=p[u];const _=p.find(u=>u.ID===parseInt(t.value,10)),O={};for(let u of l)O[u]=_[u],n===u&&!O[u]&&(O[u]=_.ID);const g=i.split("."),h=g.pop();let b=this.dataJsonObj.inputObj;for(;g.length>0;){const u=g.shift();b[u]||(b[u]={}),b=b[u]}b[h]=O}this.errorObj.error=""}catch(r){this.loggerService.setLoggerError(this.constructor.name,"changeApplication",r)}}changeSearchDropDownFieldValue(t,n,e,i){try{if(t){this.errorObj.error="";const l=t,r={};for(let g of i)r[g]=l[g],n===g&&!r[g]&&(r[g]=l.ID);const p=e.split("."),_=p.pop();let O=this.dataJsonObj.inputObj;for(;p.length>0;){const g=p.shift();O[g]||(O[g]={}),O=O[g]}O[_]=r}this.errorObj.error=""}catch(l){this.loggerService.setLoggerError(this.constructor.name,"changeApplication",l)}}changeMultiSelectFieldValue(t,n,e,i,l){try{if(t.value){this.errorObj.error="";const r=e.split(".");let p=this.dataJsonObj;for(let b of r)p=p[b];const _=[];for(let b=0;b<t.value.length;b++){const u=t.value[b].ID,y=p.find(j=>j.ID===u),A={ID:y.ID,NAME:y.NAME};for(let j of l)A[j]=y[j],n===j&&!A[j]&&(A[j]=y.ID);_.push(A)}const O=i.split("."),g=O.pop();let h=this.dataJsonObj.inputObj;for(;O.length>0;){const b=O.shift();h[b]||(h[b]={}),h=h[b]}h[g]=_}this.errorObj.error=""}catch(r){this.loggerService.setLoggerError(this.constructor.name,"changeMultiSelectFieldValue",r)}}getTablenamesList(t){try{this.applicationmanagerService.gettablenames(t).then(n=>{this.dataJsonObj.tablenamesList=n},n=>{this.loggerService.setLoggerError(this.constructor.name,"getTablenamesList",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getTablenamesList",n)}}getDynamicFieldsList(){try{this.applicationmanagerService.getDynamicFieldsList("application_manager").then(t=>{this.dataJsonObj.accordions=t.applicationManagerAccordions,this.dataJsonObj.dynamicFieldJSon=t.applicationManagerDynamicFieldsJSON,this.dataJsonObj.dynamicAccordions=t.applicationManagerAccordions.filter(n=>"filters"!==n.field)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getDynamicFieldsList",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getDynamicFieldsList",t)}}getLanguagesList(t){var n=this;return(0,T.Z)(function*(){try{n.errorObj.languageTranslationerrorObj.error="",yield n.customScreenStaticContentService.getTranslateLanguages(n.dataJsonObj.selectedEnterpriseId).then(e=>{if(n.dataJsonObj.translateLanguageOptions=e[0].configoption_json.languages,n.dataJsonObj.translateLanguageOptions&&n.dataJsonObj.translateLanguageOptions.length>0){for(let i=0;i<n.dataJsonObj.translateLanguageOptions.length;i++)n.dataJsonObj.translateLanguageOptions[i].ID=n.dataJsonObj.translateLanguageOptions[i].language_id,n.dataJsonObj.translateLanguageOptions[i].NAME=n.dataJsonObj.languagesFromJson[n.dataJsonObj.translateLanguageOptions[i].language_name].language_display_name,n.dataJsonObj.translateLanguageOptions[i].language_code=n.dataJsonObj.translateLanguageOptions[i].language_code,n.dataJsonObj.translateLanguageOptions[i].language_id=n.dataJsonObj.translateLanguageOptions[i].language_id,n.dataJsonObj.translateLanguageOptions[i].language_name=n.dataJsonObj.translateLanguageOptions[i].language_name,n.dataJsonObj.translateLanguageOptions[i].language_display_name=n.dataJsonObj.languagesFromJson[n.dataJsonObj.translateLanguageOptions[i].language_name].language_display_name;if(n.dataJsonObj.translateLanguageOptions&&t){const i=n.dataJsonObj.translateLanguageOptions.filter(function(l){return l.NAME.toLowerCase().includes(t.toLowerCase())});n.dataJsonObj.translateLanguageOptions=i}}},e=>{n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",e)})}catch(e){n.loggerService.setLoggerError(n.constructor.name,"getLanguagesList",e)}})()}languagesAction(t,n,e){try{switch(t.stopPropagation(),this.languageDisplayName.clearmessage(),this.languageAdd&&this.languageAdd.clearSelectInput(),this.dataJsonObj.translateLanguageOptions=[],this.errorObj.languageTranslationerrorObj.error="",this.dataJsonObj.inputObj.languageTranslationObj=e||0===e?this.dataJsonObj.inputObj.language_translations[e]:{},this.dataJsonObj.inputObj.languageTranslationObj.action=n,this.dataJsonObj.inputObj.languageTranslationObj.index=e,n){case"ADD":this.dataJsonObj.inputObj.languageTranslationObj.dynamicParams={headerButtonLabel:"COMMON_BUTTONS.BUTTON_ADD",popupSubmitButtonLabel:"COMMON_BUTTONS.BUTTON_ADD",popupCancelButtonLabel:"COMMON_BUTTONS.BUTTON_CANCEL"};break;case"EDIT":this.dataJsonObj.inputObj.languageTranslationObj.dynamicParams={headerButtonLabel:"COMMON_BUTTONS.BUTTON_UPDATE",popupSubmitButtonLabel:"COMMON_BUTTONS.BUTTON_UPDATE",popupCancelButtonLabel:"COMMON_BUTTONS.BUTTON_CANCEL"};break;case"DELETE":this.dataJsonObj.inputObj.languageTranslationObj.dynamicParams={headerButtonLabel:"COMMON_BUTTONS.BUTTON_DELETE",popupSubmitButtonLabel:"COMMON_BUTTONS.BUTTON_DELETE",popupCancelButtonLabel:"COMMON_BUTTONS.BUTTON_CANCEL"}}this.dataJsonObj.inputObj.languageTranslationObj.enableFieldsJson="DELETE"===n?{language:!0,displayName:!0,isEnabled:!0}:{language:!1,displayName:!1,isEnabled:!1},$("#languaageTranslationsModal").modal("show"),$(".modal-backdrop").insertAfter("#languaageTranslationsModal")}catch(i){this.loggerService.setLoggerError(this.constructor.name,"languagesAction",i)}}languagesPopupSubmit(){try{if(("ADD"!==this.dataJsonObj.inputObj.languageTranslationObj.action||this.languageAdd.isValid())&&this.languageDisplayName.isValid()){const t=JSON.parse(JSON.stringify(this.dataJsonObj.inputObj.languageTranslationObj)),n=this.dataJsonObj.inputObj.language_translations.findIndex(e=>e.language.language_id===t.language.language_id);if(-1===n||n===this.dataJsonObj.inputObj.languageTranslationObj.index){switch(t.language_name_value=t.language.language_display_name,t.is_enabled_value=t.is_enabled?"Yes":"No",t.page_value_display_name=t.page_display_name,this.dataJsonObj.inputObj.languageTranslationObj.action){case"ADD":this.dataJsonObj.inputObj.language_translations.push(t);break;case"EDIT":this.dataJsonObj.inputObj.language_translations[t.index]=t;break;case"DELETE":this.dataJsonObj.inputObj.language_translations.splice(t.index,1)}this.dataJsonObj.inputObj.languageTranslationObj={},$("#languaageTranslationsModal").modal("hide")}else this.errorObj.languageTranslationerrorObj.error="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS"}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"languagesPopupSubmit",t)}}getLanguagesfromJson(){var t=this;return(0,T.Z)(function*(){t.dataJsonObj.languagesFromJson=yield t.commonService.getLanguagesListJson(t.dataJsonObj.selectedEnterpriseId)})()}cancelPopup(){$("#languaageTranslationsModal").modal("hide"),document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}clearmessage(){this.errorObj.error=""}createRecord(){try{if(this.applicationAdd.isValid()&&this.pageNameInput.isValid()&&this.displayNameInput.isValid()&&this.pageRoutingInput.isValid()){this.dataJsonObj.isSubmitButtonDisabled=!0;const t={enterprise:{enterprise_id:this.dataJsonObj.inputObj.enterprise.enterprise_id,enterprise_name:this.dataJsonObj.inputObj.enterprise.enterprise_name,short_name:this.dataJsonObj.inputObj.enterprise.short_name},application:{lookup_id:this.dataJsonObj.inputObj.application.lookup_id,lookup_name:this.dataJsonObj.inputObj.application.lookup_name},page_name:this.dataJsonObj.inputObj.page_name.toUpperCase(),page_display_name:this.dataJsonObj.inputObj.page_display_name,underlying_tables:this.dataJsonObj.inputObj.underlying_tables,page_routing:this.dataJsonObj.inputObj.page_routing,actions:{accept:this.dataJsonObj.inputObj.actions?.accept,activity:this.dataJsonObj.inputObj.actions?.activity,activate:this.dataJsonObj.inputObj.actions?.activate,add_players:this.dataJsonObj.inputObj.actions?.add_players,add_your_career_stats:this.dataJsonObj.inputObj.actions?.add_your_career_stats,admin_approve:this.dataJsonObj.inputObj.actions?.admin_approve,approve:this.dataJsonObj.inputObj.actions?.approve,arrange:this.dataJsonObj.inputObj.actions?.arrange,athlete_approve:this.dataJsonObj.inputObj.actions?.athlete_approve,athletic_director_approve:this.dataJsonObj.inputObj.actions?.athletic_director_approve,audio_create:this.dataJsonObj.inputObj.actions?.audio_create,block:this.dataJsonObj.inputObj.actions?.block,bluetooth_android:this.dataJsonObj.inputObj.actions?.bluetooth_android,bluetooth_ios:this.dataJsonObj.inputObj.actions?.bluetooth_ios,bookmarks:this.dataJsonObj.inputObj.actions?.bookmarks,build_your_department:this.dataJsonObj.inputObj.actions?.build_your_department,build_your_fans:this.dataJsonObj.inputObj.actions?.build_your_fans,build_your_roster:this.dataJsonObj.inputObj.actions?.build_your_roster,build_your_team:this.dataJsonObj.inputObj.actions?.build_your_team,call:this.dataJsonObj.inputObj.actions?.call,camera_heart_beat_android:this.dataJsonObj.inputObj.actions?.camera_heart_beat_android,camera_heart_beat_ios:this.dataJsonObj.inputObj.actions?.camera_heart_beat_ios,cancel:this.dataJsonObj.inputObj.actions?.cancel,career_stats:this.dataJsonObj.inputObj.actions?.career_stats,check_in:this.dataJsonObj.inputObj.actions?.check_in,check_out:this.dataJsonObj.inputObj.actions?.check_out,cheer:this.dataJsonObj.inputObj.actions?.cheer,child_create:this.dataJsonObj.inputObj.actions?.child_create,coach_approve:this.dataJsonObj.inputObj.actions?.coach_approve,comment:this.dataJsonObj.inputObj.actions?.comment,content:this.dataJsonObj.inputObj.actions?.content,context_menu:this.dataJsonObj.inputObj.actions?.context_menu,copy_link:this.dataJsonObj.inputObj.actions?.copy_link,copy:this.dataJsonObj.inputObj.actions?.copy,coupon:this.dataJsonObj.inputObj.actions?.coupon,create:this.dataJsonObj.inputObj.actions?.create,deactivate_approve:this.dataJsonObj.inputObj.actions?.deactivate_approve,deactivate_reject:this.dataJsonObj.inputObj.actions?.deactivate_reject,deactivate:this.dataJsonObj.inputObj.actions?.deactivate,delete:this.dataJsonObj.inputObj.actions?.delete,directions:this.dataJsonObj.inputObj.actions?.directions,dislike:this.dataJsonObj.inputObj.actions?.dislike,display_access_code:this.dataJsonObj.inputObj.actions?.display_access_code,display_audio:this.dataJsonObj.inputObj.actions?.display_audio,display_contact_details:this.dataJsonObj.inputObj.actions?.display_contact_details,display_contactus_block:this.dataJsonObj.inputObj.actions?.display_contactus_block,display_description:this.dataJsonObj.inputObj.actions?.display_description,display_end_date:this.dataJsonObj.inputObj.actions?.display_end_date,display_enterprises_block:this.dataJsonObj.inputObj.actions?.display_enterprises_block,display_events_block:this.dataJsonObj.inputObj.actions?.display_events_block,display_floor_details:this.dataJsonObj.inputObj.actions?.display_floor_details,display_follow:this.dataJsonObj.inputObj.actions?.display_follow,display_header_enterprise_logo:this.dataJsonObj.inputObj.actions?.display_header_enterprise_logo,display_image_slider:this.dataJsonObj.inputObj.actions?.display_image_slider,display_image:this.dataJsonObj.inputObj.actions?.display_image,display_Live_stream:this.dataJsonObj.inputObj.actions?.display_Live_stream,display_posts_block:this.dataJsonObj.inputObj.actions?.display_posts_block,display_rating:this.dataJsonObj.inputObj.actions?.display_rating,display_reservations_on_map:this.dataJsonObj.inputObj.actions?.display_reservations_on_map,display_similar_facility:this.dataJsonObj.inputObj.actions?.display_similar_facility,display_social_media_block:this.dataJsonObj.inputObj.actions?.dispaly_social_media_block,display_start_date:this.dataJsonObj.inputObj.actions?.display_start_date,display_video:this.dataJsonObj.inputObj.actions?.display_video,donate:this.dataJsonObj.inputObj.actions?.donate,download:this.dataJsonObj.inputObj.actions?.download,edit:this.dataJsonObj.inputObj.actions?.edit,enterprise_top_image:this.dataJsonObj.inputObj.actions?.enterprise_top_image,export:this.dataJsonObj.inputObj.actions?.export,extend:this.dataJsonObj.inputObj.actions?.extend,facility_icon:this.dataJsonObj.inputObj.actions?.facility_icon,facilities_latlong_import:this.dataJsonObj.inputObj.actions?.facilities_latlong_import,feedback:this.dataJsonObj.inputObj.actions?.feedback,filters:this.dataJsonObj.inputObj.actions?.filters,gallery:this.dataJsonObj.inputObj.actions?.gallery,gallery_audio:this.dataJsonObj.inputObj.actions?.gallery_audio,gallery_video:this.dataJsonObj.inputObj.actions?.gallery_video,gallery_document:this.dataJsonObj.inputObj.actions?.gallery_document,generate_access_code:this.dataJsonObj.inputObj.actions?.generate_access_code,generate_jsons:this.dataJsonObj.inputObj.actions?.generate_jsons,goal_settings:this.dataJsonObj.inputObj.actions?.goal_settings,health_api_android:this.dataJsonObj.inputObj.actions?.health_api_android,health_api_ios:this.dataJsonObj.inputObj.actions?.health_api_ios,heat_map:this.dataJsonObj.inputObj.actions?.heat_map,help_action:this.dataJsonObj.inputObj.actions?.help_action,image_create:this.dataJsonObj.inputObj.actions?.image_create,import:this.dataJsonObj.inputObj.actions?.import,inactivate:this.dataJsonObj.inputObj.actions?.inactivate,invite:this.dataJsonObj.inputObj.actions?.invite,join:this.dataJsonObj.inputObj.actions?.join,kiosk_map_orientation:this.dataJsonObj.inputObj.actions?.kiosk_map_orientation,leaderboard_ui_settings:this.dataJsonObj.inputObj.actions?.leaderboard_ui_settings,leave:this.dataJsonObj.inputObj.actions?.leave,like:this.dataJsonObj.inputObj.actions?.like,live_stream_create:this.dataJsonObj.inputObj.actions?.live_stream_create,locate:this.dataJsonObj.inputObj.actions?.locate,master_publish:this.dataJsonObj.inputObj.actions?.master_publish,master_rollback:this.dataJsonObj.inputObj.actions?.master_rollback,message:this.dataJsonObj.inputObj.actions?.message,media_gallery:this.dataJsonObj.inputObj.actions?.media_gallery,path_by_sequence:this.dataJsonObj.inputObj.actions?.path_by_sequence,path_by_shortest_route:this.dataJsonObj.inputObj.actions?.path_by_shortest_route,play:this.dataJsonObj.inputObj.actions?.play,post:this.dataJsonObj.inputObj.actions?.post,preview:this.dataJsonObj.inputObj.actions?.preview,publish:this.dataJsonObj.inputObj.actions?.publish,read:this.dataJsonObj.inputObj.actions?.read,record_history:this.dataJsonObj.inputObj.actions?.record_history,record:this.dataJsonObj.inputObj.actions?.record,referral_codes:this.dataJsonObj.inputObj.actions?.referral_codes,refresh:this.dataJsonObj.inputObj.actions?.refresh,register_as:this.dataJsonObj.inputObj.actions?.register_as,register_your_school:this.dataJsonObj.inputObj.actions?.register_your_school,reject:this.dataJsonObj.inputObj.actions?.reject,reply:this.dataJsonObj.inputObj.actions?.reply,report:this.dataJsonObj.inputObj.actions?.report,request:this.dataJsonObj.inputObj.actions?.request,respond:this.dataJsonObj.inputObj.actions?.respond,rollback:this.dataJsonObj.inputObj.actions?.rollback,registrations:this.dataJsonObj.inputObj.actions?.registrations,scoreboard:this.dataJsonObj.inputObj.actions.scoreboard,search:this.dataJsonObj.inputObj.actions?.search,share_external:this.dataJsonObj.inputObj.actions?.share_external,social_media:this.dataJsonObj.inputObj.actions?.social_media,share:this.dataJsonObj.inputObj.actions?.share,show_miscellaneous:this.dataJsonObj.inputObj.actions?.show_miscellaneous,save:this.dataJsonObj.inputObj.actions?.save,save_to_database:this.dataJsonObj.inputObj.actions?.save_to_database,show_predefined_path:this.dataJsonObj.inputObj.actions?.show_predefined_path,spotlight_screen_configuration_import:this.dataJsonObj.inputObj.actions?.spotlight_screen_configuration_import,spotlight_screen_import:this.dataJsonObj.inputObj.actions?.spotlight_screen_import,stats:this.dataJsonObj.inputObj.actions?.stats,subscribe:this.dataJsonObj.inputObj.actions?.subscribe,ui_settings:this.dataJsonObj.inputObj.actions?.ui_settings,ui_view:this.dataJsonObj.inputObj.actions?.ui_view,unlike:this.dataJsonObj.inputObj.actions?.unlike,unpublish:this.dataJsonObj.inputObj.actions?.unpublish,unread:this.dataJsonObj.inputObj.actions?.unread,unsubscribe:this.dataJsonObj.inputObj.actions?.unsubscribe,upload:this.dataJsonObj.inputObj.actions?.upload,validate_lat_longs:this.dataJsonObj.inputObj.actions?.validate_lat_longs,video_create:this.dataJsonObj.inputObj.actions?.video_create,view:this.dataJsonObj.inputObj.actions?.view,visit:this.dataJsonObj.inputObj.actions?.visit,vote:this.dataJsonObj.inputObj.actions?.vote,web_dashboard:this.dataJsonObj.inputObj.actions?.web_dashboard,avatar_play:this.dataJsonObj.inputObj.actions?.avatar_play,quiz_play:this.dataJsonObj.inputObj.actions?.quiz_play},display_setttings:{grid_view:this.dataJsonObj.inputObj.display_setttings?.grid_view,list_view:this.dataJsonObj.inputObj.display_setttings?.list_view,calendar_view:this.dataJsonObj.inputObj.display_setttings?.calendar_view,row_list_view:this.dataJsonObj.inputObj.display_setttings?.row_list_view,card_view:this.dataJsonObj.inputObj.display_setttings?.card_view,calendar_grid:this.dataJsonObj.inputObj.display_setttings?.calendar_grid,pinterest_grid_view:this.dataJsonObj.inputObj.display_setttings?.pinterest_grid_view},sync_settings:{is_enabled:this.dataJsonObj.inputObj.sync_settings?.is_enabled,is_publishable:this.dataJsonObj.inputObj.sync_settings?.is_publishable,is_enabled_for_enterprise_users:this.dataJsonObj.inputObj.sync_settings?.is_enabled_for_enterprise_users},cache_settings:{is_enabled:this.dataJsonObj.inputObj.cache_settings?.is_enabled},module_settings:{is_config_highlights_enabled:this.dataJsonObj.inputObj.module_settings?.is_config_highlights_enabled,is_emails_enabled:this.dataJsonObj.inputObj.module_settings?.is_emails_enabled,is_faqs_enabled:this.dataJsonObj.inputObj.module_settings?.is_faqs_enabled,is_feedback_enabled:this.dataJsonObj.inputObj.module_settings?.is_feedback_enabled,is_notifications_enabled:this.dataJsonObj.inputObj.module_settings?.is_notifications_enabled,is_groups_multi_select_enabled:this.dataJsonObj.inputObj.module_settings?.is_groups_multi_select_enabled,is_list_from_json:this.dataJsonObj.inputObj.module_settings?.is_list_from_json},tab_display_setttings:{closed:this.dataJsonObj.inputObj.tab_display_setttings?.closed,on_going:this.dataJsonObj.inputObj.tab_display_setttings?.on_going,scheduled:this.dataJsonObj.inputObj.tab_display_setttings?.scheduled},filters:{advanced_search:this.dataJsonObj.inputObj.filters?.advanced_search,show_all:this.dataJsonObj.inputObj.filters?.show_all,show_followed:this.dataJsonObj.inputObj.filters?.show_followed,show_mine:this.dataJsonObj.inputObj.filters?.show_mine},is_enabled:this.dataJsonObj.inputObj?.is_enabled,language_translations:this.dataJsonObj.inputObj?.language_translations};this.applicationmanagerService.create(t).then(n=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),this.router.navigateByUrl("/configoptions/applicationmanager"),this.router.routeReuseStrategy.clearModuleRouteCache("configoptions")},n=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(n)),this.loggerService.setLoggerError(this.constructor.name,"createRecord",n)})}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"createRecord",t)}}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}commonErrorCodes(t){const n=JSON.parse(t[o.BU.STATUS]);409===n&&(this.errorObj.error="COMMON_STATUS_CODES."+n)}pageheadeActionClick(t){"BACK"==t.value&&this.cancel()}static \u0275fac=function(n){return new(n||s)(a.Y36(N.E),a.Y36(M.m),a.Y36(D.f),a.Y36(m.F0),a.Y36(J.sK),a.Y36(Q.Y),a.Y36(w.s),a.Y36(E.v),a.Y36(Y.e),a.Y36(m.gz))};static \u0275cmp=a.Xpm({type:s,selectors:[["app-applicationmanager-create"]],viewQuery:function(n,e){if(1&n&&(a.Gf(K,5),a.Gf(X,5),a.Gf(W,5),a.Gf(aa,5),a.Gf(ta,5),a.Gf(ea,5),a.Gf(na,5)),2&n){let i;a.iGM(i=a.CRH())&&(e.applicationAdd=i.first),a.iGM(i=a.CRH())&&(e.multiselectTablename=i.first),a.iGM(i=a.CRH())&&(e.pageNameInput=i.first),a.iGM(i=a.CRH())&&(e.displayNameInput=i.first),a.iGM(i=a.CRH())&&(e.pageRoutingInput=i.first),a.iGM(i=a.CRH())&&(e.languageDisplayName=i.first),a.iGM(i=a.CRH())&&(e.languageAdd=i.first)}},features:[a.qOj],decls:88,vars:84,consts:[[1,"container-fluid","config-optns"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["mandatory","false","disabled","true","id","modulesettings-create-enterprise",3,"label","value"],["disabled","false","mandatory","true","id","modulesettings-create-application",3,"label","defaultValue","options","valueChange"],["applicationAdd",""],["mandatory","true","maxlength","80","onkeypress","return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13 || (event.charCode > 64 && event.charCode < 91)) ? null : (event.charCode >= 48 && event.charCode <= 57 ) || (event.charCode == 95) || (event.charCode > 96 && event.charCode < 123)","disabled","false","id","lookupcode-create-displayname",3,"label","valueChange","keypress"],["pageNameInput",""],["autoCaseFlag","true","mandatory","true","disabled","false","id","lookupcode-create-displayname",3,"label","maxlength","value","valueChange","keypress"],["displayNameInput",""],["disabled","false","mandatory","false",3,"label","options","selectedOptions","valueChange","searchValueChange"],[1,"col-md-2","d-flex","align-items-center"],["label","","id","modulesettings-create-enabled","mandatory","false",3,"options","checked","valueChange"],[1,"col-md-8"],["autoCaseFlag","false","mandatory","true","disabled","false","id","lookupcode-create-page-routing",3,"label","maxlength","value","valueChange","keypress"],["pageRoutingInput",""],[1,"col-lg-4","col-md-12","text-end","mt-2","mb-2","btns-group","pdl-0"],["className","btn btn-primary btn-sm","id","modulesettings-create-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","modulesettings-create-cancel",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"row"],["class","col-md-12",4,"ngIf"],[1,"card"],[1,"card-content"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","false","label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","lookupcodes-create-translationsadd",3,"isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","d-none","d-lg-block","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"d-lg-none"],["lines","full","class","pdl-0 pdr-0",4,"ngFor","ngForOf"],["class","text-center text-danger mb-0 no-data-txt",4,"ngIf"],["id","languaageTranslationsModal","tabindex","-1","role","dialog","aria-labelledby","languaageTranslationsModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","languaageTranslationsModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],["class","col-md-4",4,"ngIf"],["mandatory","true","autoCaseFlag","false","id","applicationmanager-create-displayname-addpopup",3,"label","value","disabled","maxlength","valueChange"],["languageDisplayName",""],[1,"col-md-4","d-flex","align-items-center"],["label","","mandatory","true","id","lookupcode-create-checkboxoptions-addpopup",3,"options","checked","disabled","valueChange"],[1,"error-msg","col-md-10","text-danger","text-center","mb-0"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","lookupcode-translations-add-btn",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","lookupcode-translations-add-cancel-btn",3,"label","buttonOnClick"],["class","text-capitalize",3,"selected","id",4,"ngFor","ngForOf"],[1,"text-capitalize",3,"selected","id"],[1,"ptable","rolerights",3,"value","rows","responsive","autoLayout"],["class","col-md-2 d-flex align-items-center",4,"ngFor","ngForOf"],["label","",3,"options","checked","valueChange"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#languaageTranslationsModal",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#languaageTranslationsModal",3,"pSelectableRow","click"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"],["lines","full",1,"pdl-0","pdr-0"],[1,"mg-0",3,"click"],["color","primary",1,"mg-0","fs-13"],[1,"mg-0","fs-11"],[1,"text-center","text-danger","mb-0","no-data-txt"],["mandatory","true","id","applicationmanager-create-languagename-addpopup",3,"label","options","selectedOption","searchValueChange"],["languageAdd",""],["mandatory","true","disabled","true","id","lookupcode-create-displayname-editpopup",3,"label","value"]],template:function(n,e){1&n&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),a._UZ(6,"app-pageheader",6),a.qZA(),a.TgZ(7,"div",7)(8,"div",8)(9,"div",9),a._UZ(10,"app-input",10),a.ALo(11,"translate"),a.qZA(),a.TgZ(12,"div",9)(13,"app-dropdown-singleselect",11,12),a.NdJ("valueChange",function(l){return e.changeDropDownFieldValue(l,"lookup_id","lookupCodesListJson."+(null==e.dataJsonObj.htmlEnumValuesJson?null:e.dataJsonObj.htmlEnumValuesJson.applicationNames),"application",["lookup_id","lookup_name"])}),a.ALo(15,"translate"),a.qZA()(),a.TgZ(16,"div",9)(17,"app-inputuppercase",13,14),a.NdJ("valueChange",function(l){return e.changeInputFieldValue(l,"page_name","")})("keypress",function(){return e.clearmessage()}),a.ALo(19,"translate"),a.qZA()(),a.TgZ(20,"div",9)(21,"app-input",15,16),a.NdJ("valueChange",function(l){return e.changeInputFieldValue(l,"page_display_name","")})("keypress",function(){return e.clearmessage()}),a.ALo(23,"translate"),a.qZA()(),a.TgZ(24,"div",9)(25,"app-dropdown-multiselect-v2",17),a.NdJ("valueChange",function(l){return e.changeMultiSelectFieldValue(l,"name","tablenamesList","underlying_tables",["name"])})("searchValueChange",function(l){return e.getTablenamesList(l)}),a.ALo(26,"translate"),a.qZA()(),a.TgZ(27,"div",18)(28,"app-checkbox",19),a.NdJ("valueChange",function(l){return e.changeCheckBoxValue(l,"","is_enabled")}),a.qZA()(),a.TgZ(29,"div",20)(30,"app-input",21,22),a.NdJ("valueChange",function(l){return e.changeInputFieldValue(l,"page_routing","")})("keypress",function(){return e.clearmessage()}),a.ALo(32,"translate"),a.qZA()(),a.TgZ(33,"div",23)(34,"app-button",24),a.NdJ("buttonOnClick",function(){return e.createRecord()}),a.ALo(35,"translate"),a.qZA(),a.TgZ(36,"app-button",25),a.NdJ("buttonOnClick",function(){return e.cancel()}),a.ALo(37,"translate"),a.qZA()(),a.TgZ(38,"div",26),a._uU(39),a.ALo(40,"translate"),a.qZA()(),a.TgZ(41,"div",27),a.YNc(42,ra,5,1,"div",28),a.TgZ(43,"div",3)(44,"div",29)(45,"div",30)(46,"p-accordion",31)(47,"p-accordionTab",32)(48,"p-header",33)(49,"span"),a._uU(50),a.ALo(51,"translate"),a.qZA(),a.TgZ(52,"app-button",34),a.NdJ("buttonOnClick",function(l){return e.languagesAction(l,"ADD","")}),a.qZA()(),a.TgZ(53,"p-table",35),a.YNc(54,ca,1,1,"ng-template",36),a.YNc(55,ba,2,1,"ng-template",37),a.YNc(56,Oa,2,1,"ng-template",38),a.YNc(57,_a,4,2,"ng-template",39),a.qZA(),a.TgZ(58,"div",40)(59,"ion-list"),a.YNc(60,ha,11,12,"ion-item",41),a.qZA(),a.YNc(61,ja,3,3,"p",42),a.qZA()()()()()()()()()()()()(),a.TgZ(62,"div",43)(63,"div",44)(64,"div",45)(65,"div",46)(66,"div",47),a._uU(67),a.ALo(68,"translate"),a.ALo(69,"translate"),a.qZA()(),a.TgZ(70,"div",48)(71,"div",8),a.YNc(72,ma,4,4,"div",49),a.YNc(73,Ja,3,4,"div",49),a.TgZ(74,"div",9)(75,"app-input",50,51),a.NdJ("valueChange",function(l){return e.changeInputFieldValue(l,"page_display_name","languageTranslationObj")}),a.ALo(77,"translate"),a.qZA()(),a.TgZ(78,"div",52)(79,"app-checkbox",53),a.NdJ("valueChange",function(l){return e.changeCheckBoxValue(l,"languageTranslationObj","is_enabled")}),a.qZA()(),a.TgZ(80,"div",54),a._uU(81),a.ALo(82,"translate"),a.qZA(),a.TgZ(83,"div",55)(84,"app-button",56),a.NdJ("buttonOnClick",function(){return e.languagesPopupSubmit()}),a.ALo(85,"translate"),a.qZA(),a.TgZ(86,"app-button",57),a.NdJ("buttonOnClick",function(){return e.cancelPopup()}),a.ALo(87,"translate"),a.qZA()()()()()()()),2&n&&(a.xp6(6),a.Q6J("pageName",e.dataJsonObj.pageName)("pageTitle",e.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),a.xp6(4),a.s9C("label",a.lcZ(11,52,"COMMON_PAGE_TITLES.ENTERPRISE")),a.s9C("value",null==e.dataJsonObj.inputObj.enterprise?null:e.dataJsonObj.inputObj.enterprise.short_name),a.xp6(3),a.s9C("label",a.lcZ(15,54,"GENERAL_SETTINGS.APPLICATIONS")),a.s9C("defaultValue",null==e.dataJsonObj.inputObj||null==e.dataJsonObj.inputObj.application?null:e.dataJsonObj.inputObj.application.lookup_id),a.Q6J("options",e.dataJsonObj.lookupCodesListJson[null==e.dataJsonObj.htmlEnumValuesJson?null:e.dataJsonObj.htmlEnumValuesJson.applicationNames]),a.xp6(4),a.s9C("label",a.lcZ(19,56,"CONFIG_OPTIONS.PAGE_NAME")),a.xp6(4),a.s9C("label",a.lcZ(23,58,"CONFIG_OPTIONS.PAGE_DISPLAY_NAME")),a.s9C("value",null==e.dataJsonObj.inputObj?null:e.dataJsonObj.inputObj.page_display_name),a.Q6J("maxlength",80),a.xp6(4),a.s9C("label",a.lcZ(26,60,"COMMON_FIELDS.TABLE_NAMES")),a.Q6J("options",e.dataJsonObj.tablenamesList)("selectedOptions",null==e.dataJsonObj.inputObj?null:e.dataJsonObj.inputObj.underlying_tables),a.xp6(3),a.Q6J("options",e.dataJsonObj.enabledOptions)("checked",null==e.dataJsonObj.inputObj?null:e.dataJsonObj.inputObj.is_enabled),a.xp6(2),a.s9C("label",a.lcZ(32,62,"CONFIG_OPTIONS.PAGE_ROUTING")),a.s9C("value",null==e.dataJsonObj.inputObj?null:e.dataJsonObj.inputObj.page_routing),a.Q6J("maxlength",160),a.xp6(4),a.s9C("label",a.lcZ(35,64,"COMMON_BUTTONS.BUTTON_SUBMIT")),a.s9C("disabled",e.dataJsonObj.isSubmitButtonDisabled),a.xp6(2),a.s9C("label",a.lcZ(37,66,"COMMON_BUTTONS.BUTTON_CANCEL")),a.xp6(3),a.hij(" ",a.lcZ(40,68,e.errorObj.error)," "),a.xp6(3),a.Q6J("ngIf",e.dataJsonObj.dynamicFieldJSon),a.xp6(4),a.Q6J("multiple",!0),a.xp6(1),a.Q6J("selected",!0),a.xp6(3),a.Oqu(a.lcZ(51,70,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")),a.xp6(2),a.Q6J("isEmitMouseEvent",!0),a.xp6(1),a.Q6J("columns",e.dataJsonObj.languageHeaders)("value",e.dataJsonObj.inputObj.language_translations)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),a.xp6(7),a.Q6J("ngForOf",e.dataJsonObj.inputObj.language_translations),a.xp6(1),a.Q6J("ngIf",e.dataJsonObj.inputObj.language_translations&&0==e.dataJsonObj.inputObj.language_translations.length),a.xp6(6),a.AsE("",a.lcZ(68,72,"COMMON_PAGE_TITLES.LANGUAGE_TRANSLATIONS")," - ",a.lcZ(69,74,null==e.dataJsonObj.inputObj.languageTranslationObj||null==e.dataJsonObj.inputObj.languageTranslationObj.dynamicParams?null:e.dataJsonObj.inputObj.languageTranslationObj.dynamicParams.headerButtonLabel),""),a.xp6(5),a.Q6J("ngIf","ADD"===(null==e.dataJsonObj.inputObj.languageTranslationObj?null:e.dataJsonObj.inputObj.languageTranslationObj.action)),a.xp6(1),a.Q6J("ngIf","ADD"!==(null==e.dataJsonObj.inputObj.languageTranslationObj?null:e.dataJsonObj.inputObj.languageTranslationObj.action)),a.xp6(2),a.s9C("label",a.lcZ(77,76,"COMMON_FIELDS.DISPLAY_NAME")),a.s9C("value",null==e.dataJsonObj.inputObj.languageTranslationObj?null:e.dataJsonObj.inputObj.languageTranslationObj.page_display_name),a.Q6J("disabled",null==e.dataJsonObj.inputObj.languageTranslationObj||null==e.dataJsonObj.inputObj.languageTranslationObj.enableFieldsJson?null:e.dataJsonObj.inputObj.languageTranslationObj.enableFieldsJson.displayName)("maxlength",80),a.xp6(4),a.Q6J("options",e.dataJsonObj.enabledOptions)("checked",null==e.dataJsonObj.inputObj.languageTranslationObj?null:e.dataJsonObj.inputObj.languageTranslationObj.is_enabled)("disabled",null==e.dataJsonObj.inputObj.languageTranslationObj||null==e.dataJsonObj.inputObj.languageTranslationObj.enableFieldsJson?null:e.dataJsonObj.inputObj.languageTranslationObj.enableFieldsJson.isEnabled),a.xp6(2),a.hij(" ",a.lcZ(82,78,null==e.errorObj.languageTranslationerrorObj?null:e.errorObj.languageTranslationerrorObj.error)," "),a.xp6(3),a.s9C("label",a.lcZ(85,80,null==e.dataJsonObj.inputObj.languageTranslationObj||null==e.dataJsonObj.inputObj.languageTranslationObj.dynamicParams?null:e.dataJsonObj.inputObj.languageTranslationObj.dynamicParams.popupSubmitButtonLabel)),a.xp6(2),a.s9C("label",a.lcZ(87,82,null==e.dataJsonObj.inputObj.languageTranslationObj||null==e.dataJsonObj.inputObj.languageTranslationObj.dynamicParams?null:e.dataJsonObj.inputObj.languageTranslationObj.dynamicParams.popupCancelButtonLabel)))},dependencies:[v.sg,v.O5,S.iA,C.h4,C.jx,S.Ei,f.UQ,f.US,k.r,P.a,H.k,Z.E,U.b,R.S,z.C,L.q,J.X$]})}return s})();var B=c(11735);function Aa(s,d){if(1&s&&a._UZ(0,"app-pageheader",20),2&s){const t=a.oxw();a.Q6J("pageName",t.dataJsonObj.pageName)("pageTitle",t.dataJsonObj.pageTitle)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0)("isEditActionEnable",t.dataJsonObj.isEditAction)}}const va=function(s){return[s]};function fa(s,d){if(1&s&&(a.TgZ(0,"div",14),a._UZ(1,"app-checkbox",32),a.qZA()),2&s){const t=d.$implicit,n=a.oxw(2).$implicit,e=a.oxw(2);a.xp6(1),a.Q6J("options",a.VKq(2,va,t))("checked",e.dataJsonObj.recordData[n.field][null==t?null:t.name])}}function Ca(s,d){if(1&s&&(a.TgZ(0,"div",21),a.YNc(1,fa,2,4,"div",31),a.qZA()),2&s){const t=a.oxw().$implicit,n=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",n.dataJsonObj.dynamicFieldJSon[t.field])}}function Ta(s,d){if(1&s&&(a.TgZ(0,"p-accordionTab",27)(1,"p-header",28)(2,"span"),a._uU(3),a.qZA()(),a.TgZ(4,"p-table",29),a.YNc(5,Ca,2,1,"ng-template",30),a.qZA()()),2&s){const t=d.$implicit,n=a.oxw(2);a.MGl("id","",t.field,"_tab_id"),a.Q6J("selected",!1),a.xp6(3),a.Oqu(t.displayName),a.xp6(1),a.Q6J("value",n.dataJsonObj.data)("rows",1)("responsive",!0)("autoLayout",!1)}}function Sa(s,d){if(1&s&&(a.TgZ(0,"div",21)(1,"div",3)(2,"div",22)(3,"div",23)(4,"p-accordion",24),a.YNc(5,Ta,6,7,"p-accordionTab",25),a._UZ(6,"app-recordhistory",26),a.qZA()()()()()),2&s){const t=a.oxw();a.xp6(4),a.Q6J("multiple",!0),a.xp6(1),a.Q6J("ngForOf",t.dataJsonObj.dynamicAccordions),a.xp6(1),a.Q6J("createdBy",null==t.dataJsonObj.recordData?null:t.dataJsonObj.recordData.created_by)("showrecordhistory",t.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==t.dataJsonObj.recordData?null:t.dataJsonObj.recordData.updated_by)("creationDate",null==t.dataJsonObj.recordData?null:t.dataJsonObj.recordData.createdAt)("lastUpdatedDate",null==t.dataJsonObj.recordData?null:t.dataJsonObj.recordData.updatedAt)}}let Na=(()=>{class s extends I.O{applicationmanagerService;loggerService;navigationService;router;translateService;commonService;route;dataJsonObj={};errorObj={};constructor(t,n,e,i,l,r,p){super(p,r),this.applicationmanagerService=t,this.loggerService=n,this.navigationService=e,this.router=i,this.translateService=l,this.commonService=r,this.route=p,this.route.queryParams.subscribe(_=>{this.dataJsonObj.queryParamsObj={defaultView:_.defaultView,selectedMenuId:_.selectedMenuId,selectedSubMenuId:_.selectedSubMenuId}})}ngOnInit(){this.dataJsonObj.headerAction={BACK:!0},this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=o.hf.APPLICATION_MANAGER,this.commonService.trackView(o.sn.MODULE_SETTINGS_VIEW),this.route.params.subscribe(n=>{this.dataJsonObj.recordId=n.id,this.getRecordById(this.dataJsonObj.recordId)}),this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(o.BU.SELECTED_ENTERPRISE),this.dataJsonObj.selectedMenu=JSON.parse(localStorage.getItem(o.BU.SELECTED_MENU)),this.dataJsonObj.selectedSubMenu=JSON.parse(localStorage.getItem(o.BU.MENU_CLICK_ITEM)),this.dataJsonObj.data=[{}],this.dataJsonObj.dynamicAccordions=[],this.dataJsonObj.dynamicFieldJSon={},this.dataJsonObj.tablenamesList=[],this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(o.hf.APPLICATION_MANAGER,o.AM.ACTIONS,o.In.RECORD_HISTORY),this.dataJsonObj.selectedPage=o.hf.APPLICATION_MANAGER,this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}]),this.dataJsonObj.enabledOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}]}getRecordById(t){try{this.applicationmanagerService.get(t).then(n=>{this.dataJsonObj.recordData=n,this.dataJsonObj.isEditAction=this.getIsEditAction(this.dataJsonObj.recordData),this.dataJsonObj.recordData.application.lookup_display_name=this.lookupLanguageTranslations(this.dataJsonObj.recordData.application.lookup_id),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.APPLICATION_MANAGER",value:this.dataJsonObj.recordData?.application?.lookup_display_name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.getDynamicFieldsList(),this.getTablenamesList("")},n=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",n)}}getIsEditAction(t){return"0"===this.dataJsonObj.selectedEnterpriseId}getDynamicJson(t){var n=this;return(0,T.Z)(function*(){for(let e of t)n.dataJsonObj[e.storingFieldName]=yield n.commonService.getDynamicJson(n.dataJsonObj.enterpriseId,e.folderName,e.jsonType);n.dataJsonObj.selectedObj={},n.dataJsonObj.selectedObj.recordId=n.dataJsonObj.recordId,n.dataJsonObj.selectedObj.pageObj=n.dataJsonObj.menuDataJson.filter(e=>e.menu_page.page_name===n.dataJsonObj.selectedPage),n.dataJsonObj.selectedObjEnabled=!0})()}getTablenamesList(t){try{this.applicationmanagerService.gettablenames(t).then(n=>{this.dataJsonObj.tablenamesList=n;for(let e=0;e<this.dataJsonObj.recordData.underlying_tables.length;e++){const i=this.dataJsonObj.recordData.underlying_tables[e].name,l=this.dataJsonObj.tablenamesList.find(r=>r.ID===i);this.dataJsonObj.recordData.underlying_tables[e].ID=l?.ID,this.dataJsonObj.recordData.underlying_tables[e].NAME=l?.NAME}},n=>{this.loggerService.setLoggerError(this.constructor.name,"getTablenamesList",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getTablenamesList",n)}}getDynamicFieldsList(){try{this.applicationmanagerService.getDynamicFieldsList("application_manager").then(t=>{this.dataJsonObj.accordions=t.applicationManagerAccordions,this.dataJsonObj.dynamicFieldJSon=t.applicationManagerDynamicFieldsJSON,this.dataJsonObj.dynamicAccordions=this.dataJsonObj.recordData.actions?.filters?this.dataJsonObj.accordions:t.applicationManagerAccordions.filter(n=>"filters"!==n.field)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getDynamicFieldsList",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getDynamicFieldsList",t)}}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}pageheadeActionClick(t){"BACK"==t.value&&this.cancel()}static \u0275fac=function(n){return new(n||s)(a.Y36(N.E),a.Y36(M.m),a.Y36(D.f),a.Y36(m.F0),a.Y36(J.sK),a.Y36(E.v),a.Y36(m.gz))};static \u0275cmp=a.Xpm({type:s,selectors:[["app-applicationmanager-view"]],features:[a.qOj],decls:33,vars:32,consts:[[1,"container-fluid","config-optns"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],["class","subpage-header-title w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","isEditActionEnable",4,"ngIf"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["mandatory","false","disabled","true","id","modulesettings-view-enterprise",3,"label","value"],["disabled","true","id","modulesettings-view-application",3,"label","value"],["autoCaseFlag","false","disabled","true",3,"label","value"],["disabled","true","mandatory","false",3,"label","options","selectedOptions"],[1,"col-md-2","d-flex","align-items-center"],["label","","id","modulesettings-view-enabled","disabled","true","mandatory","false",3,"options","checked"],[1,"col-md-8"],[1,"col-lg-4","col-md-12","text-end","mt-2","mb-2","btns-group","pdl-0"],["className","btn btn-danger btn-sm","id","modulesettings-view-close",3,"label","buttonOnClick"],["class","row",4,"ngIf"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","isEditActionEnable"],[1,"row"],[1,"card"],[1,"card-content"],[3,"multiple"],["class","text-capitalize",3,"selected","id",4,"ngFor","ngForOf"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],[1,"text-capitalize",3,"selected","id"],[1,"d-flex","justify-content-between","w-100","accordion-header"],[1,"ptable","rolerights",3,"value","rows","responsive","autoLayout"],["pTemplate","body"],["class","col-md-2 d-flex align-items-center",4,"ngFor","ngForOf"],["label","","disabled","true",3,"options","checked"]],template:function(n,e){1&n&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),a.YNc(6,Aa,1,7,"app-pageheader",6),a.qZA(),a.TgZ(7,"div",7)(8,"div",8)(9,"div",9),a._UZ(10,"app-input",10),a.ALo(11,"translate"),a.qZA(),a.TgZ(12,"div",9),a._UZ(13,"app-input",11),a.ALo(14,"translate"),a.qZA(),a.TgZ(15,"div",9),a._UZ(16,"app-input",12),a.ALo(17,"translate"),a.qZA(),a.TgZ(18,"div",9),a._UZ(19,"app-input",12),a.ALo(20,"translate"),a.qZA(),a.TgZ(21,"div",9),a._UZ(22,"app-dropdown-multiselect-v2",13),a.ALo(23,"translate"),a.qZA(),a.TgZ(24,"div",14),a._UZ(25,"app-checkbox",15),a.qZA(),a.TgZ(26,"div",16),a._UZ(27,"app-input",12),a.ALo(28,"translate"),a.qZA(),a.TgZ(29,"div",17)(30,"app-button",18),a.NdJ("buttonOnClick",function(){return e.cancel()}),a.ALo(31,"translate"),a.qZA()()(),a.YNc(32,Sa,7,7,"div",19),a.qZA()()()()()()),2&n&&(a.xp6(6),a.Q6J("ngIf",e.dataJsonObj.recordData),a.xp6(4),a.s9C("label",a.lcZ(11,18,"COMMON_PAGE_TITLES.ENTERPRISE")),a.s9C("value",null==e.dataJsonObj.recordData||null==e.dataJsonObj.recordData.enterprise?null:e.dataJsonObj.recordData.enterprise.short_name),a.xp6(3),a.s9C("label",a.lcZ(14,20,"GENERAL_SETTINGS.APPLICATIONS")),a.s9C("value",null==e.dataJsonObj.recordData||null==e.dataJsonObj.recordData.application?null:e.dataJsonObj.recordData.application.lookup_display_name),a.xp6(3),a.s9C("label",a.lcZ(17,22,"CONFIG_OPTIONS.PAGE_NAME")),a.s9C("value",null==e.dataJsonObj.recordData?null:e.dataJsonObj.recordData.page_name),a.xp6(3),a.s9C("label",a.lcZ(20,24,"CONFIG_OPTIONS.PAGE_DISPLAY_NAME")),a.s9C("value",null==e.dataJsonObj.recordData?null:e.dataJsonObj.recordData.page_display_name),a.xp6(3),a.s9C("label",a.lcZ(23,26,"COMMON_FIELDS.TABLE_NAMES")),a.Q6J("options",null==e.dataJsonObj.recordData?null:e.dataJsonObj.recordData.underlying_tables)("selectedOptions",null==e.dataJsonObj.recordData?null:e.dataJsonObj.recordData.underlying_tables),a.xp6(3),a.Q6J("options",e.dataJsonObj.enabledOptions)("checked",null==e.dataJsonObj.recordData?null:e.dataJsonObj.recordData.is_enabled),a.xp6(2),a.s9C("label",a.lcZ(28,28,"CONFIG_OPTIONS.PAGE_ROUTING")),a.s9C("value",null==e.dataJsonObj.recordData?null:e.dataJsonObj.recordData.page_routing),a.xp6(3),a.s9C("label",a.lcZ(31,30,"COMMON_BUTTONS.BUTTON_CLOSE")),a.xp6(2),a.Q6J("ngIf",e.dataJsonObj.dynamicFieldJSon))},dependencies:[v.sg,v.O5,S.iA,C.h4,C.jx,f.UQ,f.US,k.r,P.a,Z.E,U.b,B.W,L.q,J.X$]})}return s})();var x=c(42863),V=c(28168),G=c(30578),Ea=c(70057),Ia=c(88425);const Ma=["datatableComponent"];function La(s,d){if(1&s){const t=a.EpF();a.TgZ(0,"div",6)(1,"app-datatable",7,8),a.NdJ("actionClicked",function(e){a.CHM(t);const i=a.oxw();return a.KtG(i.onActionClicked(e))})("redirectionEvent",function(e){a.CHM(t);const i=a.oxw();return a.KtG(i.mobileEventAction(e))})("loadPageData",function(e){a.CHM(t);const i=a.oxw();return a.KtG(i.loadPageData(e))}),a.qZA(),a.TgZ(3,"div",9)(4,"app-page-actions",10),a.NdJ("selectedAction",function(e){a.CHM(t);const i=a.oxw();return a.KtG(i.onPageLevelActionClicked(e))}),a.qZA()()()}if(2&s){const t=a.oxw();a.xp6(1),a.Q6J("header",t.dataJsonObj.headers)("actions",t.dataJsonObj.actions)("listingVariables",t.listingVariables)("currentPageName",t.dataJsonObj.currentPageName)("paginator",!0)("totalPages",t.listingVariables.totalpages)("totalRecords",t.listingVariables.totalRecords)("mobileListData",t.dataJsonObj.responseData)("data",t.dataJsonObj.responseData)("expand",!1)("selectedDisplayViewType",t.dataJsonObj.selectedDisplayView)("selectedFilterType",t.dataJsonObj.selectedFilter)("showSpinner",t.dataJsonObj.showSpinner)("selectedAdvancedSearchObj",t.dataJsonObj.selectedAdvancedSearchObj)("pageName",t.dataJsonObj.pageName)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId),a.xp6(3),a.Q6J("isFabDisplay",!0)("actionsList",t.dataJsonObj.pageActionsList)}}function Da(s,d){if(1&s&&(a.TgZ(0,"div",11),a._uU(1),a.ALo(2,"translate"),a.qZA()),2&s){const t=a.oxw();a.xp6(1),a.AsE(" ",a.lcZ(2,2,"COMMON_VALIDATION_MESSAGES.NOT_AUTHORIZED_FOR_THE_ENTERPRISE")," ",null==t.dataJsonObj.selectedEnterpriseObj?null:t.dataJsonObj.selectedEnterpriseObj.short_name," ")}}const ka=["displayNameInput"],Pa=["pageRoutingInput"],Za=["pageNameInput"],Ua=function(s){return[s]};function Fa(s,d){if(1&s){const t=a.EpF();a.TgZ(0,"div",17)(1,"app-checkbox",38),a.NdJ("valueChange",function(e){const l=a.CHM(t).$implicit,r=a.oxw(2).$implicit,p=a.oxw(2);return a.KtG(p.changeCheckBoxValue(e,r.field,null==l?null:l.name))}),a.qZA()()}if(2&s){const t=d.$implicit,n=a.oxw(2).$implicit,e=a.oxw(2);a.xp6(1),a.Q6J("options",a.VKq(2,Ua,t))("checked",e.dataJsonObj.inputObj[n.field][null==t?null:t.name])}}function Ra(s,d){if(1&s&&(a.TgZ(0,"div",26),a.YNc(1,Fa,2,4,"div",37),a.qZA()),2&s){const t=a.oxw().$implicit,n=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",n.dataJsonObj.dynamicFieldJSon[t.field])}}function Ba(s,d){if(1&s&&(a.TgZ(0,"p-accordionTab",33)(1,"p-header",34)(2,"span"),a._uU(3),a.qZA()(),a.TgZ(4,"p-table",35),a.YNc(5,Ra,2,1,"ng-template",36),a.qZA()()),2&s){const t=d.$implicit,n=a.oxw(2);a.MGl("id","",t.field,"_tab_id"),a.Q6J("selected",!1),a.xp6(3),a.Oqu(t.displayName),a.xp6(1),a.Q6J("value",n.dataJsonObj.data)("rows",1)("responsive",!0)("autoLayout",!1)}}function xa(s,d){if(1&s&&(a.TgZ(0,"span"),a.YNc(1,Ba,6,7,"p-accordionTab",32),a.qZA()),2&s){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.dataJsonObj.dynamicAccordions)}}const Ga=[{path:"",data:{title:"applicationmanager"},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class s extends I.O{actionSheetController;applicationmanagerService;columnheaders;loggerService;router;translateService;commonService;listingVariables;route;uiUtils;datatableComponent;dataJsonObj={};errorObj={};constructor(t,n,e,i,l,r,p,_,O,g){super(O,p),this.actionSheetController=t,this.applicationmanagerService=n,this.columnheaders=e,this.loggerService=i,this.router=l,this.translateService=r,this.commonService=p,this.listingVariables=_,this.route=O,this.uiUtils=g,this.route.queryParams.subscribe(h=>{this.dataJsonObj.queryParamsObj={defaultView:h.default_view,selectedMenuId:h.selectedMenuId,selectedSubMenuId:h.selectedSubMenuId}})}ngOnInit(){const t=[o.ox.SUPER_ADMIN,o.ox.SUB_ADMIN,o.ox.TECH_HELP],n=localStorage.getItem(o.BU.SELECTED_USER_TYPE_OBJ)?JSON.parse(localStorage.getItem(o.BU.SELECTED_USER_TYPE_OBJ)):{};this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(o.BU.SELECTED_ENTERPRISE),this.dataJsonObj.currentPageName=o.hf.APPLICATION_MANAGER,this.dataJsonObj.selectedEnterpriseObj=this.commonService.getSelcetedEnterpriseObj(),-1!==t.indexOf(n?.user_type_name)&&0===parseInt(this.dataJsonObj.selectedEnterpriseId,10)?(this.dataJsonObj.isAuthorized=!0,this.initializeComponent()):this.dataJsonObj.isAuthorized=!1}initializeComponent(){this.showSpinner(),this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.pageName=o.hf.APPLICATION_MANAGER,this.dataJsonObj.noDuplicates=void 0,this.commonService.trackView(o.sn.MODULE_SETTINGS_LIST),this.dataJsonObj.searchString="",this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.APPLICATION_MANAGER",value:"",showSubMenuDisplayName:!0}],this.dataJsonObj.headers=this.columnheaders.getApplicationManagerConfiguration(),this.dataJsonObj.actionBoolean=!(!this.roleRightsValidationByPage(o.hf.APPLICATION_MANAGER,o.AM.ACTIONS,o.In.ACTIVATE)||!this.roleRightsValidationByPage(o.hf.APPLICATION_MANAGER,o.AM.ACTIONS,o.In.INACTIVATE)),this.dataJsonObj.actions={CHECKBOX:this.dataJsonObj.actionBoolean,EDIT:this.roleRightsValidationByPage(o.hf.APPLICATION_MANAGER,o.AM.ACTIONS,o.In.EDIT),VIEW:this.roleRightsValidationByPage(o.hf.APPLICATION_MANAGER,o.AM.ACTIONS,o.In.VIEW)},this.dataJsonObj.addFiltersList=[],this.dataJsonObj.pageActionsList=[],0==this.dataJsonObj.selectedEnterpriseId&&this.roleRightsValidationByPage(o.hf.APPLICATION_MANAGER,o.AM.ACTIONS,o.In.CREATE)&&this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:o.gL.URL,redirectURL:"/configoptions/applicationmanager/create",queryParams:"",iconClass:"fas fa-plus"}),this.roleRightsValidationByPage(o.hf.APPLICATION_MANAGER,o.AM.ACTIONS,o.In.FILTERS)}getSearchResult(t){try{this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchString=t,this.getAllRecords(),this.datatableComponent.reset()}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getSearchResults",n)}}searchClose(){try{this.dataJsonObj.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.getAllRecords(),this.datatableComponent.reset()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"searchClose",t)}}loadPageData(t){this.listingVariables.pageNumbers=t.listingVariables.pageNumbers,t.clearMobileData&&(this.dataJsonObj.responseData=this.dataJsonObj.noDuplicates),t.isPaginationChange&&(this.dataJsonObj.selectedFilter=t.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=t.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=t.selectedAdvancedSearchObj),this.getAllRecords()}getAllRecords(){try{this.showSpinner();const t=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView);this.applicationmanagerService.getAll(this.dataJsonObj.selectedEnterpriseId,this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.listingVariables.sortOrderColumn,this.dataJsonObj.searchString,t,this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(e=>{this.hideSpinner(),this.dataJsonObj.responseData=e.rows.length>0?e.rows:[];for(let i=0;i<this.dataJsonObj.responseData.length;i++)this.dataJsonObj.responseData[i].enterprise.short_name_url='<a class="enable" id="enterprise.short_name'+this.dataJsonObj.responseData[i]._id+'" href="enterprises/enterprises/'+this.dataJsonObj.responseData[i].enterprise.enterprise_id+'/view/" >'+this.dataJsonObj.responseData[i].enterprise.short_name,this.dataJsonObj.responseData[i].is_enabled=!0===this.dataJsonObj.responseData[i].is_enabled?"Yes":"No";e.totalCount&&(this.listingVariables.totalRecords=e.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=e.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.dataJsonObj.responseData=this.dataJsonObj.responseData.concat(e.rows)):this.dataJsonObj.responseData=e.rows},e=>{this.hideSpinner(),this.dataJsonObj.responseData=[],this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",e)})}catch(t){this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)}}create(){try{this.router.navigate(["/configoptions/applicationmanager/create"])}catch(t){this.loggerService.setLoggerError(this.constructor.name,"create",t)}}mobileEventAction(t){try{this.dataJsonObj.mobileroutesArray=[],this.dataJsonObj.actionBoolean&&t.isEnabled&&this.dataJsonObj.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_DISABLE"),handler:()=>{this.changeStatus(t)}}),this.roleRightsValidationByPage(o.hf.APPLICATION_MANAGER,o.AM.ACTIONS,o.In.EDIT)&&this.dataJsonObj.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/configoptions/applicationmanager/"+t._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("configoptions")}}),this.dataJsonObj.actionBoolean&&!t.isEnabled&&this.dataJsonObj.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ENABLE"),handler:()=>{this.changeStatus(t)}}),this.roleRightsValidationByPage(o.hf.APPLICATION_MANAGER,o.AM.ACTIONS,o.In.VIEW)&&this.dataJsonObj.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{this.commonService.redirectToUrl(["configoptions","applicationmanager",t._id,"view"],!0,!1,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}}),this.presentActionSheet(t)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"mobileEventAction",n)}}presentActionSheet(t){var n=this;return(0,T.Z)(function*(){try{yield(yield n.actionSheetController.create({cssClass:"actionsheet",buttons:n.dataJsonObj.mobileroutesArray})).present()}catch(e){n.loggerService.setLoggerError(n.constructor.name,"presentActionSheet",e)}})()}onActionClicked(t){try{const n=t.data._id;t.action===o.A0.VIEW?this.commonService.redirectToUrl(["configoptions","applicationmanager",n,"view"],!0,!1,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route):t.action===o.A0.EDIT?(this.router.navigate(["/configoptions/applicationmanager/"+n+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("configoptions")):t.action===o.A0.CHECKBOX&&this.changeStatus(t.data)}catch(n){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",n)}}changeStatus(t){this.dataJsonObj.actionStatus=t.isEnabled,this.applicationmanagerService.patch(t._id,{is_enabled:this.dataJsonObj.actionStatus}).then(e=>{this.uiUtils.displaytoastMessage(this.dataJsonObj.actionStatus?"COMMON_TOAST_MESSAGES.TOAST_SUCCESS_ACTIVATE":"COMMON_TOAST_MESSAGES.TOAST_SUCCESS_INACTIVATE"),this.router.navigateByUrl("/configoptions/applicationmanager"),this.router.routeReuseStrategy.clearModuleRouteCache("configoptions"),this.getAllRecords()})}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}selectedViewType(t){this.dataJsonObj.selectedDisplayView=t}selectedFilterType(t){t?this.dataJsonObj.selectedFilter=t:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}onPageLevelActionClicked(t){}advancedSearchFilterClicked(t){this.dataJsonObj.selectedAdvancedSearchObj=t}onHeaderItemClick(t){switch(t.type){case"search":this.getSearchResult(t.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(t.event);break;case"filters":this.selectedFilterType(t.event);break;case"advanced_search":this.advancedSearchFilterClicked(t.event);break;case"page_actions":this.onPageLevelActionClicked(t.event)}}static \u0275fac=function(n){return new(n||s)(a.Y36(Ea.BX),a.Y36(N.E),a.Y36(x.Y),a.Y36(M.m),a.Y36(m.F0),a.Y36(J.sK),a.Y36(E.v),a.Y36(G.v),a.Y36(m.gz),a.Y36(w.s))};static \u0275cmp=a.Xpm({type:s,selectors:[["app-applicationmanager"]],viewQuery:function(n,e){if(1&n&&a.Gf(Ma,5),2&n){let i;a.iGM(i=a.CRH())&&(e.datatableComponent=i.first)}},features:[a._Bn([V.n,x.Y,G.v]),a.qOj],decls:6,vars:11,consts:[[1,"container-fluid","config-optns"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["class","card-body pdt-0 ","id","extraPaddingBottomID",4,"ngIf"],["class","text-center text-body text-ios-appwhite fs-14",4,"ngIf"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],["id","tagid",1,"",3,"header","actions","listingVariables","currentPageName","paginator","totalPages","totalRecords","mobileListData","data","expand","selectedDisplayViewType","selectedFilterType","showSpinner","selectedAdvancedSearchObj","pageName","selectedMenuId","selectedSubMenuId","actionClicked","redirectionEvent","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],[1,"text-center","text-body","text-ios-appwhite","fs-14"]],template:function(n,e){1&n&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),a.NdJ("headerItemClick",function(l){return e.onHeaderItemClick(l)}),a.qZA()(),a.YNc(4,La,5,19,"div",4),a.YNc(5,Da,3,4,"div",5),a.qZA()()),2&n&&(a.xp6(3),a.Q6J("pageName",e.dataJsonObj.pageName)("defaultView",null==e.dataJsonObj.queryParamsObj?null:e.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",e.dataJsonObj.pageActionsList)("pageTitle",e.dataJsonObj.pageTitle)("selectedMenuId",null==e.dataJsonObj.queryParamsObj?null:e.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==e.dataJsonObj.queryParamsObj?null:e.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),a.xp6(1),a.Q6J("ngIf",e.dataJsonObj.isAuthorized),a.xp6(1),a.Q6J("ngIf",!e.dataJsonObj.isAuthorized))},dependencies:[v.O5,V.n,L.q,Ia.y,J.X$]})}return s})(),data:{object_type:o.hf.POLLS,title:"applicationmanager Listing",responsibilityParam:o.bP.MENUS+"."+o.w1.CONFIG_OPTIONS+"."+o.bP.SUBMENUS+"."+o.R0.APPLICATION_MANAGER+"."+o.Iu.ENABLED,pageName:o.hf.APPLICATION_MANAGER}},{path:"create",component:ya,data:{object_type:o.hf.POLLS,title:"applicationmanager create",responsibilityParam:o.bP.MENUS+"."+o.w1.CONFIG_OPTIONS+"."+o.bP.SUBMENUS+"."+o.R0.APPLICATION_MANAGER+"."+o.In.CREATE,pageName:o.hf.APPLICATION_MANAGER,pageSetting:o.AM.ACTIONS,settingField:o.In.CREATE}},{path:":id/edit",component:(()=>{class s extends I.O{applicationmanagerService;loggerService;navigationService;router;translateService;uiUtils;commonService;route;displayNameInput;pageRoutingInput;pageNameInput;dataJsonObj={};errorObj={};constructor(t,n,e,i,l,r,p,_){super(_,p),this.applicationmanagerService=t,this.loggerService=n,this.navigationService=e,this.router=i,this.translateService=l,this.uiUtils=r,this.commonService=p,this.route=_}ngOnInit(){this.dataJsonObj.headerAction={BACK:!0},this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=o.hf.APPLICATION_MANAGER,this.commonService.trackView(o.sn.APPLICATION_MANAGER_EDIT),this.route.params.subscribe(t=>{this.dataJsonObj.recordId=t.id,this.getRecordById(this.dataJsonObj.recordId)}),this.dataJsonObj.selectedEnterpriseId=localStorage.getItem(o.BU.SELECTED_ENTERPRISE),this.dataJsonObj.selectedMenu=JSON.parse(localStorage.getItem(o.BU.SELECTED_MENU)),this.dataJsonObj.selectedSubMenu=JSON.parse(localStorage.getItem(o.BU.MENU_CLICK_ITEM)),this.dataJsonObj.data=[{}],this.dataJsonObj.isSubmitButtonDisabled=!1,this.dataJsonObj.inputObj={},this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(o.hf.APPLICATION_MANAGER,o.AM.ACTIONS,o.In.RECORD_HISTORY),this.dataJsonObj.dynamicAccordions=[],this.dataJsonObj.dynamicFieldJSon={},this.dataJsonObj.tablenamesList=[],this.dataJsonObj.enabledOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}],this.dataJsonObj.selectedEnterpriseObj=this.commonService.getSelcetedEnterpriseObj()}getRecordById(t){try{this.applicationmanagerService.get(t).then(n=>{this.dataJsonObj.recordData=n,this.dataJsonObj.recordData.application.lookup_display_name=this.lookupLanguageTranslations(this.dataJsonObj.recordData.application.lookup_id),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.APPLICATION_MANAGER",value:this.dataJsonObj.recordData?.application?.lookup_display_name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}],this.dataJsonObj.inputObj=JSON.parse(JSON.stringify(this.dataJsonObj.recordData)),this.getTablenamesList(""),this.getDynamicFieldsList()})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",n)}}changeCheckBoxValue(t,n,e){try{n?(this.dataJsonObj.inputObj[n]||(this.dataJsonObj.inputObj[n]={}),this.dataJsonObj.inputObj[n][e]=t.value):this.dataJsonObj.inputObj[e]=t.value,this.dataJsonObj.dynamicAccordions=this.dataJsonObj.inputObj.actions?.filters?this.dataJsonObj.accordions:this.dataJsonObj.dynamicAccordions.filter(i=>"filters"!==i.field)}catch(i){this.loggerService.setLoggerError(this.constructor.name,"changeCheckBoxValue",i)}}changeInputFieldValue(t,n,e){const i=e?e.split("."):[];let l=this.dataJsonObj.inputObj;for(;i.length>0;){const r=i.shift();l[r]||(l[r]={}),l=l[r]}l[n]=t.value}changeDropDownFieldValue(t,n,e,i,l){try{if(t.value){this.errorObj.error="";const r=e.split(".");let p=this.dataJsonObj;for(let u of r)p=p[u];const _=p.find(u=>u.ID===parseInt(t.value,10)),O={};for(let u of l)O[u]=_[u],n===u&&!O[u]&&(O[u]=_.ID);const g=i.split("."),h=g.pop();let b=this.dataJsonObj.inputObj;for(;g.length>0;){const u=g.shift();b[u]||(b[u]={}),b=b[u]}b[h]=O}this.errorObj.error=""}catch(r){this.loggerService.setLoggerError(this.constructor.name,"changeApplication",r)}}changeMultiSelectFieldValue(t,n,e,i,l){try{if(t.value){this.errorObj.error="";const r=e.split(".");let p=this.dataJsonObj;for(let b of r)p=p[b];const _=[];for(let b=0;b<t.value.length;b++){const u=t.value[b].ID,y=p.find(j=>j.ID===u),A={ID:y.ID,NAME:y.NAME};for(let j of l)A[j]=y[j],n===j&&!A[j]&&(A[j]=y.ID);_.push(A)}const O=i.split("."),g=O.pop();let h=this.dataJsonObj.inputObj;for(;O.length>0;){const b=O.shift();h[b]||(h[b]={}),h=h[b]}h[g]=_}this.errorObj.error=""}catch(r){this.loggerService.setLoggerError(this.constructor.name,"changeMultiSelectFieldValue",r)}}getTablenamesList(t){try{this.applicationmanagerService.gettablenames(t).then(n=>{this.dataJsonObj.tablenamesList=n;for(let e=0;e<this.dataJsonObj.inputObj.underlying_tables.length;e++){const i=this.dataJsonObj.inputObj.underlying_tables[e].name,l=this.dataJsonObj.tablenamesList.find(r=>r.ID===i);this.dataJsonObj.inputObj.underlying_tables[e].ID=l.ID,this.dataJsonObj.inputObj.underlying_tables[e].NAME=l.NAME,l.name=this.dataJsonObj.inputObj.underlying_tables[e].name}},n=>{this.loggerService.setLoggerError(this.constructor.name,"getTablenamesList",n)})}catch(n){this.loggerService.setLoggerError(this.constructor.name,"getTablenamesList",n)}}getDynamicFieldsList(){try{this.applicationmanagerService.getDynamicFieldsList("application_manager").then(t=>{this.dataJsonObj.accordions=t.applicationManagerAccordions,this.dataJsonObj.dynamicFieldJSon=t.applicationManagerDynamicFieldsJSON,this.dataJsonObj.dynamicAccordions=this.dataJsonObj.inputObj.actions?.filters?this.dataJsonObj.accordions:t.applicationManagerAccordions.filter(n=>"filters"!==n.field)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getDynamicFieldsList",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getDynamicFieldsList",t)}}clearmessage(){this.errorObj.error=""}updateRecord(){try{if(this.pageNameInput.isValid()&&this.displayNameInput.isValid()&&this.pageRoutingInput.isValid()){this.dataJsonObj.isSubmitButtonDisabled=!0;const t={enterprise:{enterprise_id:this.dataJsonObj.inputObj.enterprise.enterprise_id,enterprise_name:this.dataJsonObj.inputObj.enterprise.enterprise_name,short_name:this.dataJsonObj.inputObj.enterprise.short_name},application:{lookup_id:this.dataJsonObj.inputObj.application.lookup_id,lookup_name:this.dataJsonObj.inputObj.application.lookup_name},page_name:this.dataJsonObj.inputObj.page_name.toUpperCase(),page_display_name:this.dataJsonObj.inputObj.page_display_name,underlying_tables:this.dataJsonObj.inputObj.underlying_tables,page_routing:this.dataJsonObj.inputObj.page_routing,actions:{accept:this.dataJsonObj.inputObj.actions?.accept,activate:this.dataJsonObj.inputObj.actions?.activate,activity:this.dataJsonObj.inputObj.actions?.activity,add_players:this.dataJsonObj.inputObj.actions?.add_players,add_your_career_stats:this.dataJsonObj.inputObj.actions?.add_your_career_stats,admin_approve:this.dataJsonObj.inputObj.actions?.admin_approve,approve:this.dataJsonObj.inputObj.actions?.approve,arrange:this.dataJsonObj.inputObj.actions?.arrange,athlete_approve:this.dataJsonObj.inputObj.actions?.athlete_approve,athletic_director_approve:this.dataJsonObj.inputObj.actions?.athletic_director_approve,audio_create:this.dataJsonObj.inputObj.actions?.audio_create,block:this.dataJsonObj.inputObj.actions?.block,bluetooth_android:this.dataJsonObj.inputObj.actions?.bluetooth_android,bluetooth_ios:this.dataJsonObj.inputObj.actions?.bluetooth_ios,bookmarks:this.dataJsonObj.inputObj.actions?.bookmarks,build_your_department:this.dataJsonObj.inputObj.actions?.build_your_department,build_your_fans:this.dataJsonObj.inputObj.actions?.build_your_fans,build_your_roster:this.dataJsonObj.inputObj.actions?.build_your_roster,build_your_team:this.dataJsonObj.inputObj.actions?.build_your_team,call:this.dataJsonObj.inputObj.actions?.call,camera_heart_beat_android:this.dataJsonObj.inputObj.actions?.camera_heart_beat_android,camera_heart_beat_ios:this.dataJsonObj.inputObj.actions?.camera_heart_beat_ios,cancel:this.dataJsonObj.inputObj.actions?.cancel,career_stats:this.dataJsonObj.inputObj.actions?.career_stats,check_in:this.dataJsonObj.inputObj.actions?.check_in,check_out:this.dataJsonObj.inputObj.actions?.check_out,cheer:this.dataJsonObj.inputObj.actions?.cheer,child_create:this.dataJsonObj.inputObj.actions?.child_create,coach_approve:this.dataJsonObj.inputObj.actions?.coach_approve,comment:this.dataJsonObj.inputObj.actions?.comment,context_menu:this.dataJsonObj.inputObj.actions?.context_menu,copy_link:this.dataJsonObj.inputObj.actions?.copy_link,copy:this.dataJsonObj.inputObj.actions?.copy,coupon:this.dataJsonObj.inputObj.actions?.coupon,create:this.dataJsonObj.inputObj.actions?.create,deactivate_approve:this.dataJsonObj.inputObj.actions?.deactivate_approve,deactivate_reject:this.dataJsonObj.inputObj.actions?.deactivate_reject,deactivate:this.dataJsonObj.inputObj.actions?.deactivate,delete:this.dataJsonObj.inputObj.actions.delete,directions:this.dataJsonObj.inputObj.actions.directions,dislike:this.dataJsonObj.inputObj.actions.dislike,display_access_code:this.dataJsonObj.inputObj.actions?.display_access_code,display_audio:this.dataJsonObj.inputObj.actions?.display_audio,display_contact_details:this.dataJsonObj.inputObj.actions?.display_contact_details,display_contactus_block:this.dataJsonObj.inputObj.actions?.display_contactus_block,display_description:this.dataJsonObj.inputObj.actions?.display_description,display_end_date:this.dataJsonObj.inputObj.actions?.display_end_date,display_enterprises_block:this.dataJsonObj.inputObj.actions?.display_enterprises_block,display_events_block:this.dataJsonObj.inputObj.actions?.display_events_block,display_floor_details:this.dataJsonObj.inputObj.actions?.display_floor_details,display_follow:this.dataJsonObj.inputObj.actions?.display_follow,display_header_enterprise_logo:this.dataJsonObj.inputObj.actions?.display_header_enterprise_logo,display_image_slider:this.dataJsonObj.inputObj.actions?.display_image_slider,display_image:this.dataJsonObj.inputObj.actions?.display_image,display_Live_stream:this.dataJsonObj.inputObj.actions?.display_Live_stream,display_posts_block:this.dataJsonObj.inputObj.actions?.display_posts_block,display_rating:this.dataJsonObj.inputObj.actions?.display_rating,display_reservations_on_map:this.dataJsonObj.inputObj.actions?.display_reservations_on_map,display_similar_facility:this.dataJsonObj.inputObj.actions?.display_similar_facility,display_social_media_block:this.dataJsonObj.inputObj.actions?.display_social_media_block,display_start_date:this.dataJsonObj.inputObj.actions?.display_start_date,display_video:this.dataJsonObj.inputObj.actions?.display_video,donate:this.dataJsonObj.inputObj.actions.donate,download:this.dataJsonObj.inputObj.actions.download,edit:this.dataJsonObj.inputObj.actions.edit,enterprise_top_image:this.dataJsonObj.inputObj.actions?.enterprise_top_image,export:this.dataJsonObj.inputObj.actions?.export,extend:this.dataJsonObj.inputObj.actions?.extend,facility_icon:this.dataJsonObj.inputObj.actions?.facility_icon,facilities_latlong_import:this.dataJsonObj.inputObj.actions?.facilities_latlong_import,feedback:this.dataJsonObj.inputObj.actions?.feedback,filters:this.dataJsonObj.inputObj.actions?.filters,gallery:this.dataJsonObj.inputObj.actions?.gallery,gallery_audio:this.dataJsonObj.inputObj.actions?.gallery_audio,gallery_video:this.dataJsonObj.inputObj.actions?.gallery_video,gallery_document:this.dataJsonObj.inputObj.actions?.gallery_document,generate_access_code:this.dataJsonObj.inputObj.actions?.generate_access_code,generate_jsons:this.dataJsonObj.inputObj.actions?.generate_jsons,goal_settings:this.dataJsonObj.inputObj.actions?.goal_settings,health_api_android:this.dataJsonObj.inputObj.actions?.health_api_android,health_api_ios:this.dataJsonObj.inputObj.actions?.health_api_ios,heat_map:this.dataJsonObj.inputObj.actions?.heat_map,help_action:this.dataJsonObj.inputObj.actions?.help_action,image_create:this.dataJsonObj.inputObj.actions?.image_create,import:this.dataJsonObj.inputObj.actions?.import,inactivate:this.dataJsonObj.inputObj.actions?.inactivate,invite:this.dataJsonObj.inputObj.actions?.invite,join:this.dataJsonObj.inputObj.actions?.join,kiosk_map_orientation:this.dataJsonObj.inputObj.actions?.kiosk_map_orientation,leaderboard_ui_settings:this.dataJsonObj.inputObj.actions?.leaderboard_ui_settings,leave:this.dataJsonObj.inputObj.actions?.leave,like:this.dataJsonObj.inputObj.actions?.like,live_stream_create:this.dataJsonObj.inputObj.actions?.live_stream_create,locate:this.dataJsonObj.inputObj.actions?.locate,master_publish:this.dataJsonObj.inputObj.actions?.master_publish,master_rollback:this.dataJsonObj.inputObj.actions?.master_rollback,message:this.dataJsonObj.inputObj.actions?.message,media_gallery:this.dataJsonObj.inputObj.actions?.media_gallery,content:this.dataJsonObj.inputObj.actions?.content,path_by_sequence:this.dataJsonObj.inputObj.actions?.path_by_sequence,path_by_shortest_route:this.dataJsonObj.inputObj.actions?.path_by_shortest_route,play:this.dataJsonObj.inputObj.actions?.play,post:this.dataJsonObj.inputObj.actions?.post,preview:this.dataJsonObj.inputObj.actions?.preview,publish:this.dataJsonObj.inputObj.actions?.publish,read:this.dataJsonObj.inputObj.actions?.read,record_history:this.dataJsonObj.inputObj.actions?.record_history,record:this.dataJsonObj.inputObj.actions?.record,referral_codes:this.dataJsonObj.inputObj.actions?.referral_codes,refresh:this.dataJsonObj.inputObj.actions?.refresh,register_as:this.dataJsonObj.inputObj.actions?.register_as,register_your_school:this.dataJsonObj.inputObj.actions?.register_your_school,registrations:this.dataJsonObj.inputObj.actions?.registrations,reject:this.dataJsonObj.inputObj.actions?.reject,reply:this.dataJsonObj.inputObj.actions?.reply,report:this.dataJsonObj.inputObj.actions?.report,request:this.dataJsonObj.inputObj.actions?.request,respond:this.dataJsonObj.inputObj.actions?.respond,rollback:this.dataJsonObj.inputObj.actions?.rollback,scoreboard:this.dataJsonObj.inputObj.actions.scoreboard,search:this.dataJsonObj.inputObj.actions?.search,share_external:this.dataJsonObj.inputObj.actions?.share_external,share:this.dataJsonObj.inputObj.actions?.share,show_miscellaneous:this.dataJsonObj.inputObj.actions?.show_miscellaneous,show_predefined_path:this.dataJsonObj.inputObj.actions?.show_predefined_path,spotlight_screen_configuration_import:this.dataJsonObj.inputObj.actions?.spotlight_screen_configuration_import,spotlight_screen_import:this.dataJsonObj.inputObj.actions?.spotlight_screen_import,save:this.dataJsonObj.inputObj.actions?.save,save_to_database:this.dataJsonObj.inputObj.actions?.save_to_database,social_media:this.dataJsonObj.inputObj.actions?.social_media,stats:this.dataJsonObj.inputObj.actions?.stats,subscribe:this.dataJsonObj.inputObj.actions?.subscribe,ui_settings:this.dataJsonObj.inputObj.actions?.ui_settings,ui_view:this.dataJsonObj.inputObj.actions?.ui_view,unlike:this.dataJsonObj.inputObj.actions?.unlike,unpublish:this.dataJsonObj.inputObj.actions?.unpublish,unread:this.dataJsonObj.inputObj.actions?.unread,unsubscribe:this.dataJsonObj.inputObj.actions?.unsubscribe,upload:this.dataJsonObj.inputObj.actions?.upload,validate_lat_longs:this.dataJsonObj.inputObj.actions?.validate_lat_longs,video_create:this.dataJsonObj.inputObj.actions?.video_create,view:this.dataJsonObj.inputObj.actions?.view,visit:this.dataJsonObj.inputObj.actions?.visit,vote:this.dataJsonObj.inputObj.actions?.vote,web_dashboard:this.dataJsonObj.inputObj.actions?.web_dashboard,avatar_play:this.dataJsonObj.inputObj.actions?.avatar_play,quiz_play:this.dataJsonObj.inputObj.actions?.quiz_play},display_setttings:{grid_view:this.dataJsonObj.inputObj.display_setttings.grid_view,list_view:this.dataJsonObj.inputObj.display_setttings.list_view,calendar_view:this.dataJsonObj.inputObj.display_setttings.calendar_view,row_list_view:this.dataJsonObj.inputObj.display_setttings.row_list_view,card_view:this.dataJsonObj.inputObj.display_setttings?.card_view,calendar_grid:this.dataJsonObj.inputObj.display_setttings?.calendar_grid,pinterest_grid_view:this.dataJsonObj.inputObj.display_setttings.pinterest_grid_view},sync_settings:{is_enabled:this.dataJsonObj.inputObj.sync_settings.is_enabled,is_publishable:this.dataJsonObj.inputObj.sync_settings.is_publishable,is_enabled_for_enterprise_users:this.dataJsonObj.inputObj.sync_settings.is_enabled_for_enterprise_users},cache_settings:{is_enabled:this.dataJsonObj.inputObj.cache_settings.is_enabled},module_settings:{is_config_highlights_enabled:this.dataJsonObj.inputObj.module_settings.is_config_highlights_enabled,is_emails_enabled:this.dataJsonObj.inputObj.module_settings.is_emails_enabled,is_faqs_enabled:this.dataJsonObj.inputObj.module_settings.is_faqs_enabled,is_feedback_enabled:this.dataJsonObj.inputObj.module_settings.is_feedback_enabled,is_notifications_enabled:this.dataJsonObj.inputObj.module_settings.is_notifications_enabled,is_groups_multi_select_enabled:this.dataJsonObj.inputObj.module_settings.is_groups_multi_select_enabled,is_list_from_json:this.dataJsonObj.inputObj.module_settings?.is_list_from_json},tab_display_setttings:{closed:this.dataJsonObj.inputObj.tab_display_setttings?.closed,on_going:this.dataJsonObj.inputObj.tab_display_setttings?.on_going,scheduled:this.dataJsonObj.inputObj.tab_display_setttings?.scheduled},filters:{advanced_search:this.dataJsonObj.inputObj.filters.advanced_search,show_all:this.dataJsonObj.inputObj.filters.show_all,show_followed:this.dataJsonObj.inputObj.filters.show_followed,show_mine:this.dataJsonObj.inputObj.filters.show_mine},is_enabled:this.dataJsonObj.inputObj.is_enabled,language_translations:this.dataJsonObj.inputObj.language_translations};this.applicationmanagerService.update(this.dataJsonObj.recordId,t).then(n=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),this.router.navigateByUrl("/configoptions/applicationmanager"),this.router.routeReuseStrategy.clearModuleRouteCache("configoptions")},n=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(n)),this.loggerService.setLoggerError(this.constructor.name,"updateRecord",n)})}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"updateRecord",t)}}cancel(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancel",t)}}commonErrorCodes(t){const n=JSON.parse(t[o.BU.STATUS]);409===n&&(this.errorObj.error="COMMON_STATUS_CODES."+n)}pageheadeActionClick(t){"BACK"==t.value&&this.cancel()}static \u0275fac=function(n){return new(n||s)(a.Y36(N.E),a.Y36(M.m),a.Y36(D.f),a.Y36(m.F0),a.Y36(J.sK),a.Y36(w.s),a.Y36(E.v),a.Y36(m.gz))};static \u0275cmp=a.Xpm({type:s,selectors:[["app-applicationmanager-edit"]],viewQuery:function(n,e){if(1&n&&(a.Gf(ka,5),a.Gf(Pa,5),a.Gf(Za,5)),2&n){let i;a.iGM(i=a.CRH())&&(e.displayNameInput=i.first),a.iGM(i=a.CRH())&&(e.pageRoutingInput=i.first),a.iGM(i=a.CRH())&&(e.pageNameInput=i.first)}},features:[a.qOj],decls:47,vars:50,consts:[[1,"container-fluid","config-optns"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["mandatory","false","disabled","true","id","modulesettings-update-enterprise",3,"label","value"],["disabled","true","id","modulesettings-update-application",3,"label","value"],["mandatory","true","maxlength","80","onkeypress","return (event.charCode == 8 || event.charCode == 0 || event.charCode == 13 || (event.charCode > 64 && event.charCode < 91)) ? null : (event.charCode >= 48 && event.charCode <= 57 ) || (event.charCode == 95) || (event.charCode > 96 && event.charCode < 123)","disabled","true","id","lookupcode-create-displayname",3,"label","value","valueChange","keypress"],["pageNameInput",""],["autoCaseFlag","true","mandatory","true","disabled","false","id","lookupcode-create-displayname",3,"label","maxlength","value","valueChange","keypress"],["displayNameInput",""],["disabled","false","mandatory","false",3,"label","options","selectedOptions","valueChange","searchValueChange"],[1,"col-md-2","d-flex","align-items-center"],["label","","id","modulesettings-update-enabled","mandatory","false",3,"options","checked","valueChange"],[1,"col-md-8"],["autoCaseFlag","false","mandatory","true","disabled","false","id","lookupcode-create-page-routing",3,"label","maxlength","value","valueChange","keypress"],["pageRoutingInput",""],[1,"col-lg-4","col-md-12","text-end","mt-2","mb-2","btns-group","pdl-0"],["className","btn btn-primary btn-sm","id","modulesettings-update-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","modulesettings-update-cancel",3,"label","buttonOnClick"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"row"],[1,"card"],[1,"card-content"],[3,"multiple"],[4,"ngIf"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],["class","text-capitalize",3,"selected","id",4,"ngFor","ngForOf"],[1,"text-capitalize",3,"selected","id"],[1,"d-flex","justify-content-between","w-100","accordion-header"],[1,"ptable","rolerights",3,"value","rows","responsive","autoLayout"],["pTemplate","body"],["class","col-md-2 d-flex align-items-center",4,"ngFor","ngForOf"],["label","",3,"options","checked","valueChange"]],template:function(n,e){1&n&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),a._UZ(6,"app-pageheader",6),a.qZA(),a.TgZ(7,"div",7)(8,"div",8)(9,"div",9),a._UZ(10,"app-input",10),a.ALo(11,"translate"),a.qZA(),a.TgZ(12,"div",9),a._UZ(13,"app-input",11),a.ALo(14,"translate"),a.qZA(),a.TgZ(15,"div",9)(16,"app-inputuppercase",12,13),a.NdJ("valueChange",function(l){return e.changeInputFieldValue(l,"page_name","")})("keypress",function(){return e.clearmessage()}),a.ALo(18,"translate"),a.qZA()(),a.TgZ(19,"div",9)(20,"app-input",14,15),a.NdJ("valueChange",function(l){return e.changeInputFieldValue(l,"page_display_name","")})("keypress",function(){return e.clearmessage()}),a.ALo(22,"translate"),a.qZA()(),a.TgZ(23,"div",9)(24,"app-dropdown-multiselect-v2",16),a.NdJ("valueChange",function(l){return e.changeMultiSelectFieldValue(l,"name","tablenamesList","underlying_tables",["name"])})("searchValueChange",function(l){return e.getTablenamesList(l)}),a.ALo(25,"translate"),a.qZA()(),a.TgZ(26,"div",17)(27,"app-checkbox",18),a.NdJ("valueChange",function(l){return e.changeCheckBoxValue(l,"","is_enabled")}),a.qZA()(),a.TgZ(28,"div",19)(29,"app-input",20,21),a.NdJ("valueChange",function(l){return e.changeInputFieldValue(l,"page_routing","")})("keypress",function(){return e.clearmessage()}),a.ALo(31,"translate"),a.qZA()(),a.TgZ(32,"div",22)(33,"app-button",23),a.NdJ("buttonOnClick",function(){return e.updateRecord()}),a.ALo(34,"translate"),a.qZA(),a.TgZ(35,"app-button",24),a.NdJ("buttonOnClick",function(){return e.cancel()}),a.ALo(36,"translate"),a.qZA()(),a.TgZ(37,"div",25),a._uU(38),a.ALo(39,"translate"),a.qZA()(),a.TgZ(40,"div",26)(41,"div",3)(42,"div",27)(43,"div",28)(44,"p-accordion",29),a.YNc(45,xa,2,1,"span",30),a._UZ(46,"app-recordhistory",31),a.qZA()()()()()()()()()()()),2&n&&(a.xp6(6),a.Q6J("pageName",e.dataJsonObj.pageName)("pageTitle",e.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),a.xp6(4),a.s9C("label",a.lcZ(11,32,"COMMON_PAGE_TITLES.ENTERPRISE")),a.s9C("value",null==e.dataJsonObj.inputObj||null==e.dataJsonObj.inputObj.enterprise?null:e.dataJsonObj.inputObj.enterprise.short_name),a.xp6(3),a.s9C("label",a.lcZ(14,34,"GENERAL_SETTINGS.APPLICATIONS")),a.s9C("value",null==e.dataJsonObj.inputObj||null==e.dataJsonObj.inputObj.application?null:e.dataJsonObj.inputObj.application.lookup_display_name),a.xp6(3),a.s9C("label",a.lcZ(18,36,"CONFIG_OPTIONS.PAGE_NAME")),a.s9C("value",null==e.dataJsonObj.inputObj?null:e.dataJsonObj.inputObj.page_name),a.xp6(4),a.s9C("label",a.lcZ(22,38,"CONFIG_OPTIONS.PAGE_DISPLAY_NAME")),a.s9C("value",null==e.dataJsonObj.inputObj?null:e.dataJsonObj.inputObj.page_display_name),a.Q6J("maxlength",80),a.xp6(4),a.s9C("label",a.lcZ(25,40,"COMMON_FIELDS.TABLE_NAMES")),a.Q6J("options",e.dataJsonObj.tablenamesList)("selectedOptions",null==e.dataJsonObj.inputObj?null:e.dataJsonObj.inputObj.underlying_tables),a.xp6(3),a.Q6J("options",e.dataJsonObj.enabledOptions)("checked",null==e.dataJsonObj.inputObj?null:e.dataJsonObj.inputObj.is_enabled),a.xp6(2),a.s9C("label",a.lcZ(31,42,"CONFIG_OPTIONS.PAGE_ROUTING")),a.s9C("value",null==e.dataJsonObj.inputObj?null:e.dataJsonObj.inputObj.page_routing),a.Q6J("maxlength",160),a.xp6(4),a.s9C("label",a.lcZ(34,44,"COMMON_BUTTONS.BUTTON_SUBMIT")),a.s9C("disabled",e.dataJsonObj.isSubmitButtonDisabled),a.xp6(2),a.s9C("label",a.lcZ(36,46,"COMMON_BUTTONS.BUTTON_CANCEL")),a.xp6(3),a.hij(" ",a.lcZ(39,48,e.errorObj.error)," "),a.xp6(6),a.Q6J("multiple",!0),a.xp6(1),a.Q6J("ngIf",e.dataJsonObj.dynamicFieldJSon),a.xp6(1),a.Q6J("createdBy",null==e.dataJsonObj.recordData?null:e.dataJsonObj.recordData.created_by)("showrecordhistory",e.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==e.dataJsonObj.recordData?null:e.dataJsonObj.recordData.updated_by)("creationDate",null==e.dataJsonObj.recordData?null:e.dataJsonObj.recordData.createdAt)("lastUpdatedDate",null==e.dataJsonObj.recordData?null:e.dataJsonObj.recordData.updatedAt))},dependencies:[v.sg,v.O5,S.iA,C.h4,C.jx,f.UQ,f.US,k.r,P.a,Z.E,U.b,R.S,B.W,L.q,J.X$]})}return s})(),data:{object_type:o.hf.POLLS,title:"applicationmanager Listing",responsibilityParam:o.bP.MENUS+"."+o.w1.CONFIG_OPTIONS+"."+o.bP.SUBMENUS+"."+o.R0.APPLICATION_MANAGER+"."+o.In.EDIT,pageName:o.hf.APPLICATION_MANAGER,pageSetting:o.AM.ACTIONS,settingField:o.In.EDIT}},{path:":id/view",component:Na,data:{object_type:o.hf.POLLS,title:"applicationmanager view",responsibilityParam:o.bP.MENUS+"."+o.w1.CONFIG_OPTIONS+"."+o.bP.SUBMENUS+"."+o.R0.APPLICATION_MANAGER+"."+o.In.VIEW,pageName:o.hf.APPLICATION_MANAGER,pageSetting:o.AM.ACTIONS,settingField:o.In.VIEW}}]}];let qa=(()=>{class s{static \u0275fac=function(n){return new(n||s)};static \u0275mod=a.oAB({type:s});static \u0275inj=a.cJS({imports:[m.Bz.forChild(Ga),m.Bz]})}return s})();var Ya=c(32137),q=c(24006),Qa=c(65673);let Ha=(()=>{class s{static \u0275fac=function(n){return new(n||s)};static \u0275mod=a.oAB({type:s});static \u0275inj=a.cJS({imports:[qa,v.ez,J.aw,q.u5,q.UX,S.U$,f.fx,Qa.Q,Ya.D]})}return s})()}}]);