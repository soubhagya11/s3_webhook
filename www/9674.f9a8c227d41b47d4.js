"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9674],{59674:(Oe,j,l)=>{l.r(j),l.d(j,{UsertypeRegistrationApprovalsModule:()=>ue});var v=l(36895),R=l(11210),n=l(32236),c=l(62510),b=l(15861),C=l(42863),y=l(71568),D=l(47561),U=l(28168),P=l(30578),N=l(42786),m=l(46500),L=l(35226),w=l.n(L),e=l(94650),V=l(70057),g=l(54463),I=l(27601),f=l(37415),Z=l(88425),_=l(3848);const B=["datatableComponent"];function F(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"span",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.pendingApprovals({pageNumber:1,clickAction:!0}))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"COMMON_BLOCK_TITLES.PENDING")))}function q(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"span",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.approvedApprovals({pageNumber:1,clickAction:!0}))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"COMMON_BLOCK_TITLES.APPROVED")))}function Y(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"span",12),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.rejectedApprovals({pageNumber:1,clickAction:!0}))}),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"COMMON_BLOCK_TITLES.REJECTED")))}let H=(()=>{class i extends D.O{actionSheetController;columnsheaders;loggerService;router;translateService;commonService;listingVariables;route;uiUtils;usertypeRegistrationApprovalsService;datatableComponent;dataJsonObj={};constructor(t,s,a,d,o,r,u,T,O,E){super(T,r),this.actionSheetController=t,this.columnsheaders=s,this.loggerService=a,this.router=d,this.translateService=o,this.commonService=r,this.listingVariables=u,this.route=T,this.uiUtils=O,this.usertypeRegistrationApprovalsService=E,this.route.queryParams.subscribe(h=>{this.dataJsonObj.queryParamsObj={defaultView:h.default_view,selectedMenuId:h.selectedMenuId,selectedSubMenuId:h.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.showSpinner(),this.dataJsonObj.pageName=n.hf.USERTYPE_REGISTRATION_APPROVALS,this.dataJsonObj.enterpriseId=localStorage.getItem(n.BU.SELECTED_ENTERPRISE),this.dataJsonObj.loginUserId=localStorage.getItem(n.BU.LOG_IN_USER_ID),this.dataJsonObj.loginUserObj=JSON.parse(localStorage.getItem(n.BU.USER)),this.getUserTypesListJsonData(),this.getSportsJSONData(),this.dataJsonObj.tableColumnHeaders=this.columnsheaders.getUsertypeRegistrationApprovalsColumnHeaders();const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.dataJsonObj.userTimeZoneObj.timeZoneToDisplay=this.lookupLanguageTranslations(t.timeZoneID),this.dataJsonObj.noDuplicates=void 0,this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.searchString="",this.dataJsonObj.advancedSearchObj={},this.dataJsonObj.pageActionsList=[],this.dataJsonObj.usertypeRegistrationApprovalsListData=[],this.dataJsonObj.usertypeRegistrationApprovalsMobileListData=[],this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.USERTYPE_REGISTRATION_APPROVALS",value:"",showSubMenuDisplayName:!0}],this.dataJsonObj.actions={ATHLETE_APPROVE:this.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.ATHLETE_APPROVE),COACH_APPROVE:this.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.COACH_APPROVE),ATHLETIC_DIRECTOR_APPROVE:this.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.ATHLETIC_DIRECTOR_APPROVE),ADMIN_APPROVE:this.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.ADMIN_APPROVE),VIEW:this.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.VIEW),REJECT:this.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.REJECT),DEACTIVATE_APPROVE:this.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.DEACTIVATE_APPROVE),DEACTIVATE_REJECT:this.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.DEACTIVATE_REJECT)}}getSportsJSONData(){var t=this;return(0,b.Z)(function*(){const s=yield t.commonService.getDynamicJsonByPath(`assets/enterprises/${t.dataJsonObj.enterpriseId}/sports/`,"sports.json");t.dataJsonObj.sportsJsonList=s,t.dataJsonObj.sportsJsonList.sort((a,d)=>a.NAME.localeCompare(d.NAME)),t.dataJsonObj.sportsJson=t.commonService.getFormattedSportsJSONBySport(s)})()}getAllRecords(){try{this.showSpinner();const t=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView);if(this.dataJsonObj.userTypeDataList.length>0)for(let o=0;o<this.dataJsonObj.userTypeDataList.length;o++)for(let r=0;r<this.dataJsonObj.loginUserObj.user_types.length;r++)this.dataJsonObj.userTypeDataList[o].ID===this.dataJsonObj.loginUserObj.user_types[r].user_type_id&&(this.dataJsonObj.loginUserTypeName=this.dataJsonObj.userTypeDataList[o].user_type_name);this.usertypeRegistrationApprovalsService.getAll(this.dataJsonObj.searchString,this.dataJsonObj.enterpriseId,this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.listingVariables.sortOrderColumn,t,this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"","&enddate=null",this.dataJsonObj.loginUserTypeName===n.Wg.ATHLETES?"&user_profile_id="+this.dataJsonObj.loginUserId:"",this.dataJsonObj.approvalStatus,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(o=>{if(this.hideSpinner(),o.rows.length>0){this.dataJsonObj.usertypeRegistrationApprovalsMobileListData&&this.dataJsonObj.usertypeRegistrationApprovalsMobileListData.length>0||(this.dataJsonObj.usertypeRegistrationApprovalsMobileListData=[]);for(let r=0;r<o.rows.length;r++){o.rows[r].userName=this.commonService.changeUserNameFormat(o.rows[r].user_profile_id);const u={url:`/usertyperegistrationapprovals/usertyperegistrationapprovals/${o.rows[r]._id}/view`,queryParams:this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:""},T=u.queryParams&&Object.keys(u.queryParams).length>0?`${u.url}?${JSON.stringify(u.queryParams)}`:u.url;o.rows[r].nickname=o.rows[r].user_profile_id.nick_name,o.rows[r].fname=o.rows[r].user_profile_id.f_name,o.rows[r].mname=o.rows[r].user_profile_id?.m_name?o.rows[r].user_profile_id.m_name:"",o.rows[r].lname=`<a class="enable" id="lname${o.rows[r]._id}" href=${T}>${o.rows[r].user_profile_id.l_name}`,o.rows[r].email=o.rows[r].user_profile_id.email;const O=o.rows[r].user_type_id?._id?o.rows[r].user_type_id._id:o.rows[r].user_type_id;o.rows[r].user_type_name=this.dataJsonObj.userTypeDataJSON&&this.dataJsonObj.userTypeDataJSON[O]?this.dataJsonObj.userTypeDataJSON[O].user_type_name:"",o.rows[r].user_type_display_name=this.dataJsonObj.userTypeDataJSON&&this.dataJsonObj.userTypeDataJSON[O]?this.dataJsonObj.userTypeDataJSON[O].user_type_display_name:"--";const E=this.displayDateFormatter(o.rows[r].createdAt,!1,!0);o.rows[r].start_datetime=E.startDate+" "+this.dataJsonObj.userTimeZoneObj.timeZoneCode,o.rows[r].page_name=this.dataJsonObj.pageName,o.rows[r].userTypeName=this.dataJsonObj.loginUserTypeName===n.Wg.COACHES?this.dataJsonObj.loginUserTypeName:"",o.rows[r].imageName=o.rows[r].userName,o.rows[r].imageDisplay=null,o.rows[r].display_grid_title=o.rows[r].userName;const h=o.rows[r]?.sports?o.rows[r]?.sports:[];let A="";for(let S of h)A=A+(A?", ":"")+(this.dataJsonObj.sportsJson[S.sport_id]?this.dataJsonObj.sportsJson[S.sport_id].sport.display_name:"");o.rows[r].sportNameStr=A,this.dataJsonObj.usertypeRegistrationApprovalsMobileListData=this.dataJsonObj.usertypeRegistrationApprovalsMobileListData.filter(S=>S._id!==o.rows[r]._id),this.dataJsonObj.usertypeRegistrationApprovalsMobileListData.push(o.rows[r])}o.totalCount&&(this.listingVariables.totalRecords=o.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=o.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.dataJsonObj.usertypeRegistrationApprovalsListData=this.dataJsonObj.usertypeRegistrationApprovalsListData.concat(o.rows)):this.dataJsonObj.usertypeRegistrationApprovalsListData=o.rows}else this.dataJsonObj.usertypeRegistrationApprovalsListData=[],this.dataJsonObj.usertypeRegistrationApprovalsMobileListData=[]},o=>{this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",o)})}catch(t){this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)}}getSearchResult(t){this.dataJsonObj.searchString=t,this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.usertypeRegistrationApprovalsMobileListData=[],this.getAllRecords(),this.datatableComponent.reset()}searchClose(){this.dataJsonObj.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.dataJsonObj.usertypeRegistrationApprovalsMobileListData=[],this.getAllRecords(),this.datatableComponent.reset()}selectedViewType(t){this.dataJsonObj.selectedDisplayView=t}selectedFilterType(t){t?this.dataJsonObj.selectedFilter=t:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}advancedSearchFilterClicked(t){this.dataJsonObj.selectedAdvancedSearchObj=t}onHeaderItemClick(t){switch(t.type){case"search":this.getSearchResult(t.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(t.event);break;case"filters":this.selectedFilterType(t.event);break;case"advanced_search":this.advancedSearchFilterClicked(t.event);break;case"page_actions":this.onPageLevelActionClicked(t.event)}}onActionClicked(t){try{t.action===n.A0.VIEW?this.commonService.redirectToUrl(["..",t.data._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route):t.action===n.A0.ATHLETE_APPROVE||t.action===n.A0.COACH_APPROVE||t.action===n.A0.ATHLETIC_DIRECTOR_APPROVE||t.action===n.A0.ADMIN_APPROVE?this.approveRequest(t.data):t.action===n.A0.DELETE?this.deleteRecord(t.data._id):t.action===n.A0.REJECT?this.rejectRequest(t.data):t.action===n.A0.DEACTIVATE_APPROVE?this.deactivateRequestApprove(t.data):t.action===n.A0.DEACTIVATE_REJECT&&this.deactivateRequestReject(t.data)}catch(s){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",s)}}mobileEventAction(t){var s=this;return(0,b.Z)(function*(){try{s.dataJsonObj.mobileActionsArray=[],s.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.VIEW)&&s.dataJsonObj.mobileActionsArray.push({text:s.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{s.commonService.redirectToUrl(["..",t._id,"view"],!1,!0,s.dataJsonObj.queryParamsObj?s.dataJsonObj.queryParamsObj:"",s.route)}}),s.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.ATHLETE_APPROVE)&&t.user_type_name===n.Wg.ATHLETES&&!t.is_active&&!t.is_rejected&&!t.is_deactivated_request&&s.dataJsonObj.mobileActionsArray.push({text:s.translateService.instant("COMMON_BUTTONS.BUTTON_ATHLETE_APPROVE"),handler:()=>{s.approveRequest(t)}}),s.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.COACH_APPROVE)&&t.user_type_name===n.Wg.COACHES&&!t.is_active&&!t.is_rejected&&!t.is_deactivated_request&&s.dataJsonObj.mobileActionsArray.push({text:s.translateService.instant("COMMON_BUTTONS.BUTTON_COACH_APPROVE"),handler:()=>{s.approveRequest(t)}}),s.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.ATHLETIC_DIRECTOR_APPROVE)&&t.user_type_name===n.Wg.ATHLETIC_DIRECTOR&&!t.is_active&&!t.is_rejected&&!t.is_deactivated_request&&s.dataJsonObj.mobileActionsArray.push({text:s.translateService.instant("COMMON_BUTTONS.BUTTON_ATHLETIC_DIRECTOR_APPROVE"),handler:()=>{s.approveRequest(t)}}),s.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.REJECT)&&!t.is_active&&!t.is_rejected&&s.dataJsonObj.mobileActionsArray.push({text:s.translateService.instant("COMMON_BUTTONS.BUTTON_REJECT"),handler:()=>{s.rejectRequest(t)}}),s.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.DEACTIVATE_APPROVE)&&!t.is_active&&t.is_deactivated_request&&s.dataJsonObj.mobileActionsArray.push({text:s.translateService.instant("COMMON_BUTTONS.BUTTON_DEACTIVATE_APPROVE"),handler:()=>{s.deactivateRequestApprove(t)}}),s.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.DEACTIVATE_REJECT)&&!t.is_active&&t.is_deactivated_request&&s.dataJsonObj.mobileActionsArray.push({text:s.translateService.instant("COMMON_BUTTONS.BUTTON_DEACTIVATE_REJECT"),handler:()=>{s.deactivateRequestReject(t)}}),s.dataJsonObj.actionSheet&&(yield s.dataJsonObj.actionSheet.dismiss()),s.presentActionSheet(t)}catch(a){s.loggerService.setLoggerError(s.constructor.name,"mobileEventAction",a)}})()}presentActionSheet(t){var s=this;return(0,b.Z)(function*(){try{s.dataJsonObj.actionSheet=yield s.actionSheetController.create({cssClass:"actionsheet",buttons:s.dataJsonObj.mobileActionsArray}),yield s.dataJsonObj.actionSheet.present()}catch(a){s.loggerService.setLoggerError(s.constructor.name,"presentActionSheet",a)}})()}loadPageData(t){this.listingVariables.pageNumbers=t.listingVariables.pageNumbers,t.clearMobileData&&(this.dataJsonObj.usertypeRegistrationApprovalsMobileListData=this.dataJsonObj.noDuplicates),t.isPaginationChange&&(this.dataJsonObj.selectedFilter=t.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=t.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=t.selectedAdvancedSearchObj),this.getAllRecords()}getRedirectUser(t){this.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.VIEW)&&this.commonService.redirectToUrl(["..",t._id,"view"],!1,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}onPageLevelActionClicked(t){}getUserTypesListJsonData(){var t=this;return(0,b.Z)(function*(){t.dataJsonObj.userTypeDataList=yield t.commonService.getDynamicJson(t.dataJsonObj.enterpriseId,n.sb.USER_TYPES,"list"),t.dataJsonObj.userTypeDataJSON={};for(let s of t.dataJsonObj.userTypeDataList)t.dataJsonObj.userTypeDataJSON[s.ID+""]=s;t.pendingApprovals({pageNumber:1,clickAction:!0})})()}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}displayDateFormatter(t,s,a){try{const d=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,o={startDate:"",endDate:""};if(o.startDate=this.commonService.convertDateToUserFormat(d,n.eZ.HOURS_MINS,!0,"",!1),s){const r=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,u=this.commonService.addHoursToDate(r,r);o.endDate=this.commonService.convertDateToUserFormat(u,n.eZ.HOURS_MINS,!0,"",!1)}return o}catch(d){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",d)}}deleteRecord(t){try{w().fire({title:"",text:this.translateService.instant("COMMON_CONFIRM_MESSAGES.CONFIRM_RECORD_DELETE"),showCancelButton:!0,cancelButtonText:this.translateService.instant("COMMON_BUTTONS.BUTTON_NO"),confirmButtonText:this.translateService.instant("COMMON_BUTTONS.BUTTON_YES"),customClass:{confirmButton:"btn btn-primary btn-sm mgr-5 mat-raised-button mr-1",cancelButton:"btn btn-danger btn-sm mat-raised-button"}}).then(s=>{s.value&&this.usertypeRegistrationApprovalsService.delete(t).then(a=>{this.router.routeReuseStrategy.clearModuleRouteCache("usertype-registration-approvals"),this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_DELETE"),this.getAllRecords()})})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"deleteGroups",s)}}pendingApprovals(t){try{this.dataJsonObj.searchString="",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj={},this.listingVariables.pageNumbers=t.pageNumber,t.clickAction&&(this.dataJsonObj.usertypeRegistrationApprovalsMobileListData=this.dataJsonObj.noDuplicates),this.dataJsonObj.approvalStatus=n.t3.REQUESTED,this.datatableComponent.reset(),this.getAllRecords()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"pendingApprovals",s)}}approvedApprovals(t){try{this.dataJsonObj.searchString="",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj={},this.listingVariables.pageNumbers=t.pageNumber,t.clickAction&&(this.dataJsonObj.usertypeRegistrationApprovalsMobileListData=this.dataJsonObj.noDuplicates),this.dataJsonObj.approvalStatus=n.t3.APPROVED,this.datatableComponent.reset(),this.getAllRecords()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"approvedApprovals",s)}}rejectedApprovals(t){try{this.dataJsonObj.searchString="",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj={},this.listingVariables.pageNumbers=t.pageNumber,t.clickAction&&(this.dataJsonObj.usertypeRegistrationApprovalsMobileListData=this.dataJsonObj.noDuplicates),this.dataJsonObj.approvalStatus=n.t3.REJECTED,this.datatableComponent.reset(),this.getAllRecords()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"rejectedApprovals",s)}}approveRequest(t){this.usertypeRegistrationApprovalsService.patch(t,t._id,"approve").then(s=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_APPROVED_SUCCESSFULLY"),this.getAllRecords()},s=>{})}rejectRequest(t){this.usertypeRegistrationApprovalsService.patch(t,t._id,"reject").then(s=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_REJECTED_SUCCESSFULLY"),this.getAllRecords()},s=>{})}deactivateRequestApprove(t){this.usertypeRegistrationApprovalsService.patch(t,t._id,"deactivateapprove").then(s=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_APPROVED_SUCCESSFULLY"),this.getAllRecords()},s=>{})}deactivateRequestReject(t){this.usertypeRegistrationApprovalsService.patch(t,t._id,"deactivatereject").then(s=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_REJECTED_SUCCESSFULLY"),this.getAllRecords()},s=>{})}static \u0275fac=function(s){return new(s||i)(e.Y36(V.BX),e.Y36(C.Y),e.Y36(N.m),e.Y36(c.F0),e.Y36(g.sK),e.Y36(y.v),e.Y36(P.v),e.Y36(c.gz),e.Y36(I.s),e.Y36(m.s))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-usertype-registration-approvals-list"]],viewQuery:function(s,a){if(1&s&&e.Gf(B,5),2&s){let d;e.iGM(d=e.CRH())&&(a.datatableComponent=d.first)}},features:[e._Bn([m.s,P.v,C.Y]),e.qOj],decls:17,vars:28,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","stickyFilterTabsID",1,"pdt-0","pdl-0","pdr-0","pdb-0","mgt-2","sticky-tabs"],["mat-align-tabs","start",1,"fanguage-tabs"],["mat-tab-label",""],["id","extraPaddingBottomID",1,"card-body","pdt-0"],["id","athletes-list",1,"fixed-height-content",3,"header","actions","listingVariables","totalPages","totalRecords","paginator","search","mobileListData","data","expand","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","showSpinner","selectedSubMenuId","actionClicked","redirectionEvent","itemClickEvent","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],[1,"fs-13","mg-0","tab-label","d-flex","align-items-center","justify-content-center","parent-tab",3,"click"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(o){return a.onHeaderItemClick(o)}),e.qZA()(),e.TgZ(4,"div",4)(5,"mat-tab-group",5)(6,"mat-tab"),e.YNc(7,F,4,3,"ng-template",6),e.qZA(),e.TgZ(8,"mat-tab"),e.YNc(9,q,4,3,"ng-template",6),e.qZA(),e.TgZ(10,"mat-tab"),e.YNc(11,Y,4,3,"ng-template",6),e.qZA()()(),e.TgZ(12,"div",7)(13,"app-datatable",8,9),e.NdJ("actionClicked",function(o){return a.onActionClicked(o)})("redirectionEvent",function(o){return a.mobileEventAction(o)})("itemClickEvent",function(o){return a.getRedirectUser(o)})("loadPageData",function(o){return a.loadPageData(o)}),e.qZA(),e.TgZ(15,"div",10)(16,"app-page-actions",11),e.NdJ("selectedAction",function(o){return a.onPageLevelActionClicked(o)}),e.qZA()()()()()),2&s&&(e.xp6(3),e.Q6J("pageName",a.dataJsonObj.pageName)("defaultView",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",a.dataJsonObj.pageActionsList)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(10),e.Q6J("header",a.dataJsonObj.tableColumnHeaders)("actions",a.dataJsonObj.actions)("listingVariables",a.listingVariables)("totalPages",a.listingVariables.totalpages)("totalRecords",a.listingVariables.totalRecords)("paginator",!0)("search",a.dataJsonObj.searchString)("mobileListData",a.dataJsonObj.usertypeRegistrationApprovalsMobileListData)("data",a.dataJsonObj.usertypeRegistrationApprovalsListData)("expand",!1)("selectedDisplayViewType",a.dataJsonObj.selectedDisplayView)("selectedFilterType",a.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",a.dataJsonObj.selectedAdvancedSearchObj)("pageName",a.dataJsonObj.pageName)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("showSpinner",a.dataJsonObj.showSpinner)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",a.dataJsonObj.pageActionsList))},dependencies:[U.n,f.q,Z.y,_.uD,_.uX,_.SP,g.X$]})}return i})();var M=l(15439),k=l(10805),G=l(2387),Q=l(56368),x=l(98621),K=l(11735),J=l(32174);function W(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",24),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.approveRequest())}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.s9C("label",e.lcZ(1,2,"COMMON_BUTTONS.BUTTON_APPROVE")),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled)}}function $(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",24),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.approveRequest())}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.s9C("label",e.lcZ(1,2,"COMMON_BUTTONS.BUTTON_APPROVE")),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled)}}function z(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",24),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.approveRequest())}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.s9C("label",e.lcZ(1,2,"COMMON_BUTTONS.BUTTON_APPROVE")),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled)}}function X(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",24),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.approveRequest())}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.s9C("label",e.lcZ(1,2,"COMMON_BUTTONS.BUTTON_APPROVE")),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled)}}function ee(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"app-button",24),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.rejectRequest())}),e.ALo(1,"translate"),e.qZA()}if(2&i){const t=e.oxw(2);e.s9C("label",e.lcZ(1,2,"COMMON_BUTTONS.BUTTON_REJECT")),e.Q6J("disabled",t.dataJsonObj.isSubmitButtonDisabled)}}function te(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",21),e.YNc(1,W,2,4,"app-button",22),e.YNc(2,$,2,4,"app-button",22),e.YNc(3,z,2,4,"app-button",22),e.YNc(4,X,2,4,"app-button",22),e.YNc(5,ee,2,4,"app-button",22),e.TgZ(6,"app-button",23),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancelBtn())}),e.ALo(7,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.roleRightsValidationByPage(t.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.USERTYPE_REGISTRATION_APPROVALS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.ATHLETE_APPROVE)&&(null==t.dataJsonObj?null:t.dataJsonObj.user_type_name)===(null==t.dataJsonObj.htmlPageRolesEnumValuesJson||null==t.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum?null:t.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum.ATHLETES)),e.xp6(1),e.Q6J("ngIf",t.roleRightsValidationByPage(t.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.USERTYPE_REGISTRATION_APPROVALS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.COACH_APPROVE)&&(null==t.dataJsonObj?null:t.dataJsonObj.user_type_name)===(null==t.dataJsonObj.htmlPageRolesEnumValuesJson||null==t.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum?null:t.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum.COACHES)),e.xp6(1),e.Q6J("ngIf",t.roleRightsValidationByPage(t.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.USERTYPE_REGISTRATION_APPROVALS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.ATHLETIC_DIRECTOR_APPROVE)&&(null==t.dataJsonObj?null:t.dataJsonObj.user_type_name)===(null==t.dataJsonObj.htmlPageRolesEnumValuesJson||null==t.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum?null:t.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum.ATHLETIC_DIRECTOR)),e.xp6(1),e.Q6J("ngIf",t.roleRightsValidationByPage(t.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.USERTYPE_REGISTRATION_APPROVALS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.ADMIN_APPROVE)&&(null==t.dataJsonObj?null:t.dataJsonObj.user_type_name)===(null==t.dataJsonObj.htmlPageRolesEnumValuesJson||null==t.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum?null:t.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum.ADMIN)),e.xp6(1),e.Q6J("ngIf",t.roleRightsValidationByPage(t.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.USERTYPE_REGISTRATION_APPROVALS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.REJECT)),e.xp6(1),e.s9C("label",e.lcZ(7,6,"COMMON_BUTTONS.BUTTON_CLOSE"))}}function ae(i,p){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"app-button",26),e.NdJ("buttonOnClick",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.cancelBtn())}),e.ALo(2,"translate"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("label",e.lcZ(2,1,"COMMON_BUTTONS.BUTTON_CLOSE")))}function se(i,p){if(1&i&&(e.TgZ(0,"p-accordionTab",27)(1,"p-header",28)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",8)(7,"div",29),e._UZ(8,"app-input",30),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",29),e._UZ(11,"app-input",31),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",29),e._UZ(14,"app-input",32),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",29),e._UZ(17,"app-input",33),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",29),e._UZ(20,"app-input",33),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"div",29),e._UZ(23,"app-dropdown-multiselect",34),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",29),e._UZ(26,"app-input",33),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"div",29),e._UZ(29,"app-input",33),e.ALo(30,"translate"),e.qZA()()()),2&i){const t=e.oxw();e.Q6J("selected",!0),e.xp6(3),e.AsE("",e.lcZ(4,20,"COMMON_FIELDS.ATHLETE")," ",e.lcZ(5,22,"COMMON_FIELDS.DETAILS"),""),e.xp6(5),e.s9C("label",e.lcZ(9,24,"COMMON_FIELDS.GENDER")),e.s9C("value",t.lookupLanguageTranslations(null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.athleteProfileData||null==t.dataJsonObj.viewData.athleteProfileData.gender?null:t.dataJsonObj.viewData.athleteProfileData.gender.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(12,26,"COMMON_FIELDS.DATE_OF_BIRTH")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.userDOB),e.xp6(3),e.s9C("label",e.lcZ(15,28,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.user_profile_id?null:t.dataJsonObj.viewData.user_profile_id.email),e.xp6(3),e.s9C("label",e.lcZ(18,30,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("value",t.lookupLanguageTranslations(null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.user_profile_id||null==t.dataJsonObj.viewData.user_profile_id.mobile_country_code?null:t.dataJsonObj.viewData.user_profile_id.mobile_country_code.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(21,32,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.user_profile_id?null:t.dataJsonObj.viewData.user_profile_id.mobile_number),e.xp6(3),e.s9C("label",e.lcZ(24,34,"COMMON_PAGE_TITLES.SPORTS")),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.selectedSportsOptions)("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.selectedSports),e.xp6(3),e.s9C("label",e.lcZ(27,36,"COMMON_FIELDS.USER_HEIGHT")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.athleteProfileData?null:t.dataJsonObj.viewData.athleteProfileData.height),e.xp6(3),e.s9C("label",e.lcZ(30,38,"COMMON_FIELDS.USER_WEIGHT")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.athleteProfileData?null:t.dataJsonObj.viewData.athleteProfileData.weight)}}function ne(i,p){if(1&i&&(e.TgZ(0,"p-accordionTab",27)(1,"p-header",28)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"div",8)(7,"div",29),e._UZ(8,"app-input",30),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",29),e._UZ(11,"app-input",31),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",29),e._UZ(14,"app-input",32),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"div",29),e._UZ(17,"app-input",33),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"div",29),e._UZ(20,"app-input",33),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"div",29),e._UZ(23,"app-dropdown-multiselect",34),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",29),e._UZ(26,"app-input",33),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"div",29),e._UZ(29,"app-input",33),e.ALo(30,"translate"),e.qZA()()()),2&i){const t=e.oxw();e.Q6J("selected",!0),e.xp6(3),e.AsE("",e.lcZ(4,20,"COMMON_FIELDS.COACH")," ",e.lcZ(5,22,"COMMON_FIELDS.DETAILS"),""),e.xp6(5),e.s9C("label",e.lcZ(9,24,"COMMON_FIELDS.GENDER")),e.s9C("value",t.lookupLanguageTranslations(null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.athleteProfileData||null==t.dataJsonObj.viewData.athleteProfileData.gender?null:t.dataJsonObj.viewData.athleteProfileData.gender.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(12,26,"COMMON_FIELDS.DATE_OF_BIRTH")),e.s9C("value",null==t.dataJsonObj?null:t.dataJsonObj.userDOB),e.xp6(3),e.s9C("label",e.lcZ(15,28,"COMMON_FIELDS.EMAIL")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.user_profile_id?null:t.dataJsonObj.viewData.user_profile_id.email),e.xp6(3),e.s9C("label",e.lcZ(18,30,"COMMON_ADDRESS_BLOCK.COUNTRY_CODE")),e.s9C("value",t.lookupLanguageTranslations(null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.user_profile_id||null==t.dataJsonObj.viewData.user_profile_id.mobile_country_code?null:t.dataJsonObj.viewData.user_profile_id.mobile_country_code.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(21,32,"COMMON_FIELDS.PHONE_NUMBER")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.user_profile_id?null:t.dataJsonObj.viewData.user_profile_id.mobile_number),e.xp6(3),e.s9C("label",e.lcZ(24,34,"COMMON_PAGE_TITLES.SPORTS")),e.Q6J("options",null==t.dataJsonObj?null:t.dataJsonObj.selectedSportsOptions)("defaultValue",null==t.dataJsonObj?null:t.dataJsonObj.selectedSports),e.xp6(3),e.s9C("label",e.lcZ(27,36,"COMMON_FIELDS.USER_HEIGHT")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.user_id?null:t.dataJsonObj.viewData.user_id.height),e.xp6(3),e.s9C("label",e.lcZ(30,38,"COMMON_FIELDS.USER_WEIGHT")),e.s9C("value",null==t.dataJsonObj||null==t.dataJsonObj.viewData||null==t.dataJsonObj.viewData.user_id?null:t.dataJsonObj.viewData.user_id.weight)}}const ie=[{path:"",data:{title:"usertyperegistrationapprovals"},children:[{path:"usertyperegistrationapprovals/list",component:H,canActivate:[R.P],data:{pageName:n.hf.USERTYPE_REGISTRATION_APPROVALS}},{path:"usertyperegistrationapprovals/:id/view",component:(()=>{class i extends D.O{usertypeRegistrationApprovalsService;route;commonService;loggerService;uiUtils;dataJsonObj={};errorObj={};constructor(t,s,a,d,o){super(s,a),this.usertypeRegistrationApprovalsService=t,this.route=s,this.commonService=a,this.loggerService=d,this.uiUtils=o,this.route.queryParams.subscribe(r=>{this.dataJsonObj.enterpriseId=localStorage.getItem(n.BU.SELECTED_ENTERPRISE),this.getUserTypesListJsonData(),this.dataJsonObj.queryParamsObj={defaultView:r.defaultView,selectedMenuId:r.selectedMenuId,selectedSubMenuId:r.selectedSubMenuId},this.dataJsonObj.actionType=r.actionType})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.route.params.subscribe(a=>{this.dataJsonObj.recordId=a.id});const t=this.commonService.getLoginUserTimeZoneDateFormat();this.dataJsonObj.userTimeZoneObj=this.commonService.getUTCMinuteAndSign(t.timeZoneDescription);const s=JSON.parse(localStorage.getItem(n.BU.DATE_FORMATE_OBJ));this.dataJsonObj.loginUserDateFormat=this.lookupLanguageTranslations(s.lookup_id),this.dataJsonObj.userTimeZoneObj.timeZoneCode=t.timeZoneCode,this.dataJsonObj.pageName=n.hf.USERTYPE_REGISTRATION_APPROVALS,this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(n.hf.USERTYPE_REGISTRATION_APPROVALS,n.AM.ACTIONS,n.In.RECORD_HISTORY),this.dataJsonObj.isAllButtonsEnabled=!1,this.dataJsonObj.htmlPageRolesEnumValuesJson={userTypesEnum:n.Wg,pageEnum:n.hf,pageSettingEnum:n.AM,pageSettingFieldsEnum:n.In},this.getRecordById()}getRecordById(){try{this.usertypeRegistrationApprovalsService.get(this.dataJsonObj.recordId).subscribe(t=>{this.dataJsonObj.viewData=t,this.getUserSportslist(),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.REGISTRATION_APPROVAL",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.dataJsonObj.userName=this.commonService.changeUserNameFormat(this.dataJsonObj.viewData.user_profile_id),this.dataJsonObj.userDOB=this.dataJsonObj.viewData.user_id&&this.dataJsonObj.viewData.athleteProfileData.date_of_birth?M(this.dataJsonObj.viewData.athleteProfileData.date_of_birth).format(this.dataJsonObj.loginUserDateFormat):"",this.dataJsonObj.user_type_name=this.dataJsonObj.userTypeDataJSON&&this.dataJsonObj.userTypeDataJSON[this.dataJsonObj.viewData.user_type_id]?this.dataJsonObj.userTypeDataJSON[this.dataJsonObj.viewData.user_type_id].user_type_name:"",this.dataJsonObj.user_type_display_name=this.dataJsonObj.userTypeDataJSON&&this.dataJsonObj.userTypeDataJSON[this.dataJsonObj.viewData.user_type_id]?this.dataJsonObj.userTypeDataJSON[this.dataJsonObj.viewData.user_type_id].user_type_display_name:"";const s=this.displayDateFormatter(this.dataJsonObj.viewData.start_datetime,!1,!0);if(this.dataJsonObj.startDateTime=s.startDate+" "+this.dataJsonObj.userTimeZoneObj.timeZoneCode,this.dataJsonObj.viewData.end_datetime){const a=this.displayDateFormatter(this.dataJsonObj.viewData.end_datetime,!1,!0);this.dataJsonObj.endDateTime=a.startDate+" "+this.dataJsonObj.userTimeZoneObj.timeZoneCode}this.dataJsonObj.isAllButtonsEnabled=!(this.dataJsonObj?.viewData?.is_active||this.dataJsonObj?.viewData?.is_rejected||this.dataJsonObj?.viewData?.is_deactivated_request)},t=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)}}getUserTypesListJsonData(){var t=this;return(0,b.Z)(function*(){t.dataJsonObj.userTypeDataList=yield t.commonService.getDynamicJson(t.dataJsonObj.enterpriseId,n.sb.USER_TYPES,"list"),t.dataJsonObj.userTypeDataJSON={};for(let s of t.dataJsonObj.userTypeDataList)t.dataJsonObj.userTypeDataJSON[s.ID+""]=s})()}displayDateFormatter(t,s,a){try{const d=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,o={startDate:"",endDate:""};if(o.startDate=this.commonService.convertDateToUserFormat(d,n.eZ.HOURS_MINS,!0,"",!1),s){const r=a?this.commonService.convertDateToUserTimeZone(t,this.dataJsonObj.userTimeZoneObj.utcMinutes,this.dataJsonObj.userTimeZoneObj.utcMinutesSign):t,u=M.utc(r).add(2,"hours");o.endDate=this.commonService.convertDateToUserFormat(u,n.eZ.HOURS_MINS,!0,"",!1)}return o}catch(d){this.loggerService.setLoggerError(this.constructor.name,"displayDateFormatter",d)}}cancelBtn(){this.commonService.redirectToPreviousUrl()}approveRequest(){this.usertypeRegistrationApprovalsService.patch(this.dataJsonObj.viewData,this.dataJsonObj.recordId,"approve").then(t=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_APPROVED_SUCCESSFULLY"),this.commonService.redirectToPreviousUrl()},t=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(t))})}rejectRequest(){this.usertypeRegistrationApprovalsService.patch(this.dataJsonObj.viewData,this.dataJsonObj.recordId,"reject").then(t=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_REQUEST_REJECTED_SUCCESSFULLY"),this.commonService.redirectToPreviousUrl()},t=>{this.dataJsonObj.isSubmitButtonDisabled=!1,this.commonErrorCodes(JSON.parse(t))})}getUserSportslist(){try{this.commonService.getJsonData(`assets/enterprises/${this.dataJsonObj.enterpriseId}/sports/`,"sports.json").then(t=>{this.dataJsonObj.userSportsOptions=t,this.dataJsonObj.selectedSportsOptions=[],this.dataJsonObj.selectedSports=[];for(let s=0;s<this.dataJsonObj.userSportsOptions.length;s++){this.dataJsonObj.userSportsOptions[s].ID=this.dataJsonObj.userSportsOptions[s]._id,this.dataJsonObj.userSportsOptions[s].NAME=this.dataJsonObj.userSportsOptions[s].sport.display_name;for(let a=0;a<this.dataJsonObj.viewData.athleteProfileData.sports.length;a++)this.dataJsonObj.viewData.athleteProfileData.sports[a].sport_id===this.dataJsonObj.userSportsOptions[s].ID&&(this.dataJsonObj.selectedSportsOptions.push(this.dataJsonObj.userSportsOptions[s]),this.dataJsonObj.selectedSports.push(this.dataJsonObj.userSportsOptions[s].ID))}}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getUserSportslist",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getUserSportslist",t)}}commonErrorCodes(t){const s=JSON.parse(t[n.BU.STATUS]);switch(s){case 500:case 404:default:break;case 409:this.errorObj.error=t.error.code?"VALIDATION_MESSAGES."+t.error.code:"COMMON_STATUS_CODES."+s;break;case 400:this.errorObj.error="TEAMS.ATLEAST_ONE_PRIMARY_MEMBER"}}static \u0275fac=function(s){return new(s||i)(e.Y36(m.s),e.Y36(c.gz),e.Y36(y.v),e.Y36(N.m),e.Y36(I.s))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-usertype-registration-approvals-view"]],features:[e._Bn([m.s]),e.qOj],decls:37,vars:43,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],["id","extraPaddingBottomID",1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["disabled","true","id","usertype-registration-approvals-view-enterprise",3,"label","value"],["id","user-view-firstname","disabled","true",3,"label","value"],["id","user-view-lastname","disabled","true",3,"label","value"],["id","user-view-nickname","disabled","true",3,"label","value"],["disabled","true","id","user-view-username",3,"label","value"],["mandatory","false","disabled","true","id","usertype-registration-approvals-view-usertype",3,"label","value"],["id","usertype-registration-approvals-view-startdate","disabled","true",3,"label","value"],["class","col-lg-12 col-md-12 text-end mt-2 mb-2 pdl-0",4,"ngIf"],["class","col-md-12 text-end mt-2 mb-2",4,"ngIf"],["id","usertype-registration-approvals-view-athletedetauls",3,"selected",4,"ngIf"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],[1,"col-lg-12","col-md-12","text-end","mt-2","mb-2","pdl-0"],["className","btn btn-primary btn-sm","class","mgr-5",3,"disabled","label","buttonOnClick",4,"ngIf"],["className","btn btn-danger btn-sm",3,"label","buttonOnClick"],["className","btn btn-primary btn-sm",1,"mgr-5",3,"disabled","label","buttonOnClick"],[1,"col-md-12","text-end","mt-2","mb-2"],["className","btn btn-danger btn-sm","id","usertype-view-close",3,"label","buttonOnClick"],["id","usertype-registration-approvals-view-athletedetauls",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],[1,"col-md-3"],["disabled","true","id","usertype-registration-approvals-view-gender",3,"label","value"],["disabled","true","id","usertype-registration-approvals-view-dateofbirth",3,"label","value"],["disabled","true","id","usertype-registration-approvals-view-username",3,"label","value"],["disabled","true",3,"label","value"],["disabled","true","id","usertype-registration-approvals--view-sports",3,"label","options","defaultValue"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"app-input",11),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"app-input",12),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",9),e._UZ(19,"app-input",13),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",9),e._UZ(22,"app-input",14),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",9),e._UZ(25,"app-input",15),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",9),e._UZ(28,"app-input",16),e.ALo(29,"translate"),e.qZA(),e.YNc(30,te,8,8,"div",17),e.YNc(31,ae,3,3,"div",18),e.qZA()(),e.TgZ(32,"div")(33,"p-accordion"),e.YNc(34,se,31,40,"p-accordionTab",19),e.YNc(35,ne,31,40,"p-accordionTab",19),e._UZ(36,"app-recordhistory",20),e.qZA()()()()()()()),2&s&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(4),e.s9C("label",e.lcZ(11,29,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",null==a.dataJsonObj||null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.enterprise?null:a.dataJsonObj.viewData.enterprise.short_name),e.xp6(3),e.s9C("label",e.lcZ(14,31,"COMMON_FIELDS.FIRST_NAME")),e.s9C("value",null==a.dataJsonObj||null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.user_profile_id?null:a.dataJsonObj.viewData.user_profile_id.f_name),e.xp6(3),e.s9C("label",e.lcZ(17,33,"COMMON_FIELDS.LAST_NAME")),e.s9C("value",null==a.dataJsonObj||null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.user_profile_id?null:a.dataJsonObj.viewData.user_profile_id.l_name),e.xp6(3),e.s9C("label",e.lcZ(20,35,"USERS.NICK_NAME")),e.s9C("value",null==a.dataJsonObj||null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.user_profile_id?null:a.dataJsonObj.viewData.user_profile_id.nick_name),e.xp6(3),e.s9C("label",e.lcZ(23,37,"COMMON_FIELDS.USER_NAME")),e.s9C("value",null==a.dataJsonObj||null==a.dataJsonObj.viewData||null==a.dataJsonObj.viewData.user_profile_id?null:a.dataJsonObj.viewData.user_profile_id.user_account),e.xp6(3),e.s9C("label",e.lcZ(26,39,"COMMON_PAGE_TITLES.USER_ROLE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.user_type_display_name),e.xp6(3),e.s9C("label",e.lcZ(29,41,"COMMON_FIELDS.START_DATE")),e.s9C("value",null==a.dataJsonObj?null:a.dataJsonObj.startDateTime),e.xp6(2),e.Q6J("ngIf",null==a.dataJsonObj?null:a.dataJsonObj.isAllButtonsEnabled),e.xp6(1),e.Q6J("ngIf",!(null!=a.dataJsonObj&&a.dataJsonObj.isAllButtonsEnabled)),e.xp6(3),e.Q6J("ngIf",a.dataJsonObj.user_type_name===(null==a.dataJsonObj.htmlPageRolesEnumValuesJson||null==a.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum?null:a.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum.ATHLETES)),e.xp6(1),e.Q6J("ngIf",a.dataJsonObj.user_type_name===(null==a.dataJsonObj.htmlPageRolesEnumValuesJson||null==a.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum?null:a.dataJsonObj.htmlPageRolesEnumValuesJson.userTypesEnum.COACHES)),e.xp6(1),e.Q6J("createdBy",null==a.dataJsonObj||null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.created_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==a.dataJsonObj||null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.updated_by)("creationDate",null==a.dataJsonObj||null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.createdAt)("lastUpdatedDate",null==a.dataJsonObj||null==a.dataJsonObj.viewData?null:a.dataJsonObj.viewData.updatedAt))},dependencies:[v.O5,k.h4,G.r,Q.a,x.c,K.W,f.q,J.UQ,J.US,g.X$]})}return i})(),canActivate:[R.P],data:{pageName:n.hf.USERTYPE_REGISTRATION_APPROVALS,pageSetting:n.AM.ACTIONS,settingField:n.In.VIEW}}]}];let re=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[c.Bz.forChild(ie),c.Bz]})}return i})();var le=l(93144),de=l(24006),pe=l(65673);let ue=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[v.ez,re,le.U$,de.u5,pe.Q,g.aw,J.fx,_.Nh]})}return i})()}}]);