"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5604],{75604:(Ee,P,c)=>{c.r(P),c.d(P,{ContractsModule:()=>Ne});var I=c(36895),F=c(24006),z=c(93144),g=c(54463),M=c(32174),u=c(62510),r=c(32236),L=c(15861),O=c(42863),v=c(30578),B=c(28168),C=c(27601),S=c(71568),D=c(47561),W=c(75875),j=c(90313),e=c(94650),X=c(80529);let T=(()=>{class o{http;authService;constructor(a,s){this.http=a,this.authService=s}getAll(a,s,t,n,i,d,l,h,p,A,m){const y=d?"&condition="+d:"",N=A||"",b=j.L.isEmpty(m)?"":"&advSearchString="+JSON.stringify(m);return j.L.isEmpty(y)?j.L.isEmpty(y)?this.authService.getApiCall("api/v1/contracts?&enterprise.enterprise_id="+a+"&skip="+s+"&limit="+t+"&sort="+n+"&type=list&search="+i+(h?"&is"+h+"=true":"")+p+b+N,!0):this.authService.getApiCall("api/v1/contracts?&enterprise.enterprise_id="+a+"&skip="+s+"&limit="+t+"&sort="+n+"&type=list&search="+i+p+b+N,!0):this.authService.getApiCall("api/v1/contracts?&enterprise.enterprise_id="+a+"&skip="+s+"&limit="+t+"&sort="+n+"&type=list&search="+i+y+(h?"&is"+h+"=true":"")+p+b+N,!0)}get(a,s){let t;return t=s?"api/v1/contracts/"+a+"?enterprise.enterprise_id="+localStorage.getItem(r.BU.SELECTED_ENTERPRISE)+s:"api/v1/contracts/"+a,this.authService.getApiCall(t,!0)}update(a,s){return new Promise((t,n)=>{this.authService.putApiCall("api/v1/contracts/"+a,s).subscribe(i=>{t(i)},i=>{n(i)})})}create(a){return new Promise((s,t)=>{this.authService.postApiCall("api/v1/contracts/",a).subscribe(n=>{s(n)},n=>{t(n)})})}getEnterprisesViewData(a){return new Promise((s,t)=>{this.authService.getApiCall("api/v1/enterprises/"+a).subscribe(n=>{s(n)},n=>{t(n)})})}static \u0275fac=function(s){return new(s||o)(e.LFG(X.eN),e.LFG(W.e))};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var k=c(34942),E=c(42786),Y=c(70057),f=c(37415),K=c(88425),$=c(24497);const x=["datatableComponent"];function ee(o,De){if(1&o){const a=e.EpF();e.TgZ(0,"div",10)(1,"app-stats",11),e.NdJ("status",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.getRecordsByStats(t))}),e.qZA()()}if(2&o){const a=e.oxw();e.xp6(1),e.Q6J("statsDisplay",a.statscontractslistData)("data",a.contractsStatsObj)("statusDisplay",a.statusObj)}}let G=(()=>{class o extends D.O{ColumnHeader;translateService;listingVariables;contractService;route;commonService;router;uiUtils;actionSheetController;loggerService;datatablecomponent;actionBoolean;actionStatus;actions;activeObj;contractId;contractsListData;contractsMobileListData;contractsStatsObj=new te;datatableComponent;error;enabledFlag=!1;enterpriseId;eventClickData;fabMobileactions;header;isFilterClicked=!1;loginUserDateFormat;noDuplicates=void 0;object_type;pollsObj;show=!0;searchString;statscontractslistData;status;statusObj;statusObjs;userId;value;mobileroutesArray;pageTitle;dataJsonObj={};set data(a){this.value=a,this.value&&(this.userId=this.value.userId,this.enabledFlag=!0,this.getAllRecords())}constructor(a,s,t,n,i,d,l,h,p,A){super(i,d),this.ColumnHeader=a,this.translateService=s,this.listingVariables=t,this.contractService=n,this.route=i,this.commonService=d,this.router=l,this.uiUtils=h,this.actionSheetController=p,this.loggerService=A,this.route.queryParams.subscribe(m=>{this.dataJsonObj.queryParamsObj={defaultView:m.defaultView,selectedMenuId:m.selectedMenuId,selectedSubMenuId:m.selectedSubMenuId}}),this.route.params.subscribe(m=>{this.enterpriseId=m.parentId})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.showSpinner(),this.dataJsonObj.pageName=r.hf.CONTRACTS,this.dataJsonObj.htmlPageRolesEnumValuesJson={pageEnum:r.hf,pageSettingEnum:r.AM,pageSettingFieldsEnum:r.In},this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.CONTRACTS",value:"",showSubMenuDisplayName:!0}],this.commonService.trackView(r.sn.CONTRACT_LIST),document.getElementsByTagName("body"),this.object_type=this.route.snapshot.data.object_type,this.statscontractslistData=k.h.getContractsListStats(this.isFilterClicked,this.eventClickData);const s=this.commonService.getLoginUserTimeZoneDateFormat();this.loginUserDateFormat=s.dateFormat,this.header=this.ColumnHeader.getContractColumnHeaders(),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString="",this.dataJsonObj.advancedSearchObj={},this.actionBoolean=this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.ACTIVATE)&&this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.INACTIVATE),this.actions={EDIT:this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.EDIT),VIEW:this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.VIEW),CHECKBOX:this.actionBoolean},this.dataJsonObj.addFiltersList=[],this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.CREATE)&&this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:r.gL.URL,redirectURL:"/enterprises/"+this.enterpriseId+"/contracts/create",queryParams:"",iconClass:"fas fa-plus"}),this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.FILTERS)}getSearchResult(a){this.searchString=a,this.reset()}searchClose(){this.searchString="",this.reset()}reset(){this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.getAllRecords(),this.datatableComponent.reset()}getAllRecords(){try{this.showSpinner();const a=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView);this.status=this.statusObj,this.activeObj=this.statusObjs,this.contractService.getAll(this.enterpriseId,this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.listingVariables.sortOrderColumn,this.searchString,this.status,this.isFilterClicked,this.activeObj,a,this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(t=>{if(this.hideSpinner(),t.rows.length>0){this.contractsMobileListData&&this.contractsMobileListData.length>0||(this.contractsMobileListData=[]);for(let n=0;n<t.rows.length;n++)t.rows[n].display_grid_title=t.rows[n].contract_name,t.rows[n].page_name=r.hf.CONTRACTS,t.rows[n].imageName=t.rows[n].contract_name,t.rows[n].start_date=this.commonService.getDateObj(t.rows[n].start_date,this.loginUserDateFormat),t.rows[n].end_date=this.commonService.getDateObj(t.rows[n].end_date,this.loginUserDateFormat),t.rows[n].contract_number='<a class="enable" id="contract_number'+t.rows[n]._id+'" href="enterprises/'+t.rows[n]._id+'/contracts/view" >'+t.rows[n].contract_number,t.rows[n].enterprise.short_name=t.rows[n].enterprise.short_name,t.rows[n].is_enabled=t.rows[n].is_enabled?"Yes":"No",this.contractsMobileListData=this.contractsMobileListData.filter(i=>i._id!==t.rows[n]._id),this.contractsMobileListData.push(t.rows[n]);t.totalCount&&(this.listingVariables.totalRecords=t.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=t.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.contractsListData=this.contractsListData.concat(t.rows)):this.contractsListData=t.rows}else this.contractsListData=[],this.contractsMobileListData=[];this.contractsStatsObj.TOTAL_CONTRACTS=t.totalCount,this.contractsStatsObj.TOTAL_CONTRACTS_ACTIVE=t.ActiveCount,this.contractsStatsObj.TOTAL_CONTRACTS_CLOSED=t.InactiveCount,this.contractsStatsObj.TOTAL_CONTRACTS_IN_LAST_60_DAYS=t.Activity60,this.contractsStatsObj.TOTAL_CONTRACTS_IN_LAST_120_DAYS=t.Activity120,this.contractsStatsObj.TOTAL_CONTRACTS_IN_LAST_365_DAYS=t.Activity365,this.statsDisabled(this.contractsStatsObj.TOTAL_CONTRACTS,this.contractsStatsObj.TOTAL_CONTRACTS_ACTIVE,this.contractsStatsObj.TOTAL_CONTRACTS_CLOSED,this.contractsStatsObj.TOTAL_CONTRACTS_IN_LAST_60_DAYS,this.contractsStatsObj.TOTAL_CONTRACTS_IN_LAST_120_DAYS,this.contractsStatsObj.TOTAL_CONTRACTS_IN_LAST_365_DAYS)},t=>{this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)})}catch(a){this.hideSpinner(),this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",a)}}loadPageData(a){this.listingVariables.pageNumbers=a.listingVariables.pageNumbers,a.clearMobileData&&(this.contractsMobileListData=this.noDuplicates),a.isPaginationChange&&(this.dataJsonObj.selectedFilter=a.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=a.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=a.selectedAdvancedSearchObj),this.getAllRecords()}showSpinner(){this.dataJsonObj.showSpinner=!0}hideSpinner(){this.dataJsonObj.showSpinner=!1}toggle(){this.show=!this.show}onActionClicked(a){a.action===r.A0.EDIT?(this.router.navigate(["/enterprises/"+a.data._id+"/contracts/edit/"]),this.router.routeReuseStrategy.clearModuleRouteCache("contracts")):a.action===r.A0.VIEW?this.commonService.redirectToUrl(["enterprises",a.data._id,"contracts","view"],!0,!1,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route):a.action===r.A0.CHECKBOX&&(this.actionStatus=a.data.isEnabled,this.updateContractStatus(a.data,this.actionStatus))}getRedirectContract(a){this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.VIEW)&&this.commonService.redirectToUrl(["enterprises",a._id,"contracts","view"],!0,!1,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}mobileEventAction(a){this.mobileroutesArray=[],this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.ACTIVATE)&&!a.isEnabled&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ACTIVATE"),handler:()=>{this.actionStatus=!0,this.updateContractStatus(a,this.actionStatus)}}),this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.EDIT)&&a.isEnabled&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/enterprises/"+a._id+"/contracts/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("contracts")}}),this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.EDIT)&&a.isEnabled&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_INACTIVATE"),handler:()=>{this.actionStatus=!1,this.updateContractStatus(a,this.actionStatus)}}),this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.VIEW)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{this.commonService.redirectToUrl(["enterprises",a._id,"contracts","view"],!0,!1,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}}),this.presentActionSheet(a)}presentActionSheet(a){var s=this;return(0,L.Z)(function*(){try{s.mobileroutesArray&&s.mobileroutesArray.length>0?yield(yield s.actionSheetController.create({cssClass:"actionsheet",buttons:s.mobileroutesArray})).present():s.uiUtils.displayWarningMessage("COMMON_VALIDATION_MESSAGES.VALID_PERFORM_ACTIONS")}catch(t){s.loggerService.setLoggerError(s.constructor.name,"presentActionSheet",t)}})()}Create(){this.router.navigate(["/enterprises/"+this.enterpriseId+"/contracts/create"])}statsDisabled(a,s,t,n,i,d){try{this.pollsObj=[],this.pollsObj.push(0!==a?{value1:"TOTAL_CONTRACTS"}:{value1:""}),this.pollsObj.push(0!==s?{value2:"TOTAL_CONTRACTS_ACTIVE"}:{value2:""}),this.pollsObj.push(0!==t?{value3:"TOTAL_CONTRACTS_CLOSED"}:{value3:""}),this.pollsObj.push(0!==n?{value4:"TOTAL_CONTRACTS_IN_LAST_60_DAYS"}:{value4:""}),this.pollsObj.push(0!==i?{value5:"TOTAL_CONTRACTS_IN_LAST_120_DAYS"}:{value5:""}),this.pollsObj.push(0!==d?{value6:"TOTAL_CONTRACTS_IN_LAST_365_DAYS"}:{value6:""}),this.statscontractslistData=k.h.getContractsListStatsDisabled(this.isFilterClicked,"",this.pollsObj)}catch(l){this.loggerService.setLoggerError(this.constructor.name,"statsDisabled",l)}}getRecordsByStats(a){try{this.eventClickData=a.value,this.statusObj=a.value,this.listingVariables.pageNumbers=1,this.contractsMobileListData=[],this.datatablecomponent.reset(),this.getAllRecords()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getRecordsByStats",s)}}updateContractStatus(a,s){this.contractId=a._id,this.contractService.update(this.contractId,{is_enabled:s,enterprise:{enterprise_id:a.enterprise.enterprise_id,enterprise_name:a.enterprise.enterprise_name,short_name:a.enterprise.short_name}}).then(n=>{this.uiUtils.displaytoastMessage(s?"COMMON_TOAST_MESSAGES.TOAST_SUCCESS_ACTIVATE":"COMMON_TOAST_MESSAGES.TOAST_SUCCESS_INACTIVATE"),this.router.routeReuseStrategy.clearModuleRouteCache("contracts"),this.commonService.changeEvent("contracts"),this.getAllRecords()}).catch(n=>{this.loggerService.setLoggerError(this.constructor.name,"updateContractStatus",n)})}selectedViewType(a){this.dataJsonObj.selectedDisplayView=a}selectedFilterType(a){a||(this.dataJsonObj.selectedFilter="")}onPageLevelActionClicked(a){}advancedSearchFilterClicked(a){this.dataJsonObj.selectedAdvancedSearchObj=a}onHeaderItemClick(a){switch(a.type){case"search":this.getSearchResult(a.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(a.event);break;case"filters":this.selectedFilterType(a.event);break;case"advanced_search":this.advancedSearchFilterClicked(a.event);break;case"page_actions":this.onPageLevelActionClicked(a.event)}}static \u0275fac=function(s){return new(s||o)(e.Y36(O.Y),e.Y36(g.sK),e.Y36(v.v),e.Y36(T),e.Y36(u.gz),e.Y36(S.v),e.Y36(u.F0),e.Y36(C.s),e.Y36(Y.BX),e.Y36(E.m))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-contracts-list"]],viewQuery:function(s,t){if(1&s&&e.Gf(x,5),2&s){let n;e.iGM(n=e.CRH())&&(t.datatablecomponent=n.first)}},inputs:{data:"data"},features:[e._Bn([v.v,O.Y,T,C.s,B.n]),e.qOj],decls:10,vars:34,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],["class","statistics-body d-none d-lg-block",4,"ngIf"],["id","tagid",1,"",3,"header","totalRecords","actions","data","expand","totalPages","paginator","mobileListData","statsDisplay","statData","statusDisplay","statsShow","showRights","statsSearch","listingVariables","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","showSpinner","pageName","selectedMenuId","selectedSubMenuId","changeStats","redirectionEvent","itemClickEvent","actionClicked","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"],[1,"statistics-body","d-none","d-lg-block"],[3,"statsDisplay","data","statusDisplay","status"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(i){return t.onHeaderItemClick(i)}),e.qZA()(),e.TgZ(4,"div",4),e.YNc(5,ee,2,3,"div",5),e.TgZ(6,"app-datatable",6,7),e.NdJ("changeStats",function(i){return t.getRecordsByStats(i)})("redirectionEvent",function(i){return t.mobileEventAction(i)})("itemClickEvent",function(i){return t.getRedirectContract(i)})("actionClicked",function(i){return t.onActionClicked(i)})("changeStats",function(i){return t.getRecordsByStats(i)})("loadPageData",function(i){return t.loadPageData(i)}),e.qZA(),e.TgZ(8,"div",8)(9,"app-page-actions",9),e.NdJ("selectedAction",function(i){return t.onPageLevelActionClicked(i)}),e.qZA()()()()()),2&s&&(e.xp6(3),e.Q6J("pageName",t.dataJsonObj.pageName)("defaultView",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",t.dataJsonObj.pageActionsList)("pageTitle",t.dataJsonObj.pageTitle)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(2),e.Q6J("ngIf",t.show&&t.roleRightsValidationByPage(t.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.CONTRACTS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.STATS)),e.xp6(1),e.Q6J("header",t.header)("totalRecords",t.listingVariables.totalRecords)("actions",t.actions)("data",t.contractsListData)("expand",!1)("totalPages",t.listingVariables.totalpages)("paginator",!0)("mobileListData",t.contractsMobileListData)("statsDisplay",t.statscontractslistData)("statData",t.contractsStatsObj)("statusDisplay",t.statusObj)("statsShow",t.show)("showRights",t.roleRightsValidationByPage(t.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.CONTRACTS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,t.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.STATS))("statsSearch",t.searchString)("listingVariables",t.listingVariables)("selectedDisplayViewType",t.dataJsonObj.selectedDisplayView)("selectedFilterType",t.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",t.dataJsonObj.selectedAdvancedSearchObj)("showSpinner",t.dataJsonObj.showSpinner)("pageName",t.dataJsonObj.pageName)("selectedMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==t.dataJsonObj.queryParamsObj?null:t.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",t.dataJsonObj.pageActionsList))},dependencies:[I.O5,B.n,f.q,K.y,$._]})}return o})();class te{TOTAL_CONTRACTS;TOTAL_CONTRACTS_ACTIVE;TOTAL_CONTRACTS_CLOSED;TOTAL_CONTRACTS_IN_LAST_60_DAYS;TOTAL_CONTRACTS_IN_LAST_120_DAYS;TOTAL_CONTRACTS_IN_LAST_365_DAYS}var R=c(46448),w=c(2387),V=c(56368),U=c(93837),q=c(38077),Z=c(24929),ae=c(92634),se=c(42919);const re=["contractTypeInput"],ne=["licenscingModeInput"],ie=["payTermsInput"],oe=["currencyInput"],ce=["periodAmountInput"],le=["contractNameInput"],de=["descriptionText"];let he=(()=>{class o extends D.O{router;route;navigationService;contractService;uiUtils;commonService;translateService;loggerService;contractTypeInput;licenscingModeInput;payTermsInput;currencyInput;periodAmountInput;contractNameInput;descriptionText;contractTypeObj;licenscingModeObj;licenscingModeOptions;PaymentTermsObj;PaymentTermsOptions;checkboxOptions;contractCreateObj=new pe;contractName;contractTypeOptions;currencyObj;currencyOptions;defaultContractType;defaultCurrency;defaultDescription;defaultLicenscingMode;defaultPaymentTerms;defaultPeriodAmount;defaultTimeZone;description;endDate;enterpriseId;enterpriseName;enterpriseShortName;error1;error;isEnabled=!0;loginUserDateFormat;pageTitle;recordId;startDate;timeZoneOptions;utctimezone;utctimezonestring;deafultCurrencyFormat;deafultCurrency;dataJsonObj={};constructor(a,s,t,n,i,d,l,h){super(s,d),this.router=a,this.route=s,this.navigationService=t,this.contractService=n,this.uiUtils=i,this.commonService=d,this.translateService=l,this.loggerService=h,this.route.params.subscribe(p=>{this.recordId=p.parentId})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.CONTRACTS,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CONTRACTS",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.commonService.trackView(r.sn.CONTRACT_CREATE),this.getEnterprisesViewData();const a=this.commonService.getLoginUserTimeZoneDateFormat();this.loginUserDateFormat=a.dateFormat,this.startDate=this.commonService.getDateObj((new Date).toISOString(),this.loginUserDateFormat),this.endDate=this.commonService.getDateObj((new Date).toISOString(),this.loginUserDateFormat)}getEnterprisesViewData(){try{this.contractService.getEnterprisesViewData(this.recordId).then(a=>{this.enterpriseName=a.enterprise_name,this.enterpriseId=a._id,this.enterpriseShortName=a.short_name,this.deafultCurrency=a.preferences.default_currency.lookup_id,this.deafultCurrencyFormat=a.preferences.default_currency_format.lookup_name,this.commonService.getLookupCodesListJson(this.enterpriseId,"list").then(s=>{this.dataJsonObj.lookupCodesListJSON=s,this.getContractTypeOptions(""),this.getLicenscingModeOptions(""),this.getPaymentTermsOptions(""),this.getCurrenciesOptions("")})}).catch(a=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getEnterprisesViewData",a)}}changeContractName(a){this.contractName=a.value,this.defaultDescription=a.value}getStartDate(a){this.startDate=this.commonService.getDateObj(a.value,this.loginUserDateFormat),this.error=""}getEndDate(a){this.endDate=this.commonService.getDateObj(a.value,this.loginUserDateFormat),this.error=""}changePeriodAmount(a){this.defaultPeriodAmount=a.value}changeDescription(a){this.defaultDescription=a.value}getContractTypeOptions(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CONTRACT_TYPES],a).then(s=>{this.contractTypeOptions=s}).catch(s=>{this.loggerService.setLoggerError(this.constructor.name,"getContractTypeOptions",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getContractTypeOptions",s)}}changeContractType(a){this.defaultContractType=a.NAME,this.contractTypeObj=a}getLicenscingModeOptions(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.LICENSING_MODES],a).then(s=>{this.licenscingModeOptions=s}).catch(s=>{this.loggerService.setLoggerError(this.constructor.name,"getLicenscingModeOptions",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getLicenscingModeOptions",s)}}changeLicenscingMode(a){this.defaultLicenscingMode=a.NAME,this.licenscingModeObj=a}getPaymentTermsOptions(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.BILLING_CYCLES],a).then(s=>{this.PaymentTermsOptions=s}).catch(s=>{this.loggerService.setLoggerError(this.constructor.name,"getPaymentTermsOptions",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getPaymentTermsOptions",s)}}changePaymentTerms(a){this.defaultPaymentTerms=a.NAME,this.PaymentTermsObj=a}getCurrenciesOptions(a){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[r.ox.CURRENCIES],a).then(s=>{if(this.currencyOptions=s,this.currencyOptions.length>0){for(let t=0;t<this.currencyOptions.length;t++)this.currencyOptions[t].NAME=this.currencyOptions[t].lookup_display_name+" - "+this.currencyOptions[t].description,this.deafultCurrency===this.currencyOptions[t].ID&&(this.defaultCurrency=this.lookupLanguageTranslations(this.currencyOptions[t].ID),this.currencyObj=this.currencyOptions[t]);this.currencyOptions=this.currencyOptions}}).catch(s=>{this.loggerService.setLoggerError(this.constructor.name,"getContractsList",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getContractsList",s)}}changeCurrency(a){this.defaultCurrency=this.lookupLanguageTranslations(a.lookup_id),this.currencyObj=a}changeEnabledvalue(a){a&&(this.isEnabled=a.value)}cancel(){this.commonService.redirectToPreviousUrl()}createRecord(){try{this.commonService.getUTCDateObj(this.endDate)<this.commonService.getUTCDateObj(this.startDate)?this.error=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START"):this.contractNameInput.isValid()&&this.contractTypeInput.isValid()&&this.licenscingModeInput.isValid()&&this.payTermsInput.isValid()&&this.periodAmountInput.isValid()&&this.currencyInput.isValid()&&this.descriptionText.isValid()&&(this.contractCreateObj.enterprise={enterprise_id:this.enterpriseId,enterprise_name:this.enterpriseName,short_name:this.enterpriseShortName},this.contractCreateObj.start_date=this.commonService.getUTCDateObj(this.startDate),this.contractCreateObj.end_date=this.commonService.getUTCDateObj(this.endDate),this.contractCreateObj.amount_per_period=this.defaultPeriodAmount,this.contractCreateObj.description=this.defaultDescription,this.contractCreateObj.currency_code=this.currencyObj,this.contractCreateObj.contract_type=this.contractTypeObj,this.contractCreateObj.licensing_mode=this.licenscingModeObj,this.contractCreateObj.payment_terms=this.PaymentTermsObj,this.contractCreateObj.contract_name=this.contractName,this.contractCreateObj.is_enabled=this.isEnabled,this.contractService.create(this.contractCreateObj).then(a=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),this.commonService.redirectToPreviousUrl()},a=>{this.commonErrorCodes(JSON.parse(a)),this.loggerService.setLoggerError(this.constructor.name,"createRecord",a)}))}catch(a){this.loggerService.setLoggerError(this.constructor.name,"createRecord",a)}}commonErrorCodes(a){switch(JSON.parse(a[r.BU.STATUS])){case 500:case 404:default:break;case 409:this.error=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_CONTRACT_ALREADY_EXIST")}}static \u0275fac=function(s){return new(s||o)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(R.f),e.Y36(T),e.Y36(C.s),e.Y36(S.v),e.Y36(g.sK),e.Y36(E.m))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-contract-create"]],viewQuery:function(s,t){if(1&s&&(e.Gf(re,5),e.Gf(ne,5),e.Gf(ie,5),e.Gf(oe,5),e.Gf(ce,5),e.Gf(le,5),e.Gf(de,5)),2&s){let n;e.iGM(n=e.CRH())&&(t.contractTypeInput=n.first),e.iGM(n=e.CRH())&&(t.licenscingModeInput=n.first),e.iGM(n=e.CRH())&&(t.payTermsInput=n.first),e.iGM(n=e.CRH())&&(t.currencyInput=n.first),e.iGM(n=e.CRH())&&(t.periodAmountInput=n.first),e.iGM(n=e.CRH())&&(t.contractNameInput=n.first),e.iGM(n=e.CRH())&&(t.descriptionText=n.first)}},features:[e._Bn([T,C.s]),e.qOj],decls:56,vars:66,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["mandatory","true","disabled","true","id","contracts-create-enterprisename",3,"label","value"],["mandatory","true","autoCaseFlag","false","disabled","false","id","contracts-create-contractname",3,"label","minlength","maxlength","value","valueChange"],["contractNameInput",""],["mandatory","true","id","contracts-create-type",3,"label","options","defaultValue","selectedOption","searchValueChange"],["contractTypeInput",""],["mandatory","true","id","contracts-create-licensingmode",3,"label","options","defaultValue","selectedOption","searchValueChange"],["licenscingModeInput",""],["mandatory","true","disabled","false","id","contracts-create-start-date",3,"placeholder","defaultDate","dateformat","dateChangeValue"],["mandatory","true","disabled","false","id","contracts-create-end-date",3,"placeholder","defaultDate","dateformat","dateChangeValue"],["mandatory","true","id","contracts-create-paymentterms",3,"label","options","defaultValue","selectedOption","searchValueChange"],["payTermsInput",""],["mandatory","true","disabled","false","id","contracts-create-periodamount",3,"label","maxlength","amtfrmt","value","valueChange"],["periodAmountInput",""],[1,"col-md-3"],["mandatory","true","mandatory","true","id","contracts-create-currency",3,"label","options","defaultValue","selectedOption","searchValueChange"],["currencyInput",""],[1,"col-md-1","d-flex","align-items-center"],["label","","id","contracts-create-enabled","mandatory","false",3,"options","checked","valueChange"],[1,"col-lg-12","col-md-9"],["mandatory","true","disabled","false","id","contracts-create-notes",3,"label","defaultvalue","maxlength","valueChange"],["descriptionText",""],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"col-md-12","text-end","mt-2","btns-group","pdl-0"],["className","btn btn-primary btn-sm","id","contracts-create-submit",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","id","contracts-create-cancel",3,"label","buttonOnClick"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9)(13,"app-input",11,12),e.NdJ("valueChange",function(i){return t.changeContractName(i)}),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",9)(17,"app-dropdown-search",13,14),e.NdJ("selectedOption",function(i){return t.changeContractType(i)})("searchValueChange",function(i){return t.getContractTypeOptions(i)}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",9)(21,"app-dropdown-search",15,16),e.NdJ("selectedOption",function(i){return t.changeLicenscingMode(i)})("searchValueChange",function(i){return t.getLicenscingModeOptions(i)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",9)(25,"app-datepicker",17),e.NdJ("dateChangeValue",function(i){return t.getStartDate(i)}),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"div",9)(28,"app-datepicker",18),e.NdJ("dateChangeValue",function(i){return t.getEndDate(i)}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",9)(31,"app-dropdown-search",19,20),e.NdJ("selectedOption",function(i){return t.changePaymentTerms(i)})("searchValueChange",function(i){return t.getPaymentTermsOptions(i)}),e.ALo(33,"translate"),e.qZA()(),e.TgZ(34,"div",9)(35,"app-inputnumber",21,22),e.NdJ("valueChange",function(i){return t.changePeriodAmount(i)}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",23)(39,"app-dropdown-search",24,25),e.NdJ("selectedOption",function(i){return t.changeCurrency(i)})("searchValueChange",function(i){return t.getCurrenciesOptions(i)}),e.ALo(41,"translate"),e.qZA()(),e.TgZ(42,"div",26)(43,"app-checkbox",27),e.NdJ("valueChange",function(i){return t.changeEnabledvalue(i)}),e.qZA()(),e.TgZ(44,"div",28)(45,"app-textarea",29,30),e.NdJ("valueChange",function(i){return t.changeDescription(i)}),e.ALo(47,"translate"),e.qZA()(),e.TgZ(48,"div",31),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"div",32)(52,"app-button",33),e.NdJ("buttonOnClick",function(){return t.createRecord()}),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"app-button",34),e.NdJ("buttonOnClick",function(){return t.cancel()}),e.ALo(55,"translate"),e.qZA()()()()()()()()()),2&s&&(e.xp6(6),e.Q6J("pageName",t.dataJsonObj.pageName)("pageTitle",t.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(11,40,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",t.enterpriseShortName),e.xp6(3),e.s9C("label",e.lcZ(15,42,"CONTRACTS.CONTRACT_NAME")),e.s9C("value",t.contractName),e.Q6J("minlength",3)("maxlength",120),e.xp6(4),e.s9C("label",e.lcZ(19,44,"COMMON_FIELDS.TYPE")),e.s9C("defaultValue",t.defaultContractType),e.Q6J("options",t.contractTypeOptions),e.xp6(4),e.s9C("label",e.lcZ(23,46,"CONTRACTS.LICENSING_MODE")),e.s9C("defaultValue",t.defaultLicenscingMode),e.Q6J("options",t.licenscingModeOptions),e.xp6(4),e.s9C("placeholder",e.lcZ(26,48,"COMMON_FIELDS.START_DATE")),e.s9C("defaultDate",t.startDate),e.Q6J("dateformat",t.loginUserDateFormat),e.xp6(3),e.s9C("placeholder",e.lcZ(29,50,"COMMON_FIELDS.END_DATE")),e.s9C("defaultDate",t.endDate),e.Q6J("dateformat",t.loginUserDateFormat),e.xp6(3),e.s9C("label",e.lcZ(33,52,"CONTRACTS.PAYMENT_TERMS")),e.s9C("defaultValue",t.defaultPaymentTerms),e.Q6J("options",t.PaymentTermsOptions),e.xp6(4),e.s9C("label",e.lcZ(37,54,"CONTRACTS.PERIOD_AMOUNT")),e.s9C("amtfrmt",t.deafultCurrencyFormat),e.s9C("value",t.defaultPeriodAmount),e.Q6J("maxlength",8),e.xp6(4),e.s9C("label",e.lcZ(41,56,"COMMON_FIELDS.CURRENCY")),e.s9C("defaultValue",t.defaultCurrency),e.Q6J("options",t.currencyOptions),e.xp6(4),e.Q6J("options",t.checkboxOptions)("checked",t.isEnabled),e.xp6(2),e.s9C("label",e.lcZ(47,58,"COMMON_FIELDS.NOTES")),e.s9C("defaultvalue",t.defaultDescription),e.Q6J("maxlength",2e3),e.xp6(4),e.hij(" ",e.lcZ(50,60,t.error)," "),e.xp6(3),e.s9C("label",e.lcZ(53,62,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.xp6(2),e.s9C("label",e.lcZ(55,64,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[w.r,V.a,U.b,q.Q,Z.R,ae.K,se.C,f.q,g.X$]})}return o})();class pe{enterprise;contract_name;start_date;end_date;amount_per_period;description;currency_code;contract_type;licensing_mode;payment_terms;contract_number;is_enabled}var Q=c(11735),H=c(68896);let ue=(()=>{class o extends D.O{translateService;router;route;navigationService;Contractservice;commonService;uiUtils;columnsheaders;loggerService;actionType;attachmentColumnHeaders=[];attachmentsData;checkboxOptions;contractCreateObj;contractEditObj=new me;contractViewData;createdUser;creationDate;defaultTimeZone;defaultcontractNumber;defaultendDate;defaultstartDate;enterpriseData;enterpriseId;enterpriseName;enterpriseShortName;error;dataJsonObj={};isEnabled;lastUpdateDate;lastUpdatedUser;loginUserDateFormat;objectType;pageTitle;periodAmount;recordId;spinner=!0;statsFlag=!1;statsEndDate;timeZoneOptions;totalRecords;totalpages;utcTimeZone;utcTimeZoneString;constructor(a,s,t,n,i,d,l,h,p){super(t,d),this.translateService=a,this.router=s,this.route=t,this.navigationService=n,this.Contractservice=i,this.commonService=d,this.uiUtils=l,this.columnsheaders=h,this.loggerService=p}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.CONTRACTS,this.translateService.use(localStorage.getItem(r.BU.LOGIN_USER_LANGUAGE)).subscribe(s=>{this.pageTitle=this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),this.checkboxOptions=[{value:"112",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}]}),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.commonService.trackView(r.sn.CONTRACT_EDIT),this.objectType=this.route.snapshot.data.object_type;const a=this.commonService.getLoginUserTimeZoneDateFormat();this.loginUserDateFormat=a.dateFormat,this.attachmentColumnHeaders=this.columnsheaders.getAttachmentsColumnHeaders(),this.actionType=r.In.EDIT,this.route.params.subscribe(s=>{this.recordId=s.parentId}),this.getRecordById(this.recordId),this.getAttachmentsList()}getRecordById(a){try{this.Contractservice.get(a).subscribe(s=>{this.contractViewData=s,this.enterpriseData=this.contractViewData.enterprise,this.enterpriseId=this.contractViewData.enterprise.enterprise_id,this.enterpriseName=this.contractViewData.enterprise.enterprise_name,this.enterpriseShortName=this.contractViewData.enterprise.short_name,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CONTRACTS",value:this.enterpriseShortName,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}],this.defaultcontractNumber=this.contractViewData.contract_number,this.statsEndDate=this.commonService.getDateObj(this.contractViewData.end_date,this.loginUserDateFormat),this.defaultstartDate=this.commonService.getDateObj(this.contractViewData.start_date,this.loginUserDateFormat),this.defaultendDate=this.commonService.getDateObj(this.contractViewData.end_date,this.loginUserDateFormat),this.periodAmount=this.contractViewData.amount_per_period.toLocaleString(void 0,{minimumFractionDigits:2}),this.createdUser=this.contractViewData.created_by,this.lastUpdatedUser=this.contractViewData.updated_by,this.isEnabled=this.contractViewData.is_enabled}).catch(s=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",s)}}cancelBtn(){this.commonService.redirectToPreviousUrl()}changeEnabledvalue(a){a&&(this.isEnabled=a.value)}getAttachmentsList(){try{this.commonService.getAttachmentsList(this.objectType,this.recordId,"","","").then(a=>{if(a.rows.length>0)for(let s=0;s<a.rows.length;s++)a.rows[s].user_name=a.rows[s].f_name+", "+a.rows[s].l_name,a.rows[s].last_uploaded_date=this.commonService.dbTimezoneFormat(a.rows[s].last_uploaded_date),this.attachmentsData=a.rows;else this.attachmentsData=[];this.totalRecords=a.totalCount,this.totalpages=a.pages,this.spinner=!1}).catch(a=>{this.loggerService.setLoggerError(this.constructor.name,"getAttachmentsList",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getAttachmentsList",a)}}getEndDate(a){this.statsFlag=!0,this.defaultendDate=this.commonService.getDateObj(a.value,this.loginUserDateFormat),this.error=""}updateRecord(){try{this.commonService.getUTCDateObj(this.defaultendDate)<this.commonService.getUTCDateObj(this.defaultstartDate)?this.error=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_NOBLANK_END_DATE_GREATER_START"):(this.contractEditObj.enterprise={enterprise_id:this.enterpriseId,enterprise_name:this.enterpriseName,short_name:this.enterpriseShortName},this.contractEditObj.is_enabled=this.isEnabled,this.contractEditObj.end_date=this.commonService.getUTCDateObj(!0===this.statsFlag?this.defaultendDate:this.statsEndDate),this.Contractservice.update(this.recordId,this.contractEditObj).then(a=>{this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),this.commonService.redirectToPreviousUrl()},a=>{this.commonErrorCodes(JSON.parse(a)),this.loggerService.setLoggerError(this.constructor.name,"updateRecord",a)}))}catch(a){this.loggerService.setLoggerError(this.constructor.name,"updateRecord",a)}}commonErrorCodes(a){409===JSON.parse(a[r.BU.STATUS])&&(this.error=this.translateService.instant("COMMON_VALIDATION_MESSAGES.VALID_CONTRACT_ALREADY_EXIST"))}static \u0275fac=function(s){return new(s||o)(e.Y36(g.sK),e.Y36(u.F0),e.Y36(u.gz),e.Y36(R.f),e.Y36(T),e.Y36(S.v),e.Y36(C.s),e.Y36(O.Y),e.Y36(E.m))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-contract-edit"]],features:[e._Bn([v.v,S.v,C.s,T,O.Y]),e.qOj],decls:59,vars:75,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],[1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["mandatory","true","disabled","true","id","contracts-edit-enterprisename",3,"label","value"],["disabled","true","id","contracts-edit-contractname",3,"label","value"],["disabled","true","id","contracts-edit-contractid",3,"label","value"],["mandatory","false","disabled","true","mandatory","true","id","contracts-edit-type",3,"label","value"],["mandatory","false","disabled","true","mandatory","true","id","contracts-edit-startdate",3,"label","value"],["mandatory","true","disabled","false","id","contracts-edit-enddate",3,"placeholder","defaultDate","dateformat","dateChangeValue"],["mandatory","false","disabled","true","mandatory","true","id","contracts-edit-licensingmode",3,"label","value"],["mandatory","false","disabled","true","mandatory","true","id","contracts-edit-paymentterms",3,"label","value"],["mandatory","true","id","contracts-edit-periodamount","disabled","true",3,"label","value"],["mandatory","false","mandatory","true","id","contracts-edit-currency","disabled","true",3,"label","value"],[1,"col-md-1","d-flex","align-items-center"],["label","","id","contracts-edit-enabled","mandatory","false",3,"options","checked","valueChange"],["mandatory","false","disabled","true","id","contracts-edit-notes",3,"label","defaultvalue","maxlength"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"col-md-12","text-end","mt-2","btns-group"],["className","btn btn-primary btn-sm","id","contracts-edit-submit",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","id","contracts-edit-cancel",3,"label","buttonOnClick"],[1,"card"],["id","extraPaddingBottomID",1,"card-content"],[3,"multiple"],["id","editattachmentId"],[3,"header","data","totalPages","totalRecords","objectType","objectId","actionType","spinner"],[3,"createdBy","lastUpdatedBy","showrecordhistory","creationDate","lastUpdatedDate"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"app-input",11),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"app-input",12),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",9),e._UZ(19,"app-input",13),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",9),e._UZ(22,"app-input",14),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",9)(25,"app-datepicker",15),e.NdJ("dateChangeValue",function(i){return t.getEndDate(i)}),e.ALo(26,"translate"),e.qZA()(),e.TgZ(27,"div",9),e._UZ(28,"app-input",16),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",9),e._UZ(31,"app-input",17),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",9),e._UZ(34,"app-input",18),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"div",9),e._UZ(37,"app-input",19),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"div",20)(40,"app-checkbox",21),e.NdJ("valueChange",function(i){return t.changeEnabledvalue(i)}),e.qZA()(),e.TgZ(41,"div",3),e._UZ(42,"app-textarea",22),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"div",23),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"div",24)(48,"app-button",25),e.NdJ("buttonOnClick",function(){return t.updateRecord()}),e.ALo(49,"translate"),e.qZA(),e.TgZ(50,"app-button",26),e.NdJ("buttonOnClick",function(){return t.cancelBtn()}),e.ALo(51,"translate"),e.qZA()()()()()(),e.TgZ(52,"div",3)(53,"div",27)(54,"div",28)(55,"p-accordion",29)(56,"p-accordion",30),e._UZ(57,"app-attachment",31),e.qZA(),e._UZ(58,"app-recordhistory",32),e.qZA()()()()()()()),2&s&&(e.xp6(6),e.Q6J("pageName",t.dataJsonObj.pageName)("pageTitle",t.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(11,47,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",t.enterpriseShortName),e.xp6(3),e.s9C("label",e.lcZ(14,49,"CONTRACTS.CONTRACT_NAME")),e.s9C("value",null==t.contractViewData?null:t.contractViewData.contract_name),e.xp6(3),e.s9C("label",e.lcZ(17,51,"CONTRACTS.CONTRACT_NUMBER")),e.s9C("value",null==t.contractViewData?null:t.contractViewData.contract_number),e.xp6(3),e.s9C("label",e.lcZ(20,53,"COMMON_FIELDS.TYPE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.contractViewData||null==t.contractViewData.contract_type?null:t.contractViewData.contract_type.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(23,55,"COMMON_FIELDS.START_DATE")),e.s9C("value",t.defaultstartDate),e.xp6(3),e.s9C("placeholder",e.lcZ(26,57,"COMMON_FIELDS.END_DATE")),e.s9C("defaultDate",t.defaultendDate),e.Q6J("dateformat",t.loginUserDateFormat),e.xp6(3),e.s9C("label",e.lcZ(29,59,"CONTRACTS.LICENSING_MODE")),e.Q6J("value",t.lookupLanguageTranslations(null==t.contractViewData||null==t.contractViewData.licensing_mode?null:t.contractViewData.licensing_mode.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(32,61,"CONTRACTS.PAYMENT_TERMS")),e.Q6J("value",t.lookupLanguageTranslations(null==t.contractViewData||null==t.contractViewData.payment_terms?null:t.contractViewData.payment_terms.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(35,63,"CONTRACTS.PERIOD_AMOUNT")),e.s9C("value",t.periodAmount),e.xp6(3),e.s9C("label",e.lcZ(38,65,"COMMON_FIELDS.CURRENCY")),e.Q6J("value",t.lookupLanguageTranslations(null==t.contractViewData||null==t.contractViewData.currency_code?null:t.contractViewData.currency_code.lookup_id)),e.xp6(3),e.Q6J("options",t.checkboxOptions)("checked",t.isEnabled),e.xp6(2),e.s9C("label",e.lcZ(43,67,"COMMON_FIELDS.NOTES")),e.s9C("defaultvalue",null==t.contractViewData?null:t.contractViewData.description),e.Q6J("maxlength",2e3),e.xp6(3),e.hij(" ",e.lcZ(46,69,t.error)," "),e.xp6(3),e.s9C("label",e.lcZ(49,71,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.xp6(2),e.s9C("label",e.lcZ(51,73,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(2),e.Q6J("header",t.attachmentColumnHeaders)("data",t.attachmentsData)("totalPages",t.totalpages)("totalRecords",t.totalRecords)("objectType",t.objectType)("objectId",t.recordId)("actionType",t.actionType)("spinner",t.spinner),e.xp6(1),e.Q6J("createdBy",t.createdUser)("lastUpdatedBy",t.lastUpdatedUser)("showrecordhistory",t.dataJsonObj.showrecordhistory)("creationDate",null==t.contractViewData?null:t.contractViewData.createdAt)("lastUpdatedDate",null==t.contractViewData?null:t.contractViewData.updatedAt))},dependencies:[M.UQ,w.r,V.a,U.b,q.Q,Z.R,Q.W,H.Y,f.q,g.X$]})}return o})();class me{enterprise;is_enabled;end_date}var ge=c(71238);function Ce(o,De){if(1&o&&e._UZ(0,"app-pageheader",30),2&o){const a=e.oxw();e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0)("isEditActionEnable",a.dataJsonObj.isEditAction)}}let Te=(()=>{class o extends D.O{listingVariables;Contractservice;route;router;navigationService;apiEndPointUrl;translateService;commonService;columnsheaders;_sharedService;loggerService;actionSheetController;uiUtils;actionType;apiEndPoint;attachmentColumnHeaders;attachmentsData;checkboxOptions;contractNumber;contractViewData;createdUser;creationDate;defaultTimeZone;endDate;isEnabled;lastUpdateDate;lastUpdatedUser;loginUserDateFormat;objectType;pageTitle;periodAmount;show;recordId;spinner=!0;startDate;totalRecords;utcTimeZone;utcTimeZoneString;mobileroutesArray;dataJsonObj={};constructor(a,s,t,n,i,d,l,h,p,A,m,y,N){super(t,h),this.listingVariables=a,this.Contractservice=s,this.route=t,this.router=n,this.navigationService=i,this.apiEndPointUrl=d,this.translateService=l,this.commonService=h,this.columnsheaders=p,this._sharedService=A,this.loggerService=m,this.actionSheetController=y,this.uiUtils=N,this.route.queryParams.subscribe(b=>{this.dataJsonObj.queryParamsObj={defaultView:b.defaultView,selectedMenuId:b.selectedMenuId,selectedSubMenuId:b.selectedSubMenuId}})}ngOnInit(){this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=r.hf.CONTACTS,this.dataJsonObj.enterpriseData=JSON.parse(localStorage.getItem(r.BU.ENTERPRISE)),this.dataJsonObj.enterpriseId=this.dataJsonObj.enterpriseData.enterprise_id,this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(r.hf.CONTACTS,r.AM.ACTIONS,r.In.RECORD_HISTORY),this.apiEndPoint=localStorage.getItem(r.BU.S3_URL)?localStorage.getItem(r.BU.S3_URL):this.apiEndPointUrl,this.commonService.trackView(r.sn.CONTRACT_VIEW),this.show=!0,this.objectType=this.route.snapshot.data.object_type,document.getElementsByTagName("body"),this.route.params.subscribe(n=>{this.recordId=n.parentId}),this._sharedService.emitChangeLoaders(!0);const s=this.commonService.getLoginUserTimeZoneDateFormat();this.loginUserDateFormat=s.dateFormat,this.getRecordById(this.recordId),this.actionType=r.In.VIEW,this.attachmentColumnHeaders=this.columnsheaders.getAttachmentsColumnHeaders(),this.getAttachmentsList(),this.dataJsonObj.selectedPage=r.hf.CONTRACTS,this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}])}getDynamicJson(a){var s=this;return(0,L.Z)(function*(){for(let t of a)s.dataJsonObj[t.storingFieldName]=yield s.commonService.getDynamicJson(s.dataJsonObj.enterpriseId,t.folderName,t.jsonType);s.dataJsonObj.selectedObj={},s.dataJsonObj.selectedObj.recordId=s.recordId,s.dataJsonObj.selectedObj.pageObj=s.dataJsonObj.menuDataJson.filter(t=>t.menu_page.page_name===s.dataJsonObj.selectedPage),s.dataJsonObj.selectedObjEnabled=!0})()}getRecordById(a){try{let s="";this.commonService.isMobileWindow()&&(s="&mobileview=true"),this.Contractservice.get(a,s).subscribe(t=>{this.contractViewData=t,this.dataJsonObj.isEditAction=this.getIsEditAction(this.contractViewData),this.contractNumber=this.contractViewData.contract_number,this.startDate=this.commonService.getDateObj(t.start_date,this.loginUserDateFormat),this.endDate=this.commonService.getDateObj(t.end_date,this.loginUserDateFormat),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.CONTACTS",value:this.contractViewData?.enterprise?.short_name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.periodAmount=this.contractViewData.amount_per_period.toLocaleString(void 0,{minimumFractionDigits:2}),this.creationDate=this.contractViewData.createdAt,this.createdUser=this.contractViewData.created_by,this.lastUpdatedUser=this.contractViewData.updated_by,this.lastUpdateDate=this.contractViewData.updatedAt,this.isEnabled=this.contractViewData.is_enabled}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",s)}}getIsEditAction(a){return!!a.is_enabled}getAttachmentsList(){try{this.commonService.getAttachmentsList(this.objectType,this.recordId,"","","").then(a=>{if(this._sharedService.emitChangeLoaders(!1),a.rows.length>0)for(let s=0;s<a.rows.length;s++)a.rows[s].user_name=a.rows[s].f_name+", "+a.rows[s].l_name,a.rows[s].last_uploaded_date=this.commonService.dbTimezoneFormat(a.rows[s].last_uploaded_date),this.attachmentsData=a.rows;else this.attachmentsData=[];this.totalRecords=a.totalCount,this.spinner=!1}).catch(a=>{this.loggerService.setLoggerError(this.constructor.name,"getAttachmentsList",a)})}catch(a){this.loggerService.setLoggerError(this.constructor.name,"getAttachmentsList",a)}}mobileEventAction(a){this.mobileroutesArray=[],this.roleRightsValidationByPage(r.hf.CONTRACTS,r.AM.ACTIONS,r.In.EDIT)&&this.mobileroutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/enterprises/"+a._id+"/contracts/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("contracts")}}),this.presentActionSheet(a)}presentActionSheet(a){var s=this;return(0,L.Z)(function*(){s.mobileroutesArray.length>0?yield(yield s.actionSheetController.create({cssClass:"actionsheet",buttons:s.mobileroutesArray})).present():s.uiUtils.displayWarningMessage("COMMON_VALIDATION_MESSAGES.VALID_PERFORM_ACTIONS")})()}Close(){this.commonService.redirectToPreviousUrl()}static \u0275fac=function(s){return new(s||o)(e.Y36(v.v),e.Y36(T),e.Y36(u.gz),e.Y36(u.F0),e.Y36(R.f),e.Y36("apiEndPoint"),e.Y36(g.sK),e.Y36(S.v),e.Y36(O.Y),e.Y36(ge.F),e.Y36(E.m),e.Y36(Y.BX),e.Y36(C.s))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-contract-view"]],features:[e._Bn([v.v,S.v,O.Y,C.s,T]),e.qOj],decls:54,vars:64,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card"],["id","stickyHeaderID",1,"card-header","card-header-primary"],["class","subpage-header-title w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","isEditActionEnable",4,"ngIf"],[1,"card-body"],[1,"row","form-bs"],[1,"col-md-4"],["disabled","true","id","contracts-view-enterprisesname",3,"label","value"],["disabled","true","id","contracts-view-contractname",3,"label","value"],["disabled","true","id","contracts-view-contractID",3,"label","value"],["disabled","true","id","contracts-view-type",3,"label","value"],["disabled","true","id","contracts-view-satrtdate",3,"label","value"],["disabled","true","id","contracts-view-enddate",3,"label","value"],["mandatory","false","disabled","true","id","contracts-view-licnesingmode",3,"label","value"],["disabled","true","id","contracts-view-paymentterms",3,"label","value"],["disabled","true","id","contracts-view-periodamount",3,"label","value"],["disabled","true","id","contracts-view-currency",3,"label","value"],[1,"col-md-1","d-flex","align-items-center"],["label","","disabled","true","id","contracts-view-enabled","mandatory","false",3,"options","checked"],["mandatory","false","disabled","true","id","contracts-view-notes",3,"label","defaultvalue","maxlength"],[1,"col-md-12","text-end","mt-2"],["id","contracts-view-close","className","btn btn-danger btn-sm",3,"label","buttonOnClick"],["id","extraPaddingBottomID",1,"card-content"],[3,"multiple"],["id","viewattachmentId"],[3,"header","data","totalRecords","objectType","objectId","actionType","spinner"],[3,"createdBy","lastUpdatedBy","showrecordhistory","creationDate","lastUpdatedDate"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","isEditActionEnable"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.YNc(6,Ce,1,7,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"app-input",11),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"app-input",12),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",9),e._UZ(19,"app-input",13),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",9),e._UZ(22,"app-input",14),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",9),e._UZ(25,"app-input",15),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",9),e._UZ(28,"app-input",16),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"div",9),e._UZ(31,"app-input",17),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",9),e._UZ(34,"app-input",18),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"div",9),e._UZ(37,"app-input",19),e.ALo(38,"translate"),e.qZA(),e.TgZ(39,"div",20),e._UZ(40,"app-checkbox",21),e.qZA(),e.TgZ(41,"div",3),e._UZ(42,"app-textarea",22),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"div",23)(45,"app-button",24),e.NdJ("buttonOnClick",function(){return t.Close()}),e.ALo(46,"translate"),e.qZA()()()()()(),e.TgZ(47,"div",3)(48,"div",4)(49,"div",25)(50,"p-accordion",26)(51,"p-accordion",27),e._UZ(52,"app-attachment",28),e.qZA(),e._UZ(53,"app-recordhistory",29),e.qZA()()()()()()()),2&s&&(e.xp6(6),e.Q6J("ngIf",t.contractViewData),e.xp6(4),e.s9C("label",e.lcZ(11,40,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",null==t.contractViewData||null==t.contractViewData.enterprise?null:t.contractViewData.enterprise.short_name),e.xp6(3),e.s9C("label",e.lcZ(14,42,"CONTRACTS.CONTRACT_NAME")),e.s9C("value",null==t.contractViewData?null:t.contractViewData.contract_name),e.xp6(3),e.s9C("label",e.lcZ(17,44,"CONTRACTS.CONTRACT_NUMBER")),e.s9C("value",null==t.contractViewData?null:t.contractViewData.contract_number),e.xp6(3),e.s9C("label",e.lcZ(20,46,"COMMON_FIELDS.TYPE")),e.s9C("value",t.lookupLanguageTranslations(null==t.contractViewData?null:t.contractViewData.contract_type.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(23,48,"COMMON_FIELDS.START_DATE")),e.s9C("value",t.startDate),e.xp6(3),e.s9C("label",e.lcZ(26,50,"COMMON_FIELDS.END_DATE")),e.s9C("value",t.endDate),e.xp6(3),e.s9C("label",e.lcZ(29,52,"CONTRACTS.LICENSING_MODE")),e.s9C("value",t.lookupLanguageTranslations(null==t.contractViewData?null:t.contractViewData.licensing_mode.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(32,54,"CONTRACTS.PAYMENT_TERMS")),e.s9C("value",t.lookupLanguageTranslations(null==t.contractViewData?null:t.contractViewData.payment_terms.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(35,56,"CONTRACTS.PERIOD_AMOUNT")),e.s9C("value",t.periodAmount),e.xp6(3),e.s9C("label",e.lcZ(38,58,"COMMON_FIELDS.CURRENCY")),e.s9C("value",t.lookupLanguageTranslations(null==t.contractViewData?null:t.contractViewData.currency_code.lookup_id)),e.xp6(3),e.Q6J("options",t.checkboxOptions)("checked",t.isEnabled),e.xp6(2),e.s9C("label",e.lcZ(43,60,"COMMON_FIELDS.NOTES")),e.s9C("defaultvalue",null==t.contractViewData?null:t.contractViewData.description),e.Q6J("maxlength",2e3),e.xp6(3),e.s9C("label",e.lcZ(46,62,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(5),e.Q6J("multiple",!0),e.xp6(2),e.Q6J("header",t.attachmentColumnHeaders)("data",t.attachmentsData)("totalRecords",t.totalRecords)("objectType",t.objectType)("objectId",t.recordId)("actionType",t.actionType)("spinner",t.spinner),e.xp6(1),e.Q6J("createdBy",t.createdUser)("lastUpdatedBy",t.lastUpdatedUser)("showrecordhistory",t.dataJsonObj.showrecordhistory)("creationDate",t.creationDate)("lastUpdatedDate",t.lastUpdateDate))},dependencies:[I.O5,M.UQ,w.r,V.a,U.b,Z.R,Q.W,H.Y,f.q,g.X$]})}return o})();var _=c(11210);const be=[{path:"",data:{title:"contracts"},children:[{path:"",redirectTo:"enterprisesenterprisecontracts-list",pathMatch:"full"},{path:"enterprisesenterprisecontracts-list",canActivate:[_.P],component:G,data:{object_type:r.hf.CONTRACTS,title:"",responsibilityParam:r.bP.MENUS+"."+r.w1.ENTERPRISES+"."+r.bP.SUBMENUS+"."+r.w1.CONTRACTS+"."+r.Iu.ENABLED,pageName:r.hf.CONTRACTS}},{path:"edit",canActivate:[_.P],component:ue,data:{object_type:r.hf.CONTRACTS,title:"",responsibilityParam:r.bP.MENUS+"."+r.w1.ENTERPRISES+"."+r.bP.SUBMENUS+"."+r.w1.CONTRACTS+"."+r.In.EDIT,pageName:r.hf.CONTRACTS,pageSetting:r.AM.ACTIONS,settingField:r.In.EDIT}},{path:"create",canActivate:[_.P],component:he,data:{object_type:r.hf.CONTRACTS,title:"",responsibilityParam:r.bP.MENUS+"."+r.w1.ENTERPRISES+"."+r.bP.SUBMENUS+"."+r.w1.CONTRACTS+"."+r.In.CREATE,pageName:r.hf.CONTRACTS,pageSetting:r.AM.ACTIONS,settingField:r.In.CREATE}},{path:"view",canActivate:[_.P],component:Te,data:{object_type:r.hf.CONTRACTS,title:"",responsibilityParam:r.bP.MENUS+"."+r.w1.ENTERPRISES+"."+r.bP.SUBMENUS+"."+r.w1.CONTRACTS+"."+r.In.VIEW,pageName:r.hf.CONTRACTS,pageSetting:r.AM.ACTIONS,settingField:r.In.VIEW}},{path:"enterprisescontracts-list",canActivate:[_.P],component:G,data:{object_type:r.hf.CONTRACTS,title:"",responsibilityParam:r.bP.MENUS+"."+r.w1.ENTERPRISES+"."+r.bP.SUBMENUS+"."+r.w1.CONTRACTS+"."+r.Iu.ENABLED,pageName:r.hf.CONTRACTS}}]}];let Oe=(()=>{class o{static \u0275fac=function(s){return new(s||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[u.Bz.forChild(be),u.Bz]})}return o})();var Se=c(32137),Ae=c(10841),ve=c(3848),_e=c(65673),ye=c(83748);let Ne=(()=>{class o{static \u0275fac=function(s){return new(s||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[I.ez,g.aw,F.u5,F.UX,z.U$,M.fx,Se.D,Oe,Ae.ii,_e.Q,ve.Nh,ye.v]})}return o})()}}]);