"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9470],{19470:(Ca,k,l)=>{l.r(k),l.d(k,{StatDefinationsModule:()=>Ta});var D=l(32174),y=l(67375),M=l(36895),Y=l(80529),b=l(70057),g=l(24006),N=l(11210),o=l(32236),_=l(62510),E=l(71568),O=l(47561),L=l(57936),v=l(42786),H=l(75875),f=l(90313),e=l(94650);let T=(()=>{class n{authService;constructor(t){this.authService=t}getAll(t,s,a,i,r,d,u,c,h){const m=d?"&condition="+d:"",S=c||"",G=f.L.isEmpty(h)?"":"&advSearchString="+JSON.stringify(h);return f.L.isEmpty(m)?this.authService.getApiCall("api/v1/statdefinations?skip="+t+"&limit="+s+"&type=list&sort="+a+"&search="+i+"&enterprise.enterprise_id="+r+u+S+G):this.authService.getApiCall("api/v1/statdefinations?skip="+t+"&limit="+s+"&type=list&sort="+a+"&search="+i+"&enterprise.enterprise_id="+r+m+u+S+G)}create(t){return new Promise((s,a)=>{this.authService.postApiCall("api/v1/statdefinations",t).subscribe(i=>{s(i)},i=>{a(i)})})}get(t){return this.authService.getApiCall("api/v1/statdefinations/"+t)}update(t,s){return new Promise((a,i)=>{this.authService.putApiCall("api/v1/statdefinations/"+t,s).subscribe(r=>{a(r)},r=>{i(r)})})}patch(t,s){return new Promise((a,i)=>{this.authService.patchApiCall("api/v1/statdefinations/"+t,s).subscribe(r=>{a(r)},r=>{i(r)})})}getstatParametersValue(t,s,a,i,r){return new Promise((d,u)=>{this.authService.getApiCall("api/v1/statdefinations?type=drop&enterprise.enterprise_id="+i+"&tablename="+t+"&column="+s+"&displaycolumn="+a+"&search="+r).subscribe(c=>{d(c)},c=>{u(c)})})}getOptions(t,s,a){return new Promise((i,r)=>{this.authService.getApiCall("api/v1/statdefinations?type=drop&enterprise.enterprise_id="+s+"&tablename="+t+"&search="+a).subscribe(d=>{i(d)},d=>{r(d)})})}static \u0275fac=function(s){return new(s||n)(e.LFG(H.e))};static \u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var w=l(46448),C=l(54463),P=l(27601),Z=l(2387),R=l(56368),q=l(9851),U=l(93837),j=l(92634),A=l(37415);const K=["applicationAdd"],z=["descriptionValid"],W=["moduleAdd"],X=["seqNoValid"],ee=["statNameValid"],ae=["statTypeValid"];let te=(()=>{class n extends O.O{loggerService;navigationService;router;statDefinationsService;translateService;uiUtils;commonService;enterprisesService;route;applicationAdd;descriptionValid;moduleAdd;seqNoValid;statNameValid;statTypeValid;appicationsArrayData=[];applicationId;applicationModuleJSON;applicationObj;applicationoptions=[];checkboxOptions;ckeditor_message;description;enterpriseId;enterpriseName;enterpriseShortName;error;errorHtml;errorQuery;pageId;pageObj;pageoptions;sequenceId;sequenceObj;sequenceOptions;statCheckbox=!0;statName;statQuery;statTypeId;statTypeObj;statTypeOptions;submitEnabled=!1;tableId;tableNameObj;tableNamesOptions=[];editorConfig={editable:!0,spellcheck:!0,height:"15rem",minHeight:"5rem",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["customClasses","link","unlink","insertImage","insertVideo","removeFormat","backgroundColor"]]};dataJsonObj={};constructor(t,s,a,i,r,d,u,c,h){super(h,u),this.loggerService=t,this.navigationService=s,this.router=a,this.statDefinationsService=i,this.translateService=r,this.uiUtils=d,this.commonService=u,this.enterprisesService=c,this.route=h}ngOnInit(){document.getElementsByTagName("body"),this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=o.hf.STATS_DEFINITIONS,this.commonService.trackView(o.sn.WIDGETS_CREATE),this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.STAT_DEFINITIONS",value:"",showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_CREATE",value:"",showSubMenuDisplayName:!1}],this.enterpriseId=localStorage.getItem(o.BU.SELECTED_ENTERPRISE),this.checkboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.getEnterpriseRecordById(),this.getApplicationNames()}getEnterpriseRecordById(){try{this.enterprisesService.getEnterprisesViewData(this.enterpriseId).subscribe(t=>{this.enterpriseName=t.enterprise_name,this.enterpriseId=t._id,this.enterpriseShortName=t.short_name,this.commonService.getLookupCodesListJson(this.enterpriseId,"list").then(s=>{this.dataJsonObj.lookupCodesListJSON=s,this.getStatTypes()})},t=>{this.loggerService.setLoggerError(this.constructor.name,"getEnterpriseRecordById",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getEnterpriseRecordById",t)}}getApplicationNames(){try{this.commonService.getApplicationNames(this.enterpriseId).then(t=>{this.appicationsArrayData=t,this.applicationoptions=[];const s=[];this.applicationModuleJSON={};for(let a=0;a<this.appicationsArrayData.length;a++){this.applicationModuleJSON[this.appicationsArrayData[a].application.lookup_name]||(this.applicationModuleJSON[this.appicationsArrayData[a].application.lookup_name]=[]);const i=this.appicationsArrayData[a].module;if(i.ID=this.appicationsArrayData[a].module.page_id,i.NAME=this.appicationsArrayData[a].module.page_display_name,this.applicationModuleJSON[this.appicationsArrayData[a].application.lookup_name].push(i),-1==s.indexOf(this.appicationsArrayData[a].application.lookup_id)){const r=this.appicationsArrayData[a].application;r.ID=this.appicationsArrayData[a].application.lookup_id,r.NAME=this.lookupLanguageTranslations(this.appicationsArrayData[a].application.lookup_id),this.applicationoptions.push(r),s.push(this.appicationsArrayData[a].application.lookup_id)}}}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getApplicationOptions",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getApplicationOptions",t)}}changeApplicationName(t){try{this.applicationId=t.value,this.applicationObj=this.applicationoptions.find(s=>s.ID===parseInt(this.applicationId,10)),this.pageoptions=this.applicationModuleJSON[this.applicationObj.lookup_name],this.pageId="",this.pageObj="",this.tableNamesOptions=[],this.tableId="",this.tableNameObj="",this.moduleAdd.clearSelectInput()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeApplicationName",s)}}changePageName(t){if(t.value){this.tableNamesOptions=[],this.pageId=t.value,this.pageObj=this.pageoptions.find(s=>s.ID===parseInt(this.pageId,10)),this.error="",this.tableNamesOptions=this.pageObj.underlying_tables;for(let s=0;s<this.tableNamesOptions.length;s++)this.tableNamesOptions[s].ID=this.tableNamesOptions[s].name,this.tableNamesOptions[s].NAME=this.tableNamesOptions[s].name}}changeStatName(t){try{this.error="",this.statName=t.value,this.description=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeStatName",s)}}changeSequenceNumber(t){this.sequenceId=t.value}getStatTypes(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[o.ox.STAT_TYPES],"").then(t=>{this.statTypeOptions=t,this.statTypeId=t[0].ID,this.statTypeObj=t[0]},t=>{this.loggerService.setLoggerError(this.constructor.name,"getStatTypes",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getStatTypes",t)}}changeStatType(t){try{this.statTypeId=t.value,this.statTypeObj=this.statTypeOptions.find(s=>s.ID===parseInt(this.statTypeId,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeStatType",s)}}changeCheckBox(t){try{this.statCheckbox=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeCheckBox",s)}}changeDescription(t){try{this.description=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeDescription",s)}}clearErrorMessage(){this.errorQuery=""}clearMessage(){this.errorHtml=""}createRecord(){try{this.applicationAdd.isValid()&&this.moduleAdd.isValid()&&this.statNameValid.isValid()&&this.seqNoValid.isValid()&&this.statTypeValid.isValid()&&this.descriptionValid.isValid()&&(f.L.isEmpty(this.statQuery)?this.errorQuery="NEW_VARIABLES.VALID_PLEASE_ENTER_STAT_QUERY":f.L.isEmpty(this.ckeditor_message)?this.errorHtml="NEW_VARIABLES.VALID_PLEASE_ENTER_STAT_HTML":(this.errorQuery="",this.errorHtml="",this.submitEnabled=!0,this.statDefinationsService.create({enterprise:{enterprise_id:this.enterpriseId,enterprise_name:this.enterpriseName,short_name:this.enterpriseShortName},application:this.applicationObj,page:this.pageObj,stat_type:this.statTypeObj,seq_number:this.sequenceId,stat_name:this.statName,stats_query:this.statQuery,description:this.description,is_enabled:this.statCheckbox,stat_html:this.ckeditor_message}).then(s=>{this.submitEnabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_CREATE"),this.commonService.redirectToPreviousUrl()},s=>{this.commonErrorCodes(JSON.parse(s)),this.loggerService.setLoggerError(this.constructor.name,"createRecord",s)})))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"createRecord",t)}}commonErrorCodes(t){409===JSON.parse(t[o.BU.STATUS])&&(this.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancelButton(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelButton",t)}}static \u0275fac=function(s){return new(s||n)(e.Y36(v.m),e.Y36(w.f),e.Y36(_.F0),e.Y36(T),e.Y36(C.sK),e.Y36(P.s),e.Y36(E.v),e.Y36(L.e),e.Y36(_.gz))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-statdefinations-create"]],viewQuery:function(s,a){if(1&s&&(e.Gf(K,5),e.Gf(z,5),e.Gf(W,5),e.Gf(X,5),e.Gf(ee,5),e.Gf(ae,5)),2&s){let i;e.iGM(i=e.CRH())&&(a.applicationAdd=i.first),e.iGM(i=e.CRH())&&(a.descriptionValid=i.first),e.iGM(i=e.CRH())&&(a.moduleAdd=i.first),e.iGM(i=e.CRH())&&(a.seqNoValid=i.first),e.iGM(i=e.CRH())&&(a.statNameValid=i.first),e.iGM(i=e.CRH())&&(a.statTypeValid=i.first)}},features:[e._Bn([T]),e.qOj],decls:63,vars:65,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-3"],["disabled","true","id","statdefinations-create-enterprise",3,"label","value"],["disabled","false","mandatory","true","id","listview-create-application",3,"label","defaultValue","options","valueChange"],["applicationAdd",""],["disabled","false","mandatory","true","id","listview-create-module",3,"label","defaultValue","options","valueChange"],["moduleAdd",""],["disabled","false","mandatory","true","autoCaseFlag","false","id","statdefinations-create-statname",3,"label","value","maxlength","valueChange"],["statNameValid",""],["mandatory","true","type","CacheSettings","id","statdefinations-create-sequence",3,"label","maxlength","value","valueChange"],["seqNoValid",""],["mandatory","true","id","statdefinations-create-statType",3,"label","options","defaultValue","valueChange"],["statTypeValid",""],[1,"col-md-2","d-flex","align-items-center"],["label","","disabled","false","mandatory","true","id","statdefinations-create-enable",3,"options","checked","valueChange"],["disabled","false","mandatory","true","autoCaseFlag","false","id","statdefinations-create-description",3,"label","value","maxlength","valueChange"],["descriptionValid",""],[1,"col-md-12","textarea-block"],["for","statQuery",1,"text-label"],["name","message","rows","12","cols","130","id","statdefinations-create-statQuery",1,"form-control",3,"ngModel","keypress","ngModelChange"],["message","ngModel"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"col-md-12","pdt-14"],[1,"fs-13"],[3,"ngModel","config","ngModelChange","keypress"],[1,"col-md-12","text-end","mt-2","mb-2"],["className","btn btn-primary btn-sm","id","statdefinations-create-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","statdefinations-create-cancel",3,"label","buttonOnClick"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9)(13,"app-dropdown-singleselect",11,12),e.NdJ("valueChange",function(r){return a.changeApplicationName(r)}),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"div",9)(17,"app-dropdown-singleselect",13,14),e.NdJ("valueChange",function(r){return a.changePageName(r)}),e.ALo(19,"translate"),e.qZA()(),e.TgZ(20,"div",9)(21,"app-input",15,16),e.NdJ("valueChange",function(r){return a.changeStatName(r)}),e.ALo(23,"translate"),e.qZA()(),e.TgZ(24,"div",9)(25,"app-inputnumber",17,18),e.NdJ("valueChange",function(r){return a.changeSequenceNumber(r)}),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",9)(29,"app-dropdown-singleselect",19,20),e.NdJ("valueChange",function(r){return a.changeStatType(r)}),e.ALo(31,"translate"),e.qZA()(),e.TgZ(32,"div",21)(33,"app-checkbox",22),e.NdJ("valueChange",function(r){return a.changeCheckBox(r)}),e.qZA()(),e.TgZ(34,"div",3)(35,"app-input",23,24),e.NdJ("valueChange",function(r){return a.changeDescription(r)}),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",25)(39,"label",26),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"textarea",27,28),e.NdJ("keypress",function(){return a.clearErrorMessage()})("ngModelChange",function(r){return a.statQuery=r}),e.qZA()(),e.TgZ(44,"div",29),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"div",30)(48,"ion-label",31),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"angular-editor",32),e.NdJ("ngModelChange",function(r){return a.ckeditor_message=r})("keypress",function(){return a.clearMessage()}),e.qZA()(),e.TgZ(52,"div",29),e._uU(53),e.ALo(54,"translate"),e.qZA(),e.TgZ(55,"div",33)(56,"app-button",34),e.NdJ("buttonOnClick",function(){return a.createRecord()}),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"app-button",35),e.NdJ("buttonOnClick",function(){return a.cancelButton()}),e.ALo(59,"translate"),e.qZA()(),e.TgZ(60,"div",29),e._uU(61),e.ALo(62,"translate"),e.qZA()()()()()()()()),2&s&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(11,37,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",a.enterpriseShortName),e.xp6(3),e.s9C("label",e.lcZ(15,39,"GENERAL_SETTINGS.APPLICATIONS")),e.s9C("defaultValue",a.applicationId),e.Q6J("options",a.applicationoptions),e.xp6(4),e.s9C("label",e.lcZ(19,41,"COMMON_FIELDS.PAGE")),e.s9C("defaultValue",a.pageId),e.Q6J("options",a.pageoptions),e.xp6(4),e.s9C("label",e.lcZ(23,43,"STAT_DEFINITIONS.STAT_NAME")),e.s9C("value",a.statName),e.Q6J("maxlength",80),e.xp6(4),e.s9C("label",e.lcZ(27,45,"COMMON_FIELDS.SEQUENCE")),e.s9C("value",a.sequenceId),e.Q6J("maxlength",2),e.xp6(4),e.s9C("label",e.lcZ(31,47,"STAT_DEFINITIONS.STAT_TYPE")),e.s9C("defaultValue",a.statTypeId),e.Q6J("options",a.statTypeOptions),e.xp6(4),e.Q6J("options",a.checkboxOptions)("checked",a.statCheckbox),e.xp6(2),e.s9C("label",e.lcZ(37,49,"COMMON_FIELDS.DESCRIPTION")),e.s9C("value",a.description),e.Q6J("maxlength",2e3),e.xp6(5),e.hij(" ",e.lcZ(41,51,"STAT_DEFINITIONS.STAT_QUERY"),"* "),e.xp6(2),e.Q6J("ngModel",a.statQuery),e.xp6(3),e.hij(" ",e.lcZ(46,53,a.errorQuery)," "),e.xp6(4),e.hij(" ",e.lcZ(50,55,"STAT_DEFINITIONS.STAT_HTML"),"* "),e.xp6(2),e.Q6J("ngModel",a.ckeditor_message)("config",a.editorConfig),e.xp6(2),e.hij(" ",e.lcZ(54,57,a.errorHtml)," "),e.xp6(3),e.s9C("label",e.lcZ(57,59,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.Q6J("disabled",a.submitEnabled),e.xp6(2),e.s9C("label",e.lcZ(59,61,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(3),e.hij(" ",e.lcZ(62,63,a.error)," "))},dependencies:[b.Q$,Z.r,R.a,q.k,U.b,j.K,A.q,g.Fj,g.JJ,g.On,y.s6,C.X$]})}return n})();var se=l(38077),ie=l(43130),re=l(24929),ne=l(42919),F=l(11735),J=l(10805),I=l(93144);const oe=["descriptionValid"],le=["paramDateValue"],pe=["paramDateValueUpdate"],de=["paramEmailValue"],ue=["paramEmailValueUpdate"],ce=["paramListValue"],me=["paramListValueUpdate"],he=["paramNumberValue"],ge=["paramNumberValueUpdate"],_e=["paramSequenceAdd"],Te=["paramSequenceEdit"],Ce=["paramTextValue"],Se=["paramTextValueUpdate"],be=["parameterDisplayName"],fe=["parameterDisplayNameEdit"],De=["parameterNameDropdown"],ye=["parameterNameEditDropdown"],Ne=["parameterTypeDropdown"],Ee=["parameterTypeEditDropdown"],Oe=["seqNoValid"],ve=["sourceColumnDropdown"],Ae=["sourceColumnEditDropdown"],Ie=["sourceDisplayColumnDropdown"],Ve=["sourceDisplayColumnEditDropdown"],Me=["sourceTableDropdown"],Le=["sourceTableEditDropdown"],we=["statNameValid"],Pe=["statTypeValid"];function Ze(n,p){if(1&n&&(e.TgZ(0,"tr",88)(1,"td",89),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.uIk("colspan",t[0].length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND"),"")}}function Re(n,p){if(1&n&&e.YNc(0,Ze,4,4,"tr",87),2&n){const t=e.oxw();e.Q6J("ngIf",t.statParametersData&&0==t.statParametersData.length)}}function Ue(n,p){if(1&n&&(e.TgZ(0,"th",91),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=p.$implicit;e.Q6J("pSortableColumn",t.field),e.xp6(1),e.hij(" ",e.lcZ(2,2,t.header)," ")}}function Je(n,p){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,Ue,3,4,"th",90),e.qZA()),2&n){const t=p.$implicit;e.xp6(1),e.Q6J("ngForOf",t[0])}}function ke(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"td",93),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),i=a.rowIndex,r=a.$implicit,d=e.oxw();return e.KtG(d.editStatParameters(i,r))}),e._uU(1),e.qZA()}if(2&n){const t=p.$implicit,s=e.oxw().$implicit;e.Gre("",t.class," cursor-pointer"),e.Q6J("pSelectableRow",s),e.xp6(1),e.hij(" ",s[t.field]," ")}}function qe(n,p){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,ke,2,5,"td",92),e.qZA()),2&n){const t=p.columns;e.xp6(1),e.Q6J("ngForOf",t[0])}}function je(n,p){if(1&n&&(e.TgZ(0,"div",3)(1,"strong"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," : "),e._UZ(5,"span",95)(6,"br"),e.qZA()),2&n){const t=p.$implicit,s=e.oxw().$implicit;e.xp6(2),e.Oqu(e.lcZ(3,2,t.header)),e.xp6(3),e.Q6J("innerHTML",s[t.field],e.oJD)}}function Fe(n,p){if(1&n&&(e.TgZ(0,"tr")(1,"td")(2,"div",2),e.YNc(3,je,7,4,"div",94),e.qZA()()()),2&n){const t=p.columns;e.xp6(1),e.uIk("colspan",t[0].length+2),e.xp6(2),e.Q6J("ngForOf",t[1])}}function xe(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"ion-item",96)(1,"ion-label",97),e.NdJ("click",function(){const a=e.CHM(t),i=a.index,r=a.$implicit,d=e.oxw();return e.KtG(d.editStatParameters(i,r))}),e.TgZ(2,"span",98),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",99),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",100),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"span",100),e._uU(12),e.ALo(13,"translate"),e.qZA()()()}if(2&n){const t=p.$implicit,s=e.oxw();e.xp6(3),e.AsE(" ",e.lcZ(4,8,"REPORTS.PARAMETER_NAME"),": ",null==t?null:t.parameter_name,""),e.xp6(3),e.AsE("",e.lcZ(7,10,"COMMON_FIELDS.TYPE"),": ",s.lookupLanguageTranslations(null==t||null==t.parameter_type?null:t.parameter_type.lookup_id)," "),e.xp6(3),e.AsE(" ",e.lcZ(10,12,"COMMON_FIELDS.MANDATORY"),": ",!0===(null==t?null:t.param_mandatory)?"Yes":"No"," "),e.xp6(3),e.AsE(" ",e.lcZ(13,14,"COMMON_FIELDS.ENABLED"),": ",!0===(null==t?null:t.param_enabled)?"Yes":"No"," ")}}function Be(n,p){1&n&&(e.TgZ(0,"ion-item")(1,"ion-label",101)(2,"div",102),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"COMMON_VALIDATION_MESSAGES.VALID_NO_RESULTS_FOUND")," "))}function Qe(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-dropdown-singleselect",61,103),e.NdJ("valueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSourceTable(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"REPORTS.SOURCE_TABLE")),e.s9C("defaultValue",t.sourceTable),e.Q6J("options",t.sourceTableOptions)}}function Ge(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-dropdown-search",104,105),e.NdJ("selectedOption",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSourceColumn(a))})("searchValueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.getSourceColumnsList(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"REPORTS.SOURCE_COLUMN")),e.s9C("defaultValue",t.sourceColumn),e.Q6J("options",t.sourceColumnOptions)}}function Ye(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-dropdown-search",106,107),e.NdJ("selectedOption",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSourceDisplayColumn(a))})("searchValueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.getSourceDisplayColumnsList(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"REPORTS.SOURCE_DISPLAY_COLUMN")),e.s9C("defaultValue",t.sourceDisplayColumn),e.Q6J("options",t.sourceDisplayColumnOptions)}}function He(n,p){if(1&n&&(e.TgZ(0,"div",56),e._UZ(1,"app-input",108),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"REPORTS.SOURCE_DISPLAY_COLUMN")),e.s9C("value",t.sourceDisplayColumn)}}function Ke(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-input",109,110),e.NdJ("valueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeParameterValue(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"COMMON_FIELDS.DEFAULT_VALUE")),e.s9C("mandatory",t.paramValueReqd),e.s9C("value",t.defaultValue)}}function ze(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-inputnumber",111,112),e.NdJ("valueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeParameterValue(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,4,"COMMON_FIELDS.DEFAULT_VALUE")),e.s9C("mandatory",t.paramValueReqd),e.s9C("value",t.defaultValue),e.Q6J("maxlength",10)}}function $e(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-input",113,114),e.NdJ("valueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeParameterValue(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"COMMON_FIELDS.DEFAULT_VALUE")),e.s9C("mandatory",t.paramValueReqd),e.s9C("value",t.defaultValue)}}function We(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-datepicker",115,116),e.NdJ("dateChangeValue",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeParameterValue(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("placeholder",e.lcZ(3,3,"COMMON_FIELDS.DEFAULT_VALUE")),e.s9C("defaultDate",t.defaultValue),e.s9C("mandatory",t.paramValueReqd)}}function Xe(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-dropdown-search",117,118),e.NdJ("selectedOption",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeParameterValue(a))})("searchValueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.getParamValuesList(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,4,"COMMON_FIELDS.DEFAULT_VALUE")),e.s9C("mandatory",t.paramValueReqd),e.s9C("defaultValue",t.parameterDisplayValue),e.Q6J("options",t.parameterValueOptions)}}function ea(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-dropdown-singleselect",61,119),e.NdJ("valueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSourceTable(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"REPORTS.SOURCE_TABLE")),e.s9C("defaultValue",t.sourceTable),e.Q6J("options",t.sourceTableOptions)}}function aa(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-dropdown-search",120,121),e.NdJ("selectedOption",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSourceColumn(a))})("searchValueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.getSourceColumnsList(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"REPORTS.SOURCE_COLUMN")),e.s9C("defaultValue",t.sourceColumn),e.Q6J("options",t.sourceColumnOptions)}}function ta(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-dropdown-search",122,123),e.NdJ("selectedOption",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeSourceDisplayColumn(a))})("searchValueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.getSourceDisplayColumnsList(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"REPORTS.SOURCE_DISPLAY_COLUMN")),e.s9C("defaultValue",t.sourceDisplayColumn),e.Q6J("options",t.sourceDisplayColumnOptions)}}function sa(n,p){if(1&n&&(e.TgZ(0,"div",56),e._UZ(1,"app-input",124),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(2,2,"REPORTS.SOURCE_DISPLAY_COLUMN")),e.s9C("value",t.sourceDisplayColumn)}}function ia(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-input",125,126),e.NdJ("valueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeParameterValue(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"COMMON_FIELDS.DEFAULT_VALUE")),e.s9C("mandatory",t.paramValueReqd),e.s9C("value",t.defaultValue)}}function ra(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-inputnumber",127,128),e.NdJ("valueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeParameterValue(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,4,"COMMON_FIELDS.DEFAULT_VALUE")),e.s9C("mandatory",t.paramValueReqd),e.s9C("value",t.defaultValue),e.Q6J("maxlength",10)}}function na(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-input",129,130),e.NdJ("valueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeParameterValue(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,3,"COMMON_FIELDS.DEFAULT_VALUE")),e.s9C("mandatory",t.paramValueReqd),e.s9C("value",t.defaultValue)}}function oa(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-datepicker",131,132),e.NdJ("dateChangeValue",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeParameterValue(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("placeholder",e.lcZ(3,3,"COMMON_FIELDS.DEFAULT_VALUE")),e.s9C("defaultDate",t.defaultValue),e.s9C("mandatory",t.paramValueReqd)}}function la(n,p){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"app-dropdown-search",133,134),e.NdJ("selectedOption",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.changeParameterValue(a))})("searchValueChange",function(a){e.CHM(t);const i=e.oxw();return e.KtG(i.getParamValuesList(a))}),e.ALo(3,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.s9C("label",e.lcZ(3,4,"COMMON_FIELDS.DEFAULT_VALUE")),e.s9C("mandatory",t.paramValueReqd),e.s9C("defaultValue",t.parameterDisplayValue),e.Q6J("options",t.parameterValueOptions)}}let pa=(()=>{class n extends O.O{listViewService;loggerService;navigationService;router;statDefinationsService;translateService;uiUtils;commonService;enterprisesService;route;descriptionValid;paramDateValue;paramDateValueUpdate;paramEmailValue;paramEmailValueUpdate;paramListValue;paramListValueUpdate;paramNumberValue;paramNumberValueUpdate;paramSequenceAdd;paramSequenceEdit;paramTextValue;paramTextValueUpdate;parameterDisplayName;parameterDisplayNameEdit;parameterNameDropdown;parameterNameEditDropdown;parameterTypeDropdown;parameterTypeEditDropdown;seqNoValid;sourceColumnDropdown;sourceColumnEditDropdown;sourceDisplayColumnDropdown;sourceDisplayColumnEditDropdown;sourceTableDropdown;sourceTableEditDropdown;statNameValid;statTypeValid;appicationsArrayData=[];applicationId;applicationModuleJSON;applicationObj;applicationoptions=[];checkboxOptions;ckeditor_message;defaultValue;description;disableSourceDisplayColumn=!1;displayName;enabledFlag;enabledOptions;enterpriseId;enterpriseObj;error1;error;errorHtml;errorQuery;headers;mandatoryOptions;newDate;pageObj;paramSequence;paramValueReqd;parameterDescription;parameterDisplayValue;parameterName;parameterNameOptions=[];parameterType;parameterTypeDisplayName;parameterTypeName;parameterTypeOptions;parameterValueOptions;recordId;rowIndex;sequenceId;sequenceObj;sequenceOptions;sourceColumn;sourceColumnOptions;sourceDisplayColumn;sourceDisplayColumnOptions;sourceDisplayName;sourceLower;sourceTable;sourceTableName;sourceTableOptions;statCheckbox;statName;statParametersData;statQuery;statTypeId;statTypeObj;statTypeOptions;statViewData;submitEnabled=!1;editorConfig={editable:!0,spellcheck:!0,height:"15rem",minHeight:"5rem",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["customClasses","link","unlink","insertImage","insertVideo","removeFormat","backgroundColor"]]};dataJsonObj={};constructor(t,s,a,i,r,d,u,c,h,m){super(m,c),this.listViewService=t,this.loggerService=s,this.navigationService=a,this.router=i,this.statDefinationsService=r,this.translateService=d,this.uiUtils=u,this.commonService=c,this.enterprisesService=h,this.route=m,this.route.params.subscribe(S=>{this.recordId=S.id})}ngOnInit(){document.getElementsByTagName("body"),this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=o.hf.STATS_DEFINITIONS,this.commonService.trackView(o.sn.WIDGETS_CREATE),this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.RECORD_HISTORY),this.checkboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.headers=[[{headersort:"disableth",field:"param_display_sequence",header:"COMMON_FIELDS.SEQUENCE",class:"w-60"},{headersort:"disableth",field:"parameter_name",header:"REPORTS.PARAMETER_NAME",class:""},{headersort:"disableth",field:"parameter_display_name",header:"COMMON_FIELDS.DISPLAY_NAME",class:""},{headersort:"disableth",field:"parameter_description",header:"COMMON_FIELDS.DESCRIPTION",class:"w-100"},{headersort:"disableth",field:"parameter_type_value",header:"COMMON_FIELDS.TYPE",class:""},{headersort:"disableth",field:"param_data_source_table_value",header:"REPORTS.SOURCE_TABLE",class:""},{headersort:"disableth",field:"param_data_source_column",header:"REPORTS.SOURCE_COLUMN",class:""},{headersort:"disableth",field:"param_data_source_display_column",header:"REPORTS.SOURCE_DISPLAY_COLUMN",class:""},{headersort:"disableth",field:"default_value_to_display",header:"COMMON_FIELDS.DEFAULT_VALUE",class:""},{headersort:"disableth",field:"param_mandatory_value",header:"COMMON_FIELDS.MANDATORY",class:"w-60"},{headersort:"disableth",field:"param_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.enabledOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.ENABLED"),key:"checkbox1"}],this.mandatoryOptions=[{value:"",displayname:this.translateService.instant("COMMON_FIELDS.MANDATORY"),key:"checkbox2"}],this.getRecordById()}getRecordById(){try{this.statDefinationsService.get(this.recordId).subscribe(t=>{if(this.statViewData=t,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.STATS_DEFINITIONS",value:this.statViewData.stat_name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_EDIT",value:"",showSubMenuDisplayName:!1}],this.enterpriseId=this.statViewData.enterprise.enterprise_id,this.enterpriseObj=this.statViewData.enterprise,this.applicationObj=this.statViewData.application,this.pageObj=this.statViewData.page,this.statName=this.statViewData.stat_name,this.statTypeId=this.statViewData.stat_type.lookup_id,this.statTypeObj=this.statViewData.stat_type,this.sequenceId=this.statViewData.seq_number,this.description=this.statViewData.description,this.statCheckbox=this.statViewData.is_enabled,this.statQuery=this.statViewData.stats_query,this.ckeditor_message=this.statViewData.stat_html,this.statParametersData=this.statViewData.stat_params,this.statParametersData&&this.statParametersData.length>0)for(let s=0;s<this.statParametersData.length;s++)this.statParametersData[s].parameter_type_value=this.lookupLanguageTranslations(this.statParametersData[s].parameter_type.lookup_id),this.statParametersData[s].param_data_source_table_value=this.statParametersData[s].param_data_source_table?this.lookupLanguageTranslations(this.statParametersData[s].param_data_source_table.lookup_id):"",this.statParametersData[s].param_enabled_value=!0===this.statParametersData[s].param_enabled?"Yes":"No",this.statParametersData[s].param_mandatory_value=!0===this.statParametersData[s].param_mandatory?"Yes":"No";this.commonService.getLookupCodesListJson(this.enterpriseId,"list").then(s=>{this.dataJsonObj.lookupCodesListJSON=s,this.getStatTypes()})},t=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)}}changeStatName(t){try{this.error="",this.statName=t.value,this.description=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeStatName",s)}}changeSequenceNumber(t){this.sequenceId=t.value}getStatTypes(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[o.ox.STAT_TYPES],"").then(t=>{this.statTypeOptions=t},t=>{this.loggerService.setLoggerError(this.constructor.name,"getStatTypes",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getStatTypes",t)}}changeStatType(t){try{this.statTypeId=t.value,this.statTypeObj=this.statTypeOptions.find(s=>s.ID===parseInt(this.statTypeId,10))}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeStatType",s)}}changeCheckBox(t){try{this.statCheckbox=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeCheckBox",s)}}changeDescription(t){try{this.description=t.value}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeDescription",s)}}clearErrorMessage(){this.errorQuery=""}clearMessage(){this.errorHtml=""}updateRecord(){try{this.statNameValid.isValid()&&this.seqNoValid.isValid()&&this.statTypeValid.isValid()&&this.descriptionValid.isValid()&&(f.L.isEmpty(this.statQuery)?this.errorQuery="NEW_VARIABLES.VALID_PLEASE_ENTER_STAT_QUERY":f.L.isEmpty(this.ckeditor_message)?this.errorHtml="NEW_VARIABLES.VALID_PLEASE_ENTER_STAT_HTML":(this.errorQuery="",this.errorHtml="",this.submitEnabled=!0,this.statDefinationsService.update(this.recordId,{enterprise:this.enterpriseObj,application:this.applicationObj,page:this.pageObj,stat_type:this.statTypeObj,seq_number:this.sequenceId,stat_name:this.statName,stats_query:this.statQuery,stat_html:this.ckeditor_message,description:this.description,is_enabled:this.statCheckbox,stat_params:this.statParametersData}).then(s=>{this.submitEnabled=!1,this.uiUtils.displaytoastMessage("COMMON_TOAST_MESSAGES.TOAST_SUCCESS_EDIT"),this.commonService.redirectToPreviousUrl()},s=>{this.commonErrorCodes(JSON.parse(s)),this.loggerService.setLoggerError(this.constructor.name,"updateRecord",s)})))}catch(t){this.loggerService.setLoggerError(this.constructor.name,"updateRecord",t)}}commonErrorCodes(t){409===JSON.parse(t[o.BU.STATUS])&&(this.error=this.translateService.instant("COMMON_STATUS_CODES.409"))}cancelButton(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelButton",t)}}checkForValidParameters(){try{this.getParameterNamesList();const t={};for(let a=0;a<this.parameterNameOptions.length;a++)t[this.parameterNameOptions[a].ID]=this.parameterNameOptions[a];let s=!0;for(let a=0;a<this.statParametersData.length;a++)!0===this.statParametersData[a].param_enabled&&!t[this.statParametersData[a].parameter_name]&&(s=!1);return s}catch(t){this.loggerService.setLoggerError(this.constructor.name,"checkForValidParameters",t)}}checkSeqUniqueness(){try{const t=this.statParametersData.reduce((s,a)=>(s[a.param_display_sequence]=++s[a.param_display_sequence]||0,s),{});return this.statParametersData.filter(s=>t[s.param_display_sequence])}catch(t){this.loggerService.setLoggerError(this.constructor.name,"checkSeqUniqueness",t)}}parametersAdd(t){try{t.stopPropagation(),this.parameterName="",this.displayName="",this.parameterType="",this.parameterDescription="",this.sourceTable="",this.sourceTableName="",this.sourceDisplayName="",this.sourceColumn="",this.defaultValue="",this.sourceDisplayColumn="";let s=1;this.statParametersData&&this.statParametersData.length>0&&(s=Math.max.apply(Math,this.statParametersData.map(function(i){return i.param_display_sequence}))+1),this.paramSequence=s,this.enabledFlag=!0,this.paramValueReqd=!0,this.error1="",this.sourceColumnOptions=[],this.sourceDisplayColumnOptions=[],this.getParameterNamesList(),this.getParameterTypes(),this.getSourceTablesList(),this.parameterNameDropdown.clearmessage(),this.parameterDisplayName.clearmessage(),this.parameterTypeDropdown.clearmessage(),this.paramSequenceAdd.clearMessage(),this.sourceTableDropdown&&this.sourceTableDropdown.clearmessage(),this.sourceColumnDropdown&&this.sourceColumnDropdown.clearmessage(),this.sourceTableDropdown&&this.sourceTableDropdown.clearSelectInput(),this.sourceColumnDropdown&&this.sourceColumnDropdown.clearSelectInput(),this.sourceDisplayColumnDropdown&&this.sourceDisplayColumnDropdown.clearSelectInput(),this.sourceDisplayColumnDropdown&&this.sourceDisplayColumnDropdown.clearmessage(),this.paramTextValue&&this.paramTextValue.clearmessage(),this.paramNumberValue&&this.paramNumberValue.clearMessage(),this.paramEmailValue&&this.paramEmailValue.clearmessage(),this.paramListValue&&this.paramListValue.clearmessage(),this.paramListValue&&this.paramListValue.clearSelectInput(),this.paramDateValue&&this.paramDateValue.clearmessage(),$("#exampleModal1").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal")}catch(s){this.loggerService.setLoggerError(this.constructor.name,"parametersAdd",s)}}getParameterNamesList(){try{this.parameterNameOptions=[];let t=this.statQuery.split("const dynamicParams = [")[1].split("];")[0];if(t=t.replace(/\'/gi,""),t=t.split(","),t&&t.length>0)for(let s=0;s<t.length;s++){const a={ID:t[s].trim(),NAME:t[s].trim()};this.parameterNameOptions.push(a)}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getParameterNamesList",t)}}getParameterTypes(){try{this.commonService.getFilteredLookupCodes(this.dataJsonObj.lookupCodesListJSON[o.ox.WIDGET_PARAMETER_TYPES],"").then(t=>{this.parameterTypeOptions=t},t=>{this.loggerService.setLoggerError(this.constructor.name,"getParameterTypes",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getParameterTypes",t)}}getSourceTablesList(){this.commonService.getApplicationNames(this.enterpriseId).then(t=>{this.sourceTableOptions=t}).catch(t=>{this.loggerService.setLoggerError(this.constructor.name,"getApplicationOptions",t)})}changeParameterNames(t){this.parameterName=t.value,this.displayName=t.value}changeParameterDescription(t){this.parameterDescription=t.value}changeDisplayName(t){this.displayName=t.value}getDefaultvalue(t){this.defaultValue=t.value}changeSequence(t){this.paramSequence=t.value}changeEnabled(t){this.enabledFlag=t.value}changeMandatory(t){this.paramValueReqd=t.value}changeParameterTypes(t){try{if(t){const s=this.parameterTypeOptions.find(a=>a.ID===parseInt(t.value,10));s&&(this.parameterTypeDisplayName=s.NAME,this.parameterType=t.value,this.parameterTypeName=s.lookup_name,this.sourceTable="",this.sourceColumn="",this.defaultValue="",this.parameterDisplayValue="",s.lookup_name===o.oP.INPUT_DATE&&!0===this.paramValueReqd&&(this.defaultValue=this.commonService.dbTimezoneFormat(this.newDate),this.parameterDisplayValue=this.commonService.dbTimezoneFormat(this.newDate)),this.error1="")}}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeParameterTypes",s)}}changeSourceTable(t){try{if(t){this.sourceTable=t.value;const s=this.sourceTableOptions.find(a=>a.ID===parseInt(t.value,10));s&&(this.sourceTableName=s.module.page_name,this.sourceDisplayName=s.module.page_display_name,this.sourceLower=s.module.underlying_tables[0].name,this.getSourceColumnsList(""),"LOOKUP_CODES"===this.sourceTableName||"LOOKUP_TYPES"===this.sourceTableName?(this.sourceDisplayColumn="lookup_display_name",this.disableSourceDisplayColumn=!0,this.sourceLower=s.module.underlying_tables[0].name):(this.sourceLower=s.module.underlying_tables[0].name,this.disableSourceDisplayColumn=!1,this.getSourceDisplayColumnsList("")))}else this.sourceTable="",this.sourceTableName="",this.sourceDisplayName="",this.sourceColumn="",this.sourceDisplayColumn="",this.parameterDisplayValue="",this.sourceColumnOptions=[],this.sourceDisplayColumnOptions=[],this.parameterValueOptions=[]}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeSourceTable",s)}}getSourceColumnsList(t){try{"LOOKUP_TYPES"===this.sourceTableName||"LOOKUP_CODES"===this.sourceTableName?this.getSourceColumnsLookupsList(t):this.listViewService.getreferenceFieldOptions(this.sourceLower,t).then(s=>{this.sourceColumnOptions=[];let a=s.columns;for(let i=0;i<a.length;i++){let r={ID:"",NAME:""};r.ID=a[i],r.NAME=a[i],this.sourceColumnOptions.push(r)}}).catch(s=>{this.loggerService.setLoggerError(this.constructor.name,"getSourceColumnsList",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getSourceColumnsList",s)}}getSourceColumnsLookupsList(t){try{this.statDefinationsService.getOptions(this.sourceLower,this.enterpriseId,t).then(s=>{this.sourceColumnOptions=[];for(let a=0;a<s.length;a++)this.sourceColumnOptions.push({ID:s[a].NAME,NAME:s[a].NAME});if(this.sourceColumnOptions&&""!==t){const a=this.sourceColumnOptions.filter(i=>Object.keys(i).some(r=>i[r].toLowerCase().includes(t.toLowerCase())));this.sourceColumnOptions=a}},s=>{this.loggerService.setLoggerError(this.constructor.name,"getSourceColumnsLookupsList",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getSourceColumnsLookupsList",s)}}getSourceDisplayColumnsList(t){try{this.listViewService.getreferenceFieldOptions(this.sourceLower,t).then(s=>{this.sourceDisplayColumnOptions=[];let a=s.columns;for(let i=0;i<a.length;i++){let r={ID:"",NAME:""};r.ID=a[i],r.NAME=a[i],this.sourceDisplayColumnOptions.push(r)}if(this.sourceDisplayColumnOptions&&""!==t){const i=this.sourceDisplayColumnOptions.filter(r=>Object.keys(r).some(d=>r[d].toLowerCase().includes(t.toLowerCase())));this.sourceDisplayColumnOptions=i}},s=>{this.loggerService.setLoggerError(this.constructor.name,"getSourceDisplayColumnsList",s)})}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getSourceDisplayColumnsList",s)}}changeSourceColumn(t){try{t?this.sourceColumn=t.ID:(this.parameterDisplayValue="",this.parameterValueOptions=[])}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeSourceColumn",s)}}changeSourceDisplayColumn(t){try{t?this.sourceDisplayColumn=t.ID:(this.parameterDisplayValue="",this.parameterValueOptions=[])}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeSourceDisplayColumn",s)}}getParamValuesList(t){try{this.parameterValueOptions=[],this.sourceTable&&this.sourceColumn?this.statDefinationsService.getstatParametersValue(this.sourceLower,this.sourceColumn,this.sourceDisplayColumn,this.enterpriseId,t).then(s=>{this.parameterValueOptions=s},s=>{this.commonErrorCodes(JSON.parse(s)),this.loggerService.setLoggerError(this.constructor.name,"getParamValuesList",s)}):this.parameterValueOptions=[]}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getParamValuesList",s)}}changeParameterValue(t){try{this.parameterValueOptions=[],t?this.parameterTypeName===o.oP.INPUT_LIST?(this.defaultValue=t.ID,this.parameterDisplayValue=t.NAME):(this.defaultValue=t.value,this.parameterDisplayValue=t.value):(this.error1="",this.defaultValue="",this.parameterDisplayValue="")}catch(s){this.loggerService.setLoggerError(this.constructor.name,"changeParameterValue",s)}}statParametersAdd(){try{if((this.parameterName||this.parameterNameDropdown.isValid())&&this.parameterDisplayName.isValid()&&(this.parameterType||this.parameterTypeDropdown.isValid())&&(this.parameterTypeName!==o.oP.INPUT_LIST||this.sourceTableDropdown.isValid())&&(this.parameterTypeName!==o.oP.INPUT_LIST||this.sourceColumnDropdown.isValid())&&(this.parameterTypeName!==o.oP.INPUT_LIST||!this.sourceDisplayColumnDropdown||this.sourceDisplayColumnDropdown.isValid())&&(!this.paramValueReqd||!this.paramTextValue||this.paramTextValue.isValid())&&(!this.paramValueReqd||!this.paramNumberValue||this.paramNumberValue.isValid())&&(!this.paramValueReqd||!this.paramEmailValue||this.paramEmailValue.isValid())&&(!this.paramValueReqd||!this.paramDateValue||this.paramDateValue.isValid())&&(!this.paramValueReqd||!this.paramListValue||this.paramListValue.isValid())&&this.paramSequenceAdd.isValid())if(this.statParametersData.find(s=>s.parameter_name===this.parameterName))this.error1="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS";else{let s="";s=this.parameterTypeName===o.oP.INPUT_DATE?this.commonService.dbTimezoneFormat(this.defaultValue):this.defaultValue;const r={parameter_name:this.parameterName,parameter_display_name:this.displayName,parameter_description:this.parameterDescription,parameter_type:{lookup_id:this.parameterType,lookup_name:this.parameterTypeName},parameter_type_value:this.parameterTypeDisplayName,param_data_source_table:{lookup_id:this.sourceTable,lookup_name:this.sourceTableName},param_data_source_table_value:this.sourceDisplayName,param_data_source_column:this.sourceColumn,param_data_source_display_column:this.sourceDisplayColumn,default_value:s,default_value_to_display:this.parameterTypeName===o.oP.INPUT_DATE?this.commonService.dbTimezoneFormat(this.parameterDisplayValue):this.parameterDisplayValue,param_display_sequence:this.paramSequence,param_enabled:this.enabledFlag,param_enabled_value:!0===this.enabledFlag?"Yes":"No",param_mandatory:this.paramValueReqd,param_mandatory_value:!0===this.paramValueReqd?"Yes":"No",underlying_tables:this.sourceLower};this.statParametersData.push(r),this.statParametersData.sort((d,u)=>d.param_display_sequence-u.param_display_sequence),$("#exampleModal1").modal("hide")}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"statParametersAdd",t)}}cancel(){document.getElementsByTagName("body")[0].classList.remove("modale-popup-open")}editStatParameters(t,s){try{document.getElementsByTagName("body")[0].classList.add("modale-popup-open"),this.rowIndex=t,this.error1="",this.getParameterNamesList(),this.getParameterTypes(),this.parameterName=s.parameter_name,this.displayName=s.parameter_display_name,this.parameterType=s.parameter_type.lookup_id,this.parameterTypeName=s.parameter_type.lookup_name,this.parameterTypeDisplayName=this.lookupLanguageTranslations(s.parameter_type.lookup_id),this.parameterDescription=s.parameter_description,this.parameterTypeName===o.oP.INPUT_LIST&&(this.getSourceTablesList(),this.sourceTable=s.param_data_source_table.lookup_id,this.sourceTableName=s.param_data_source_table.lookup_name,this.sourceDisplayName=this.lookupLanguageTranslations(s.param_data_source_table.lookup_id),this.getSourceColumnsList(""),this.sourceColumn=s.param_data_source_column,"LOOKUP_TYPES"===this.sourceTableName||"LOOKUP_CODES"===this.sourceTableName?(this.sourceLower=s.underlying_tables,this.disableSourceDisplayColumn=!0):(this.sourceLower=s.underlying_tables,this.disableSourceDisplayColumn=!1,this.getSourceDisplayColumnsList("")),this.sourceDisplayColumn=s.param_data_source_display_column,this.sourceTable&&this.sourceColumn&&this.sourceDisplayColumn&&this.getParamValuesList("")),this.defaultValue=s.default_value,this.parameterDisplayValue=s.default_value_to_display,this.paramSequence=s.param_display_sequence,this.enabledFlag=s.param_enabled,this.paramValueReqd=s.param_mandatory,this.parameterNameEditDropdown.clearmessage(),this.parameterDisplayNameEdit.clearmessage(),this.parameterTypeEditDropdown.clearmessage(),this.paramSequenceEdit.clearMessage(),this.sourceTableEditDropdown&&this.sourceTableEditDropdown.clearmessage(),this.sourceColumnEditDropdown&&this.sourceColumnEditDropdown.clearmessage(),this.sourceDisplayColumnEditDropdown&&this.sourceDisplayColumnEditDropdown.clearmessage(),this.paramTextValueUpdate&&this.paramTextValueUpdate.clearmessage(),this.paramNumberValueUpdate&&this.paramNumberValueUpdate.clearMessage(),this.paramEmailValueUpdate&&this.paramEmailValueUpdate.clearmessage(),this.paramListValueUpdate&&this.paramListValueUpdate.clearmessage(),this.paramDateValueUpdate&&this.paramDateValueUpdate.clearmessage(),$("#exampleModal2").modal("show"),$(".modal-backdrop").insertAfter("#exampleModal2")}catch(a){this.loggerService.setLoggerError(this.constructor.name,"editStatParameters",a)}}statParametersUpdate(){try{if((this.parameterName||this.parameterNameEditDropdown.isValid())&&this.parameterDisplayNameEdit.isValid()&&(this.parameterType||this.parameterTypeEditDropdown.isValid())&&(this.parameterTypeName!==o.oP.INPUT_LIST||this.sourceTableEditDropdown.isValid())&&(this.parameterTypeName!==o.oP.INPUT_LIST||this.sourceColumnEditDropdown.isValid())&&(this.parameterTypeName!==o.oP.INPUT_LIST||!this.sourceDisplayColumnEditDropdown||this.sourceDisplayColumnEditDropdown.isValid())&&(!this.paramValueReqd||!this.paramTextValueUpdate||this.paramTextValueUpdate.isValid())&&(!this.paramValueReqd||!this.paramNumberValueUpdate||this.paramNumberValueUpdate.isValid())&&(!this.paramValueReqd||!this.paramEmailValueUpdate||this.paramEmailValueUpdate.isValid())&&(!this.paramValueReqd||!this.paramDateValueUpdate||this.paramDateValueUpdate.isValid())&&(!this.paramValueReqd||!this.paramListValueUpdate||this.paramListValueUpdate.isValid())&&this.paramSequenceEdit.isValid()&&""===this.error1){const t=this.statParametersData.findIndex(s=>s.parameter_name===this.parameterName);if(-1===t||t===this.rowIndex){for(let s=0;s<this.statParametersData.length;s++)s===this.rowIndex&&(this.statParametersData[s].parameter_name=this.parameterName,this.statParametersData[s].parameter_display_name=this.displayName,this.statParametersData[s].parameter_description=this.parameterDescription,this.statParametersData[s].parameter_type={lookup_id:this.parameterType,lookup_name:this.parameterTypeName},this.statParametersData[s].parameter_type_value=this.parameterTypeDisplayName,this.statParametersData[s].param_data_source_table={lookup_id:this.sourceTable,lookup_name:this.sourceTableName},this.statParametersData[s].param_data_source_table_value=this.sourceDisplayName,this.statParametersData[s].param_data_source_column=this.sourceColumn,this.statParametersData[s].param_data_source_display_column=this.sourceDisplayColumn,this.statParametersData[s].default_value=this.parameterType===o.oP.INPUT_DATE?this.commonService.dbTimezoneFormat(this.defaultValue):this.defaultValue,this.statParametersData[s].default_value_to_display=this.parameterTypeName===o.oP.INPUT_DATE?this.commonService.dbTimezoneFormat(this.parameterDisplayValue):this.parameterDisplayValue,this.statParametersData[s].param_display_sequence=this.paramSequence,this.statParametersData[s].param_enabled=this.enabledFlag,this.statParametersData[s].param_mandatory=this.paramValueReqd,this.statParametersData[s].param_enabled_value=!0===this.enabledFlag?"Yes":"No",this.statParametersData[s].param_mandatory_value=!0===this.paramValueReqd?"Yes":"No",this.statParametersData[s].underlying_tables=this.sourceLower);this.statParametersData.sort((s,a)=>s.param_display_sequence-a.param_display_sequence),$("#exampleModal2").modal("hide")}else this.error1="COMMON_VALIDATION_MESSAGES.VALID_RECORD_ALREADY_EXISTS"}}catch(t){this.loggerService.setLoggerError(this.constructor.name,"statParametersUpdate",t)}}static \u0275fac=function(s){return new(s||n)(e.Y36(ie.x),e.Y36(v.m),e.Y36(w.f),e.Y36(_.F0),e.Y36(T),e.Y36(C.sK),e.Y36(P.s),e.Y36(E.v),e.Y36(L.e),e.Y36(_.gz))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-statdefinations-edit"]],viewQuery:function(s,a){if(1&s&&(e.Gf(oe,5),e.Gf(le,5),e.Gf(pe,5),e.Gf(de,5),e.Gf(ue,5),e.Gf(ce,5),e.Gf(me,5),e.Gf(he,5),e.Gf(ge,5),e.Gf(_e,5),e.Gf(Te,5),e.Gf(Ce,5),e.Gf(Se,5),e.Gf(be,5),e.Gf(fe,5),e.Gf(De,5),e.Gf(ye,5),e.Gf(Ne,5),e.Gf(Ee,5),e.Gf(Oe,5),e.Gf(ve,5),e.Gf(Ae,5),e.Gf(Ie,5),e.Gf(Ve,5),e.Gf(Me,5),e.Gf(Le,5),e.Gf(we,5),e.Gf(Pe,5)),2&s){let i;e.iGM(i=e.CRH())&&(a.descriptionValid=i.first),e.iGM(i=e.CRH())&&(a.paramDateValue=i.first),e.iGM(i=e.CRH())&&(a.paramDateValueUpdate=i.first),e.iGM(i=e.CRH())&&(a.paramEmailValue=i.first),e.iGM(i=e.CRH())&&(a.paramEmailValueUpdate=i.first),e.iGM(i=e.CRH())&&(a.paramListValue=i.first),e.iGM(i=e.CRH())&&(a.paramListValueUpdate=i.first),e.iGM(i=e.CRH())&&(a.paramNumberValue=i.first),e.iGM(i=e.CRH())&&(a.paramNumberValueUpdate=i.first),e.iGM(i=e.CRH())&&(a.paramSequenceAdd=i.first),e.iGM(i=e.CRH())&&(a.paramSequenceEdit=i.first),e.iGM(i=e.CRH())&&(a.paramTextValue=i.first),e.iGM(i=e.CRH())&&(a.paramTextValueUpdate=i.first),e.iGM(i=e.CRH())&&(a.parameterDisplayName=i.first),e.iGM(i=e.CRH())&&(a.parameterDisplayNameEdit=i.first),e.iGM(i=e.CRH())&&(a.parameterNameDropdown=i.first),e.iGM(i=e.CRH())&&(a.parameterNameEditDropdown=i.first),e.iGM(i=e.CRH())&&(a.parameterTypeDropdown=i.first),e.iGM(i=e.CRH())&&(a.parameterTypeEditDropdown=i.first),e.iGM(i=e.CRH())&&(a.seqNoValid=i.first),e.iGM(i=e.CRH())&&(a.sourceColumnDropdown=i.first),e.iGM(i=e.CRH())&&(a.sourceColumnEditDropdown=i.first),e.iGM(i=e.CRH())&&(a.sourceDisplayColumnDropdown=i.first),e.iGM(i=e.CRH())&&(a.sourceDisplayColumnEditDropdown=i.first),e.iGM(i=e.CRH())&&(a.sourceTableDropdown=i.first),e.iGM(i=e.CRH())&&(a.sourceTableEditDropdown=i.first),e.iGM(i=e.CRH())&&(a.statNameValid=i.first),e.iGM(i=e.CRH())&&(a.statTypeValid=i.first)}},features:[e._Bn([T]),e.qOj],decls:183,vars:186,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-3"],["disabled","true","id","statdefinations-edit-enterprise",3,"label","value"],["disabled","true","id","statdefinations-edit-application",3,"label","value"],["disabled","true","id","statdefinations-edit-page",3,"label","value"],["disabled","false","mandatory","true","autoCaseFlag","false","id","statdefinations-edit-statname",3,"label","value","maxlength","valueChange"],["statNameValid",""],["mandatory","true","type","CacheSettings","id","statdefinations-edit-sequence",3,"label","maxlength","value","valueChange"],["seqNoValid",""],["mandatory","true","id","statdefinations-edit-statType",3,"label","options","defaultValue","valueChange"],["statTypeValid",""],[1,"col-md-2","d-flex","align-items-center"],["label","","disabled","false","mandatory","true","id","statdefinations-edit-enable",3,"options","checked","valueChange"],["disabled","false","mandatory","true","autoCaseFlag","false","id","statdefinations-edit-description",3,"label","value","maxlength","valueChange"],["descriptionValid",""],[1,"col-md-12","textarea-block"],["for","statQuery",1,"text-label"],["name","message","rows","12","cols","130","id","statdefinations-edit-statQuery",1,"form-control",3,"ngModel","keypress","ngModelChange"],["message","ngModel"],[1,"error-msg","col-md-12","text-danger","text-center","mb-0"],[1,"col-md-12","pdt-14"],[1,"fs-12"],[3,"ngModel","config","ngModelChange","keypress"],[1,"col-md-12","text-end","mt-2","mb-2"],["className","btn btn-primary btn-sm","id","statdefinations-edit-submit",1,"mgr-5",3,"label","disabled","buttonOnClick"],["className","btn btn-danger btn-sm","id","statdefinations-edit-cancel",3,"label","buttonOnClick"],[1,"row"],[1,"card"],[1,"card-content"],[3,"multiple"],[1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["disabled","false","label","","className","btn btn-danger btn-sm btn-round btn-rounded","btnIcon","fas fa-plus","id","widgets-edit-parametersadd",3,"isEmitMouseEvent","buttonOnClick"],["selectionMode","single","dataKey","LineNum",1,"ptable","d-none","d-lg-block","max-height",3,"columns","value","rows","lazy","responsive","autoLayout"],["pTemplate","emptymessage"],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[1,"d-lg-none"],["lines","full","class","pdl-0 pdr-0",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"],["id","exampleModal1","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header",2,"border-top-left-radius","2px","border-top-right-radius","2px"],["id","exampleModalLabel",1,"modal-title"],[1,"modal-body","ios-content"],[1,"col-md-4"],["mandatory","true","id","widgets-edit-parameter-name",3,"label","options","defaultValue","valueChange"],["parameterNameDropdown",""],["mandatory","true","autoCaseFlag","false","id","widgets-edit-parameter-displayName",3,"label","value","valueChange"],["parameterDisplayName",""],["mandatory","true","id","widgets-edit-parameter-type",3,"label","options","defaultValue","valueChange"],["parameterTypeDropdown",""],["id","widgets-edit-parameter-description",3,"label","maxlength","defaultvalue","valueChange"],["class","col-md-4",4,"ngIf"],["mandatory","true","type","CacheSettings","id","widgets-edit-parameter-sequence",3,"label","maxlength","value","valueChange"],["paramSequenceAdd",""],[1,"col-md-4","d-flex","align-items-center"],["label","","id","widgets-edit-parameters-mandatory","disabled","false","mandatory","false",3,"options","checked","valueChange"],["label","","id","widgets-edit-parameters-enabled","disabled","false","mandatory","false",3,"options","checked","valueChange"],[1,"col-md-12","text-end","mt-2"],["className","btn btn-primary btn-sm","id","widget-parameters-add",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","widget-parameters-cancel",3,"label","buttonOnClick"],["id","exampleModal2","tabindex","-1","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["mandatory","true","id","widgets-update-parameter-name",3,"label","options","defaultValue","valueChange"],["parameterNameEditDropdown",""],["mandatory","true","id","widgets-update-parameter-displayName",3,"label","value","valueChange"],["parameterDisplayNameEdit",""],["mandatory","true","id","widgets-update-parameter-type",3,"label","options","defaultValue","valueChange"],["parameterTypeEditDropdown",""],["id","widgets-update-parameter-description",3,"label","maxlength","defaultvalue","valueChange"],["mandatory","true","type","CacheSettings","id","widgets-update-parameter-sequence",3,"label","maxlength","value","valueChange"],["paramSequenceEdit",""],["label","","id","widgets-update-parameters-mandatory","disabled","false","mandatory","false",3,"options","checked","valueChange"],["label","","id","widgets-update-parameters-enabled","disabled","false","mandatory","false",3,"options","checked","valueChange"],["className","btn btn-primary btn-sm","id","widgets-update",1,"mgr-5",3,"label","buttonOnClick"],["className","btn btn-danger btn-sm","data-bs-dismiss","modal","aria-label","Close","id","widgets-close",3,"label","buttonOnClick"],["class","no-results-found",4,"ngIf"],[1,"no-results-found"],[1,"text-center","text-danger"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","class","click",4,"ngFor","ngForOf"],["data-toggle","modal","data-bs-target","#exampleModal2",3,"pSelectableRow","click"],["class","col-md-12",4,"ngFor","ngForOf"],[3,"innerHTML"],["lines","full",1,"pdl-0","pdr-0"],[1,"mg-0",3,"click"],["color","primary",1,"mg-0","fs-13"],[1,"mg-0","fs-11"],["color","primary",1,"mg-0","fs-11"],[1,"txtctr"],[1,"text-danger","text-center"],["sourceTableDropdown",""],["mandatory","true","id","widgets-edit-sourcecolumn",3,"label","options","defaultValue","selectedOption","searchValueChange"],["sourceColumnDropdown",""],["mandatory","true","id","widgets-edit-sourcedisplaycolumn",3,"label","options","defaultValue","selectedOption","searchValueChange"],["sourceDisplayColumnDropdown",""],["mandatory","true","id","widgets-edit-sourcedisplaycolumn","disabled","true","type","text",3,"label","value"],["disabled","false","id","widgets-edit-parameter-value",3,"label","mandatory","value","valueChange"],["paramTextValue",""],["disabled","false","id","widgets-edit-parameter-value",3,"label","mandatory","maxlength","value","valueChange"],["paramNumberValue",""],["disabled","false","type","email","id","widgets-edit-parameter-value",3,"label","mandatory","value","valueChange"],["paramEmailValue",""],["id","widgets-edit-parameter-value","dateformat","dd-MMM-yyyy","currentDate","false",3,"placeholder","defaultDate","mandatory","dateChangeValue"],["paramDateValue",""],["id","widgets-edit-parameter-value",3,"label","options","mandatory","defaultValue","selectedOption","searchValueChange"],["paramListValue",""],["sourceTableEditDropdown",""],["mandatory","true","id","widgets-update-sourcecolumn",3,"label","defaultValue","options","selectedOption","searchValueChange"],["sourceColumnEditDropdown",""],["mandatory","true","id","widgets-update-sourcedisplaycolumn",3,"label","defaultValue","options","selectedOption","searchValueChange"],["sourceDisplayColumnEditDropdown",""],["mandatory","true","id","widgets-update-sourcedisplaycolumn","disabled","true","type","text",3,"label","value"],["disabled","false","id","widgets-update-parameter-value",3,"label","mandatory","value","valueChange"],["paramTextValueUpdate",""],["disabled","false","id","widgets-update-parameter-value",3,"label","mandatory","maxlength","value","valueChange"],["paramNumberValueUpdate",""],["disabled","false","type","email","id","widgets-update-parameter-value",3,"label","mandatory","value","valueChange"],["paramEmailValueUpdate",""],["id","widgets-update-parameter-value","dateformat","dd-MMM-yyyy","currentDate","false",3,"placeholder","defaultDate","mandatory","dateChangeValue"],["paramDateValueUpdate",""],["id","widgets-update-parameter-value",3,"label","options","mandatory","defaultValue","selectedOption","searchValueChange"],["paramListValueUpdate",""]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"app-input",11),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"app-input",12),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",9)(19,"app-input",13,14),e.NdJ("valueChange",function(r){return a.changeStatName(r)}),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"div",9)(23,"app-inputnumber",15,16),e.NdJ("valueChange",function(r){return a.changeSequenceNumber(r)}),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",9)(27,"app-dropdown-singleselect",17,18),e.NdJ("valueChange",function(r){return a.changeStatType(r)}),e.ALo(29,"translate"),e.qZA()(),e.TgZ(30,"div",19)(31,"app-checkbox",20),e.NdJ("valueChange",function(r){return a.changeCheckBox(r)}),e.qZA()(),e.TgZ(32,"div",3)(33,"app-input",21,22),e.NdJ("valueChange",function(r){return a.changeDescription(r)}),e.ALo(35,"translate"),e.qZA()(),e.TgZ(36,"div",23)(37,"label",24),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"textarea",25,26),e.NdJ("keypress",function(){return a.clearErrorMessage()})("ngModelChange",function(r){return a.statQuery=r}),e.qZA()(),e.TgZ(42,"div",27),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"div",28)(46,"ion-label",29),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.TgZ(49,"angular-editor",30),e.NdJ("ngModelChange",function(r){return a.ckeditor_message=r})("keypress",function(){return a.clearMessage()}),e.qZA()(),e.TgZ(50,"div",27),e._uU(51),e.ALo(52,"translate"),e.qZA(),e.TgZ(53,"div",31)(54,"app-button",32),e.NdJ("buttonOnClick",function(){return a.updateRecord()}),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"app-button",33),e.NdJ("buttonOnClick",function(){return a.cancelButton()}),e.ALo(57,"translate"),e.qZA()(),e.TgZ(58,"div",34)(59,"div",27),e._uU(60),e.ALo(61,"translate"),e.qZA()(),e.TgZ(62,"div",34)(63,"div",3)(64,"div",35)(65,"div",36)(66,"p-accordion",37)(67,"p-accordionTab",38)(68,"p-header",39)(69,"span"),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"app-button",40),e.NdJ("buttonOnClick",function(r){return a.parametersAdd(r)}),e.qZA()(),e.TgZ(73,"p-table",41),e.YNc(74,Re,1,1,"ng-template",42),e.YNc(75,Je,2,1,"ng-template",43),e.YNc(76,qe,2,1,"ng-template",44),e.YNc(77,Fe,4,2,"ng-template",45),e.qZA(),e.TgZ(78,"div",46)(79,"ion-list"),e.YNc(80,xe,14,16,"ion-item",47),e.qZA(),e.YNc(81,Be,5,3,"ion-item",48),e.qZA()(),e._UZ(82,"app-recordhistory",49),e.qZA()()()()()()()()()()()(),e.TgZ(83,"div",50)(84,"div",51)(85,"div",52)(86,"div",53)(87,"div",54),e._uU(88),e.ALo(89,"translate"),e.ALo(90,"translate"),e.qZA()(),e.TgZ(91,"div",55)(92,"div",8)(93,"div",56)(94,"app-dropdown-singleselect",57,58),e.NdJ("valueChange",function(r){return a.changeParameterNames(r)}),e.ALo(96,"translate"),e.qZA()(),e.TgZ(97,"div",56)(98,"app-input",59,60),e.NdJ("valueChange",function(r){return a.changeDisplayName(r)}),e.ALo(100,"translate"),e.qZA()(),e.TgZ(101,"div",56)(102,"app-dropdown-singleselect",61,62),e.NdJ("valueChange",function(r){return a.changeParameterTypes(r)}),e.ALo(104,"translate"),e.qZA()(),e.TgZ(105,"div",3)(106,"app-textarea",63),e.NdJ("valueChange",function(r){return a.changeParameterDescription(r)}),e.ALo(107,"translate"),e.qZA()(),e.YNc(108,Qe,4,5,"div",64),e.YNc(109,Ge,4,5,"div",64),e.YNc(110,Ye,4,5,"div",64),e.YNc(111,He,3,4,"div",64),e.YNc(112,Ke,4,5,"div",64),e.YNc(113,ze,4,6,"div",64),e.YNc(114,$e,4,5,"div",64),e.YNc(115,We,4,5,"div",64),e.YNc(116,Xe,4,6,"div",64),e.TgZ(117,"div",56)(118,"app-inputnumber",65,66),e.NdJ("valueChange",function(r){return a.changeSequence(r)}),e.ALo(120,"translate"),e.qZA()(),e.TgZ(121,"div",67)(122,"app-checkbox",68),e.NdJ("valueChange",function(r){return a.changeMandatory(r)}),e.qZA()(),e.TgZ(123,"div",67)(124,"app-checkbox",69),e.NdJ("valueChange",function(r){return a.changeEnabled(r)}),e.qZA()(),e.TgZ(125,"div",27),e._uU(126),e.ALo(127,"translate"),e.qZA(),e.TgZ(128,"div",70)(129,"app-button",71),e.NdJ("buttonOnClick",function(){return a.statParametersAdd()}),e.ALo(130,"translate"),e.qZA(),e.TgZ(131,"app-button",72),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(132,"translate"),e.qZA()()()()()()(),e.TgZ(133,"div",73)(134,"div",51)(135,"div",52)(136,"div",53)(137,"div",54),e._uU(138),e.ALo(139,"translate"),e.ALo(140,"translate"),e.qZA()(),e.TgZ(141,"div",55)(142,"div",8)(143,"div",56)(144,"app-dropdown-singleselect",74,75),e.NdJ("valueChange",function(r){return a.changeParameterNames(r)}),e.ALo(146,"translate"),e.qZA()(),e.TgZ(147,"div",56)(148,"app-input",76,77),e.NdJ("valueChange",function(r){return a.changeDisplayName(r)}),e.ALo(150,"translate"),e.qZA()(),e.TgZ(151,"div",56)(152,"app-dropdown-singleselect",78,79),e.NdJ("valueChange",function(r){return a.changeParameterTypes(r)}),e.ALo(154,"translate"),e.qZA()(),e.TgZ(155,"div",3)(156,"app-textarea",80),e.NdJ("valueChange",function(r){return a.changeParameterDescription(r)}),e.ALo(157,"translate"),e.qZA()(),e.YNc(158,ea,4,5,"div",64),e.YNc(159,aa,4,5,"div",64),e.YNc(160,ta,4,5,"div",64),e.YNc(161,sa,3,4,"div",64),e.YNc(162,ia,4,5,"div",64),e.YNc(163,ra,4,6,"div",64),e.YNc(164,na,4,5,"div",64),e.YNc(165,oa,4,5,"div",64),e.YNc(166,la,4,6,"div",64),e.TgZ(167,"div",56)(168,"app-inputnumber",81,82),e.NdJ("valueChange",function(r){return a.changeSequence(r)}),e.ALo(170,"translate"),e.qZA()(),e.TgZ(171,"div",67)(172,"app-checkbox",83),e.NdJ("valueChange",function(r){return a.changeMandatory(r)}),e.qZA()(),e.TgZ(173,"div",67)(174,"app-checkbox",84),e.NdJ("valueChange",function(r){return a.changeEnabled(r)}),e.qZA()(),e.TgZ(175,"div",27),e._uU(176),e.ALo(177,"translate"),e.qZA(),e.TgZ(178,"div",70)(179,"app-button",85),e.NdJ("buttonOnClick",function(){return a.statParametersUpdate()}),e.ALo(180,"translate"),e.qZA(),e.TgZ(181,"app-button",86),e.NdJ("buttonOnClick",function(){return a.cancel()}),e.ALo(182,"translate"),e.qZA()()()()()()()),2&s&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("showPageHeaderItems",!1)("showDependencySubMenu",!1),e.xp6(4),e.s9C("label",e.lcZ(11,116,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",null==a.statViewData||null==a.statViewData.enterprise?null:a.statViewData.enterprise.short_name),e.xp6(3),e.s9C("label",e.lcZ(14,118,"GENERAL_SETTINGS.APPLICATIONS")),e.Q6J("value",a.lookupLanguageTranslations(null==a.statViewData||null==a.statViewData.application?null:a.statViewData.application.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(17,120,"COMMON_FIELDS.PAGE")),e.s9C("value",null==a.statViewData||null==a.statViewData.page?null:a.statViewData.page.page_display_name),e.xp6(3),e.s9C("label",e.lcZ(21,122,"STAT_DEFINITIONS.STAT_NAME")),e.s9C("value",a.statName),e.Q6J("maxlength",80),e.xp6(4),e.s9C("label",e.lcZ(25,124,"COMMON_FIELDS.SEQUENCE")),e.s9C("value",a.sequenceId),e.Q6J("maxlength",2),e.xp6(4),e.s9C("label",e.lcZ(29,126,"STAT_DEFINITIONS.STAT_TYPE")),e.s9C("defaultValue",a.statTypeId),e.Q6J("options",a.statTypeOptions),e.xp6(4),e.Q6J("options",a.checkboxOptions)("checked",a.statCheckbox),e.xp6(2),e.s9C("label",e.lcZ(35,128,"COMMON_FIELDS.DESCRIPTION")),e.s9C("value",a.description),e.Q6J("maxlength",2e3),e.xp6(5),e.hij(" ",e.lcZ(39,130,"STAT_DEFINITIONS.STAT_QUERY"),"* "),e.xp6(2),e.Q6J("ngModel",a.statQuery),e.xp6(3),e.hij(" ",e.lcZ(44,132,a.errorQuery)," "),e.xp6(4),e.hij(" ",e.lcZ(48,134,"STAT_DEFINITIONS.STAT_HTML"),"* "),e.xp6(2),e.Q6J("ngModel",a.ckeditor_message)("config",a.editorConfig),e.xp6(2),e.hij(" ",e.lcZ(52,136,a.errorHtml)," "),e.xp6(3),e.s9C("label",e.lcZ(55,138,"COMMON_BUTTONS.BUTTON_SUBMIT")),e.Q6J("disabled",a.submitEnabled),e.xp6(2),e.s9C("label",e.lcZ(57,140,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(4),e.hij(" ",e.lcZ(61,142,a.error)," "),e.xp6(6),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(71,144,"REPORTS.PARAMETERS")),e.xp6(2),e.Q6J("isEmitMouseEvent",!0),e.xp6(1),e.Q6J("columns",a.headers)("value",a.statParametersData)("rows",10)("lazy",!0)("responsive",!0)("autoLayout",!0),e.xp6(7),e.Q6J("ngForOf",a.statParametersData),e.xp6(1),e.Q6J("ngIf",a.statParametersData&&0==a.statParametersData.length),e.xp6(1),e.Q6J("createdBy",null==a.statViewData?null:a.statViewData.created_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==a.statViewData?null:a.statViewData.updated_by)("creationDate",null==a.statViewData?null:a.statViewData.createdAt)("lastUpdatedDate",null==a.statViewData?null:a.statViewData.updatedAt),e.xp6(6),e.AsE("",e.lcZ(89,146,"COMMON_FIELDS.PARAMETER")," - ",e.lcZ(90,148,"COMMON_BUTTONS.BUTTON_ADD"),""),e.xp6(6),e.s9C("label",e.lcZ(96,150,"REPORTS.PARAMETER_NAME")),e.s9C("defaultValue",a.parameterName),e.Q6J("options",a.parameterNameOptions),e.xp6(4),e.s9C("label",e.lcZ(100,152,"COMMON_FIELDS.DISPLAY_NAME")),e.s9C("value",a.displayName),e.xp6(4),e.s9C("label",e.lcZ(104,154,"COMMON_FIELDS.TYPE")),e.s9C("defaultValue",a.parameterType),e.Q6J("options",a.parameterTypeOptions),e.xp6(4),e.s9C("label",e.lcZ(107,156,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.parameterDescription),e.Q6J("maxlength",240),e.xp6(2),e.Q6J("ngIf","LIST"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","LIST"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf",!1===a.disableSourceDisplayColumn&&"LIST"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf",!0===a.disableSourceDisplayColumn&&"LIST"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","INPUT_TEXT"===a.parameterTypeName||""===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","INPUT_NUMBER"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","INPUT_EMAIL"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","DATE"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","LIST"===a.parameterTypeName),e.xp6(2),e.s9C("label",e.lcZ(120,158,"COMMON_FIELDS.SEQUENCE")),e.s9C("value",a.paramSequence),e.Q6J("maxlength",2),e.xp6(4),e.Q6J("options",a.mandatoryOptions)("checked",a.paramValueReqd),e.xp6(2),e.Q6J("options",a.enabledOptions)("checked",!0),e.xp6(2),e.hij(" ",e.lcZ(127,160,a.error1)," "),e.xp6(3),e.s9C("label",e.lcZ(130,162,"COMMON_BUTTONS.BUTTON_ADD")),e.xp6(2),e.s9C("label",e.lcZ(132,164,"COMMON_BUTTONS.BUTTON_CANCEL")),e.xp6(7),e.AsE("",e.lcZ(139,166,"COMMON_FIELDS.PARAMETER")," - ",e.lcZ(140,168,"COMMON_BUTTONS.BUTTON_EDIT"),""),e.xp6(6),e.s9C("label",e.lcZ(146,170,"REPORTS.PARAMETER_NAME")),e.s9C("defaultValue",a.parameterName),e.Q6J("options",a.parameterNameOptions),e.xp6(4),e.s9C("label",e.lcZ(150,172,"COMMON_FIELDS.DISPLAY_NAME")),e.s9C("value",a.displayName),e.xp6(4),e.s9C("label",e.lcZ(154,174,"COMMON_FIELDS.TYPE")),e.s9C("defaultValue",a.parameterType),e.Q6J("options",a.parameterTypeOptions),e.xp6(4),e.s9C("label",e.lcZ(157,176,"COMMON_FIELDS.DESCRIPTION")),e.s9C("defaultvalue",a.parameterDescription),e.Q6J("maxlength",240),e.xp6(2),e.Q6J("ngIf","LIST"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","LIST"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf",!1===a.disableSourceDisplayColumn&&"LIST"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf",!0===a.disableSourceDisplayColumn&&"LIST"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","INPUT_TEXT"===a.parameterTypeName||""===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","INPUT_NUMBER"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","INPUT_EMAIL"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","DATE"===a.parameterTypeName),e.xp6(1),e.Q6J("ngIf","LIST"===a.parameterTypeName),e.xp6(2),e.s9C("label",e.lcZ(170,178,"COMMON_FIELDS.SEQUENCE")),e.s9C("value",a.paramSequence),e.Q6J("maxlength",2),e.xp6(4),e.Q6J("options",a.mandatoryOptions)("checked",a.paramValueReqd),e.xp6(2),e.Q6J("options",a.enabledOptions)("checked",a.enabledFlag),e.xp6(2),e.hij(" ",e.lcZ(177,180,a.error1)," "),e.xp6(3),e.s9C("label",e.lcZ(180,182,"COMMON_BUTTONS.BUTTON_UPDATE")),e.xp6(2),e.s9C("label",e.lcZ(182,184,"COMMON_BUTTONS.BUTTON_CANCEL")))},dependencies:[M.sg,M.O5,b.Ie,b.Q$,b.q_,Z.r,R.a,q.k,U.b,se.Q,re.R,j.K,ne.C,F.W,A.q,D.UQ,D.US,J.h4,J.jx,g.Fj,g.JJ,g.On,I.iA,I.lQ,I.Ei,y.s6,C.X$]})}return n})();var x=l(15861),B=l(42863),Q=l(28168),V=l(30578),da=l(88425);const ua=["datatableComponent"],ha=[{path:"",data:{title:"statdefinitions"},children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",canActivate:[N.P],component:(()=>{class n extends O.O{ColumnHeader;actionSheetController;loggerService;router;statDefinationsService;translateService;uiUtils;commonService;listingVariables;route;searchValueChange=new e.vpe;datatableComponent;actionBoolean;actionStatus;actions;checkId;enterpriseId;fabMobileactions;listData;login_enterprise_id;mobileRoutesArray;noDuplicates=void 0;show=!0;searchString;statDefsMobileData;status;statusObj;tableColumnheaders;dataJsonObj={};constructor(t,s,a,i,r,d,u,c,h,m){super(m,c),this.ColumnHeader=t,this.actionSheetController=s,this.loggerService=a,this.router=i,this.statDefinationsService=r,this.translateService=d,this.uiUtils=u,this.commonService=c,this.listingVariables=h,this.route=m,this.route.queryParams.subscribe(S=>{this.dataJsonObj.queryParamsObj={defaultView:S.default_view,selectedMenuId:S.selectedMenuId,selectedSubMenuId:S.selectedSubMenuId}})}ngOnInit(){document.getElementsByTagName("body"),this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=o.hf.STATS_DEFINITIONS,this.dataJsonObj.selectedAdvancedSearchObj={},this.dataJsonObj.pageTitle=[{key:"COMMON_FIELDS.ALL",value:"",showSubMenuDisplayName:!1},{key:"COMMON_PAGE_TITLES.STATS_DEFINITIONS",value:"",showSubMenuDisplayName:!0}],this.dataJsonObj.htmlPageRolesEnumValuesJson={pageEnum:o.hf,pageSettingEnum:o.AM,pageSettingFieldsEnum:o.In},this.commonService.trackView(o.sn.STAT_DEFINITIONS),this.login_enterprise_id=localStorage.getItem(o.BU.LOG_IN_ENTERPRISE_ID),this.enterpriseId=localStorage.getItem(o.BU.SELECTED_ENTERPRISE),this.tableColumnheaders=this.ColumnHeader.getStatDefinationsColumnHeaders(),this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString="",this.actionBoolean=!0===this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.INACTIVATE)&&!0===this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.ACTIVATE),this.actions={EDIT:this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.EDIT),CHECKBOX:this.actionBoolean,VIEW:this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.VIEW)},this.dataJsonObj.addFiltersList=[],this.dataJsonObj.pageActionsList=[],this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.CREATE)&&this.dataJsonObj.pageActionsList.push({actionName:"CREATE",displayName:"COMMON_BUTTONS.BUTTON_CREATE",actionType:o.gL.URL,redirectURL:"/admin/statsdefinitions/create",queryParams:"",iconClass:"fas fa-plus"}),this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.FILTERS)}getAllRecords(){try{const t=this.commonService.getMobileViewCondition(this.dataJsonObj.selectedDisplayView);this.status=this.statusObj,this.statDefinationsService.getAll(this.listingVariables.pageNumbers,this.listingVariables.rowsPerPage,this.listingVariables.sortOrderColumn,this.searchString,this.enterpriseId,this.status,t,this.dataJsonObj.selectedFilter?"&filtertype="+this.dataJsonObj.selectedFilter:"",this.dataJsonObj.advancedSearchObj.inputAdvSearchObj).subscribe(a=>{if(a.rows.length>0){this.statDefsMobileData&&this.statDefsMobileData.length>0||(this.statDefsMobileData=[]);for(let i=0;i<a.rows.length;i++){a.rows[i].firstLineDisplay=a.rows[i].stat_name,a.rows[i].secondLineDisplay="Stat Type: "+this.lookupLanguageTranslations(a.rows[i].stat_type.lookup_id)+"; Sequence: "+this.lookupLanguageTranslations(a.rows[i].seq_number.lookup_id),a.rows[i].thirdLineDisplay=!0===a.rows[i].is_enabled?"Enabled: Yes":"Enabled: No",a.rows[i].enterprise.short_name='<a class="enable" id="enterprise.short_name'+a.rows[i]._id+'" href="enterprises/enterprises/'+a.rows[i].enterprise.enterprise_id+'/view/" >'+a.rows[i].enterprise.short_name;const r={url:`admin/statsdefinitions/${a.rows[i]._id}/view`,queryParams:this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:""},d=r.queryParams&&Object.keys(r.queryParams).length>0?`${r.url}?${JSON.stringify(r.queryParams)}`:r.url;a.rows[i].stat_name=`<a class="enable" id="stat_name${a.rows[i]._id}" href=${d}>${a.rows[i].stat_name}`,!0===a.rows[i].is_enabled?a.rows[i].is_enabled="Yes":!1===a.rows[i].is_enabled&&(a.rows[i].is_enabled="No"),this.statDefsMobileData=this.statDefsMobileData.filter(u=>u._id!==a.rows[i]._id),this.statDefsMobileData.push(a.rows[i])}a.totalCount&&(this.listingVariables.totalRecords=a.totalCount),1===this.listingVariables.pageNumbers&&(this.listingVariables.totalpages=a.pages),this.dataJsonObj.isLoadMoreClicked?(this.dataJsonObj.isLoadMoreClicked=!1,this.listData=this.listData.concat(a.rows)):this.listData=a.rows}else this.listData=[],this.statDefsMobileData=[]},a=>{this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",a)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getAllRecords",t)}}getSearchResult(t){try{this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.searchString=t,this.getAllRecords(),this.datatableComponent.reset(),this.searchValueChange.emit(t)}catch(s){this.loggerService.setLoggerError(this.constructor.name,"getSearchResult",s)}}searchClose(){try{this.searchString="",this.listingVariables.pageNumbers=1,this.listingVariables.totalRecords=1,this.getAllRecords(),this.datatableComponent.reset(),this.searchValueChange.emit("")}catch(t){this.loggerService.setLoggerError(this.constructor.name,"searchClose",t)}}loadPageData(t){this.listingVariables.pageNumbers=t.listingVariables.pageNumbers,t.clearMobileData&&(this.statDefsMobileData=this.noDuplicates),t.isPaginationChange&&(this.dataJsonObj.selectedFilter=t.selectedFilterType,this.dataJsonObj.isLoadMoreClicked=t.isLoadMoreClicked,this.dataJsonObj.advancedSearchObj.inputAdvSearchObj=t.selectedAdvancedSearchObj),this.getAllRecords()}toggle(){this.show=!this.show}statusData(t){try{this.statusObj=t.value,this.getAllRecords()}catch(s){this.loggerService.setLoggerError(this.constructor.name,"statusData",s)}}createStatDefinations(){try{this.router.navigate(["admin/statsdefinitions/create"])}catch(t){this.loggerService.setLoggerError(this.constructor.name,"createStatDefinations",t)}}onActionClicked(t){try{t.action===o.A0.EDIT?(this.router.navigate(["admin/statsdefinitions/"+t.data._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("statsdefinitions")):t.action===o.A0.VIEW?this.commonService.redirectToUrl(["..",t.data._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route):t.action===o.A0.CHECKBOX&&this.changeStatus(t.data)}catch(s){this.loggerService.setLoggerError(this.constructor.name,"onActionClicked",s)}}mobileEventAction(t){this.mobileRoutesArray=[],!0===this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.INACTIVATE)&&!1===t.isEnabled&&"0"===this.login_enterprise_id&&this.mobileRoutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_ACTIVATE"),handler:()=>{this.changeStatus(t)}}),this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.EDIT)&&this.mobileRoutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_EDIT"),handler:()=>{this.router.navigate(["/admin/statsdefinitions/"+t._id+"/edit"]),this.router.routeReuseStrategy.clearModuleRouteCache("statsdefinitions")}}),!0===this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.INACTIVATE)&&!0===t.isEnabled&&"0"===this.login_enterprise_id&&this.mobileRoutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_INACTIVATE"),handler:()=>{this.changeStatus(t)}}),this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.VIEW)&&this.mobileRoutesArray.push({text:this.translateService.instant("COMMON_BUTTONS.BUTTON_VIEW"),handler:()=>{this.commonService.redirectToUrl(["..",t._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}}),this.presentActionSheet(t)}presentActionSheet(t){var s=this;return(0,x.Z)(function*(){try{yield(yield s.actionSheetController.create({cssClass:"actionsheet",buttons:s.mobileRoutesArray})).present()}catch(a){s.loggerService.setLoggerError(s.constructor.name,"presentActionSheet",a)}})()}onItemClicked(t){try{this.commonService.redirectToUrl(["..",t._id,"view"],!0,!0,this.dataJsonObj.queryParamsObj?this.dataJsonObj.queryParamsObj:"",this.route)}catch(s){this.loggerService.setLoggerError(this.constructor.name,"onItemClicked",s)}}changeStatus(t){this.actionStatus=t.isEnabled,this.checkId=t._id,this.statDefinationsService.patch(this.checkId,{is_enabled:this.actionStatus}).then(a=>{this.uiUtils.displaytoastMessage(!0===this.actionStatus?"COMMON_TOAST_MESSAGES.TOAST_SUCCESS_ACTIVATE":"COMMON_TOAST_MESSAGES.TOAST_SUCCESS_INACTIVATE"),this.router.routeReuseStrategy.clearModuleRouteCache("statsdefinitions"),this.getAllRecords()})}selectedViewType(t){this.dataJsonObj.selectedDisplayView=t}selectedFilterType(t){t?this.dataJsonObj.selectedFilter=t:(this.dataJsonObj.selectedFilter="",this.dataJsonObj.selectedAdvancedSearchObj={})}onPageLevelActionClicked(t){}advancedSearchFilterClicked(t){this.dataJsonObj.selectedAdvancedSearchObj=t}onHeaderItemClick(t){switch(t.type){case"search":this.getSearchResult(t.event);break;case"search_close":this.searchClose();break;case"display_views":this.selectedViewType(t.event);break;case"filters":this.selectedFilterType(t.event);break;case"advanced_search":this.advancedSearchFilterClicked(t.event);break;case"page_actions":this.onPageLevelActionClicked(t.event)}}static \u0275fac=function(s){return new(s||n)(e.Y36(B.Y),e.Y36(b.BX),e.Y36(v.m),e.Y36(_.F0),e.Y36(T),e.Y36(C.sK),e.Y36(P.s),e.Y36(E.v),e.Y36(V.v),e.Y36(_.gz))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-statdefinations-list"]],viewQuery:function(s,a){if(1&s&&e.Gf(ua,5),2&s){let i;e.iGM(i=e.CRH())&&(a.datatableComponent=i.first)}},outputs:{searchValueChange:"searchValueChange"},features:[e._Bn([B.Y,V.v,T]),e.qOj],decls:9,vars:29,consts:[[1,"container-fluid"],[1,"card","bd-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","defaultView","isFabDisplay","pageActionsList","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu","headerItemClick"],["id","extraPaddingBottomID",1,"card-body","pdt-0"],["id","tagid",3,"header","actions","totalPages","totalRecords","paginator","data","mobileListData","expand","statsShow","showRights","statsSearch","listingVariables","selectedDisplayViewType","selectedFilterType","selectedAdvancedSearchObj","pageName","selectedMenuId","selectedSubMenuId","actionClicked","itemClickEvent","redirectionEvent","changeStats","loadPageData"],["datatableComponent",""],[1,"mgt-5"],[3,"isFabDisplay","actionsList","selectedAction"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-pageheader",3),e.NdJ("headerItemClick",function(r){return a.onHeaderItemClick(r)}),e.qZA()(),e.TgZ(4,"div",4)(5,"app-datatable",5,6),e.NdJ("actionClicked",function(r){return a.onActionClicked(r)})("itemClickEvent",function(r){return a.onItemClicked(r)})("redirectionEvent",function(r){return a.mobileEventAction(r)})("changeStats",function(r){return a.statusData(r)})("loadPageData",function(r){return a.loadPageData(r)}),e.qZA(),e.TgZ(7,"div",7)(8,"app-page-actions",8),e.NdJ("selectedAction",function(r){return a.onPageLevelActionClicked(r)}),e.qZA()()()()()),2&s&&(e.xp6(3),e.Q6J("pageName",a.dataJsonObj.pageName)("defaultView",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.defaultView)("isFabDisplay",!1)("pageActionsList",a.dataJsonObj.pageActionsList)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!0)("showDependencySubMenu",!1),e.xp6(2),e.Q6J("header",a.tableColumnheaders)("actions",a.actions)("totalPages",a.listingVariables.totalpages)("totalRecords",a.listingVariables.totalRecords)("paginator",!0)("data",a.listData)("mobileListData",a.statDefsMobileData)("expand",!1)("statsShow",a.show)("showRights",a.roleRightsValidationByPage(a.dataJsonObj.htmlPageRolesEnumValuesJson.pageEnum.STATS_DEFINITIONS,a.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingEnum.ACTIONS,a.dataJsonObj.htmlPageRolesEnumValuesJson.pageSettingFieldsEnum.STATS))("statsSearch",a.searchString)("listingVariables",a.listingVariables)("selectedDisplayViewType",a.dataJsonObj.selectedDisplayView)("selectedFilterType",a.dataJsonObj.selectedFilter)("selectedAdvancedSearchObj",a.dataJsonObj.selectedAdvancedSearchObj)("pageName",a.dataJsonObj.pageName)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId),e.xp6(3),e.Q6J("isFabDisplay",!0)("actionsList",a.dataJsonObj.pageActionsList))},dependencies:[Q.n,A.q,da.y]})}return n})(),data:{object_type:o.hf.STATS_DEFINITIONS,responsibilityParam:o.bP.MENUS+"."+o.w1.ADMIN+"."+o.bP.SUBMENUS+"."+o.w1.STATDEFINATIONS+"."+o.In.ENABLED,pageName:o.hf.STATS_DEFINITIONS}},{path:"create",canActivate:[N.P],component:te,data:{responsibilityParam:o.bP.MENUS+"."+o.w1.ADMIN+"."+o.bP.SUBMENUS+"."+o.w1.STATDEFINATIONS+"."+o.In.CREATE,pageName:o.hf.STATS_DEFINITIONS,pageSetting:o.AM.ACTIONS,settingField:o.In.CREATE}},{path:":id/view",canActivate:[N.P],component:(()=>{class n extends O.O{loggerService;navigationService;router;statDefinationsService;translateService;commonService;enterprisesService;listingVariables;route;checkboxOptions;ckeditor_message;headers;recordId;statParametersData;statQuery;statViewData;dataJsonObj={};editorConfig={editable:!0,spellcheck:!0,height:"15rem",minHeight:"5rem",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["customClasses","link","unlink","insertImage","insertVideo","removeFormat","backgroundColor"]]};constructor(t,s,a,i,r,d,u,c,h){super(h,d),this.loggerService=t,this.navigationService=s,this.router=a,this.statDefinationsService=i,this.translateService=r,this.commonService=d,this.enterprisesService=u,this.listingVariables=c,this.route=h,this.route.params.subscribe(m=>{this.recordId=m.id}),this.route.queryParams.subscribe(m=>{this.dataJsonObj.queryParamsObj={defaultView:m.defaultView,selectedMenuId:m.selectedMenuId,selectedSubMenuId:m.selectedSubMenuId}})}ngOnInit(){document.getElementsByTagName("body"),this.initializeComponent()}initializeComponent(){this.dataJsonObj.pageName=o.hf.STATS_DEFINITIONS,this.commonService.trackView(o.sn.WIDGETS_CREATE),this.checkboxOptions=[{displayname:this.translateService.instant("COMMON_FIELDS.ENABLED")}],this.dataJsonObj.showrecordhistory=this.roleRightsValidationByPage(o.hf.STATS_DEFINITIONS,o.AM.ACTIONS,o.In.RECORD_HISTORY),this.dataJsonObj.enterpriseData=JSON.parse(localStorage.getItem(o.BU.ENTERPRISE)),this.dataJsonObj.enterpriseId=this.dataJsonObj.enterpriseData.enterprise_id,this.headers=[[{headersort:"disableth",field:"param_display_sequence",header:"COMMON_FIELDS.SEQUENCE",class:"w-60"},{headersort:"disableth",field:"parameter_name",header:"REPORTS.PARAMETER_NAME",class:""},{headersort:"disableth",field:"parameter_display_name",header:"COMMON_FIELDS.DISPLAY_NAME",class:""},{headersort:"disableth",field:"parameter_description",header:"COMMON_FIELDS.DESCRIPTION",class:"w-100"},{headersort:"disableth",field:"parameter_type_value",header:"COMMON_FIELDS.TYPE",class:""},{headersort:"disableth",field:"param_data_source_table_value",header:"REPORTS.SOURCE_TABLE",class:""},{headersort:"disableth",field:"param_data_source_column",header:"REPORTS.SOURCE_COLUMN",class:""},{headersort:"disableth",field:"param_data_source_display_column",header:"REPORTS.SOURCE_DISPLAY_COLUMN",class:""},{headersort:"disableth",field:"default_value_to_display",header:"COMMON_FIELDS.DEFAULT_VALUE",class:""},{headersort:"disableth",field:"param_mandatory_value",header:"COMMON_FIELDS.MANDATORY",class:"w-60"},{headersort:"disableth",field:"param_enabled_value",header:"COMMON_FIELDS.ENABLED",class:"w-60"}]],this.getRecordById(),this.dataJsonObj.selectedPage=o.hf.STATS_DEFINITIONS,this.getDynamicJson([{folderName:"menu_manager",jsonType:"",storingFieldName:"menuDataJson"}])}getDynamicJson(t){var s=this;return(0,x.Z)(function*(){for(let a of t)s.dataJsonObj[a.storingFieldName]=yield s.commonService.getDynamicJson(s.dataJsonObj.enterpriseId,a.folderName,a.jsonType);s.dataJsonObj.selectedObj={},s.dataJsonObj.selectedObj.recordId=s.recordId,s.dataJsonObj.selectedObj.pageObj=s.dataJsonObj.menuDataJson.filter(a=>a.menu_page.page_name===s.dataJsonObj.selectedPage),s.dataJsonObj.selectedObjEnabled=!0})()}getRecordById(){try{this.statDefinationsService.get(this.recordId).subscribe(t=>{if(this.statViewData=t,this.dataJsonObj.pageTitle=[{key:"COMMON_PAGE_TITLES.STAT_DEFINITIONS",value:this.statViewData.stat_name,showSubMenuDisplayName:!1},{key:"",value:"-",showSubMenuDisplayName:!1},{key:"COMMON_BUTTONS.BUTTON_VIEW",value:"",showSubMenuDisplayName:!1}],this.statQuery=this.statViewData.stats_query,this.ckeditor_message=this.statViewData.stat_html,this.statParametersData=this.statViewData.stat_params,this.listingVariables.totalRecords=t.count,this.listingVariables.totalpages=t.pages,this.statParametersData&&this.statParametersData.length>0)for(let s=0;s<this.statParametersData.length;s++){this.statParametersData[s].parameter_type_value=this.lookupLanguageTranslations(this.statParametersData[s].parameter_type.lookup_id),this.statParametersData[s].param_data_source_table_value=this.statParametersData[s].param_data_source_table?this.lookupLanguageTranslations(this.statParametersData[s].param_data_source_table.lookup_id):"",this.statParametersData[s].param_enabled_value=!0===this.statParametersData[s].param_enabled?"Yes":"No",this.statParametersData[s].param_mandatory_value=!0===this.statParametersData[s].param_mandatory?"Yes":"No";const a=[this.translateService.instant("REPORTS.PARAMETER_NAME")+": "+this.statParametersData[s].parameter_name,this.translateService.instant("COMMON_FIELDS.TYPE")+": "+this.lookupLanguageTranslations(this.statParametersData[s].parameter_type.lookup_id),this.translateService.instant("COMMON_FIELDS.MANDATORY")+": "+(!0===this.statParametersData[s].param_mandatory?"Yes":"No"),this.translateService.instant("COMMON_FIELDS.ENABLED")+": "+(!0===this.statParametersData[s].param_enabled?"Yes":"No")];this.statParametersData[s].mobile_display_data=a}},t=>{this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)})}catch(t){this.loggerService.setLoggerError(this.constructor.name,"getRecordById",t)}}cancelButton(){try{this.commonService.redirectToPreviousUrl()}catch(t){this.loggerService.setLoggerError(this.constructor.name,"cancelButton",t)}}paginationChange(t){try{setTimeout(()=>{this.listingVariables.pageNumbers=Math.floor((t.first+t.rows)/t.rows),this.listingVariables.sortColumn=this.listingVariables.sortField,this.listingVariables.sortOrderAscDsc=this.listingVariables.sortOrder,this.listingVariables.sortOrderColumn=this.listingVariables.sortColumn+"$"+this.listingVariables.sortOrderAscDsc,this.getRecordById()},250)}catch(s){this.loggerService.setLoggerError(this.constructor.name,"paginationChange",s)}}static \u0275fac=function(s){return new(s||n)(e.Y36(v.m),e.Y36(w.f),e.Y36(_.F0),e.Y36(T),e.Y36(C.sK),e.Y36(E.v),e.Y36(L.e),e.Y36(V.v),e.Y36(_.gz))};static \u0275cmp=e.Xpm({type:n,selectors:[["app-statdefinations-view"]],features:[e._Bn([T,V.v]),e.qOj],decls:58,vars:66,consts:[[1,"container-fluid"],[1,"forms-wrapper"],[1,"row","g-0"],[1,"col-md-12"],[1,"card","bdt-0"],["id","stickyHeaderID",1,"card-header","card-header-primary"],[1,"subpage-header-title","w-100",3,"pageName","pageTitle","selectedMenuId","selectedSubMenuId","showPageHeaderItems","showDependencySubMenu"],["id","extraPaddingBottomID",1,"card-body"],[1,"row","form-bs"],[1,"col-md-3"],["disabled","true","id","statdefinations-view-enterprise",3,"label","value"],["disabled","true","id","statdefinations-view-application",3,"label","value"],["disabled","true","id","statdefinations-view-page",3,"label","value"],["disabled","true","id","statdefinations-view-statname",3,"label","value"],["disabled","true","id","statdefinations-view-sequence",3,"label","value"],["disabled","true","id","statdefinations-view-statType",3,"label","value"],[1,"col-md-2","d-flex","align-items-center"],["label","","disabled","false","mandatory","true","id","statdefinations-view-enable",3,"options","checked"],["disabled","true","mandatory","true","autoCaseFlag","false","id","statdefinations-view-description",3,"label","value","maxlength"],[1,"col-md-12","textarea-block"],["for","statQuery",1,"text-label"],["name","message","disabled","true","rows","12","cols","130","id","statdefinations-view-statQuery",1,"form-control",3,"ngModel","ngModelChange"],["message","ngModel"],[1,"col-md-12","pdt-14"],[1,"fs-12"],["ng-disabled","true",3,"ngModel","config","ngModelChange"],[1,"col-md-12","text-end","mt-2","mb-2"],["className","btn btn-danger btn-sm","id","statdefinations-view-cancel",3,"label","buttonOnClick"],[1,"row"],[1,"card"],[1,"card-content"],[3,"multiple"],["id","paramsId",1,"list-accordion-tab",3,"selected"],[1,"d-flex","justify-content-between","w-100","accordion-header"],["noresultsclass","true",3,"header","data","mobileListData","paginator","totalRecords","expand","enablethreedots","valueChange"],[3,"createdBy","showrecordhistory","lastUpdatedBy","creationDate","lastUpdatedDate"]],template:function(s,a){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"app-pageheader",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9),e._UZ(10,"app-input",10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"div",9),e._UZ(13,"app-input",11),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",9),e._UZ(16,"app-input",12),e.ALo(17,"translate"),e.qZA(),e.TgZ(18,"div",9),e._UZ(19,"app-input",13),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",9),e._UZ(22,"app-input",14),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"div",9),e._UZ(25,"app-input",15),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"div",16),e._UZ(28,"app-checkbox",17),e.qZA(),e.TgZ(29,"div",3),e._UZ(30,"app-input",18),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"div",19)(33,"label",20),e._uU(34),e.ALo(35,"translate"),e.qZA(),e.TgZ(36,"textarea",21,22),e.NdJ("ngModelChange",function(r){return a.statQuery=r}),e.qZA()(),e.TgZ(38,"div",23)(39,"ion-label",24),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"angular-editor",25),e.NdJ("ngModelChange",function(r){return a.ckeditor_message=r}),e.qZA()(),e.TgZ(43,"div",26)(44,"app-button",27),e.NdJ("buttonOnClick",function(){return a.cancelButton()}),e.ALo(45,"translate"),e.qZA()()(),e.TgZ(46,"div",28)(47,"div",3)(48,"div",29)(49,"div",30)(50,"p-accordion",31)(51,"p-accordionTab",32)(52,"p-header",33)(53,"span"),e._uU(54),e.ALo(55,"translate"),e.qZA()(),e.TgZ(56,"app-datatable",34),e.NdJ("valueChange",function(r){return a.paginationChange(r)}),e.qZA()(),e._UZ(57,"app-recordhistory",35),e.qZA()()()()()()()()()()()),2&s&&(e.xp6(6),e.Q6J("pageName",a.dataJsonObj.pageName)("pageTitle",a.dataJsonObj.pageTitle)("selectedMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedMenuId)("selectedSubMenuId",null==a.dataJsonObj.queryParamsObj?null:a.dataJsonObj.queryParamsObj.selectedSubMenuId)("showPageHeaderItems",!1)("showDependencySubMenu",!0),e.xp6(4),e.s9C("label",e.lcZ(11,44,"COMMON_PAGE_TITLES.ENTERPRISE")),e.s9C("value",null==a.statViewData||null==a.statViewData.enterprise?null:a.statViewData.enterprise.short_name),e.xp6(3),e.s9C("label",e.lcZ(14,46,"GENERAL_SETTINGS.APPLICATIONS")),e.Q6J("value",a.lookupLanguageTranslations(null==a.statViewData||null==a.statViewData.application?null:a.statViewData.application.lookup_id)),e.xp6(3),e.s9C("label",e.lcZ(17,48,"COMMON_FIELDS.PAGE")),e.s9C("value",null==a.statViewData||null==a.statViewData.page?null:a.statViewData.page.page_display_name),e.xp6(3),e.s9C("label",e.lcZ(20,50,"STAT_DEFINITIONS.STAT_NAME")),e.s9C("value",null==a.statViewData?null:a.statViewData.stat_name),e.xp6(3),e.s9C("label",e.lcZ(23,52,"COMMON_FIELDS.SEQUENCE")),e.s9C("value",null==a.statViewData?null:a.statViewData.seq_number),e.xp6(3),e.s9C("label",e.lcZ(26,54,"STAT_DEFINITIONS.STAT_TYPE")),e.Q6J("value",a.lookupLanguageTranslations(null==a.statViewData||null==a.statViewData.stat_type?null:a.statViewData.stat_type.lookup_id)),e.xp6(3),e.Q6J("options",a.checkboxOptions)("checked",null==a.statViewData?null:a.statViewData.is_enabled),e.xp6(2),e.s9C("label",e.lcZ(31,56,"COMMON_FIELDS.DESCRIPTION")),e.s9C("value",null==a.statViewData?null:a.statViewData.description),e.Q6J("maxlength",2e3),e.xp6(4),e.hij(" ",e.lcZ(35,58,"STAT_DEFINITIONS.STAT_QUERY"),"* "),e.xp6(2),e.Q6J("ngModel",a.statQuery),e.xp6(4),e.hij(" ",e.lcZ(41,60,"STAT_DEFINITIONS.STAT_HTML")," "),e.xp6(2),e.Q6J("ngModel",a.ckeditor_message)("config",a.editorConfig),e.xp6(2),e.s9C("label",e.lcZ(45,62,"COMMON_BUTTONS.BUTTON_CLOSE")),e.xp6(6),e.Q6J("multiple",!0),e.xp6(1),e.Q6J("selected",!0),e.xp6(3),e.Oqu(e.lcZ(55,64,"REPORTS.PARAMETERS")),e.xp6(2),e.Q6J("header",a.headers)("data",a.statParametersData)("mobileListData",a.statParametersData)("paginator",!0)("totalRecords",a.listingVariables.totalRecords)("expand",!1)("enablethreedots",!0),e.xp6(1),e.Q6J("createdBy",null==a.statViewData?null:a.statViewData.created_by)("showrecordhistory",a.dataJsonObj.showrecordhistory)("lastUpdatedBy",null==a.statViewData?null:a.statViewData.updated_by)("creationDate",null==a.statViewData?null:a.statViewData.createdAt)("lastUpdatedDate",null==a.statViewData?null:a.statViewData.updatedAt))},dependencies:[b.Q$,Z.r,R.a,U.b,Q.n,F.W,A.q,D.UQ,D.US,J.h4,g.Fj,g.JJ,g.On,y.s6,C.X$]})}return n})(),data:{responsibilityParam:o.bP.MENUS+"."+o.w1.ADMIN+"."+o.bP.SUBMENUS+"."+o.w1.STATDEFINATIONS+"."+o.In.VIEW,pageName:o.hf.STATS_DEFINITIONS,pageSetting:o.AM.ACTIONS,settingField:o.In.VIEW}},{path:":id/edit",canActivate:[N.P],component:pa,data:{responsibilityParam:o.bP.MENUS+"."+o.w1.ADMIN+"."+o.bP.SUBMENUS+"."+o.w1.STATDEFINATIONS+"."+o.In.EDIT,pageName:o.hf.STATS_DEFINITIONS,pageSetting:o.AM.ACTIONS,settingField:o.In.EDIT}}]}];let ga=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[_.Bz.forChild(ha),_.Bz]})}return n})();var _a=l(65673);let Ta=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=e.oAB({type:n});static \u0275inj=e.cJS({imports:[M.ez,ga,b.Pc,_a.Q,C.aw,D.fx,g.UX,g.u5,I.U$,Y.JF,y.UM]})}return n})()}}]);